{"version":3,"file":"main.js","mappings":"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A,EAAI;QAEPA,4DAAA,gBAAmC;QAiQlCA,uDAhQA,gBAA8C,gBACE,gBACD,gBACE,gBAEH,gBAC+D,gBACA,gBACA,gBACD,gBACA,gBACC,gBACD,gBACD,gBACC,gBACC,gBACA,gBACD,gBACC,gBACF,gBACA,gBACC,gBACC,gBACF,gBACE,gBACA,gBACF,gBACC,gBACC,gBACD,gBACA,gBACD,gBACH,gBACI,gBACF,gBACzB,gBAC2B,gBACD,gBACC,gBACH,gBACE,gBACD,gBACC,gBACC,gBACD,gBACA,gBACD,gBACC,gBACA,gBACA,gBACA,gBACD,gBACG,gBACF,gBACC,gBACF,gBACC,gBACE,gBACF,gBACD,gBACG,gBACF,gBACA,gBACD,gBACE,gBACH,gBACC,gBACC,gBACA,gBACH,gBACG,gBACA,gBACA,gBACF,gBACC,gBACC,gBACD,gBACA,gBACA,gBACC,gBACD,gBACA,iBACC,iBACA,iBACD,kBACD,kBACE,kBACD,kBACA,kBACC,kBACD,kBACD,kBACA,kBACE,kBACA,kBACA,kBACA,kBAC3D,kBAC6D,kBACA,kBACA,kBACF,kBACA,kBACA,kBACE,kBACD,kBACD,kBACE,kBACF,kBACE,kBACA,kBACA,kBACA,kBACD,kBACC,kBACA,kBACA,kBACD,kBACC,kBACH,kBACC,kBACA,kBACE,kBACD,kBACJ,kBACG,kBACA,kBACZ,kBACY,kBACA,kBACC,kBACD,kBACC,kBACC,kBACF,kBACC,kBACA,kBACC,kBACF,kBACC,kBACD,kBACC,kBACC,kBACD,kBACD,kBACD,kBACG,kBACF,kBACC,kBACA,kBACC,kBACH,kBACE,kBACA,kBACF,kBACE,kBACD,kBACA,kBACzB,kBAC0B,kBACA,kBACJ,kBACG,kBACE,kBACA,kBACF,kBACA,kBACE,kBACD,kBACC,kBACD,kBACA,kBACA,kBACA,kBACC,kBACA,kBACA,kBACF,kBACE,kBACD,kBACC,kBACA,kBACD,kBACA,kBACA,kBACC,kBACA,kBACA,kBACA,kBAC/B,kBAC6B,kBACA,kBACA,kBACF,kBACC,kBACA,kBACC,kBACD,kBACA,kBACA,kBACD,kBACE,kBACA,kBACA,kBACA,kBACD,kBACC,kBACA,kBACA,kBACD,kBACD,kBACA,kBACA,kBACE,kBACA,kBACA,kBACJ,kBACG,kBACC,kBACD,kBACC,kBACD,kBACE,kBACF,kBACA,kBACC,kBACC,kBACD,kBACC,kBACC,kBACH,kBACE,kBACF,kBACA,kBACC,kBACD,kBACD,kBACA,kBACE,kBACD,kBACC,kBACA,kBACD,kBACC,kBACD,kBACC,kBACC,kBACA,kBACF,kBACC,kBACC,kBACA,kBACA,kBACA,kBACF,kBACE,kBACF;QAqH1GA,uDApHA,kBAA4G,kBACF,kBACE,kBACC,kBACA,kBACF,kBACA,kBACE,kBACF,kBACD,kBACE,kBACC,kBACA,kBACA,kBACD,kBACA,kBACD,kBACC,kBACC,kBACA,kBACA,kBACA,kBACA,kBACA,kBACjC,kBAC+B,kBACA,kBACA,kBACA,kBACA,kBACF,kBACC,kBACD,kBACC,kBACA,kBACC,kBACA,kBACA,kBACD,kBACC,kBACA,kBACA,kBACA,kBACD,kBACA,kBACD,kBACC,kBACD,kBACE,kBACD,kBACA,kBACD,kBACD,kBACG,kBACF,kBACG,kBACD,kBACD,kBACC,kBACD,kBACF,kBACC,kBACC,kBACC,kBACC,kBACH,kBACC,kBACA,kBACE,kBACJ,kBACI,kBACF,kBACA,kBACA,kBACF,kBACG,kBACD,kBACC,kBACD,kBACC,kBACA,kBACA,kBACC,kBACH,kBACE,kBACC,kBACA,kBACF,kBACA,kBACF,kBACE,kBACA,kBACC,kBACH,kBACE,kBACC,kBACA,kBACF,kBACA,kBACE,kBACF,kBACD,kBACC,kBACE,kBACA,kBACA,kBACD,kBACA,kBACH,kBACI,kBACA,kBACA,kBACD,kBACC,kBACA,kBACA,kBACjC;QAE1EA,4DAAA,kBAA6C;QAAAA,oDAAA,UAAC;QAAAA,0DAAA,EAAO;QACrDA,4DAAA,kBAA6E;QAAAA,oDAAA,UAAC;Q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AhQA,gBAA8C,gBACE,gBACF,gBACE,gBAEF,gBAC+D,gBACA,gBACA,gBACD,gBACA,gBACC,gBACD,gBACD,gBACC,gBACC,gBACA,gBACD,gBACC,gBACF,gBACA,gBACC,gBACC,gBACF,gBACE,gBACA,gBACF,gBACC,gBACC,gBACD,gBACA,gBACD,gBACH,gBACI,gBACF,gBACzB,gBAC2B,gBACD,gBACC,gBACH,gBACE,gBACD,gBACC,gBACC,gBACD,gBACA,gBACD,gBACC,gBACA,gBACA,gBACA,gBACD,gBACG,gBACF,gBACC,gBACF,gBACC,gBACE,gBACF,gBACD,gBACG,gBACF,gBACA,gBACD,gBACE,gBACH,gBACC,gBACC,gBACA,gBACH,gBACG,gBACA,gBACA,gBACF,gBACC,gBACC,gBACD,gBACA,gBACA,gBACC,gBACD,gBACA,gBACC,gBACA,iBACD,iBACD,iBACE,iBACD,kBACA,kBACC,kBACD,kBACD,kBACA,kBACE,kBACA,kBACA,kBACA,kBAC3D,kBAC6D,kBACA,kBACA,kBACF,kBACA,kBACA,kBACE,kBACD,kBACD,kBACE,kBACF,kBACE,kBACA,kBACA,kBACA,kBACD,kBACC,kBACA,kBACA,kBACD,kBACC,kBACH,kBACC,kBACA,kBACE,kBACD,kBACJ,kBACG,kBACA,kBACZ,kBACY,kBACA,kBACC,kBACD,kBACC,kBACC,kBACF,kBACC,kBACA,kBACC,kBACF,kBACC,kBACD,kBACC,kBACC,kBACD,kBACD,kBACD,kBACG,kBACF,kBACC,kBACA,kBACC,kBACH,kBACE,kBACA,kBACF,kBACE,kBACD,kBACA,kBACzB,kBAC0B,kBACA,kBACJ,kBACG,kBACE,kBACA,kBACF,kBACA,kBACE,kBACD,kBACC,kBACD,kBACA,kBACA,kBACA,kBACC,kBACA,kBACA,kBACF,kBACE,kBACD,kBACC,kBACA,kBACD,kBACA,kBACA,kBACC,kBACA,kBACA,kBACA,kBAC/B,kBAC6B,kBACA,kBACA,kBACF,kBACC,kBACA,kBACC,kBACD,kBACA,kBACA,kBACD,kBACE,kBACA,kBACA,kBACA,kBACD,kBACC,kBACA,kBACA,kBACD,kBACD,kBACA,kBACA,kBACE,kBACA,kBACA,kBACJ,kBACG,kBACC,kBACD,kBACC,kBACD,kBACE,kBACF,kBACA,kBACC,kBACC,kBACD,kBACC,kBACC,kBACH,kBACE,kBACF,kBACA,kBACC,kBACD,kBACD,kBACA,kBACE,kBACD,kBACC,kBACA,kBACD,kBACC,kBACD,kBACC,kBACC,kBACA,kBACF,kBACC,kBACC,kBACA,kBACA,kBACA,kBACF,kBACE,kBACF;QAqH1GA,uDApHA,kBAA4G,kBACF,kBACE,kBACC,kBACA,kBACF,kBACA,kBACE,kBACF,kBACD,kBACE,kBACC,kBACA,kBACA,kBACD,kBACA,kBACD,kBACC,kBACC,kBACA,kBACA,kBACA,kBACA,kBACA,kBACjC,kBAC+B,kBACA,kBACA,kBACA,kBACA,kBACF,kBACC,kBACD,kBACC,kBACA,kBACC,kBACA,kBACA,kBACD,kBACC,kBACA,kBACA,kBACA,kBACD,kBACA,kBACD,kBACC,kBACD,kBACE,kBACD,kBACA,kBACD,kBACD,kBACG,kBACF,kBACG,kBACD,kBACD,kBACC,kBACD,kBACF,kBACC,kBACC,kBACC,kBACC,kBACH,kBACC,kBACA,kBACE,kBACJ,kBACI,kBACF,kBACA,kBACA,kBACF,kBACG,kBACD,kBACC,kBACD,kBACC,kBACA,kBACA,kBACC,kBACH,kBACE,kBACC,kBACA,kBACF,kBACA,kBACF,kBACE,kBACA,kBACC,kBACH,kBACE,kBACC,kBACA,kBACF,kBACA,kBACE,kBACF,kBACD,kBACC,kBACE,kBACA,kBACA,kBACD,kBACA,kBACH,kBACI,kBACA,kBACA,kBACD,kBACC,kBACA,kBACA,kBACjC;QAE1EA,4DAAA,kBAA6C;QAAAA,oDAAA,UAAC;QAAAA,0DAAA,EAAO;QACrDA,4DAAA,kBAA6E;QAAAA,oDAAA,UAAC;QAAAA,0DAAA,EAAO;QACrFA,4DAAA,kBAA6E;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","sources":["./src/app/modules/skresources/components/charts/chart-properties-dialog.ts","./src/app/modules/map/ol/lib/layer.component.ts","./src/app/modules/alarms/components/alert-list.component.ts","./src/app/modules/skresources/components/ais/aislist.ts","./src/app/modules/skresources/components/ais/aislist.html","./src/app/modules/skresources/components/waypoints/waypoint-dialog.ts","./src/app/lib/pipes/coords.pipe.ts","./src/app/lib/components/dialogs/common/dialogs.module.ts","./src/app/modules/map/ol/index.ts","./src/app/modules/settings/components/settings-dialog.ts","./src/app/modules/settings/components/settings-dialog.html","./src/app/modules/map/ol/lib/navigation/layer-dot.component.ts","./src/app/modules/skresources/components/ais/aircraft-properties-modal.ts","./src/app/lib/components/index.ts","./src/app/modules/skresources/components/routes/build-route.component.ts","./src/app/modules/map/ol/lib/navigation/layer-xte-path.component.ts","./src/app/modules/alarms/components/anchor-watch.component.ts","./src/app/modules/alarms/components/anchor-watch.component.html","./src/app/lib/components/dialogs/playback-dialog.ts","./src/app/modules/map/ol/lib/interactions.directive.ts","./src/app/lib/pipes/index.ts","./src/app/modules/autopilot/autopilot.component.ts","./src/app/modules/map/ol/lib/racing/layer-racing-startline.component.ts","./src/app/lib/components/wakelock.component.ts","./src/app/modules/map/ol/lib/resources/layer-tracks.component.ts","./src/app/modules/map/ol/lib/models.ts","./src/app/modules/skresources/components/resourcesets/resourceset-list-modal.ts","./src/app/modules/gpx/gpxlib.ts","./src/app/modules/icons/atons.ts","./src/app/modules/map/ol/lib/s57Style.ts","./src/app/modules/alarms/components/timer-button.component.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/modules/course/course-settings.ts","./src/app/lib/services/indexeddb.ts","./src/app/modules/map/ol/lib/resources/layer-aistargets.component.ts","./src/app/modules/map/ol/lib/resources/layer-regions.component.ts","./src/app/modules/skresources/components/signalk-details.component.ts","./src/app/modules/alarms/components/alert.component.ts","./src/app/modules/map/ol/lib/view.directive.ts","./src/app/modules/skresources/components/tracks/track-dialog.ts","./src/app/modules/map/ol/lib/interactions/interaction-draw.component.ts","./src/app/modules/skresources/components/routes/route-dialog.ts","./src/app/modules/settings/components/signalk-preferredpaths.component.ts","./src/app/modules/weather/weather-data.component.ts","./src/app/modules/map/index.ts","./src/app/modules/map/popovers/index.ts","./src/app/modules/map/ol/lib/resources/layer-aisvessels.component.ts","./src/app/modules/map/ol/lib/resources/layer-chart-bounds.component.ts","./src/app/app.facade.ts","./src/app/modules/map/ol/lib/controls.directive.ts","./src/app/modules/gpx/gpxsave/gpxsave-dialog.ts","./src/app/modules/gpx/gpxsave/gpxsave-dialog.html","./src/app/modules/map/ol/lib/navigation/layer-bearing-line.component.ts","./src/app/modules/experiments/experiments.component.ts","./src/app/modules/map/ol/lib/map.component.ts","./src/app/modules/skresources/components/ais/ais-properties-modal.ts","./src/app/modules/map/popovers/aton-popover.component.ts","./src/app/modules/map/ol/lib/alarms/layer-cpa-alarm.component.ts","./src/app/modules/map/ol/lib/resources/layer-charts.component.ts","./src/app/lib/components/dialogs/trail2route-dialog.ts","./src/app/lib/components/dialogs/trail2route-dialog.html","./src/app/modules/skstream/skstream.facade.ts","./src/app/lib/components/dialogs/geojson/geojson-dialog.facade.ts","./src/app/modules/map/popovers/compass.component.ts","./src/app/modules/map/popovers/compass.component.svg","./src/app/modules/map/popovers/compass-northup.component.svg","./src/app/app.messages.ts","./src/app/modules/map/ol/lib/map.service.ts","./src/app/modules/map/ol/lib/resources/layer-routes.component.ts","./src/app/modules/map/ol/lib/content.component.ts","./src/app/modules/map/ol/lib/navigation/layer-arrival-circle.component.ts","./src/environments/environment.ts","./src/app/modules/skresources/components/tracks/tracklist.ts","./src/app/modules/skresources/components/tracks/tracklist.html","./src/app/modules/icons/poi.ts","./src/app/modules/skresources/components/resourcesets/resourceset-feature-properties-modal.ts","./src/app/lib/services/info.service.ts","./src/app/modules/skresources/components/regions/region-dialog.ts","./src/app/modules/icons/openbridge.ts","./src/app/lib/services/index.ts","./src/app/modules/skresources/components/charts/jsonmapsource-dialog.ts","./src/app/modules/map/popovers/alarm-popover.component.ts","./src/app/modules/gpx/gpxsave/gpxsave-dialog.facade.ts","./src/app/modules/skresources/resource-classes.ts","./src/app/app.module.ts","./src/app/lib/components/dialogs/geojson/geojson-dialog.ts","./src/app/lib/components/dialogs/geojson/geojson-dialog.html","./src/app/modules/skresources/resourceset-service.ts","./src/app/modules/map/ol/lib/resources/layer-aisflags.component.ts","./src/app/modules/map/ol/lib/resources/ais-base.component.ts","./src/app/modules/skresources/components/notes/relatednotes-dialog.ts","./src/app/modules/skresources/components/notes/relatednotes-dialog.html","./src/app/modules/alarms/index.ts","./src/app/modules/skresources/components/active-resource-dialog.ts","./src/app/modules/gpx/gpx.module.ts","./src/app/modules/map/popovers/resource-popover.component.ts","./src/app/lib/geoutils.ts","./src/app/lib/components/dialogs/index.ts","./src/app/modules/map/ol/lib/vessel/layer-vessel.component.ts","./src/app/modules/map/popovers/aircraft-popover.component.ts","./src/app/modules/map/ol/lib/vessel/layer-vessel-trail.component.ts","./src/app/modules/skresources/components/charts/wms-dialog.ts","./src/app/modules/icons/index.ts","./src/app/modules/alarms/notification-manager.ts","./src/app/modules/skresources/components/charts/chartlist.ts","./src/app/modules/skresources/components/charts/chartlist.html","./src/app/modules/map/ol/lib/alarms/layer-alarm.component.ts","./src/app/modules/settings/settings.facade.ts","./src/app/modules/index.ts","./src/app/modules/gpx/gpxload/gpxload-dialog.ts","./src/app/modules/gpx/gpxload/gpxload-dialog.html","./src/app/modules/skresources/components/resourcesets/resource-upload-dialog.ts","./src/app/modules/skresources/components/resourcesets/resource-upload-dialog.html","./src/app/modules/map/ol/lib/interactions/interaction-modify.component.ts","./src/app/modules/map/ol/lib/resources/layer-aistargets-track.component.ts","./src/app/modules/skresources/components/ais/aton-properties-modal.ts","./src/app/modules/alarms/anchor.facade.ts","./src/app/modules/map/mapconfig.ts","./src/app/modules/map/ol/lib/map-image-registry.service.ts","./src/app/modules/map/fb-map.component.ts","./src/app/modules/map/fb-map.component.html","./src/app/modules/skresources/components/routes/routelist.ts","./src/app/modules/skresources/components/routes/routelist.html","./src/app/modules/map/ol/lib/s57.service.ts","./src/app/modules/map/ol/lib/navigation/layer-layline.component.ts","./src/app/modules/skresources/components/notes/safe.pipe.ts","./src/app/lib/components/measurements.component.ts","./src/app/modules/map/popovers/featurelist-popover.component.ts","./src/app/lib/services/localstorage.service.ts","./src/app/modules/map/popovers/popover.component.ts","./src/app/modules/weather/weather-forecast-modal.ts","./src/app/lib/components/file-input.component.ts","./src/app/lib/components/file-input.component.html","./src/app/modules/gpx/gpxsave/sk2gpx.ts","./src/app/modules/skresources/components/charts/wmts-dialog.ts","./src/app/modules/map/ol/lib/resources/layer-notes.component.ts","./src/app/modules/map/ol/lib/overlay.component.ts","./src/app/modules/map/ol/lib/control.component.ts","./src/app/modules/skresources/components/routes/nextpoint.component.ts","./src/app/modules/skstream/skstream.service.ts","./src/app/lib/components/pip.component.ts","./src/app/modules/buddies/buddy.service.ts","./src/app/modules/map/ol/lib/alarms/layer-anchor-alarm.component.ts","./src/app/modules/remote-control/remote-control.component.ts","./src/app/modules/map/ol/lib/resources/layer-aiswind.component.ts","./src/app/lib/components/dial-text.ts","./src/app/lib/components/dialogs/errorlist-dialog.ts","./src/app/lib/components/dialogs/common/dialogs.component.ts","./src/app/modules/skresources/components/notes/note-dialog.ts","./src/app/modules/skresources/components/notes/note-dialog.html","./src/app/modules/map/ol/lib/sk-feature.component.ts","./src/app/modules/skresources/components/waypoints/waypointlist.ts","./src/app/modules/skresources/components/waypoints/waypointlist.html","./src/app/modules/skresources/components/notes/notelist.ts","./src/app/modules/skresources/components/notes/notelist.html","./src/main.ts","./src/app/modules/map/popovers/vessel-popover.component.ts","./src/app/modules/skresources/resourceset-class.ts","./src/app/modules/map/ol/lib/navigation/layer-target-angle.component.ts","./src/app/modules/alarms/components/alert-properties-modal.ts","./src/app/modules/map/ol/lib/resources/layer-waypoints.component.ts","./src/app/lib/services/state.service.ts","./src/app/modules/alarms/components/nsew-buttons.component.ts","./src/app/modules/map/ol/lib/vectorLayerStyleFactory.ts","./src/app/app.settings.ts","./src/app/modules/skresources/index.ts","./src/app/modules/skresources/resources.service.ts","./src/app/modules/map/ol/lib/resources/layer-resourceset.component.ts","./src/app/modules/map/ol/lib/themes.ts","./src/app/modules/settings/index.ts","./src/app/lib/pipes/reverse.pipe.ts","./src/app/lib/convert.ts","./src/app/modules/map/ol/lib/util.ts","./src/app/modules/icons/app.icons.ts"],"sourcesContent":["import { Component, Inject } from '@angular/core';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKChart } from 'src/app/modules/skresources/resource-classes';\nimport { PipesModule } from 'src/app/lib/pipes';\n\n/********* ChartPropertiesDialog **********\n\tdata: <SKChart>\n***********************************/\n@Component({\n  selector: 'ap-chartproperties',\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatDialogModule,\n    PipesModule\n  ],\n  template: `\n    <div class=\"_ap-chartinfo\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span class=\"dialog-icon\"\n          ><mat-icon>{{ isLocal(data['url']) }}</mat-icon></span\n        >\n        <span style=\"flex: 1 1 auto; text-align: center\">Chart Properties</span>\n        <span style=\"text-align: right\">\n          <button mat-icon-button (click)=\"dialogRef.close()\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n      <mat-dialog-content>\n        <div style=\"display:flex;flex-direction: column;\">\n          <div style=\"display:flex;\">\n            <div class=\"key-label\">Name:</div>\n            <div style=\"flex: 1 1 auto;\">{{ data['name'] }}</div>\n          </div>\n          <div style=\"display:flex;\">\n            <div class=\"key-label\">Description:</div>\n            <div style=\"flex: 1 1 auto;\">{{ data['description'] }}</div>\n          </div>\n          <div style=\"display:flex;\">\n            <div class=\"key-label\">Scale:</div>\n            <div style=\"flex: 1 1 auto;\">{{ data['scale'] }}</div>\n          </div>\n          <div style=\"display:flex;\">\n            <div class=\"key-label\">Zoom:</div>\n            <div style=\"flex: 1 1 auto;\">\n              <div style=\"flex: 1 1 auto;\">\n                <u><i>Min: </i></u>\n                {{ data['minZoom'] }},\n                <u><i>Max: </i></u>\n                {{ data['maxZoom'] }}\n              </div>\n            </div>\n          </div>\n          @if(data['bounds']) {\n          <div style=\"display:flex;\">\n            <div class=\"key-label\">Bounds:</div>\n            <div\n              style=\"flex: 1 1 auto; border: gray 1px solid;\n                                  max-width: 220px;font-size: 10pt;\"\n            >\n              <div style=\"text-align:right;\">\n                <span\n                  style=\"flex: 1 1 auto;\"\n                  [innerText]=\"data['bounds'][3] | coords : 'HDd' : true\"\n                >\n                </span\n                ><br />\n                <span\n                  style=\"flex: 1 1 auto;\"\n                  [innerText]=\"data['bounds'][2] | coords : 'HDd'\"\n                >\n                </span>\n              </div>\n              <div>\n                <span\n                  style=\"flex: 1 1 auto;\"\n                  [innerText]=\"data['bounds'][1] | coords : 'HDd' : true\"\n                >\n                </span\n                ><br />\n                <span\n                  style=\"flex: 1 1 auto;\"\n                  [innerText]=\"data['bounds'][0] | coords : 'HDd'\"\n                >\n                </span>\n              </div>\n            </div>\n          </div>\n          }\n          <div style=\"display:flex;\">\n            <div class=\"key-label\">Format:</div>\n            <div style=\"flex: 1 1 auto;\">{{ data['format'] }}</div>\n          </div>\n          <div style=\"display:flex;\">\n            <div class=\"key-label\">Type:</div>\n            <div style=\"flex: 1 1 auto;\">\n              {{ data['type'] }}\n            </div>\n          </div>\n          <div style=\"display:flex;\">\n            <div class=\"key-label\">Layers:</div>\n            <div style=\"flex: 1 1 auto;\">{{ data['layers'] }}</div>\n          </div>\n          <div style=\"display:flex;\">\n            <div class=\"key-label\">URL:</div>\n            <div style=\"flex: 1 1 auto;overflow-x: auto;\">\n              {{ data['url'] }}\n            </div>\n          </div>\n        </div>\n      </mat-dialog-content>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-chartinfo {\n        font-family: arial;\n        min-width: 300px;\n      }\n      .ap-confirm-icon {\n        min-width: 35px;\n        max-width: 35px;\n        color: darkorange;\n        text-align: left;\n      }\n\n      ._ap-chartinfo .key-label {\n        width: 150px;\n        font-weight: 500;\n      }\n\n      @media only screen and (min-device-width: 768px) and (max-device-width: 1024px),\n        only screen and (min-width: 800px) {\n        .ap-confirm-icon {\n          min-width: 25%;\n          max-width: 25%;\n        }\n      }\n    `\n  ]\n})\nexport class ChartPropertiesDialog {\n  public icon: string;\n\n  constructor(\n    public app: AppFacade,\n    public dialogRef: MatDialogRef<ChartPropertiesDialog>,\n    @Inject(MAT_DIALOG_DATA) public data: SKChart\n  ) {}\n\n  isLocal(url: string) {\n    return url && url.indexOf('signalk') !== -1 ? 'map' : 'language';\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport ImageLayer from 'ol/layer/Image';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorTileLayer from 'ol/layer/VectorTile';\nimport VectorTileSource from 'ol/source/VectorTile';\nimport {\n  Cluster,\n  ImageWMS,\n  OSM,\n  Source,\n  TileImage,\n  TileWMS,\n  WMTS,\n  XYZ\n} from 'ol/source';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\n\nimport { MapComponent } from './map.component';\nimport { Extent, LayerType, SourceType } from './models';\nimport { osmLayer, osmSource } from './util';\nimport { AsyncSubject } from 'rxjs';\n\n@Component({\n  selector: 'ol-map > ol-layer',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class LayerComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public source: any;\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() layerType: LayerType;\n  @Input() sourceType: SourceType;\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() sourceOptions: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() style: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() properties: { [index: string]: any };\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    switch (this.layerType) {\n      case LayerType.IMAGE:\n        this.source = new ImageWMS(this.sourceOptions);\n        this.layer = new ImageLayer(\n          Object.assign(this, { ...this.properties })\n        );\n        break;\n      case LayerType.TILE:\n        this.source = this.getTileSource(this.sourceOptions);\n        this.layer = new TileLayer(Object.assign(this, { ...this.properties }));\n        break;\n      case LayerType.VECTOR_TILE:\n        this.source = new VectorTileSource(this.sourceOptions);\n        this.layer = new VectorTileLayer(\n          Object.assign(this, { ...this.properties })\n        );\n        break;\n      case LayerType.VECTOR:\n        if (this.sourceOptions.sourceType === SourceType.CLUSTER) {\n          this.source = new Cluster(this.sourceOptions);\n          this.layer = new VectorLayer(\n            Object.assign(this, { ...this.properties })\n          );\n        } else {\n          this.source = new VectorSource(this.sourceOptions);\n          this.layer = new VectorLayer(\n            Object.assign(this, { ...this.properties })\n          );\n        }\n        break;\n      default:\n        this.layer = osmLayer();\n        break;\n    }\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        properties[key] = changes[key].currentValue;\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  getLayer(): Layer {\n    return this.layer;\n  }\n\n  getMap() {\n    return this.mapComponent.getMap();\n  }\n\n  getSource(): Source {\n    let olSource = this.layer.getSource();\n    if (olSource instanceof Cluster) {\n      olSource = olSource.getSource();\n    }\n    return olSource;\n  }\n\n  getUrl(): string {\n    if (this.source instanceof ImageWMS) {\n      return this.source.getUrl();\n    }\n    if (this.source instanceof WMTS) {\n      return this.source.getUrls()[0];\n    }\n    if (this.source instanceof TileWMS) {\n      return this.source.getUrls()[0];\n    } else {\n      return '';\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  updateParams(name?: string, value?: any) {\n    const params = this.source.getParams();\n    if (name && value) {\n      params[name.toUpperCase()] = value;\n    }\n    params['T'] = new Date().getMilliseconds();\n    this.source.updateParams(params); // {'TIME': startDate.toISOString()}\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private getTileSource(sourceOptions: any) {\n    switch (sourceOptions.sourceType) {\n      case SourceType.IMAGEWMS:\n        return new ImageWMS(sourceOptions);\n      case SourceType.OSM:\n        return new OSM(sourceOptions);\n      case SourceType.TILEWMS:\n        return new TileWMS(sourceOptions);\n      case SourceType.TILEIMAGE:\n        return new TileImage(sourceOptions);\n      case SourceType.WMTS:\n        return new WMTS(sourceOptions);\n      case SourceType.XYZ:\n        return new XYZ(sourceOptions);\n      default:\n        return osmSource();\n    }\n  }\n}\n","/***********************************\n  Alert List\n  <alert-list>\n***********************************/\nimport {\n  Component,\n  ChangeDetectionStrategy,\n  EventEmitter,\n  Output,\n  input\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { CdkDrag } from '@angular/cdk/drag-drop';\nimport { AppFacade } from 'src/app/app.facade';\nimport { getAlertIcon } from '../../icons';\nimport { AlertData } from './alert.component';\nimport { NotificationManager } from '../notification-manager';\n\n@Component({\n  selector: 'alert-list',\n  imports: [\n    MatTooltipModule,\n    CommonModule,\n    MatButtonModule,\n    MatCardModule,\n    MatIconModule,\n    MatMenuModule,\n    FormsModule,\n    CdkDrag\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: ['./alert-list.component.css'],\n  template: `\n    <mat-menu #alarmsmenu=\"matMenu\">\n      <button mat-menu-item (click)=\"raiseAlarm('mob')\">\n        <mat-icon class=\"ob\" svgIcon=\"alarm-mob\"></mat-icon>\n        &nbsp;Overboard!\n      </button>\n      <button mat-menu-item (click)=\"raiseAlarm('fire')\">\n        <mat-icon class=\"ob\" svgIcon=\"alarm-fire\"></mat-icon>\n        &nbsp;Fire\n      </button>\n      <button mat-menu-item (click)=\"raiseAlarm('aground')\">\n        <mat-icon class=\"ob\" svgIcon=\"alarm-aground\"></mat-icon>\n        &nbsp;Aground\n      </button>\n      <button mat-menu-item (click)=\"raiseAlarm('abandon')\">\n        <mat-icon class=\"ob\" svgIcon=\"alarm-abandon\"></mat-icon>\n        &nbsp;Abandon\n      </button>\n      <button mat-menu-item (click)=\"raiseAlarm('piracy')\">\n        <mat-icon class=\"\" svgIcon=\"alarm-acknowledged-iec\"></mat-icon>\n        &nbsp;Piracy\n      </button>\n    </mat-menu>\n    <mat-card appearance=\"outlined\">\n      <div class=\"alert-list-main mat-app-background\" cdkDrag>\n        <div class=\"title\" cdkDragHandle>\n          <div>\n            <button\n              class=\"button-warn\"\n              mat-raised-button\n              matTooltip=\"Raise Alarm\"\n              matTooltipPosition=\"right\"\n              [matMenuTriggerFor]=\"alarmsmenu\"\n            >\n              <mat-icon>warning</mat-icon>\n              Raise\n            </button>\n          </div>\n          <div\n            style=\"flex: 1 1 auto;\n            font-size: 14pt;\n            line-height: 2.5em;\n            text-align: center;\n            cursor: grab;\"\n          >\n            Alert List\n          </div>\n          <div>\n            <button\n              mat-icon-button\n              [matTooltip]=\"\n                this.app.config.muteSound ? 'Sound is Off' : 'Sound is On'\n              \"\n              matTooltipPosition=\"left\"\n              (click)=\"togglePlaySound()\"\n            >\n              <mat-icon\n                class=\"ob\"\n                [svgIcon]=\"\n                  this.app.config.muteSound\n                    ? 'sound-off-fill'\n                    : 'sound-high-fill'\n                \"\n              ></mat-icon>\n            </button>\n            &nbsp;\n            <button mat-icon-button (click)=\"handleClose()\">\n              <mat-icon>close</mat-icon>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"content\">\n          <div class=\"alert-list-container\">\n            <div class=\"alert-list\">\n              @for(item of alerts(); track item[0]) {\n              <div class=\"alert-box\">\n                <div\n                  style=\"width:40px;\"\n                  (click)=\"notiMgr.showAlertInfo(item[1].path)\"\n                >\n                  <mat-icon\n                    [class]=\"item[1].icon.class\"\n                    [svgIcon]=\"item[1].icon.svgIcon\"\n                    >{{ item[1].icon.name }}</mat-icon\n                  >\n                </div>\n                <div\n                  class=\"alert-text\"\n                  (click)=\"notiMgr.showAlertInfo(item[1].path)\"\n                  [ngClass]=\"{\n                    'blink-text':\n                      item[1].canAcknowledge && !item[1].acknowledged,\n                    'red-text': ['emergency', 'alarm'].includes(\n                      item[1].priority\n                    ),\n                    'amber-text': item[1].priority === 'alert'\n                  }\"\n                >\n                  {{ item[1].message }}\n                </div>\n                <div style=\"width:90px;\">\n                  @if(item[1].sound) {\n                  <button\n                    mat-icon-button\n                    [matTooltip]=\"item[1].silenced ? 'Silenced' : 'Silence'\"\n                    matTooltipPosition=\"below\"\n                    [disabled]=\"item[1].acknowledged || item[1].silenced\"\n                    (click)=\"muteAlert(item[1].path)\"\n                  >\n                    <mat-icon\n                      [class]=\"item[1].acknowledged ? '' : 'ob'\"\n                      [svgIcon]=\"\n                        item[1].silenced ? 'sound-off-fill' : 'sound-high-fill'\n                      \"\n                    ></mat-icon>\n                  </button>\n                  &nbsp; } @if(item[1].canAcknowledge) {\n                  @if(!item[1].acknowledged) {\n                  <button\n                    mat-icon-button\n                    matTooltip=\"Acknowledge\"\n                    matTooltipPosition=\"below\"\n                    [disabled]=\"item[1].acknowledged\"\n                    (click)=\"ackAlert(item[1].path)\"\n                  >\n                    <mat-icon>check</mat-icon>\n                  </button>\n                  } @else { @if(item[1].canCancel) {\n                  <button\n                    mat-icon-button\n                    matTooltip=\"Clear / Cancel\"\n                    matTooltipPosition=\"below\"\n                    [disabled]=\"!item[1].acknowledged\"\n                    (click)=\"clearAlert(item[1].path)\"\n                  >\n                    <mat-icon>close</mat-icon>\n                  </button>\n                  } } }\n                </div>\n              </div>\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    </mat-card>\n  `\n})\nexport class AlertListComponent {\n  alerts = input([]);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n\n  constructor(\n    protected app: AppFacade,\n    protected notiMgr: NotificationManager\n  ) {}\n\n  protected handleClose() {\n    this.closed.emit();\n  }\n\n  protected togglePlaySound() {\n    this.app.config.muteSound = !this.app.config.muteSound;\n    this.app.saveConfig();\n  }\n\n  protected ackAlert(path: string) {\n    this.notiMgr.acknowledge(path);\n  }\n\n  protected muteAlert(path: string) {\n    this.notiMgr.silence(path);\n  }\n\n  protected clearAlert(path: string) {\n    this.notiMgr.clear(path);\n  }\n\n  /**\n   * @description Raise standard alarm\n   * @param alarmType Signal K standard alarm\n   */\n  protected raiseAlarm(alarmType: string) {\n    const msg = alarmType === 'mob' ? 'Person Overboard!' : undefined;\n    this.notiMgr.raiseServerAlarm(alarmType, msg);\n  }\n\n  /**\n   * @description Set the alert icon\n   * @returns svgIcon value\n   */\n  protected setIcon(alert: AlertData): string {\n    return getAlertIcon(alert).svgIcon;\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatButtonModule } from '@angular/material/button';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKVessel } from 'src/app/modules';\nimport { Position } from 'src/app/types';\n\n//** AIS Dialog **\n@Component({\n  selector: 'ais-list',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './aislist.html',\n  styleUrls: ['../resourcelist.css'],\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatButtonModule,\n    FormsModule,\n    MatInputModule,\n    ScrollingModule,\n    MatSlideToggleModule\n  ]\n})\nexport class AISListComponent {\n  @Input() aisTargets: Map<string, SKVessel>;\n  @Input() focusId: string;\n  @Output() select: EventEmitter<string[]> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  @Output() properties: EventEmitter<string> = new EventEmitter();\n  @Output() focusVessel: EventEmitter<string> = new EventEmitter();\n  @Output() pan: EventEmitter<{ center: Position; zoomLevel: number }> =\n    new EventEmitter();\n\n  aisAvailable = [];\n  onlyIMO = false;\n  filterList = [];\n  filterText = '';\n  someSel = false;\n  allSel = false;\n  shipTypes = [\n    {\n      id: 10,\n      description: 'Unspecified',\n      selected: false,\n      icon: './assets/img/ais_active.svg'\n    },\n    {\n      id: 20,\n      description: 'Wing in Ground',\n      selected: false,\n      icon: './assets/img/ais_active.svg'\n    },\n    {\n      id: 30,\n      description: 'Pleasure',\n      selected: false,\n      icon: './assets/img/ais_active.svg'\n    },\n    {\n      id: 40,\n      description: 'High Speed',\n      selected: false,\n      icon: './assets/img/ais_highspeed.svg'\n    },\n    {\n      id: 50,\n      description: 'Special',\n      selected: false,\n      icon: './assets/img/ais_special.svg'\n    },\n    {\n      id: 60,\n      description: 'Passenger',\n      selected: false,\n      icon: './assets/img/ais_passenger.svg'\n    },\n    {\n      id: 70,\n      description: 'Cargo',\n      selected: false,\n      icon: './assets/img/ais_cargo.svg'\n    },\n    {\n      id: 80,\n      description: 'Tanker',\n      selected: false,\n      icon: './assets/img/ais_tanker.svg'\n    },\n    {\n      id: 90,\n      description: 'Other',\n      selected: false,\n      icon: './assets/img/ais_other.svg'\n    }\n  ];\n\n  constructor(public app: AppFacade) {}\n\n  ngOnInit() {\n    this.initItems();\n    this.alignSelections();\n  }\n\n  close() {\n    this.closed.emit();\n  }\n\n  initItems() {\n    this.aisAvailable = [];\n    // ** if no selections made then select all as a default\n    const selectAll =\n      this.app.config.selections.aisTargets &&\n      Array.isArray(this.app.config.selections.aisTargets)\n        ? false\n        : true;\n\n    this.aisTargets.forEach((value: SKVessel, key: string) => {\n      let selected: boolean;\n      if (selectAll) {\n        selected = true;\n      } else {\n        selected =\n          this.app.config.selections.aisTargets.indexOf(key) !== -1\n            ? true\n            : false;\n      }\n      this.aisAvailable.push([key, value, selected]);\n    });\n    this.aisAvailable.sort((a, b) => {\n      const x = a[1].name ? a[1].name.toUpperCase() : 'zzz' + a[1].mmsi;\n      const y = b[1].name ? b[1].name.toUpperCase() : 'zzz' + b[1].mmsi;\n      return x <= y ? -1 : 1;\n    });\n    this.checkSelections();\n    this.filterList = this.aisAvailable.slice(0);\n  }\n\n  alignSelections() {\n    this.shipTypes.forEach((i) => {\n      i.selected = this.app.config.selections.aisTargetTypes.includes(i.id);\n    });\n    this.onlyIMO = this.app.config.selections.aisTargetTypes.includes(-999);\n  }\n\n  toggleFilterType(e: boolean) {\n    this.app.config.selections.aisFilterByShipType = e;\n    if (e) {\n      this.alignSelections();\n    }\n    this.app.saveConfig();\n  }\n\n  shipTypeSelect(e: boolean, id: number) {\n    const t = [].concat(this.app.config.selections.aisTargetTypes);\n    if (e) {\n      t.push(id);\n    } else {\n      if (t.includes(id)) {\n        t.splice(t.indexOf(id), 1);\n      }\n    }\n    this.onlyIMO = t.includes(-999);\n    this.app.config.selections.aisTargetTypes = [].concat(t);\n    this.alignSelections();\n    this.app.saveConfig();\n  }\n\n  checkSelections() {\n    let c = false;\n    let u = false;\n    this.aisAvailable.forEach((i) => {\n      c = i[2] ? true : c;\n      u = !i[2] ? true : u;\n    });\n    this.allSel = c && !u ? true : false;\n    this.someSel = c && u ? true : false;\n  }\n\n  selectAll(value: boolean) {\n    this.aisAvailable.forEach((i) => {\n      i[2] = value;\n    });\n    this.someSel = false;\n    this.allSel = value ? true : false;\n    this.emitSelected();\n  }\n\n  itemSelect(e: boolean, id: string) {\n    this.aisAvailable.forEach((i) => {\n      if (i[0] === id) {\n        i[2] = e;\n      }\n    });\n    this.checkSelections();\n    this.emitSelected();\n  }\n\n  itemProperties(id: string) {\n    this.properties.emit(id);\n  }\n\n  emitSelected() {\n    let selection = this.aisAvailable\n      .map((i) => {\n        return i[2] === true ? i[0] : null;\n      })\n      .filter((i) => {\n        return i;\n      });\n    if (this.allSel) {\n      selection = null;\n    }\n    this.select.emit(selection);\n  }\n\n  filterKeyUp(e: string) {\n    this.filterText = e;\n    this.filterList = this.aisAvailable.filter((i) => {\n      const n = i[1].name ? i[1].name.toUpperCase() : i[1].mmsi;\n      if (n && n.toLowerCase().indexOf(this.filterText.toLowerCase()) !== -1) {\n        return i;\n      }\n    });\n  }\n\n  focus(id?: string) {\n    this.focusVessel.emit(id);\n  }\n\n  emitCenter(position: Position) {\n    this.pan.emit({\n      center: position,\n      zoomLevel: this.app.config.map.zoomLevel\n    });\n  }\n}\n","<div class=\"resourcelist\">\n  <mat-card style=\"border-radius: unset\">\n    <mat-card-title>\n      <div class=\"title-block\">\n        <div style=\"width: 50px\">\n          <button\n            mat-icon-button\n            (click)=\"close()\"\n            matTooltip=\"Close Vessels List\"\n            matTooltipPosition=\"right\"\n          >\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div style=\"flex: 1 1 auto; padding-top: 7px\">Vessels</div>\n      </div>\n    </mat-card-title>\n    <mat-card-content>\n      <div style=\"display: flex\">\n        <div style=\"flex: 1 1 auto; padding-left: 3px\">\n          <mat-form-field floatLabel=\"always\" style=\"width: 180px\">\n            <mat-label>Type to filter list</mat-label>\n            <input\n              #ftext\n              type=\"text\"\n              matInput\n              [disabled]=\"app.config.selections.aisFilterByShipType\"\n              [value]=\"filterText\"\n              (keyup)=\"filterKeyUp(ftext.value)\"\n            />\n            @if(filterText) {\n            <button matSuffix mat-icon-button (click)=\"filterKeyUp('')\">\n              <mat-icon>close</mat-icon>\n            </button>\n            }\n          </mat-form-field>\n        </div>\n        <div>\n          <button\n            mat-icon-button\n            (click)=\"initItems()\"\n            matTooltip=\"Reload Vessels\"\n            matTooltipPosition=\"left\"\n            [disabled]=\"app.config.selections.aisFilterByShipType\"\n          >\n            <mat-icon>refresh</mat-icon>\n          </button>\n        </div>\n        <div>\n          <mat-checkbox\n            #selall\n            [checked]=\"allSel\"\n            [disabled]=\"app.config.selections.aisFilterByShipType\"\n            [indeterminate]=\"someSel\"\n            (change)=\"selectAll($event.checked)\"\n            [matTooltip]=\"(!selall.checked || someSel) ? 'Select All' : 'Deselect All'\"\n            matTooltipPosition=\"right\"\n          >\n          </mat-checkbox>\n        </div>\n      </div>\n    </mat-card-content>\n    <mat-card-actions>\n      Filter:&nbsp;\n      <mat-slide-toggle\n        [checked]=\"app.config.selections.aisFilterByShipType\"\n        (change)=\"toggleFilterType($event.checked)\"\n      >\n        Ship Type\n      </mat-slide-toggle>\n      &nbsp;\n      <mat-slide-toggle\n        [checked]=\"onlyIMO\"\n        (change)=\"shipTypeSelect($event.checked, -999)\"\n      >\n        IMO Only\n      </mat-slide-toggle>\n    </mat-card-actions>\n  </mat-card>\n\n  <div class=\"resources vessels\">\n    @if (app.config.selections.aisFilterByShipType) {\n    <mat-card>\n      <mat-card-content>\n        @for (i of shipTypes; track i.id) {\n        <div style=\"display: flex\">\n          <div style=\"width: 35px\">\n            <img [src]=\"i.icon\" style=\"scale: 0.9\" />\n          </div>\n          <div style=\"flex: 1 1 auto; padding-left: 7px\">\n            <b>\n              {{i.description}}\n              <span style=\"font-style: italic; font-size: smaller\">\n                @if(i.id !==0){ ({{i.id}}-{{i.id + 9}}) }\n              </span>\n            </b>\n          </div>\n          <div style=\"text-align: right\">\n            <mat-checkbox\n              [checked]=\"i.selected\"\n              (change)=\"shipTypeSelect($event.checked, i.id)\"\n              matTooltip=\"Show in Map\"\n              matTooltipPosition=\"left\"\n            >\n            </mat-checkbox>\n          </div>\n        </div>\n        }\n      </mat-card-content>\n    </mat-card>\n\n    } @else {\n    <cdk-virtual-scroll-viewport class=\"vscroller\" itemSize=\"48\">\n      <mat-card\n        *cdkVirtualFor=\"let r of filterList; let i= index;\"\n        style=\"border-bottom: silver 1px outset; border-radius: unset\"\n      >\n        <mat-card-content>\n          <div style=\"display: flex\">\n            <div style=\"flex: 1 1 auto; padding-left: 7px\">\n              <a\n                style=\"cursor: pointer\"\n                (click)=\"itemProperties(r[0])\"\n                matTooltip=\"Vessel Properties\"\n                matTooltipPosition=\"right\"\n              >\n                <b\n                  >{{(r[1].name) ? r[1].name : (r[1].mmsi) ? r[1].mmsi :\n                  'Vessel-' + i}}</b\n                >\n              </a>\n            </div>\n            <div style=\"text-align: right\">\n              <mat-checkbox\n                [checked]=\"r[2]\"\n                (change)=\"itemSelect($event.checked, r[0])\"\n                matTooltip=\"Show in Map\"\n                matTooltipPosition=\"left\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n        </mat-card-content>\n        <mat-card-actions>\n          <div style=\"display: flex\">\n            <div style=\"flex: 1 1 auto\">\n              @if(r[0] !== focusId) {\n              <button\n                mat-button\n                (click)=\"focus(r[0])\"\n                matTooltip=\"Focus vessel\"\n              >\n                <mat-icon>center_focus_weak</mat-icon>\n                FOCUS\n              </button>\n              } @else {\n              <button\n                mat-button\n                (click)=\"focus();\"\n                matTooltip=\"Clear vessel focus\"\n              >\n                <mat-icon>clear_all</mat-icon>\n                UNFOCUS\n              </button>\n              }\n            </div>\n            <button\n              mat-button\n              [disabled]=\"app.config.map.moveMap\"\n              (click)=\"emitCenter(r[1].position)\"\n              matTooltip=\"Center Vessel\"\n            >\n              <mat-icon>center_focus_strong</mat-icon>\n              CENTER\n            </button>\n            <div>\n              <button\n                mat-button\n                (click)=\"itemProperties(r[0])\"\n                matTooltip=\"Vessel Properties\"\n              >\n                <mat-icon>info_outline</mat-icon>\n                INFO\n              </button>\n            </div>\n          </div>\n        </mat-card-actions>\n      </mat-card>\n    </cdk-virtual-scroll-viewport>\n    }\n  </div>\n</div>\n","/** Waypoint Details Dialog Component **\n ********************************/\n\nimport { Component, OnInit, Inject, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {\n  FormsModule,\n  FormControl,\n  Validators,\n  ReactiveFormsModule\n} from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { AppFacade } from 'src/app/app.facade';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { SKWaypoint } from '../../resource-classes';\nimport { merge } from 'rxjs';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { getResourceIcon } from 'src/app/modules/icons';\n\n/********* WaypointDialog **********\n\tdata: {\n    title: <string> title text,\n    addMode: <boolean> Add vs update waypoint,\n    waypoint: <SKWaypoint> Waypoint resource\n  }\n***********************************/\n@Component({\n  selector: 'ap-waypointdialog',\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatInputModule,\n    MatSelectModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    PipesModule,\n    ReactiveFormsModule\n  ],\n  template: `\n    <div class=\"_ap-waypoint\">\n      <div style=\"display:flex;\">\n        <div style=\"padding: 15px 0 0 10px;\">\n          <mat-icon class=\"icon-waypoint\">{{ icon }}</mat-icon>\n        </div>\n        <div>\n          <h1 mat-dialog-title>{{ data['title'] }}</h1>\n        </div>\n      </div>\n\n      <mat-dialog-content>\n        <div>\n          <div style=\"padding-left: 10px;\">\n            <div>\n              <mat-form-field floatLabel=\"always\">\n                <mat-label>Name</mat-label>\n                <input\n                  matInput\n                  type=\"text\"\n                  required\n                  [readonly]=\"readOnly\"\n                  [formControl]=\"inpName\"\n                  (blur)=\"updateErrorMessage()\"\n                />\n                @if(inpName.invalid && (inpName.dirty || inpName.touched)) {\n                <mat-error>{{ errorMessage() }}</mat-error>\n                }\n              </mat-form-field>\n            </div>\n            <div>\n              <mat-form-field floatLabel=\"always\">\n                <mat-label>Description</mat-label>\n                <textarea\n                  matInput\n                  rows=\"2\"\n                  #inpcmt=\"ngModel\"\n                  [readonly]=\"readOnly\"\n                  [(ngModel)]=\"description\"\n                >\n                </textarea>\n              </mat-form-field>\n            </div>\n\n            <div>\n              <mat-form-field style=\"width:100%;\" floatLabel=\"always\">\n                <mat-label>Type</mat-label>\n                <mat-select [disabled]=\"readOnly\" [(value)]=\"wptType\">\n                  @for(wt of waypointTypes; track wt) {\n                  <mat-optgroup [label]=\"wt.group\">\n                    @for(i of wt.icons; track i) {\n                    <mat-option [value]=\"i.type\">\n                      <mat-icon\n                        [class]=\"i.icon.class\"\n                        [svgIcon]=\"i.icon.svgIcon\"\n                        >{{ i.icon.name }}</mat-icon\n                      >\n                      {{ i.name }}\n                    </mat-option>\n                    }\n                  </mat-optgroup>\n                  }\n                </mat-select>\n              </mat-form-field>\n            </div>\n\n            <div style=\"font-size: 10pt;\">\n              <div style=\"display:flex;\">\n                @if(readOnly) {\n                <div style=\"width:45px;font-weight:bold;\">Lat:</div>\n                <div\n                  style=\"flex: 1 1 auto;\"\n                  [innerText]=\"\n                    lat | coords : app.config.selections.positionFormat : true\n                  \"\n                ></div>\n                } @else {\n                <div style=\"flex: 1 1 auto;\">\n                  <mat-form-field floatLabel=\"always\">\n                    <mat-label>Latitude</mat-label>\n                    <input\n                      matInput\n                      type=\"number\"\n                      min=\"-90\"\n                      max=\"90\"\n                      required\n                      [formControl]=\"inpLat\"\n                      (blur)=\"updateErrorMessage()\"\n                    />\n                    @if(inpLat.invalid && (inpLat.dirty || inpLat.touched)) {\n                    <mat-error>{{ errorMessage() }}</mat-error>\n                    }\n                  </mat-form-field>\n                </div>\n                }\n              </div>\n              <div style=\"display:flex;\">\n                @if(readOnly) {\n                <div style=\"width:45px;font-weight:bold;\">Lon:</div>\n                <div\n                  style=\"flex: 1 1 auto;\"\n                  [innerText]=\"\n                    lon | coords : app.config.selections.positionFormat\n                  \"\n                ></div>\n                } @else {\n                <div style=\"flex: 1 1 auto;\">\n                  <mat-form-field floatLabel=\"always\">\n                    <mat-label>Longitude</mat-label>\n                    <input\n                      matInput\n                      type=\"number\"\n                      min=\"-180\"\n                      max=\"180\"\n                      [formControl]=\"inpLon\"\n                      (blur)=\"updateErrorMessage()\"\n                    />\n                    @if(inpLon.invalid && (inpLon.dirty || inpLon.touched)) {\n                    <mat-error>{{ errorMessage() }}</mat-error>\n                    }\n                  </mat-form-field>\n                </div>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      </mat-dialog-content>\n      <mat-dialog-actions>\n        <div style=\"text-align:center;width:100%;\">\n          @if(!readOnly) {\n          <button\n            mat-raised-button\n            [disabled]=\"\n              inpLat.invalid || inpLon.invalid || inpName.invalid || readOnly\n            \"\n            (click)=\"handleClose(true)\"\n          >\n            SAVE\n          </button>\n          }\n          <button mat-raised-button (click)=\"handleClose(false)\">CANCEL</button>\n        </div>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-waypoint {\n        min-width: 300px;\n      }\n    `\n  ]\n})\nexport class WaypointDialog implements OnInit {\n  protected icon: string;\n  protected waypointTypes: Array<any>;\n\n  protected description: string;\n  protected wptType: string;\n  protected lat: number;\n  protected lon: number;\n  protected readOnly = false;\n\n  protected inpLat: FormControl;\n  protected inpLon: FormControl;\n  protected inpName: FormControl;\n\n  errorMessage = signal('');\n\n  constructor(\n    protected app: AppFacade,\n    protected dialogRef: MatDialogRef<WaypointDialog>,\n    @Inject(MAT_DIALOG_DATA)\n    protected data: {\n      title: string;\n      addMode: boolean;\n      waypoint: SKWaypoint;\n    }\n  ) {}\n\n  ngOnInit() {\n    this.description = this.data.waypoint.description ?? '';\n    this.wptType = this.data.waypoint.type ?? '';\n    const coords = this.data.waypoint.feature.geometry.coordinates ?? [0, 0];\n    this.lat = coords[1];\n    this.lon = coords[0];\n    this.readOnly = this.data.waypoint.feature.properties?.readOnly ?? false;\n    this.icon = this.data.addMode ? 'add_location' : 'edit_location';\n    this.inpLat = new FormControl(this.lat, [Validators.required]);\n    this.inpLon = new FormControl(this.lon, [Validators.required]);\n    this.inpName = new FormControl(this.data.waypoint.name ?? '', [\n      Validators.required\n    ]);\n\n    const wptIcons = {\n      default: getResourceIcon('waypoints', undefined),\n      pseudoaton: getResourceIcon('waypoints', 'pseudoaton'),\n      whale: getResourceIcon('waypoints', 'whale'),\n      pob: getResourceIcon('waypoints', 'alarm-mob')\n    };\n\n    this.waypointTypes = [\n      {\n        group: 'Points of Interest',\n        icons: [\n          {\n            type: '',\n            name: 'Waypoint',\n            icon: wptIcons.default\n          },\n          {\n            type: 'pseudoaton',\n            name: 'Pseudo AtoN',\n            icon: wptIcons.pseudoaton\n          },\n          {\n            type: 'whale',\n            name: 'Whale Sighting',\n            icon: wptIcons.whale\n          }\n        ]\n      },\n      {\n        group: 'Alarms',\n        icons: [\n          {\n            type: 'alarm-mob',\n            name: 'Person Overboard',\n            icon: wptIcons.pob\n          }\n        ]\n      }\n    ];\n\n    merge(\n      this.inpLat.statusChanges,\n      this.inpLat.valueChanges,\n      this.inpLon.statusChanges,\n      this.inpLon.valueChanges,\n      this.inpName.statusChanges,\n      this.inpName.valueChanges\n    )\n      .pipe(takeUntilDestroyed())\n      .subscribe(() => this.updateErrorMessage());\n  }\n\n  updateErrorMessage() {\n    if (this.inpLat.hasError('required') || this.inpLon.hasError('required')) {\n      this.errorMessage.set('You must enter a value.');\n    } else if (this.inpName.hasError('required')) {\n      this.errorMessage.set('Please enter a waypoint name.');\n    } else if (this.inpLat.hasError('min') || this.inpLat.hasError('max')) {\n      this.errorMessage.set(`Value must be > -90 and < 90`);\n    } else if (this.inpLon.hasError('min') || this.inpLon.hasError('max')) {\n      this.errorMessage.set(`Value must be > -180 and < 180`);\n    } else {\n      this.errorMessage.set('');\n    }\n  }\n\n  handleClose(save: boolean) {\n    if (save) {\n      this.data.waypoint.name = this.inpName.value;\n      this.data.waypoint.description = this.description;\n      this.data.waypoint.type = this.wptType;\n      this.data.waypoint.feature.geometry.coordinates = [\n        this.inpLon.value,\n        this.inpLat.value\n      ];\n    }\n    this.dialogRef.close({ save: save, waypoint: this.data.waypoint });\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { decimalToSexagesimal } from 'geolib';\n\n@Pipe({\n  name: 'coords',\n  standalone: false\n})\nexport class CoordsPipe implements PipeTransform {\n  private symDegree = String.fromCharCode(186);\n\n  public transform(value: number, type: string, isLat?: boolean): string {\n    const h = isLat ? (value < 0 ? 'S' : 'N') : value < 0 ? 'W' : 'E';\n    switch (type) {\n      case 'SHDd':\n        return this.toHDdSigned(value, h);\n      case 'DMdH':\n        return this.toDMdH(value, h);\n      case 'HDd':\n        return this.toHDd(value, h);\n      case 'HDMS':\n        return this.toHDMS(value, h);\n      case 'DHMS':\n        return this.toDHMS(value, h);\n      default:\n        return this.toXY(value);\n    }\n  }\n\n  // returns +/-DD.dddddd\n  private toXY(value: number, precision = 5): string {\n    return value.toFixed(precision);\n  }\n\n  // returns H +/-D.ddddd\n  private toHDdSigned(\n    value: number,\n    hemisphere: string,\n    precision = 5\n  ): string {\n    const h = ['S', 'W'].includes(hemisphere)\n      ? `${hemisphere} -`\n      : `${hemisphere} +`;\n    let ddec: string = value.toFixed(precision);\n    ddec = ddec.substring(ddec.indexOf('.'));\n    return `${h}${Math.floor(Math.abs(value))}${ddec}${this.symDegree}`;\n  }\n\n  // returns DDD MM.ddd' H  (e.g 020 44.56' E)\n  private toDMdH(value: number, hemisphere: string, precision = 5): string {\n    const D = Math.floor(Math.abs(value)) ?? 0;\n    const d = D === 0 ? Math.abs(value) : Math.abs(value % D);\n    const mdec = (d * 60).toFixed(precision);\n    const pad = ['N', 'S'].includes(hemisphere) ? '00' : '000';\n    const s = `${(pad + D.toString()).slice(0 - pad.length)}${\n      this.symDegree\n    } ${mdec}' ${hemisphere}`;\n    return s;\n  }\n\n  // returns H D.ddddd\n  private toHDd(value: number, hemisphere: string, precision = 5): string {\n    let ddec: string = value.toFixed(precision);\n    ddec = ddec.substring(ddec.indexOf('.'));\n    return `${hemisphere} ${Math.floor(Math.abs(value))}${ddec}${\n      this.symDegree\n    }`;\n  }\n\n  // returns H DM'S\"sss\n  private toHDMS(value: number, hemisphere: string): string {\n    return `${hemisphere} ${decimalToSexagesimal(value)}`;\n  }\n\n  // returns DHM'S\"sss\n  private toDHMS(value: number, hemisphere: string): string {\n    let c = decimalToSexagesimal(value);\n    c =\n      c.slice(0, c.indexOf(' ') - 1) + hemisphere + c.slice(c.indexOf(' ') + 1);\n    return c;\n  }\n}\n","/*****************************\n * User Interface components\n *****************************/\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatStepperModule } from '@angular/material/stepper';\n\n// ** components **\nimport {\n  MsgBox,\n  AlertDialog,\n  ConfirmDialog,\n  WelcomeDialog,\n  AboutDialog,\n  LoginDialog,\n  MessageBarComponent\n} from './dialogs.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatTooltipModule,\n    MatDialogModule,\n    MatIconModule,\n    MatButtonModule,\n    MatTooltipModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatCheckboxModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatCardModule,\n    MatStepperModule\n  ],\n  declarations: [\n    MsgBox,\n    AlertDialog,\n    ConfirmDialog,\n    AboutDialog,\n    LoginDialog,\n    MessageBarComponent,\n    WelcomeDialog\n  ],\n  exports: [\n    MsgBox,\n    AlertDialog,\n    ConfirmDialog,\n    AboutDialog,\n    MessageBarComponent,\n    LoginDialog\n  ],\n  providers: []\n})\nexport class CommonDialogs {}\n\nexport * from './dialogs.component';\n","/*\n * Public API Surface of ng-openlayers\n */\nimport { NgModule } from '@angular/core';\nimport { InteractionsDirective } from './lib/interactions.directive';\n//import { LayerType } from './lib/models';\nimport { MapComponent } from './lib/map.component';\nimport { OverlayComponent } from './lib/overlay.component';\nimport { ControlsDirective } from './lib/controls.directive';\nimport { ViewDirective } from './lib/view.directive';\n//import { MapService } from './lib/map.service';\nimport { ContentComponent } from './lib/content.component';\nimport { LayerComponent } from './lib/layer.component';\n\nimport { ControlComponent } from './lib/control.component';\n\nimport { InteractionDrawComponent } from './lib/interactions/interaction-draw.component';\nimport { InteractionModifyComponent } from './lib/interactions/interaction-modify.component';\nimport {\n  WaypointLayerComponent,\n  FreeboardWaypointLayerComponent\n} from './lib/resources/layer-waypoints.component';\nimport {\n  NoteLayerComponent,\n  FreeboardNoteLayerComponent\n} from './lib/resources/layer-notes.component';\nimport {\n  RouteLayerComponent,\n  FreeboardRouteLayerComponent\n} from './lib/resources/layer-routes.component';\nimport { FreeboardRegionLayerComponent } from './lib/resources/layer-regions.component';\nimport { FreeboardChartLayerComponent } from './lib/resources/layer-charts.component';\nimport { ChartBoundsLayerComponent } from './lib/resources/layer-chart-bounds.component';\nimport { TrackLayerComponent } from './lib/resources/layer-tracks.component';\nimport { ResourceSetLayerComponent } from './lib/resources/layer-resourceset.component';\nimport { AnchorAlarmComponent } from './lib/alarms/layer-anchor-alarm.component';\nimport { AlarmComponent } from './lib/alarms/layer-alarm.component';\nimport { CPAAlarmComponent } from './lib/alarms/layer-cpa-alarm.component';\nimport { ArrivalCircleComponent } from './lib/navigation/layer-arrival-circle.component';\nimport { XTEPathComponent } from './lib/navigation/layer-xte-path.component';\nimport { BearingLineComponent } from './lib/navigation/layer-bearing-line.component';\nimport { LaylineComponent } from './lib/navigation/layer-layline.component';\nimport { DirectionOfTravelComponent } from './lib/navigation/layer-dot.component';\nimport { VesselComponent } from './lib/vessel/layer-vessel.component';\nimport { VesselTrailComponent } from './lib/vessel/layer-vessel-trail.component';\nimport { FBFeatureLayerComponent } from './lib/sk-feature.component';\nimport { RacingStartLineLayerComponent } from './lib/racing/layer-racing-startline.component';\nimport { AISFlagsLayerComponent } from './lib/resources/layer-aisflags.component';\nimport { AISWindLayerComponent } from './lib/resources/layer-aiswind.component';\nimport { AISTargetsLayerComponent } from './lib/resources/layer-aistargets.component';\nimport { AISVesselsLayerComponent } from './lib/resources/layer-aisvessels.component';\nimport { AISTargetsTrackLayerComponent } from './lib/resources/layer-aistargets-track.component';\n\nexport * from './lib/util';\nexport { MapService } from './lib/map.service';\nexport { S57Service } from './lib/s57.service';\n\nexport { ContentComponent } from './lib/content.component';\nexport { ControlsDirective } from './lib/controls.directive';\nexport { InteractionsDirective } from './lib/interactions.directive';\nexport { LayerComponent } from './lib/layer.component';\nexport { LayerType, SourceType } from './lib/models';\nexport { MapComponent } from './lib/map.component';\nexport { OverlayComponent } from './lib/overlay.component';\nexport { ViewDirective } from './lib/view.directive';\n\nexport { ControlComponent } from './lib/control.component';\n\nexport { InteractionDrawComponent } from './lib/interactions/interaction-draw.component';\nexport { InteractionModifyComponent } from './lib/interactions/interaction-modify.component';\nexport {\n  WaypointLayerComponent,\n  FreeboardWaypointLayerComponent\n} from './lib/resources/layer-waypoints.component';\nexport {\n  NoteLayerComponent,\n  FreeboardNoteLayerComponent\n} from './lib/resources/layer-notes.component';\nexport {\n  RouteLayerComponent,\n  FreeboardRouteLayerComponent\n} from './lib/resources/layer-routes.component';\nexport { FreeboardRegionLayerComponent } from './lib/resources/layer-regions.component';\nexport { FreeboardChartLayerComponent } from './lib/resources/layer-charts.component';\nexport { ChartBoundsLayerComponent } from './lib/resources/layer-chart-bounds.component';\nexport { TrackLayerComponent } from './lib/resources/layer-tracks.component';\nexport { ResourceSetLayerComponent } from './lib/resources/layer-resourceset.component';\nexport { AnchorAlarmComponent } from './lib/alarms/layer-anchor-alarm.component';\nexport { AlarmComponent } from './lib/alarms/layer-alarm.component';\nexport { CPAAlarmComponent } from './lib/alarms/layer-cpa-alarm.component';\nexport { ArrivalCircleComponent } from './lib/navigation/layer-arrival-circle.component';\nexport { XTEPathComponent } from './lib/navigation/layer-xte-path.component';\nexport { BearingLineComponent } from './lib/navigation/layer-bearing-line.component';\nexport { LaylineComponent } from './lib/navigation/layer-layline.component';\nexport { TargetAngleComponent } from './lib/navigation/layer-target-angle.component';\nimport { TargetAngleComponent } from './lib/navigation/layer-target-angle.component';\nexport { DirectionOfTravelComponent } from './lib/navigation/layer-dot.component';\nexport { VesselComponent } from './lib/vessel/layer-vessel.component';\nexport { VesselTrailComponent } from './lib/vessel/layer-vessel-trail.component';\nexport { FBFeatureLayerComponent } from './lib/sk-feature.component';\nexport { RacingStartLineLayerComponent } from './lib/racing/layer-racing-startline.component';\nexport { AISFlagsLayerComponent } from './lib/resources/layer-aisflags.component';\nexport { AISWindLayerComponent } from './lib/resources/layer-aiswind.component';\nexport { AISTargetsLayerComponent } from './lib/resources/layer-aistargets.component';\nexport { AISVesselsLayerComponent } from './lib/resources/layer-aisvessels.component';\nexport { AISTargetsTrackLayerComponent } from './lib/resources/layer-aistargets-track.component';\n\nconst declarations = [\n  ContentComponent,\n  ControlsDirective,\n  LayerComponent,\n  InteractionsDirective,\n  MapComponent,\n  OverlayComponent,\n  ViewDirective,\n  ControlComponent,\n  InteractionDrawComponent,\n  InteractionModifyComponent,\n  WaypointLayerComponent,\n  FreeboardWaypointLayerComponent,\n  NoteLayerComponent,\n  FreeboardNoteLayerComponent,\n  RouteLayerComponent,\n  FreeboardRouteLayerComponent,\n  FreeboardRegionLayerComponent,\n  TrackLayerComponent,\n  FreeboardChartLayerComponent,\n  ChartBoundsLayerComponent,\n  ResourceSetLayerComponent,\n  AnchorAlarmComponent,\n  AlarmComponent,\n  CPAAlarmComponent,\n  ArrivalCircleComponent,\n  XTEPathComponent,\n  BearingLineComponent,\n  LaylineComponent,\n  TargetAngleComponent,\n  VesselComponent,\n  VesselTrailComponent,\n  DirectionOfTravelComponent,\n  FBFeatureLayerComponent,\n  RacingStartLineLayerComponent,\n  AISFlagsLayerComponent,\n  AISWindLayerComponent,\n  AISTargetsLayerComponent,\n  AISVesselsLayerComponent,\n  AISTargetsTrackLayerComponent\n];\n\n@NgModule({\n  imports: [],\n  declarations: [...declarations],\n  exports: [...declarations]\n})\nexport class FreeboardOpenlayersModule {}\n","import { Component, OnInit, Inject, ElementRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRadioModule } from '@angular/material/radio';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatListModule } from '@angular/material/list';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\nimport { SignalKPreferredPathsComponent } from './signalk-preferredpaths.component';\nimport { SettingsFacade } from '../settings.facade';\nimport { SettingsSignals } from 'src/app/lib/services';\n\ninterface PreferredPathsResult {\n  save: boolean;\n  value: { [key: string]: string };\n}\n\n//** Settings **\n@Component({\n  selector: 'settings-dialog',\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatRadioModule,\n    MatCardModule,\n    MatListModule,\n    MatButtonModule,\n    MatIconModule,\n    MatTooltipModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatSelectModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatMenuModule,\n    MatToolbarModule,\n    SignalKPreferredPathsComponent\n  ],\n  templateUrl: './settings-dialog.html',\n  styleUrls: ['./settings-dialog.css']\n})\nexport class SettingsDialog implements OnInit {\n  public display = { favourites: false };\n  public menuItems = [\n    { id: 'sectDisplay', text: 'Display & Sound' },\n    { id: 'sectS57', text: 'Charts' },\n    { id: 'sectUnits', text: 'Units & Values' },\n    { id: 'sectCourse', text: 'Course' },\n    { id: 'sectVessels', text: 'Vessels' },\n    { id: 'sectNotes', text: 'Notes' },\n    { id: 'sectVideo', text: 'Video' },\n    { id: 'sectResLayers', text: 'Resources' },\n    { id: 'sectResLayers', text: 'Signal K' }\n  ];\n\n  public aisStateFilter = {\n    moored: false,\n    anchored: false\n  };\n\n  private saveOnClose = false;\n\n  constructor(\n    public facade: SettingsFacade,\n    public myElement: ElementRef,\n    public dialogRef: MatDialogRef<SettingsDialog>,\n    @Inject(MAT_DIALOG_DATA) public data\n  ) {}\n\n  ngOnInit() {\n    this.facade.refresh();\n    this.facade.settings.selections.aisState.forEach((i: string) => {\n      if (i in this.aisStateFilter) {\n        this.aisStateFilter[i] = true;\n      }\n    });\n  }\n\n  //ngOnDestroy() { }\n\n  jumpTo(id: string, wait = false) {\n    if (wait) {\n      setTimeout(() => this.jumpTo(id, false), 50);\n    } else {\n      this.myElement.nativeElement.ownerDocument\n        .getElementById(id)\n        .scrollIntoView({ behavior: 'smooth' });\n    }\n  }\n\n  // ** handle dialog close action\n  handleClose() {\n    this.dialogRef.close(this.saveOnClose);\n  }\n\n  toggleFavourites() {\n    this.display.favourites = this.display.favourites ? false : true;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onFormChange(e: unknown, f: any, deferSave = false) {\n    if (deferSave) {\n      this.saveOnClose = true;\n    } else {\n      if (!f.invalid) {\n        const signals: SettingsSignals = {};\n        if (\n          ['notesminzoom', 'notesgetradius', 'notesrootfilter'].includes(f.id)\n        ) {\n          signals.fetchNotes = true;\n        }\n        this.facade.applySettings(signals);\n      } else {\n        console.warn('SETTINGS:', 'Form field invalid: Config NOT Saved!');\n      }\n    }\n  }\n\n  onPreferredPaths(e: PreferredPathsResult) {\n    if (e.save) {\n      this.facade.settings.selections.preferredPaths = e.value;\n      this.facade.applySettings();\n    }\n  }\n\n  onFavSelected(e: unknown, f) {\n    this.facade.settings.selections.pluginFavourites =\n      f.selectedOptions.selected.map((i) => i.value);\n    this.facade.applySettings();\n  }\n\n  onResPathSelected(e: unknown, f) {\n    this.facade.settings.resources.paths = f.selectedOptions.selected.map(\n      (i) => i.value\n    );\n    //ensure all selected paths have relevant 'selections' entry\n    this.facade.settings.resources.paths.forEach((i) => {\n      if (i in this.facade.settings.selections.resourceSets) {\n        /* already has selection array */\n      } else {\n        this.facade.settings.selections.resourceSets[i] = [];\n      } //create selection array\n    });\n    this.facade.applySettings();\n  }\n\n  onAisStateFilter() {\n    const s = [];\n    for (const i in this.aisStateFilter) {\n      if (this.aisStateFilter[i]) {\n        s.push(i);\n      }\n    }\n    this.facade.settings.selections.aisState = [].concat(s);\n    this.facade.applySettings();\n  }\n\n  noSort() {\n    return 0;\n  }\n\n  // delete auth token\n  clearAuthToken() {\n    this.facade.clearToken();\n  }\n}\n","<mat-menu #settingsMenu=\"matMenu\">\n  @for(i of menuItems; track i) {\n  <a mat-menu-item (click)=\"jumpTo(i.id, true)\"> {{i.text}} </a>\n  }\n</mat-menu>\n<mat-toolbar style=\"background-color: transparent\">\n  <span class=\"dialog-icon\">\n    <button\n      class=\"left-settings-menu-button\"\n      mat-icon-button\n      [matMenuTriggerFor]=\"settingsMenu\"\n    >\n      <mat-icon>menu</mat-icon>\n    </button>\n  </span>\n  <span style=\"flex: 1 1 auto; text-align: center\">Settings</span>\n  <span style=\"text-align: right\">\n    <button mat-icon-button (click)=\"handleClose()\">\n      <mat-icon>close</mat-icon>\n    </button>\n  </span>\n</mat-toolbar>\n\n<div mat-dialog-content style=\"display: flex\">\n  <div class=\"left-settings-menu\">\n    <mat-nav-list>\n      @for(i of menuItems; track i) {\n      <a mat-list-item (click)=\"jumpTo(i.id)\"> {{i.text}} </a>\n      }\n    </mat-nav-list>\n  </div>\n  <div style=\"flex: 1 1 auto\">\n    <div class=\"theme-page settings right-settings-content\">\n      <div class=\"theme-panel\">\n        <div class=\"setting-group\" id=\"sectDisplay\">\n          <div class=\"setting-group-title\">DISPLAY &amp; SOUND</div>\n          @if(facade.data.optAppPanel) {\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              @if(facade.list.applications.length > 1) {\n              <div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Select Instruments App</mat-label>\n                    <mat-select\n                      #instruments\n                      [(value)]=\"facade.settings.plugins.instruments\"\n                      (selectionChange)=\"onFormChange($event, instruments);facade.buildFavouritesList()\"\n                    >\n                      @for(i of facade.list.applications; track i) {\n                      <mat-option\n                        [value]=\"i.url\"\n                        [matTooltip]=\"i.description\"\n                        matTooltipPosition=\"right\"\n                      >\n                        {{i.name}}\n                      </mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\" floatLabel=\"always\">\n                    <mat-label>Parameters</mat-label>\n                    <input\n                      matInput\n                      type=\"text\"\n                      #instparams=\"ngModel\"\n                      [disabled]=\"facade.settings.plugins.instruments==null\"\n                      [(ngModel)]=\"facade.settings.plugins.parameters\"\n                      (change)=\"onFormChange($event, instparams)\"\n                      placeholder=\"e.g. ?layout=mylayout\"\n                      matTooltip=\"Enter parameters to pass to Instrument App\"\n                    />\n                  </mat-form-field>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #startOnOpen\n                    [(ngModel)]=\"facade.settings.plugins.startOnOpen\"\n                    (change)=\"onFormChange($event, startOnOpen)\"\n                    matTooltip=\"Stop instrument app when hidden\"\n                    label=\"after\"\n                  >\n                    Halt App on hide\n                  </mat-checkbox>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <button\n                    mat-raised-button\n                    (click)=\"toggleFavourites()\"\n                    matTooltip=\"Favourite Apps\"\n                    label=\"after\"\n                  >\n                    <mat-icon>star</mat-icon>\n                    FAVOURITES\n                  </button>\n                </div>\n              </div>\n              } @if(display.favourites) {\n              <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                <div class=\"setting-card-row-item\">\n                  <div style=\"font-style: italic\">\n                    <br />Select Favourite Apps:\n                  </div>\n                  <mat-divider></mat-divider>\n                  <mat-selection-list\n                    #favs\n                    (selectionChange)=\"onFavSelected($event, favs)\"\n                  >\n                    @for(fav of facade.list.favourites; track fav) {\n                    <mat-list-option\n                      [disabled]=\"fav.url==facade.settings.plugins.instruments\"\n                      [selected]=\"facade.settings.selections.pluginFavourites.includes(fav.url)\"\n                      [value]=\"fav.url\"\n                    >\n                      {{fav.name}}\n                    </mat-list-option>\n                    }\n                  </mat-selection-list>\n                </div>\n              </div>\n              }\n            </mat-card-content>\n          </mat-card>\n          }\n          <br />\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #lockMoveMap\n                    [(ngModel)]=\"facade.settings.map.lockMoveMap\"\n                    (change)=\"onFormChange($event, lockMoveMap)\"\n                    matTooltip=\"Do not exit follow vessel when map is panned.\"\n                    label=\"after\"\n                  >\n                    Lock Follow Vessel\n                  </mat-checkbox>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #muteAllSound\n                    [(ngModel)]=\"facade.settings.muteSound\"\n                    (change)=\"onFormChange($event, muteAllSound)\"\n                    matTooltip=\"Do not play sounds\"\n                    label=\"after\"\n                  >\n                    Do not Play Sounds\n                  </mat-checkbox>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #depthalarm\n                    [(ngModel)]=\"facade.settings.depthAlarm.enabled\"\n                    (change)=\"onFormChange($event, depthalarm)\"\n                    label=\"after\"\n                  >\n                    Show DEPTH Alarms\n                  </mat-checkbox>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Alarm Smoothing Time</mat-label>\n                    <mat-select\n                      #depthsmoothing\n                      matTooltip=\"Period of time out of alarm state before re-triggering.\"\n                      [disabled]=\"!facade.settings.depthAlarm.enabled\"\n                      [(value)]=\"facade.settings.depthAlarm.smoothing\"\n                      (selectionChange)=\"onFormChange($event, depthsmoothing)\"\n                    >\n                      @for(i of facade.alarmOptions.smoothing; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n              </div>\n            </mat-card-content>\n          </mat-card>\n\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #wakelock\n                    [(ngModel)]=\"facade.settings.selections.wakeLock\"\n                    (change)=\"onFormChange($event, wakelock)\"\n                    label=\"after\"\n                  >\n                    Prevent Device Sleeping\n                  </mat-checkbox>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Dark Mode setting</mat-label>\n                    <mat-select\n                      #darkmode\n                      matTooltip=\"Dark Mode setting.\"\n                      [(value)]=\"facade.settings.darkMode.source\"\n                      (selectionChange)=\"onFormChange($event, darkmode)\"\n                    >\n                      @for(i of facade.darkModeOptions; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n              </div>\n            </mat-card-content>\n          </mat-card>\n\n          <div class=\"setting-group-title\">MAP</div>\n          <mat-card>\n            <mat-card-content>\n              <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Feature label zoom level</mat-label>\n                    <mat-select\n                      #labelsminzoom\n                      [(value)]=\"facade.settings.selections.labelsMinZoom\"\n                      (selectionChange)=\"onFormChange($event, labelsminzoom)\"\n                    >\n                      @for(i of facade.list.minZoom; track i) {\n                      <mat-option [value]=\"i\">{{i}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #popoverMulti\n                    [(ngModel)]=\"facade.settings.popoverMulti\"\n                    (change)=\"onFormChange($event, popoverMulti)\"\n                    matTooltip=\"Add close button to popovers\"\n                    label=\"after\"\n                  >\n                    Popovers close with button\n                  </mat-checkbox>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #mapDoubleClick\n                    [(ngModel)]=\"facade.settings.mapDoubleClick\"\n                    (change)=\"onFormChange($event, mapDoubleClick)\"\n                    matTooltip=\"Double Click map to zoom\"\n                    label=\"after\"\n                  >\n                    Double click to Zoom\n                  </mat-checkbox>\n                </div>\n                <!--\n                <br>                         \n                <div class=\"setting-card-row-item\">\n                    <mat-checkbox #mapAnimate \n                        [(ngModel)]=\"facade.settings.map.animate\" \n                        (change)=\"onFormChange($event, mapAnimate)\"\n                        matTooltip=\"Animate Map movement\"\n                        label=\"after\">\n                        Animate Map\n                    </mat-checkbox>                                        \n                </div>\n              --></div>\n            </mat-card-content>\n          </mat-card>\n        </div>\n\n        <div class=\"setting-group\" id=\"sectS57\">\n          <div class=\"setting-group-title\">VECTOR CHARTS</div>\n          <mat-card>\n            <mat-card-content>\n              <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Graphics Style</mat-label>\n                    <mat-select\n                      #s57GraphicsStyle\n                      [(value)]=\"facade.settings.selections.s57Options.graphicsStyle\"\n                      placeholder=\"Graphicsstyle\"\n                    >\n                      @for(i of facade.s57Options.graphicsStyle; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Boundaries</mat-label>\n                    <mat-select\n                      #s57Boundaries\n                      [(value)]=\"facade.settings.selections.s57Options.boundaries\"\n                      placeholder=\"Boundaries\"\n                    >\n                      @for(i of facade.s57Options.boundaries; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Colors</mat-label>\n                    <mat-select\n                      #s57Colors\n                      [(value)]=\"facade.settings.selections.s57Options.colors\"\n                      placeholder=\"Colors\"\n                    >\n                      @for(i of facade.s57Options.colors; track i) {\n                      <mat-option [value]=\"i\">{{i}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n              </div>\n              <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Shallow depth</mat-label>\n                    <input\n                      matInput\n                      [(ngModel)]=\"facade.settings.selections.s57Options.shallowDepth\"\n                    />\n                    <span matSuffix>m</span>\n                  </mat-form-field>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Safety depth</mat-label>\n                    <input\n                      matInput\n                      [(ngModel)]=\"facade.settings.selections.s57Options.safetyDepth\"\n                    />\n                    <span matSuffix>m</span>\n                  </mat-form-field>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Deep depth</mat-label>\n                    <input\n                      matInput\n                      [(ngModel)]=\"facade.settings.selections.s57Options.deepDepth\"\n                    />\n                    <span matSuffix>m</span>\n                  </mat-form-field>\n                </div>\n              </div>\n            </mat-card-content>\n          </mat-card>\n        </div>\n\n        <div class=\"setting-group\" id=\"sectUnits\">\n          <div class=\"setting-group-title\">UNITS &amp; VALUES</div>\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Distance units</mat-label>\n                    <mat-select\n                      id=\"distunits\"\n                      #distunits\n                      [(value)]=\"facade.settings.units.distance\"\n                      (selectionChange)=\"onFormChange($event, distunits)\"\n                    >\n                      @for(i of facade.availableUnits.distance; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Depth units</mat-label>\n                    <mat-select\n                      #depthunits\n                      [(value)]=\"facade.settings.units.depth\"\n                      (selectionChange)=\"onFormChange($event, depthunits)\"\n                    >\n                      @for(i of facade.availableUnits.depth; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Speed units</mat-label>\n                    <mat-select\n                      id=\"speedunits\"\n                      #speedunits\n                      [(value)]=\"facade.settings.units.speed\"\n                      (selectionChange)=\"onFormChange($event, speedunits)\"\n                    >\n                      @for(i of facade.availableUnits.speed; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Temperature units</mat-label>\n                    <mat-select\n                      id=\"tempunits\"\n                      #tempunits\n                      [(value)]=\"facade.settings.units.temperature\"\n                      (selectionChange)=\"onFormChange($event, tempunits)\"\n                    >\n                      @for(i of facade.availableUnits.temperature; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n\n                @if(facade.preferredValues.coords.length !== 0) {\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Position display format</mat-label>\n                    <mat-select\n                      #positionformat\n                      matTooltip=\"Display position in this format\"\n                      [(value)]=\"facade.settings.selections.positionFormat\"\n                      (selectionChange)=\"onFormChange($event, positionformat)\"\n                    >\n                      @for(i of facade.preferredValues.coords; track i) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n                }\n\n                <div class=\"setting-card-row-item\">\n                  <signalk-preferred-paths\n                    title=\"Preferred Paths\"\n                    (chosen)=\"onPreferredPaths($event)\"\n                  >\n                  </signalk-preferred-paths>\n                </div>\n\n                @if(facade.preferredValues.heading.length !== 0) {\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Prefer True / Magnetic values</mat-label>\n                    <mat-select\n                      #headingattrib\n                      matTooltip=\"Preferred value type for paths not in Preferred Paths above\"\n                      [(value)]=\"facade.settings.selections.headingAttribute\"\n                      (selectionChange)=\"onFormChange($event, headingattrib)\"\n                    >\n                      @for(i of facade.preferredValues.heading; track i) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n                }\n              </div>\n            </mat-card-content>\n          </mat-card>\n        </div>\n\n        <div class=\"setting-group\" id=\"sectCourse\">\n          <div class=\"setting-group-title\">COURSE</div>\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #courseautoadvance\n                    [(ngModel)]=\"facade.settings.selections.course.autoNextPointOnArrival\"\n                    (change)=\"onFormChange($event, courseautoadvance)\"\n                    label=\"after\"\n                  >\n                    Auto-advance to next point on arrival\n                  </mat-checkbox>\n\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Notification type to use</mat-label>\n                    <mat-select\n                      #courseautoadvanceon\n                      matTooltip=\"Select the trigger for advancing to next point.\"\n                      [disabled]=\"courseautoadvance.checked === false\"\n                      [(value)]=\"facade.settings.selections.course.autoNextPointTrigger\"\n                      (selectionChange)=\"onFormChange($event, courseautoadvanceon)\"\n                    >\n                      @for(i of facade.list.nextPointTriggers; track i) {\n                      <mat-option [value]=\"i\">{{i}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Time to wait before advancing</mat-label>\n                    <mat-select\n                      #courseautoadvancedelay\n                      matTooltip=\"Period of time out of alarm state before re-triggering.\"\n                      [disabled]=\"courseautoadvanceon.value === 'perpendicularPassed' || courseautoadvance.checked === false\"\n                      [(value)]=\"facade.settings.selections.course.autoNextPointDelay\"\n                      (selectionChange)=\"onFormChange($event, courseautoadvancedelay)\"\n                    >\n                      @for(i of facade.alarmOptions.smoothing; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n              </div>\n            </mat-card-content>\n          </mat-card>\n        </div>\n\n        <div class=\"setting-group\" id=\"sectVessels\">\n          <div class=\"setting-group-title\">VESSEL</div>\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <div class=\"setting-card-row-item\">\n                <fieldset>\n                  <legend>\n                    <mat-checkbox\n                      #vesselfixedlocationmode\n                      [(ngModel)]=\"facade.settings.fixedLocationMode\"\n                      (change)=\"onFormChange($event, vesselfixedlocationmode)\"\n                      label=\"after\"\n                      matTooltip=\"e.g. Building, Camp, etc.\"\n                    >\n                      Fixed Location Mode\n                    </mat-checkbox>\n                  </legend>\n                  <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                    <div class=\"setting-card-row-item\">\n                      <mat-form-field floatLabel=\"always\">\n                        <mat-label>Latitude</mat-label>\n                        <input\n                          matInput\n                          type=\"number\"\n                          #fixedlat=\"ngModel\"\n                          required\n                          pattern=\"^-?([1-8]?[0-9])(\\.\\d{1,9})?$\"\n                          [(ngModel)]=\"facade.fixedPosition[1]\"\n                          (change)=\"onFormChange($event, fixedlat)\"\n                          [disabled]=\"false\"\n                          min=\"-90\"\n                          max=\"90\"\n                        />\n                        @if(fixedlat.invalid && (fixedlat.dirty ||\n                        fixedlat.touched)) {\n                        <mat-error>\n                          Please enter a value between -90 and 90 (max 9\n                          decimals)\n                        </mat-error>\n                        }\n                      </mat-form-field>\n                      <mat-form-field floatLabel=\"always\">\n                        <mat-label>Longitude</mat-label>\n                        <input\n                          matInput\n                          type=\"number\"\n                          #fixedlon=\"ngModel\"\n                          required\n                          pattern=\"^-?(1[0-7]?[0-9]|[1-9]?[0-9])(\\.\\d{1,9})?$\"\n                          [(ngModel)]=\"facade.fixedPosition[0]\"\n                          (change)=\"onFormChange($event, fixedlon)\"\n                          [disabled]=\"false\"\n                          min=\"-180\"\n                          max=\"180\"\n                        />\n                        @if(fixedlon.invalid && (fixedlon.dirty ||\n                        fixedlon.touched)) {\n                        <mat-error>\n                          Please enter a value between -180 and 180 (max 9\n                          decimals)\n                        </mat-error>\n                        }\n                      </mat-form-field>\n                    </div>\n                  </div>\n                </fieldset>\n              </div>\n              <br />\n              <div class=\"setting-card-row-item\">\n                <fieldset>\n                  <legend>Vessel Lines:</legend>\n\n                  <mat-checkbox\n                    #vesselwindvectors\n                    [(ngModel)]=\"facade.settings.selections.vessel.windVectors\"\n                    (change)=\"onFormChange($event, vesselwindvectors)\"\n                    label=\"after\"\n                  >\n                    Display Wind Vectors\n                  </mat-checkbox>\n\n                  <mat-checkbox\n                    #vessellaylines\n                    [(ngModel)]=\"facade.settings.selections.vessel.laylines\"\n                    (change)=\"onFormChange($event, vessellaylines)\"\n                    label=\"after\"\n                  >\n                    Display Laylines\n                  </mat-checkbox>\n\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Heading Line Length</mat-label>\n                    <mat-select\n                      #vesselheadinglinesize\n                      matTooltip=\"Length of heading line.\"\n                      [(value)]=\"facade.settings.selections.vessel.headingLineSize\"\n                      (selectionChange)=\"onFormChange($event, vesselheadinglinesize)\"\n                    >\n                      @for(i of facade.vesselOptions.headingLine; track i[0] ) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>COG Line Length</mat-label>\n                    <mat-select\n                      #vesselcoglinesize\n                      matTooltip=\"Length of COG line.\"\n                      [(value)]=\"facade.settings.selections.vessel.cogLine\"\n                      (selectionChange)=\"onFormChange($event, vesselcoglinesize)\"\n                    >\n                      @for(i of facade.vesselOptions.cogLine; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </fieldset>\n              </div>\n              <br />\n              <fieldset>\n                <legend>\n                  <mat-checkbox\n                    #vesseltrail\n                    [(ngModel)]=\"facade.settings.selections.vessel.trail\"\n                    (change)=\"onFormChange($event, vesseltrail)\"\n                    label=\"after\"\n                  >\n                    Display Vessel Trail\n                  </mat-checkbox>\n                </legend>\n                <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                  <div class=\"setting-card-row-item\">\n                    <mat-checkbox\n                      #trailFromServer\n                      [disabled]=\"!facade.settings.selections.vessel.trail\"\n                      [(ngModel)]=\"facade.settings.selections.trailFromServer\"\n                      (change)=\"onFormChange($event, trailFromServer)\"\n                      matTooltip=\"Select to source trail data from the server\"\n                      label=\"after\"\n                    >\n                      Get Trail from server\n                    </mat-checkbox>\n                    &nbsp;&nbsp;\n\n                    <mat-slider\n                      discrete\n                      #trailDuration\n                      tickInterval=\"1\"\n                      min=\"1\"\n                      max=\"96\"\n                      [disabled]=\"!facade.settings.selections.trailFromServer || !facade.settings.selections.vessel.trail\"\n                    >\n                      <input\n                        matSliderThumb\n                        [(ngModel)]=\"facade.settings.selections.trailDuration\"\n                        (valueChange)=\"onFormChange($event, trailDuration, true)\"\n                      />\n                    </mat-slider>\n                    Length ({{facade.settings.selections.trailDuration}} hrs)\n                  </div>\n                </div>\n                <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                  <div class=\"setting-card-row-item\">\n                    <mat-form-field style=\"width: 100%\">\n                      <mat-label>Resolution: Last hour</mat-label>\n                      <mat-select\n                        #trailRes1\n                        [(value)]=\"facade.settings.selections.trailResolution.lastHour\"\n                        [disabled]=\"!facade.settings.selections.trailFromServer || !facade.settings.selections.vessel.trail\"\n                        (selectionChange)=\"onFormChange($event, trailRes1)\"\n                      >\n                        @for(i of facade.trailOptions.highResolution; track\n                        i[0]) {\n                        <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                        }\n                      </mat-select>\n                    </mat-form-field>\n                  </div>\n                  <div class=\"setting-card-row-item\">\n                    <mat-form-field style=\"width: 100%\">\n                      <mat-label>Resolution: 1 hr -> 24 hrs</mat-label>\n                      <mat-select\n                        #trailRes23\n                        [(value)]=\"facade.settings.selections.trailResolution.next23\"\n                        [disabled]=\"!facade.settings.selections.trailFromServer || !facade.settings.selections.vessel.trail\"\n                        (selectionChange)=\"onFormChange($event, trailRes23)\"\n                      >\n                        @for(i of facade.trailOptions.highResolution; track\n                        i[0]){\n                        <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                        }\n                      </mat-select>\n                    </mat-form-field>\n                  </div>\n                  <div class=\"setting-card-row-item\">\n                    <mat-form-field style=\"width: 100%\">\n                      <mat-label>Resolution: > 24 hrs</mat-label>\n                      <mat-select\n                        #trailRes24plus\n                        [(value)]=\"facade.settings.selections.trailResolution.beyond24\"\n                        [disabled]=\"!facade.settings.selections.trailFromServer || !facade.settings.selections.vessel.trail\"\n                        (selectionChange)=\"onFormChange($event, aisstaleage)\"\n                      >\n                        @for(i of facade.trailOptions.mediumResolution; track\n                        i[0]) {\n                        <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                        }\n                      </mat-select>\n                    </mat-form-field>\n                  </div>\n                </div>\n              </fieldset>\n            </mat-card-content>\n          </mat-card>\n\n          <div class=\"setting-group-title\">OTHER VESSELS</div>\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <div class=\"setting-card-row\" style=\"padding-bottom: 10px\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Mark AIS target inactive after</mat-label>\n                    <mat-select\n                      #aisstaleage\n                      [(value)]=\"facade.settings.selections.aisStaleAge\"\n                      (selectionChange)=\"onFormChange($event, aisstaleage)\"\n                    >\n                      @for(i of facade.list.aisTimeouts; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Remove AIS target after</mat-label>\n                    <mat-select\n                      #aismaxage\n                      [(value)]=\"facade.settings.selections.aisMaxAge\"\n                      (selectionChange)=\"onFormChange($event, aismaxage)\"\n                    >\n                      @for(i of facade.list.aisTimeouts; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Wind Vector Value</mat-label>\n                    <mat-select\n                      #aiswindvector\n                      [(value)]=\"facade.settings.selections.aisWindApparent\"\n                      (selectionChange)=\"onFormChange($event, aiswindvector)\"\n                    >\n                      @for(i of facade.preferredValues.wind; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Wind / Trail Zoom Level</mat-label>\n                    <mat-select\n                      #aiswindminzoom\n                      [(value)]=\"facade.settings.selections.aisWindMinZoom\"\n                      (selectionChange)=\"onFormChange($event, aiswindminzoom)\"\n                    >\n                      @for(i of facade.list.minZoom; track i) {\n                      <mat-option [value]=\"i\">{{i}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #aisShowTrack\n                    [(ngModel)]=\"facade.settings.selections.aisShowTrack\"\n                    (change)=\"onFormChange($event, aisShowTrack)\"\n                    label=\"after\"\n                  >\n                    Show Trails\n                  </mat-checkbox>\n                  &nbsp;\n                  <mat-checkbox\n                    #aisStateMoored\n                    [(ngModel)]=\"aisStateFilter.moored\"\n                    (change)=\"onAisStateFilter()\"\n                    label=\"after\"\n                  >\n                    Hide Moored\n                  </mat-checkbox>\n                  &nbsp;\n                  <mat-checkbox\n                    #aisStateAnchored\n                    [(ngModel)]=\"aisStateFilter.anchored\"\n                    (change)=\"onAisStateFilter()\"\n                    label=\"after\"\n                  >\n                    Hide Anchored\n                  </mat-checkbox>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>COG Line</mat-label>\n                    <mat-select\n                      #aiscogline\n                      [(value)]=\"facade.settings.selections.vessel.aisCogLine\"\n                      (selectionChange)=\"onFormChange($event, aiscogline)\"\n                    >\n                      @for(i of facade.list.aisCogLine; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Display Profile</mat-label>\n                    <mat-select\n                      #aisprofile\n                      [(value)]=\"facade.settings.selections.aisProfile\"\n                      (selectionChange)=\"onFormChange($event, aisprofile)\"\n                    >\n                      @for(i of facade.list.aisProfiles; track i[0]) {\n                      <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n              </div>\n            </mat-card-content>\n          </mat-card>\n        </div>\n\n        <div class=\"setting-group\" id=\"sectNotes\">\n          <div class=\"setting-group-title\">RESOURCES: NOTES</div>\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #shownotes\n                    [(ngModel)]=\"facade.settings.notes\"\n                    (change)=\"onFormChange($event, shownotes)\"\n                    label=\"after\"\n                  >\n                    Display Notes on Map\n                  </mat-checkbox>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label>Notes Zoom Level</mat-label>\n                    <mat-select\n                      id=\"notesminzoom\"\n                      #notesminzoom\n                      [disabled]=\"!facade.settings.notes\"\n                      [(value)]=\"facade.settings.selections.notesMinZoom\"\n                      (selectionChange)=\"onFormChange($event, notesminzoom)\"\n                    >\n                      @for(i of facade.list.minZoom; track i) {\n                      <mat-option [value]=\"i\">{{i}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n              </div>\n              <div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label\n                      >{{'Fetch Notes radius: (' +\n                      facade.availableUnits.distance.get(distunits.value) +\n                      ')'}}</mat-label\n                    >\n                    <mat-select\n                      id=\"notesgetradius\"\n                      #notesgetradius\n                      [disabled]=\"!facade.settings.notes\"\n                      [(value)]=\"facade.settings.resources.notes.getRadius\"\n                      (selectionChange)=\"onFormChange($event, notesgetradius)\"\n                    >\n                      @for(i of facade.list.noteRadius;track i) {\n                      <mat-option [value]=\"i\">{{i}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n              </div>\n              <div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\" floatLabel=\"always\">\n                    <mat-label>Notes fetch filter:</mat-label>\n                    <input\n                      id=\"notesrootfilter\"\n                      matInput\n                      type=\"text\"\n                      #notesrootfilter\n                      [(ngModel)]=\"facade.settings.resources.notes.rootFilter\"\n                      (change)=\"onFormChange($event, notesrootfilter)\"\n                      placeholder=\"?radius=%note:radius%\"\n                      matTooltip=\"Filter to apply when retrieving notes\"\n                    />\n                    @if(notesrootfilter.value) {\n                    <button\n                      matSuffix\n                      mat-icon-button\n                      (click)=\"notesrootfilter.value=''\"\n                    >\n                      <mat-icon>close</mat-icon>\n                    </button>\n                    }\n                  </mat-form-field>\n                </div>\n              </div>\n              <div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #groupeditable\n                    [(ngModel)]=\"facade.settings.resources.notes.groupNameEdit\"\n                    (change)=\"onFormChange($event, groupeditable)\"\n                    matTooltip=\"Allow group name editing.\"\n                    label=\"after\"\n                  >\n                    Edit Group Names\n                  </mat-checkbox>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #groupposition\n                    [(ngModel)]=\"facade.settings.resources.notes.groupRequiresPosition\"\n                    (change)=\"onFormChange($event, groupposition)\"\n                    matTooltip=\"Require position information when adding notes to a group.\"\n                    label=\"after\"\n                  >\n                    Position Group Note\n                  </mat-checkbox>\n                </div>\n              </div>\n            </mat-card-content>\n          </mat-card>\n        </div>\n\n        <div class=\"setting-group\" id=\"sectVideo\">\n          <div class=\"setting-group-title\">RESOURCES: VIDEO</div>\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <mat-checkbox\n                    #enablevideo\n                    [(ngModel)]=\"facade.settings.resources.video.enable\"\n                    (change)=\"onFormChange($event, enablevideo)\"\n                    label=\"after\"\n                  >\n                    Enable Video\n                  </mat-checkbox>\n                </div>\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\" floatLabel=\"always\">\n                    <mat-label>url:</mat-label>\n                    <input\n                      matInput\n                      type=\"text\"\n                      #videourl=\"ngModel\"\n                      required\n                      [disabled]=\"!facade.settings.resources.video.enable\"\n                      [(ngModel)]=\"facade.settings.resources.video.url\"\n                      (change)=\"onFormChange($event, videourl)\"\n                      placeholder=\"Video stream url\"\n                      matTooltip=\"Enter URL of video stream\"\n                    />\n                    @if(videourl.invalid) {\n                    <mat-error> Value required. </mat-error>\n                    }\n                  </mat-form-field>\n                </div>\n              </div>\n            </mat-card-content>\n          </mat-card>\n        </div>\n\n        <div class=\"setting-group\" id=\"sectResLayers\">\n          <div class=\"setting-group-title\">RESOURCES: LAYERS</div>\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <!--<div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\">\n                    <mat-label\n                      >{{'Fetch radius: (' +\n                      facade.availableUnits.distance.get(distunits.value) +\n                      ')'}}</mat-label\n                    >\n                    <mat-hint\n                      >Note: Changing Fetch radius requires re-load.</mat-hint\n                    >\n                    <mat-select\n                      id=\"resfetchradius\"\n                      #resfetchradius\n                      [(value)]=\"facade.settings.resources.fetchRadius\"\n                      (selectionChange)=\"onFormChange($event, resfetchradius)\"\n                    >\n                      @for(i of facade.list.resourceRadius;track i) {\n                      <mat-option [value]=\"i\">{{i}}</mat-option>\n                      }\n                    </mat-select>\n                  </mat-form-field>\n                </div>\n              </div>\n              <div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <mat-form-field style=\"width: 100%\" floatLabel=\"always\">\n                    <mat-label>Fetch filter:</mat-label>\n                    <input\n                      matInput\n                      type=\"text\"\n                      #resfetchfilter\n                      [(ngModel)]=\"facade.settings.resources.fetchFilter\"\n                      (change)=\"onFormChange($event, resfetchfilter)\"\n                      placeholder=\"?radius=%fetch:radius%\"\n                      matTooltip=\"Filter to apply when retrieving resource sets\"\n                    />\n                    @if(resfetchfilter.value) {\n                    <button\n                      matSuffix\n                      mat-icon-button\n                      (click)=\"resfetchfilter.value=''\"\n                    >\n                      <mat-icon>close</mat-icon>\n                    </button>\n                    }\n                  </mat-form-field>\n                </div>\n              </div>-->\n              <div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <div style=\"font-style: italic\">\n                    path: ./resources/&lt;name&gt;\n                  </div>\n                  <mat-selection-list\n                    #respath\n                    (selectionChange)=\"onResPathSelected($event, respath)\"\n                  >\n                    @for(f of facade.list.resourcePaths; track f) {\n                    <mat-list-option\n                      [selected]=\"facade.settings.resources.paths.includes(f)\"\n                      [value]=\"f\"\n                    >\n                      {{f}}\n                    </mat-list-option>\n                    }\n                  </mat-selection-list>\n                </div>\n              </div>\n            </mat-card-content>\n          </mat-card>\n        </div>\n\n        <div class=\"setting-group\" id=\"sectSKConnection\">\n          <div class=\"setting-group-title\">SIGNAL K: CONNECTION</div>\n          <mat-card class=\"setting-card\">\n            <mat-card-content>\n              <!--<div class=\"setting-card-row-item\">\n                <mat-checkbox\n                  #skproxied\n                  [(ngModel)]=\"facade.settings.selections.signalk.proxied\"\n                  (change)=\"onFormChange($event, skproxied)\"\n                  matToolTip=\"Check if Signal K server is behind a proxy\"\n                  matTooltipPosition=\"below\"\n                  label=\"after\"\n                >\n                  Signal K server is behind a proxy.\n                </mat-checkbox>\n                <mat-error>Refresh required after change!</mat-error>\n              </div>-->\n              <div class=\"setting-card-row\">\n                <fieldset>\n                  <legend>Filter Stream data:</legend>\n                  <span style=\"font-size: smaller\">\n                    Check to include Signal K schema groups on display.<br />\n                    <i>Use to manage display performance.</i>\n                  </span>\n                  <div class=\"setting-card-row-item\">\n                    <mat-checkbox\n                      #skfiltervessels\n                      [(ngModel)]=\"facade.settings.selections.signalk.vessels\"\n                      (change)=\"onFormChange($event, skfiltervessels)\"\n                      matToolTip=\"Check to receive other vessel data\"\n                      label=\"after\"\n                    >\n                      Vessels (other than Self)\n                    </mat-checkbox>\n                  </div>\n                  <div class=\"setting-card-row-item\">\n                    <mat-checkbox\n                      #skfilteratons\n                      [(ngModel)]=\"facade.settings.selections.signalk.atons\"\n                      (change)=\"onFormChange($event, skfilteratons)\"\n                      matToolTip=\"Check to receive AtoN data\"\n                      matTooltipPosition=\"below\"\n                      label=\"after\"\n                    >\n                      Aids to Navigation (AtoN)\n                    </mat-checkbox>\n                  </div>\n                  <div class=\"setting-card-row-item\">\n                    <mat-checkbox\n                      #skfilterairsraft\n                      [(ngModel)]=\"facade.settings.selections.signalk.aircraft\"\n                      (change)=\"onFormChange($event, skfilterairsraft)\"\n                      matTooltip=\"Check to receive aircraft data\"\n                      matTooltipPosition=\"below\"\n                      label=\"after\"\n                    >\n                      Aircraft\n                    </mat-checkbox>\n                  </div>\n                  <div class=\"setting-card-row-item\">\n                    <mat-checkbox\n                      #skfiltersar\n                      [(ngModel)]=\"facade.settings.selections.signalk.sar\"\n                      (change)=\"onFormChange($event, skfiltersar)\"\n                      matToolTip=\"Check to receive SaR data\"\n                      matTooltipPosition=\"below\"\n                      label=\"after\"\n                    >\n                      Search and Rescue (SaR)\n                    </mat-checkbox>\n                  </div>\n                  <div class=\"setting-card-row-item\">\n                    <mat-checkbox\n                      #skfiltermeteo\n                      [(ngModel)]=\"facade.settings.selections.signalk.meteo\"\n                      (change)=\"onFormChange($event, skfiltermeteo)\"\n                      matToolTip=\"Check to receive Weather / Meteo data\"\n                      matTooltipPosition=\"below\"\n                      label=\"after\"\n                    >\n                      Weather (Meteo)\n                    </mat-checkbox>\n                  </div>\n\n                  <div class=\"setting-card-row-item\">\n                    <br />\n                    <mat-form-field style=\"width: 100%\">\n                      <mat-label>Max. distance from vessel</mat-label>\n                      <mat-select\n                        #skmaxradius\n                        [(value)]=\"facade.settings.selections.signalk.maxRadius\"\n                        (selectionChange)=\"onFormChange($event, skmaxradius)\"\n                        matToolTip=\"Only include AIS targets within this distance\"\n                        matTooltipPosition=\"below\"\n                      >\n                        @for(i of facade.list.aisMaxRadius; track i[0]) {\n                        <mat-option [value]=\"i[0]\">{{i[1]}}</mat-option>\n                        }\n                      </mat-select>\n                    </mat-form-field>\n                  </div>\n                </fieldset>\n              </div>\n              <div class=\"setting-card-row\">\n                <div class=\"setting-card-row-item\">\n                  <button\n                    mat-icon-button\n                    matTooltip=\"Clear Auth Token\"\n                    (click)=\"clearAuthToken()\"\n                  >\n                    <mat-icon>key_off</mat-icon>\n                  </button>\n                </div>\n              </div>\n            </mat-card-content>\n          </mat-card>\n        </div>\n\n        <div class=\"setting-group\" id=\"sectExperiments\">\n          <div class=\"setting-card-row-item\">\n            <mat-checkbox\n              #experiments\n              [(ngModel)]=\"facade.settings.experiments\"\n              (change)=\"onFormChange($event, experiments)\"\n              matTooltip=\"Enable Experimental Features\"\n              label=\"after\"\n            >\n              <mat-icon>science</mat-icon> Experimental Features\n            </mat-checkbox>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, Stroke, Fill, RegularShape } from 'ol/style';\nimport { Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { AsyncSubject } from 'rxjs';\nimport { getRhumbLineBearing, getCenter } from 'geolib';\nimport { SKPosition } from 'src/app/types';\n\n// ** Freeboard direction of travel component **\n@Component({\n  selector: 'ol-map > fb-route-direction',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class DirectionOfTravelComponent\n  implements OnInit, OnDestroy, OnChanges\n{\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature> = [];\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() points: Array<Coordinate> = [];\n  @Input() reverse = false;\n  @Input() pointIndex = 0;\n  @Input() mapZoom = 10;\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseValues();\n    this.source = new VectorSource({ features: this.features });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (key === 'points' || key === 'reverse' || key === 'pointIndex') {\n          this.parseValues();\n          if (this.source) {\n            this.source.clear();\n            this.source.addFeatures(this.features);\n          }\n        } else if (key === 'mapZoom') {\n          this.handleLabelZoomChange(key);\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseValues() {\n    const fa: Feature[] = [];\n    const arrows: number[] = [];\n    if (this.points && this.points.length !== 0) {\n      if (this.points.length < 4) {\n        arrows.push(0);\n      } else {\n        for (let idx = 1; idx < this.points.length - 2; idx = idx + 2) {\n          arrows.push(idx);\n        }\n      }\n\n      arrows.forEach((idx: number) => {\n        const pctr: SKPosition = getCenter(\n          this.points.slice(idx, idx + 2)\n        ) as SKPosition;\n        const f = new Feature({\n          geometry: new Point(fromLonLat([pctr.longitude, pctr.latitude]))\n        });\n        f.setId(`dot.${idx}`);\n        f.setStyle(this.buildStyle(idx));\n        fa.push(f);\n      });\n    }\n\n    this.features = fa;\n  }\n\n  // build target style\n  buildStyle(index: number): Style {\n    return new Style({\n      image: new RegularShape({\n        points: 3,\n        radius: 7,\n        fill: new Fill({ color: 'blue' }),\n        stroke: new Stroke({\n          color: 'white',\n          width: 1\n        }),\n        rotateWithView: true,\n        rotation: this.getOrientation(index)\n      })\n    });\n  }\n\n  // return a Style with rotation set\n  setRotation(s: Style, index: number): Style {\n    if (!s) {\n      return s;\n    }\n    const cs = s.clone();\n    const im = cs.getImage();\n    if (im) {\n      const o = this.getOrientation(index);\n      im.setRotation(o ?? 0);\n      cs.setImage(im);\n    }\n    return cs;\n  }\n\n  getOrientation(idx: number) {\n    const o = this.reverse\n      ? getRhumbLineBearing(this.points[idx + 1], this.points[idx])\n      : getRhumbLineBearing(this.points[idx], this.points[idx + 1]);\n    return (Math.PI / 180) * o;\n  }\n\n  // ** assess attribute change **\n  handleLabelZoomChange(key: string) {\n    if (key === 'labelMinZoom') {\n      if (typeof this.mapZoom !== 'undefined') {\n        //this.updateLabel();\n      }\n    } else if (key === 'mapZoom') {\n      /*if (typeof this.labelMinZoom !== 'undefined') {\n        if (\n          (change.currentValue >= this.labelMinZoom &&\n            change.previousValue < this.labelMinZoom) ||\n          (change.currentValue < this.labelMinZoom &&\n            change.previousValue >= this.labelMinZoom)\n        ) {\n          this.updateLabel();\n        }\n      }*/\n    }\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport {\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { SKAircraft } from 'src/app/modules/skresources/resource-classes';\nimport { SignalKDetailsComponent } from '../../components/signalk-details.component';\n\n/********* AircraftPropertiesModal **********\n\tdata: {\n        title: \"<string>\" title text,\n        target: \"<SKAircraft>\" aid to navigation\n    }\n***********************************/\n@Component({\n  selector: 'ap-aircraft-modal',\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    SignalKDetailsComponent\n  ],\n  template: `\n    <div class=\"_ap-aircraft\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span>\n          <mat-icon> airplanemode_active</mat-icon>\n        </span>\n        <span style=\"flex: 1 1 auto; padding-left:20px;text-align:center;\">\n          {{ data.title }}\n        </span>\n        <span>\n          <button\n            mat-icon-button\n            (click)=\"modalRef.dismiss()\"\n            matTooltip=\"Close\"\n            matTooltipPosition=\"below\"\n          >\n            <mat-icon>keyboard_arrow_down</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n\n      <mat-card>\n        <mat-card-content>\n          <div style=\"display:flex;flex-direction: column;\">\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Name:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.target.name }}</div>\n            </div>\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">MMSI:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.target.mmsi }}</div>\n            </div>\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Call sign VHF:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.target.callsignVhf }}</div>\n            </div>\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Call sign HF:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.target.callsignHf }}</div>\n            </div>\n            <button mat-stroked-button (click)=\"toggleProperties()\">\n              <span>Show {{ showProperties ? 'Less' : 'More' }}</span>\n              <mat-icon>{{\n                showProperties ? 'keyboard_arrow_down' : 'keyboard_arrow_right'\n              }}</mat-icon>\n            </button>\n            @if(showProperties) {\n            <signalk-details-list [details]=\"properties\"></signalk-details-list>\n            }\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-aircraft {\n        font-family: arial;\n        min-width: 300px;\n      }\n      ._ap-aircraft .key-label {\n        width: 150px;\n        font-weight: bold;\n      }\n    `\n  ]\n})\nexport class AircraftPropertiesModal {\n  protected showProperties = true;\n  protected properties: { [key: string]: string | number | null };\n\n  constructor(\n    private sk: SignalKClient,\n    private app: AppFacade,\n    public modalRef: MatBottomSheetRef<AircraftPropertiesModal>,\n    @Inject(MAT_BOTTOM_SHEET_DATA)\n    public data: {\n      title: string;\n      target: SKAircraft;\n      id: string;\n      icon: string;\n    }\n  ) {}\n\n  ngOnInit() {\n    this.getAircraftInfo();\n  }\n\n  // fetch object information\n  private getAircraftInfo() {\n    if (!this.data.id) {\n      return;\n    }\n    const path = this.data.id.split('.').join('/');\n\n    this.sk.api.get(path).subscribe((v) => {\n      this.properties = this.parseAircraft(v);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private parseAircraft(data: any) {\n    const res = {};\n\n    if (data.navigation && data.navigation.position) {\n      res['navigation.position'] = data.navigation.position.value;\n    }\n    return res;\n  }\n\n  toggleProperties() {\n    this.showProperties = !this.showProperties;\n  }\n}\n","export * from './dial-text';\nexport * from './file-input.component';\nexport * from './pip.component';\nexport * from './wakelock.component';\nexport * from './measurements.component';\nexport * from './dialogs';\n","/***********************************\nBuild Route from  waypoints, locations component\n    <route-builder>\n***********************************/\nimport {\n  Component,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  EventEmitter,\n  Output\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport {\n  CdkDragDrop,\n  moveItemInArray,\n  copyArrayItem,\n  CdkDrag,\n  CdkDropList\n} from '@angular/cdk/drag-drop';\n\n@Component({\n  selector: 'route-builder',\n  imports: [\n    MatTooltipModule,\n    CommonModule,\n    CdkDrag,\n    CdkDropList,\n    MatButtonModule,\n    MatCardModule,\n    MatIconModule,\n    FormsModule\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: ['./build-route.component.css'],\n  template: `\n    <mat-card>\n      <div class=\"rte-builder mat-app-background\" cdkDrag>\n        <div class=\"title\" cdkDragHandle>\n          <div>\n            <button\n              mat-icon-button\n              matTooltip=\"Refresh Waypoint list\"\n              (click)=\"getWaypoints()\"\n            >\n              <mat-icon>refresh</mat-icon>\n            </button>\n          </div>\n          <div\n            style=\"flex: 1 1 auto;\n            font-size: 14pt;\n            line-height: 2.5em;\n            text-align: center;\n            cursor: grab;\"\n          >\n            Build Route:\n          </div>\n          <div>\n            <button mat-icon-button (click)=\"handleClose()\">\n              <mat-icon>close</mat-icon>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"content\">\n          <div style=\"display:flex;\">\n            <div class=\"wptlist-container\">Waypoints</div>\n            <div class=\"wptlist-container\">Route</div>\n          </div>\n\n          <div class=\"wptlists\">\n            <div class=\"wptlist-container\">\n              <div\n                class=\"wpt-list\"\n                id=\"wpt-list\"\n                cdkDropList\n                #wptList=\"cdkDropList\"\n                [cdkDropListData]=\"wpts\"\n                [cdkDropListConnectedTo]=\"[rteptList]\"\n                (cdkDropListDropped)=\"dropEventHandler($event)\"\n              >\n                @for(item of wpts; track item) {\n                <div class=\"wpt-box\" cdkDrag>\n                  <div style=\"width:40px;\">\n                    <mat-icon>room</mat-icon>\n                  </div>\n                  <div class=\"wpt-text\" [matTooltip]=\"item.name\">\n                    {{ item.name }}\n                  </div>\n                </div>\n                }\n              </div>\n            </div>\n\n            <div class=\"wptlist-container\">\n              <div\n                class=\"wpt-list\"\n                id=\"rte-list\"\n                cdkDropList\n                #rteptList=\"cdkDropList\"\n                [cdkDropListData]=\"rtepts\"\n                (cdkDropListDropped)=\"dropEventHandler($event)\"\n              >\n                @for(item of rtepts; track item; let idx = $index) {\n                <div class=\"wpt-box\" mat-background cdkDrag>\n                  <div style=\"width:40px;\">\n                    <mat-icon>room</mat-icon>\n                  </div>\n                  <div class=\"wpt-text\" [matTooltip]=\"item.name\">\n                    {{ item.name }}\n                  </div>\n                  <div style=\"width:40px;\">\n                    <button mat-icon-button (click)=\"deleteFromRoute(idx)\">\n                      <mat-icon>delete</mat-icon>\n                    </button>\n                  </div>\n                </div>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div style=\"text-align:center;padding: 5px;\">\n          <button\n            mat-raised-button\n            [disabled]=\"rtepts.length < 2\"\n            (click)=\"doSave()\"\n          >\n            <mat-icon>save</mat-icon>&nbsp;Save\n          </button>\n        </div>\n      </div>\n    </mat-card>\n  `\n})\nexport class BuildRouteComponent {\n  wpts = [];\n  rtepts = [];\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Output() save: EventEmitter<any> = new EventEmitter();\n\n  constructor(\n    protected app: AppFacade,\n    private signalk: SignalKClient,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngAfterViewInit() {\n    this.getWaypoints();\n    this.cdr.detectChanges();\n  }\n\n  getWaypoints() {\n    this.wpts = this.app.data.waypoints.map((i) => {\n      return {\n        id: i[0],\n        name: i[1].name,\n        position: i[1].feature.geometry.coordinates,\n        href: `/resources/waypoints/${i[0]}`\n      };\n    });\n  }\n\n  deleteFromRoute(index: number) {\n    this.rtepts.splice(index, 1);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  dropEventHandler(event: CdkDragDrop<string[]>) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(\n        event.container.data,\n        event.previousIndex,\n        event.currentIndex\n      );\n    } else {\n      copyArrayItem(\n        event.previousContainer.data,\n        event.container.data,\n        event.previousIndex,\n        event.currentIndex\n      );\n    }\n  }\n\n  handleClose() {\n    if (this.rtepts.length !== 0) {\n      this.app\n        .showConfirm(\n          'Changes have not been saved.\\nDo you want to save?',\n          'Unsaved Changes'\n        )\n        .subscribe((res: boolean) => {\n          if (res) {\n            this.doSave();\n          } else {\n            this.app.data.buildRoute.show = false;\n          }\n        });\n    } else {\n      this.app.data.buildRoute.show = false;\n    }\n  }\n\n  doSave() {\n    const rte = {\n      coordinates: [],\n      meta: []\n    };\n\n    this.rtepts.forEach((pt) => {\n      rte.coordinates.push(pt.position);\n      if (pt.href) {\n        rte.meta.push({ href: pt.href });\n      } else {\n        rte.meta.push({ name: pt.name });\n      }\n    });\n\n    this.save.emit(rte);\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, Stroke, Fill } from 'ol/style';\nimport { LineString } from 'ol/geom';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { AsyncSubject } from 'rxjs';\n\n// ** Freeboard XTE path component **\n@Component({\n  selector: 'ol-map > fb-xte-path',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class XTEPathComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature>;\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() color: string;\n  @Input() lineCoords: Array<Coordinate>;\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  public mapifiedLine: Array<Coordinate> = [];\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseValues();\n    this.source = new VectorSource({ features: this.features });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (key === 'color' || key === 'lineCoords') {\n          this.parseValues();\n          if (this.source) {\n            this.source.clear();\n            this.source.addFeatures(this.features);\n          }\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseValues() {\n    this.mapifiedLine = mapifyCoords(this.lineCoords);\n    const fa: Feature[] = [];\n    const f = new Feature({\n      geometry: new LineString(fromLonLatArray(this.mapifiedLine))\n    });\n    f.setStyle(this.buildStyle());\n    fa.push(f);\n    this.features = fa;\n  }\n\n  // build target style\n  buildStyle(): Style {\n    let cs: Style;\n    if (this.layerProperties && this.layerProperties.style) {\n      cs = this.layerProperties.style;\n    } else {\n      // default style\n      const color = this.color ?? 'gray';\n      cs = new Style({\n        stroke: new Stroke({\n          width: 1,\n          color: color,\n          lineDash: [5, 5]\n        }),\n        fill: new Fill({\n          color: 'rgba(255,0,0,.2)'\n        })\n      });\n    }\n    return cs;\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  SimpleChanges,\n  ViewChild,\n  ElementRef\n} from '@angular/core';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport {\n  MatCheckboxChange,\n  MatCheckboxModule\n} from '@angular/material/checkbox';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { FormsModule } from '@angular/forms';\nimport {\n  MatSlideToggle,\n  MatSlideToggleChange,\n  MatSlideToggleModule\n} from '@angular/material/slide-toggle';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatStepperModule } from '@angular/material/stepper';\n\nimport { NSEWButtonsComponent } from './nsew-buttons.component';\n\nimport { computeDestinationPoint } from 'geolib';\n\nimport { AnchorFacade } from '../anchor.facade';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n@Component({\n  selector: 'anchor-watch',\n  imports: [\n    MatIconModule,\n    MatButtonModule,\n    MatCardModule,\n    MatCheckboxModule,\n    FormsModule,\n    MatInputModule,\n    MatSlideToggleModule,\n    MatSliderModule,\n    MatTooltipModule,\n    MatStepperModule,\n    NSEWButtonsComponent\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './anchor-watch.component.html',\n  styleUrls: ['./anchor-watch.component.css']\n})\nexport class AnchorWatchComponent {\n  @Input() radius: number;\n  @Input() min = 5;\n  @Input() max = 100;\n  @Input() feet = false;\n  @Input() raised = true;\n  @Input() showSelf = false;\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n\n  @ViewChild('slideCtl', { static: true }) slideCtl: ElementRef<MatSlideToggle>;\n\n  protected bgImage: string;\n  protected displayRadius: number | null;\n\n  protected sliderValue: number;\n  protected rodeOut = false;\n\n  // set controls\n  protected useDefaultRadius: boolean;\n  protected defaultAlarmRadius: number;\n  protected useSetManual: boolean;\n  protected defaultRodeLength: number;\n  protected disableRaiseDrop: boolean;\n\n  constructor(\n    private anchor: AnchorFacade,\n    private app: AppFacade,\n    private signalk: SignalKClient\n  ) {}\n\n  ngOnInit() {\n    this.displayRadius = this.sliderValue;\n    this.defaultAlarmRadius = this.app.config.anchorRadius;\n    this.useDefaultRadius = this.app.config.anchorSetRadius;\n    this.useSetManual = this.app.config.anchorManualSet;\n    this.defaultRodeLength = this.app.config.anchorRodeLength;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.radius) {\n      if (changes.radius.previousValue === -1) {\n        this.sliderValue = Math.round(changes.radius.currentValue);\n        this.displayRadius = this.sliderValue;\n        this.max = this.sliderValue + 100;\n      } else if (\n        changes.radius.firstChange &&\n        changes.radius.currentValue !== -1\n      ) {\n        this.sliderValue = Math.round(changes.radius.currentValue);\n        this.max = this.sliderValue + 100;\n      }\n    }\n    this.bgImage = `url('${\n      this.raised\n        ? './assets/img/anchor-radius-raised.png'\n        : './assets/img/anchor-radius.png'\n    }')`;\n    this.rodeOut = !this.raised && this.radius !== -1;\n    this.disableRaiseDrop =\n      !this.showSelf || (this.raised && this.useSetManual);\n  }\n\n  onDefaultRadiusChecked(e: MatCheckboxChange) {\n    this.useDefaultRadius = e.checked;\n    this.app.config.anchorSetRadius = e.checked;\n    if (!e.checked) {\n      this.defaultAlarmRadius = this.app.config.anchorRadius;\n    }\n    this.app.saveConfig();\n  }\n\n  onSetManualCheck(e: MatCheckboxChange) {\n    this.useSetManual = e.checked;\n    this.app.config.anchorManualSet = e.checked;\n    if (!e.checked) {\n      this.defaultRodeLength = this.app.config.anchorRodeLength;\n    }\n    this.disableRaiseDrop = this.raised && this.useSetManual;\n    this.app.saveConfig();\n  }\n\n  stepSetRode() {\n    this.setRadius();\n  }\n\n  /**\n   * @description Set the anchor alarm max radius.\n   * @param value Alarm radius in meters\n   */\n  setRadius(value?: number) {\n    this.rodeOut = true;\n    this.displayRadius =\n      typeof value === 'number'\n        ? this.feet\n          ? this.ftToM(value)\n          : value\n        : value;\n    if (!this.raised) {\n      this.signalk\n        .post(\n          '/plugins/anchoralarm/setRadius',\n          typeof value === 'number' ? { radius: value } : {}\n        )\n        .subscribe(\n          () => {\n            this.app.config.anchorRadius = value;\n            this.app.saveConfig();\n          },\n          (err: HttpErrorResponse) => {\n            this.app.parseHttpErrorResponse(err);\n          }\n        );\n    }\n  }\n\n  /**\n   * @description Set anchor position using the rode length\n   */\n  setManualAnchor() {\n    if (typeof this.defaultRodeLength !== 'number') {\n      this.app.showAlert('Error', 'Rode length value is not a number!');\n      return;\n    }\n    this.app.config.anchorRodeLength = this.defaultRodeLength;\n    this.signalk\n      .post('/plugins/anchoralarm/setManualAnchor', {\n        rodeLength: this.app.config.anchorRodeLength\n      })\n      .subscribe(\n        () => {\n          this.app.saveConfig();\n        },\n        (err: HttpErrorResponse) => {\n          this.app.parseHttpErrorResponse(err);\n        }\n      );\n  }\n\n  /**\n   * @description Handle raise / drop slide toggle change\n   * @param e Slide change event\n   */\n  dropRaiseAnchor(e: MatSlideToggleChange) {\n    if (e.checked) {\n      this.dropAnchor(\n        this.useDefaultRadius ? this.defaultAlarmRadius : undefined\n      );\n    } else {\n      this.raiseAnchor();\n    }\n  }\n\n  /**\n   * @description Drop the Anchor\n   * @param radius Alarm radius to set\n   */\n  dropAnchor(radius?: number) {\n    this.app.config.anchorRadius = radius;\n    this.anchor.setRaisedSignal(false);\n    this.signalk\n      .post(\n        '/plugins/anchoralarm/dropAnchor',\n        typeof radius === 'number' ? { radius: radius } : {}\n      )\n      .subscribe(\n        () => {\n          this.app.saveConfig();\n        },\n        (err: HttpErrorResponse) => {\n          this.anchor.setRaisedSignal(true);\n          this.app.parseHttpErrorResponse(err);\n        }\n      );\n  }\n\n  /**\n   * @description Raise the Anchor\n   */\n  raiseAnchor() {\n    this.signalk.post('/plugins/anchoralarm/raiseAnchor', {}).subscribe(\n      () => undefined,\n      (err: HttpErrorResponse) => {\n        this.app.parseHttpErrorResponse(err);\n      }\n    );\n  }\n\n  /**\n   * @description Shift anchor position n,s,e,w\n   * @param direction (degrees) 0 | 90 | 180 | 270\n   */\n  shiftAnchor(direction: number) {\n    const inc = 1;\n    const position = computeDestinationPoint(\n      this.anchor.position(),\n      inc,\n      direction\n    );\n    this.anchor\n      .setAnchorPosition([position.longitude, position.latitude])\n      .catch((err: HttpErrorResponse) => {\n        this.app.parseHttpErrorResponse(err);\n      });\n  }\n\n  close() {\n    this.closed.emit();\n  }\n\n  mToFt(value: number) {\n    return Math.round(value * 3.28084);\n  }\n  ftToM(value: number) {\n    return Math.round(value / 3.28084);\n  }\n}\n","<div class=\"anchorwatch mat-app-background\">\n  <mat-card>\n    <mat-card-title>\n      <div class=\"title-block\">\n        <div style=\"width: 50px\">\n          <button\n            mat-icon-button\n            (click)=\"close()\"\n            matTooltip=\"Close\"\n            matTooltipPosition=\"left\"\n          >\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div style=\"flex: 1 1 auto; padding-top: 7px\">Anchor Watch</div>\n      </div>\n    </mat-card-title>\n    <mat-card-content>\n      <div>\n        <b>Status:</b>\n      </div>\n      <div\n        style=\"\n          width: 150px;\n          height: 150px;\n          color: black;\n          background-position: top left;\n          background-size: cover;\n        \"\n        [style.backgroundImage]=\"bgImage\"\n      >\n        <b\n          style=\"\n            position: relative;\n            top: 30px;\n            left: 80px;\n            width: 35px;\n            text-align: right;\n          \"\n        >\n          {{ radius === -1 ? '--' : feet ? mToFt(radius) : radius.toFixed(0) }}\n          {{ feet ? 'ft' : 'm' }}\n        </b>\n      </div>\n    </mat-card-content>\n\n    <mat-card-actions>\n      <div style=\"width: 100%\">\n        <div>\n          RAISE\n          <mat-slide-toggle\n            #slideCtl\n            [hideIcon]=\"true\"\n            [disabled]=\"disableRaiseDrop || ctlAlarmRadius.invalid\"\n            [checked]=\"!raised\"\n            (change)=\"dropRaiseAnchor($event)\"\n          >\n          </mat-slide-toggle>\n          DROP\n        </div>\n        <div [style.display]=\"raised ? 'flex' : 'none'\">\n          <div style=\"flex: 2\">\n            <mat-checkbox\n              #chkDefaultRadius\n              (change)=\"onDefaultRadiusChecked($event)\"\n              [checked]=\"useDefaultRadius\"\n              [disabled]=\"!raised || useSetManual\"\n              >Set Radius\n            </mat-checkbox>\n          </div>\n          <div>\n            <mat-form-field floatLabel=\"always\" style=\"max-width: 130px\">\n              <mat-label>Alarm Radius (m)</mat-label>\n              <input\n                #ctlAlarmRadius=\"ngModel\"\n                [(ngModel)]=\"defaultAlarmRadius\"\n                [disabled]=\"!raised || !useDefaultRadius || useSetManual\"\n                matInput\n                required\n                type=\"number\"\n                min=\"1\"\n                step=\"1\"\n              />\n              @if(ctlAlarmRadius.invalid && (ctlAlarmRadius.dirty ||\n              ctlAlarmRadius.touched)) {\n              <mat-error>Value must be greater than 0.</mat-error>\n              }\n            </mat-form-field>\n          </div>\n        </div>\n\n        <div [style.display]=\"raised ? 'flex' : 'none'\">\n          <div>\n            <mat-checkbox\n              #chkSetManual\n              (change)=\"onSetManualCheck($event)\"\n              [checked]=\"useSetManual\"\n              [disabled]=\"!raised || useDefaultRadius\"\n            >\n            </mat-checkbox>\n          </div>\n\n          <div style=\"flex: 2\">\n            <button\n              mat-raised-button\n              (click)=\"setManualAnchor()\"\n              [disabled]=\"\n                !raised ||\n                useDefaultRadius ||\n                !useSetManual ||\n                ctlRodeLength.invalid\n              \"\n            >\n              Manual Set\n            </button>\n          </div>\n\n          <div>\n            <mat-form-field floatLabel=\"always\" style=\"max-width: 130px\">\n              <mat-label>Rode Length (m)</mat-label>\n              <input\n                #ctlRodeLength=\"ngModel\"\n                [(ngModel)]=\"defaultRodeLength\"\n                [disabled]=\"!raised || useDefaultRadius || !useSetManual\"\n                matInput\n                required\n                type=\"number\"\n                min=\"1\"\n                step=\"1\"\n              />\n              @if(ctlRodeLength.invalid && (ctlRodeLength.dirty ||\n              ctlRodeLength.touched)) {\n              <mat-error>Value must be greater than 0.</mat-error>\n              }\n            </mat-form-field>\n          </div>\n        </div>\n      </div>\n    </mat-card-actions>\n  </mat-card>\n  @if(!raised) {\n  <div>\n    <mat-stepper\n      orientation=\"vertical\"\n      [linear]=\"true\"\n      [selectedIndex]=\"rodeOut ? 1 : 0\"\n      #stepper\n    >\n      <mat-step\n        [label]=\"rodeOut ? 'Anchor Set' : 'Let out rode'\"\n        editable=\"false\"\n      >\n        <i>When rode is out click <b>Set</b>.</i>\n        <div>\n          <button mat-mini-fab matStepperNext (click)=\"stepSetRode()\">\n            Set\n          </button>\n        </div>\n      </mat-step>\n      <mat-step label=\"Adjust\" editable=\"false\">\n        <div>\n          <div>\n            <br />\n            <b>Adjust Radius:</b>\n          </div>\n          <div style=\"display: flex\">\n            <div>\n              <mat-slider\n                discrete\n                [disabled]=\"disableRaiseDrop\"\n                [min]=\"this.feet ? mToFt(min) : min\"\n                [max]=\"this.feet ? mToFt(max) : max\"\n                step=\"1\"\n                tickInterval=\"1\"\n              >\n                <input\n                  matSliderThumb\n                  [value]=\"this.feet ? mToFt(sliderValue) : sliderValue\"\n                  (valueChange)=\"setRadius($event)\"\n                />\n              </mat-slider>\n            </div>\n            <div\n              style=\"\n                flex: 1;\n                font-size: 10pt;\n                line-height: 3em;\n                text-align: right;\n              \"\n            >\n              {{ feet ? mToFt(displayRadius) : displayRadius }}\n              {{ feet ? 'ft' : 'm' }}\n            </div>\n          </div>\n        </div>\n        <div>\n          <div>\n            <br />\n            <b>Shift Anchor:</b>\n          </div>\n          <nsew-buttons (direction)=\"shiftAnchor($event)\"></nsew-buttons>\n        </div>\n      </mat-step>\n    </mat-stepper>\n  </div>\n  }\n</div>\n","/** History Playback Dialog **\n ********************************/\n\nimport { Component, Inject } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { CommonModule } from '@angular/common';\n\n@Component({\n  selector: 'ap-playbackdialog',\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatDialogModule,\n    MatIconModule,\n    MatButtonModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatInputModule,\n    MatDatepickerModule\n  ],\n  template: `\n    <div class=\"_ap-playback\">\n      <div>\n        <h1 mat-dialog-title>\n          <mat-icon>history</mat-icon>&nbsp; &nbsp;&nbsp;History Playback\n        </h1>\n      </div>\n      <mat-dialog-content>\n        <div style=\"display:flex;\">\n          <div>\n            <div>\n              <mat-form-field>\n                <mat-label>Context</mat-label>\n                <mat-select [(ngModel)]=\"formData.context\">\n                  @for(i of ['self', 'all']; track i) {\n                  <mat-option [value]=\"i\">{{ i }}</mat-option>\n                  }\n                </mat-select>\n              </mat-form-field>\n            </div>\n            <div>\n              <mat-form-field floatLabel=\"always\">\n                <mat-label>Start date</mat-label>\n                <input\n                  matInput\n                  required\n                  [max]=\"maxDate\"\n                  [matDatepicker]=\"picker\"\n                  [(ngModel)]=\"formData.startDate\"\n                />\n                <mat-hint>MM/DD/YYYY</mat-hint>\n                <mat-datepicker-toggle\n                  matSuffix\n                  [for]=\"picker\"\n                ></mat-datepicker-toggle>\n                <mat-datepicker #picker></mat-datepicker>\n              </mat-form-field>\n            </div>\n            <div style=\"font-size:10pt;\">\n              <b>Start Time:</b><br />\n              <mat-form-field style=\"width:100px;\">\n                <mat-label>Hour</mat-label>\n                <mat-select [(ngModel)]=\"formData.startTimeHr\">\n                  @for(i of hrValues(); track i) {\n                  <mat-option [value]=\"i\">{{ i }}</mat-option>\n                  }\n                </mat-select>\n              </mat-form-field>\n              <b>: </b>\n              <mat-form-field style=\"width:100px;\">\n                <mat-label>Minutes</mat-label>\n                <mat-select [(ngModel)]=\"formData.startTimeMin\">\n                  @for(i of minValues(); track i) {\n                  <mat-option [value]=\"i\">{{ i }}</mat-option>\n                  }\n                </mat-select>\n              </mat-form-field>\n            </div>\n            <div>\n              <mat-form-field\n                style=\"width:150px;\"\n                matTooltip=\"Advance stream the selected number of seconds for every second of playback\"\n              >\n                <mat-label>Playback Rate</mat-label>\n                <mat-select [(ngModel)]=\"formData.playbackRate\">\n                  @for(i of rateValues(); track i) {\n                  <mat-option [value]=\"i\">{{ i }}</mat-option>\n                  }\n                </mat-select>\n              </mat-form-field>\n            </div>\n          </div>\n        </div>\n      </mat-dialog-content>\n      <mat-dialog-actions>\n        <div style=\"text-align:center;width:100%;\">\n          <button\n            mat-raised-button\n            [disabled]=\"!formData.startDate\"\n            (click)=\"submit()\"\n          >\n            START\n          </button>\n          <button mat-raised-button (click)=\"submit(true)\">CANCEL</button>\n        </div>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-playback {\n        font-family: arial;\n        min-width: 300px;\n      }\n      @media only screen and (min-device-width: 768px) and (max-device-width: 1024px),\n        only screen and (min-width: 800px) {\n      }\n    `\n  ]\n})\nexport class PlaybackDialog {\n  public hour;\n  public minute;\n  public formData = {\n    context: 'all',\n    startTimeHr: '00',\n    startTimeMin: '00',\n    startDate: null,\n    playbackRate: 1\n  };\n  public maxDate = new Date();\n\n  constructor(\n    public dialogRef: MatDialogRef<PlaybackDialog>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  submit(cancel = false) {\n    let q = {};\n    let ts = '';\n    if (!cancel) {\n      this.formData.startDate.setHours(parseInt(this.formData.startTimeHr));\n      this.formData.startDate.setMinutes(parseInt(this.formData.startTimeMin));\n      ts = this.formData.startDate.toISOString();\n      ts = ts.slice(0, ts.indexOf('.')) + 'Z';\n      q = {\n        subscribe: this.formData.context,\n        startTime: ts,\n        playbackRate: this.formData.playbackRate\n      };\n    }\n    this.dialogRef.close({\n      result: !cancel,\n      query: q,\n      startTime: ts\n    });\n  }\n\n  hrValues() {\n    const v = [];\n    for (let i = 0; i < 24; i++) {\n      v.push(('00' + i).slice(-2));\n    }\n    return v;\n  }\n\n  minValues() {\n    const v = [];\n    for (let i = 0; i < 59; i++) {\n      v.push(('00' + i).slice(-2));\n    }\n    return v;\n  }\n\n  rateValues() {\n    return [0.5, 1, 2, 5, 10];\n  }\n}\n","import { ChangeDetectorRef, Directive, Input, OnInit } from '@angular/core';\nimport {\n  DoubleClickZoom,\n  DragPan,\n  DragRotate,\n  DragZoom,\n  KeyboardPan,\n  KeyboardZoom,\n  MouseWheelZoom,\n  PinchZoom\n} from 'ol/interaction';\nimport { MapComponent } from './map.component';\n\n@Directive({\n  selector: 'ol-map > [olInteractions]',\n  standalone: false\n})\nexport class InteractionsDirective implements OnInit {\n  private interactions = [];\n  private readonly interactionList = {\n    dragpan: DragPan,\n    dragrotate: DragRotate,\n    dragzoom: DragZoom,\n    doubleclickzoom: DoubleClickZoom,\n    keyboardpan: KeyboardPan,\n    keyboardzoom: KeyboardZoom,\n    mousewheelzoom: MouseWheelZoom,\n    pinchzoom: PinchZoom\n  };\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  @Input()\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  set olInteractions(value: any[]) {\n    this.interactions = value;\n    this.setInteractions();\n  }\n\n  ngOnInit() {\n    this.setInteractions();\n  }\n\n  setInteractions() {\n    const map = this.mapComponent.getMap();\n    if (undefined !== map) {\n      map.getInteractions().clear();\n      if (!this.interactions || this.interactions.length < 0) return;\n      for (const config of this.interactions) {\n        this.addInteraction(map, config);\n      }\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  private addInteraction(map, controlConfig) {\n    if (!this.interactionList[controlConfig.name]) {\n      console.error(`Unknown interaction ${controlConfig.name}`);\n      return;\n    }\n    const newInteraction = new this.interactionList[controlConfig.name](\n      controlConfig.options\n    );\n    map.addInteraction(newInteraction);\n  }\n}\n","/*****************************\n * Utilities Module\n *****************************/\nimport { NgModule } from '@angular/core';\n\nimport { CoordsPipe } from './coords.pipe';\nimport { ReversePipe } from './reverse.pipe';\n\n@NgModule({\n  imports: [],\n  declarations: [CoordsPipe, ReversePipe],\n  exports: [CoordsPipe, ReversePipe],\n  providers: []\n})\nexport class PipesModule {}\n","/***********************************\nAutopilot Console component\n    <autopilot-console>\n***********************************/\nimport {\n  Component,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef\n} from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { Convert } from 'src/app/lib/convert';\nimport { Subscription } from 'rxjs';\nimport { UpdateMessage } from 'src/app/types';\nimport { SKStreamFacade } from 'src/app/modules';\n\n@Component({\n  selector: 'autopilot-console',\n  imports: [\n    MatTooltipModule,\n    CommonModule,\n    DragDropModule,\n    MatButtonModule,\n    MatCardModule,\n    MatIconModule,\n    MatMenuModule,\n    FormsModule\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: ['./autopilot.component.css'],\n  template: `\n    <mat-menu #modemenu=\"matMenu\">\n      @for(i of autopilotOptions.modes; track i) {\n      <button mat-menu-item (click)=\"setMode(i)\">{{ i }}</button>\n      }\n    </mat-menu>\n    <mat-card cdkDragHandle>\n      <div\n        class=\"autopilot-console\"\n        cdkDrag\n        (cdkDragReleased)=\"dragEventHandler($event, 'released')\"\n      >\n        <div class=\"title\" style=\"cursor: grab;\">\n          <div style=\"text-align: center;width: 100%;\">\n            <mat-icon\n              class=\"icon-warn\"\n              style=\"cursor: pointer;\"\n              matTooltip=\"Close\"\n              (click)=\"app.data.autopilot.console = false\"\n              >close</mat-icon\n            >\n          </div>\n        </div>\n        <mat-card-content>\n          <div class=\"content\">\n            <div style=\"height: 45px;color:whitesmoke;\">\n              Autopilot<br />\n              {{ app.data.vessels.self.autopilot.default ?? '' }}\n            </div>\n            <div class=\"lcd\">\n              <div style=\"padding: 5px 0;display: flex;\">\n                <div class=\"dial-text-title\">\n                  @if(app.data.vessels.self.autopilot.default) {\n                  <span>Target</span>\n                  } @else {\n                  <span>No Pilot</span>\n                  }\n                </div>\n              </div>\n\n              <div class=\"dial-text\">\n                <div class=\"dial-text-value\">\n                  @if(app.data.vessels.self.autopilot.default ||\n                  app.data.vessels.self.autopilot.state === 'off-line') {\n                  <span>{{\n                    formatTargetValue(app.data.vessels.self.autopilot.target)\n                  }}</span>\n                  } @else {\n                  <span>--</span>\n                  } &deg;\n                </div>\n              </div>\n\n              <div style=\"padding: 10px 0;display: flex;\">\n                <div class=\"dial-text-title\">\n                  @if(app.data.vessels.self.autopilot.default ||\n                  app.data.vessels.self.autopilot.state === 'off-line') {\n                  <span>{{ app.data.vessels.self.autopilot.state }}</span>\n                  } @else {\n                  <span>--</span>\n                  }\n                </div>\n                <div class=\"dial-text-title\">\n                  @if(app.data.vessels.self.autopilot.default ||\n                  app.data.vessels.self.autopilot.state === 'off-line') {\n                  <span>{{ app.data.vessels.self.autopilot.mode }}</span>\n                  } @else {\n                  <span>--</span>\n                  }\n                </div>\n              </div>\n            </div>\n\n            @if(app.data.vessels.self.autopilot.mode === 'dodge') {\n            <div class=\"button-bar\">\n              <div style=\"width:50%;\">\n                <button\n                  class=\"button-secondary\"\n                  mat-mini-fab\n                  [disabled]=\"\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line'\n                  \"\n                  (click)=\"dodgeAdjust(-10)\"\n                >\n                  &lt;&lt;</button\n                >&nbsp;\n                <button\n                  class=\"button-toolbar\"\n                  mat-mini-fab\n                  [disabled]=\"\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line'\n                  \"\n                  (click)=\"dodgeAdjust(-1)\"\n                >\n                  &lt;\n                </button>\n              </div>\n\n              <div>\n                <button\n                  class=\"button-toolbar\"\n                  mat-mini-fab\n                  [disabled]=\"\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line'\n                  \"\n                  (click)=\"dodgeAdjust(1)\"\n                >\n                  &gt;</button\n                >&nbsp;\n                <button\n                  class=\"button-secondary\"\n                  mat-mini-fab\n                  [disabled]=\"\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line'\n                  \"\n                  (click)=\"dodgeAdjust(10)\"\n                >\n                  &gt;&gt;\n                </button>\n              </div>\n            </div>\n            } @else {\n            <div class=\"button-bar\">\n              <div style=\"width:50%;\">\n                <button\n                  class=\"button-secondary\"\n                  mat-mini-fab\n                  [disabled]=\"\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line'\n                  \"\n                  (click)=\"targetAdjust(-10)\"\n                >\n                  -10</button\n                >&nbsp;\n                <button\n                  class=\"button-toolbar\"\n                  mat-mini-fab\n                  [disabled]=\"\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line'\n                  \"\n                  (click)=\"targetAdjust(-1)\"\n                >\n                  -1\n                </button>\n              </div>\n\n              <div>\n                <button\n                  class=\"button-toolbar\"\n                  mat-mini-fab\n                  [disabled]=\"\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line'\n                  \"\n                  (click)=\"targetAdjust(1)\"\n                >\n                  +1</button\n                >&nbsp;\n                <button\n                  class=\"button-secondary\"\n                  mat-mini-fab\n                  [disabled]=\"\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line'\n                  \"\n                  (click)=\"targetAdjust(10)\"\n                >\n                  +10\n                </button>\n              </div>\n            </div>\n            }\n\n            <div class=\"button-bar-thin\">\n              <div style=\"width:50%;\">\n                <button\n                  class=\"button-primary\"\n                  mat-raised-button\n                  (click)=\"toggleEngaged()\"\n                  [disabled]=\"\n                    !app.data.autopilot.hasApi ||\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line' ||\n                    !app.data.vessels.self.autopilot.state\n                  \"\n                  [ngClass]=\"{\n                    'button-warn': app.data.vessels.self.autopilot.enabled,\n                    'button-primary': !app.data.vessels.self.autopilot.enabled,\n                  }\"\n                >\n                  AUTO\n                </button>\n              </div>\n\n              <div>\n                <button\n                  class=\"button-secondary\"\n                  mat-raised-button\n                  [matMenuTriggerFor]=\"modemenu\"\n                  [disabled]=\"\n                    !app.data.autopilot.hasApi ||\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line' ||\n                    !app.data.vessels.self.autopilot.state\n                  \"\n                >\n                  Mode\n                </button>\n              </div>\n            </div>\n\n            <div class=\"button-bar-thin\">\n              <div style=\"text-align:center;width:100%;\">\n                <button\n                  [ngClass]=\"{\n                    'button-accent': app.data.vessels.self.autopilot.mode === 'dodge',\n                    'button-toolbar': app.data.vessels.self.autopilot.mode !== 'dodge',\n                  }\"\n                  [disabled]=\"\n                    !app.data.autopilot.hasApi ||\n                    !app.data.vessels.self.autopilot.default ||\n                    app.data.vessels.self.autopilot.state === 'off-line' ||\n                    !app.data.vessels.self.autopilot.state\n                  \"\n                  mat-raised-button\n                  (click)=\"toggleDodge()\"\n                >\n                  Dodge\n                </button>\n              </div>\n            </div>\n          </div>\n        </mat-card-content>\n      </div>\n    </mat-card>\n  `\n})\nexport class AutopilotComponent {\n  protected autopilotOptions = { modes: [], states: [] };\n  private deltaSub: Subscription;\n  private autopilotApiPath: string;\n\n  constructor(\n    protected app: AppFacade,\n    private signalk: SignalKClient,\n    private stream: SKStreamFacade,\n    private cdr: ChangeDetectorRef\n  ) {\n    this.autopilotApiPath = 'vessels/self/autopilots/_default';\n  }\n\n  ngOnInit() {\n    this.deltaSub = this.stream.delta$().subscribe((e: UpdateMessage) => {\n      if (e.action === 'update') {\n        this.cdr.detectChanges();\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    this.signalk.api\n      .get(this.app.skApiVersion, `${this.autopilotApiPath}`)\n      .subscribe(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (val: any) => {\n          if (!val.options) {\n            return;\n          }\n          if (val.options.modes && Array.isArray(val.options.modes)) {\n            this.autopilotOptions.modes = val.options.modes;\n          }\n          if (val.options.states && Array.isArray(val.options.states)) {\n            this.autopilotOptions.states = val.options.states;\n          }\n          this.cdr.detectChanges();\n        },\n        () => {\n          this.autopilotOptions = { modes: [], states: [] };\n          this.app.data.autopilot.hasApi = false;\n          this.app.showMessage('No autopilot providers found!');\n        }\n      );\n  }\n\n  ngOnDestroy() {\n    this.deltaSub.unsubscribe();\n  }\n\n  toggleEngaged() {\n    const uri = this.app.data.vessels.self.autopilot.enabled\n      ? `${this.autopilotApiPath}/disengage`\n      : `${this.autopilotApiPath}/engage`;\n    this.signalk.api.post(this.app.skApiVersion, uri, null).subscribe(\n      () => undefined,\n      (error: HttpErrorResponse) => {\n        let msg = `Error setting Autopilot state!\\n`;\n        if (error.status === 403) {\n          msg += 'Unauthorised: Please login.';\n          this.app.showAlert(`Error (${error.status}):`, msg);\n        } else {\n          this.app.showMessage(\n            error.error?.message ?? 'Device returned an error!'\n          );\n        }\n      }\n    );\n  }\n\n  targetAdjust(value: number) {\n    if (typeof value !== 'number') {\n      return;\n    }\n    this.signalk.api\n      .put(this.app.skApiVersion, `${this.autopilotApiPath}/target/adjust`, {\n        value: value,\n        units: 'deg'\n      })\n      .subscribe(\n        () => {\n          this.app.debug(`Target adjusted: ${value} deg.`);\n        },\n        (error: HttpErrorResponse) => {\n          if (error.status === 403) {\n            const msg = 'Unauthorised: Please login.';\n            this.app.showAlert(`Error (${error.status}):`, msg);\n          } else {\n            this.app.showMessage(\n              error.error?.message ?? 'Device returned an error!'\n            );\n          }\n        }\n      );\n  }\n\n  toggleDodge() {\n    if (this.app.data.vessels.self.autopilot.mode !== 'dodge') {\n      this.signalk.api\n        .post(this.app.skApiVersion, `${this.autopilotApiPath}/dodge`, null)\n        .subscribe(\n          () => {\n            this.app.debug(`Set dodge mode.`);\n          },\n          (error: HttpErrorResponse) => {\n            if (error.status === 403) {\n              const msg = 'Unauthorised: Please login.';\n              this.app.showAlert(`Error (${error.status}):`, msg);\n            } else {\n              this.app.showMessage(\n                error.error?.message ?? 'Device returned an error!'\n              );\n            }\n          }\n        );\n    } else {\n      this.signalk.api\n        .delete(this.app.skApiVersion, `${this.autopilotApiPath}/dodge`)\n        .subscribe(\n          () => {\n            this.app.debug(`Clear dodge mode.`);\n          },\n          (error: HttpErrorResponse) => {\n            if (error.status === 403) {\n              const msg = 'Unauthorised: Please login.';\n              this.app.showAlert(`Error (${error.status}):`, msg);\n            } else {\n              this.app.showMessage(\n                error.error?.message ?? 'Device returned an error!'\n              );\n            }\n          }\n        );\n    }\n  }\n\n  dodgeAdjust(value: number) {\n    if (typeof value !== 'number') {\n      return;\n    }\n    this.signalk.api\n      .put(this.app.skApiVersion, `${this.autopilotApiPath}/dodge`, {\n        value: value,\n        units: 'deg'\n      })\n      .subscribe(\n        () => {\n          this.app.debug(`Dodge port / starboard: ${value} deg.`);\n        },\n        (error: HttpErrorResponse) => {\n          if (error.status === 403) {\n            const msg = 'Unauthorised: Please login.';\n            this.app.showAlert(`Error (${error.status}):`, msg);\n          } else {\n            this.app.showMessage(\n              error.error?.message ?? 'Device returned an error!'\n            );\n          }\n        }\n      );\n  }\n\n  setMode(mode: string) {\n    if (mode) {\n      // autopilot mode\n      this.signalk.api\n        .put(this.app.skApiVersion, `${this.autopilotApiPath}/mode`, {\n          value: mode\n        })\n        .subscribe(\n          () => undefined,\n          (error: HttpErrorResponse) => {\n            let msg = `Error setting Autopilot mode!\\n`;\n            if (error.status === 403) {\n              msg += 'Unauthorised: Please login.';\n              this.app.showAlert(`Error (${error.status}):`, msg);\n            } else {\n              this.app.showMessage(\n                error.error?.message ?? 'Device returned an error!'\n              );\n            }\n          }\n        );\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  dragEventHandler(e: any, type: string) {\n    this.app.debug(\n      'e:',\n      e,\n      'type:',\n      type,\n      e.event.srcElement.clientLeft,\n      e.event.srcElement.clientTop\n    );\n  }\n\n  formatTargetValue(value: number) {\n    if (typeof value === 'number') {\n      return Convert.radiansToDegrees(value)?.toFixed(1);\n    } else return '--';\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, Stroke, Text, Fill, Circle } from 'ol/style';\nimport { LineString, Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { FBFeatureLayerComponent } from '../sk-feature.component';\n\n@Component({\n  selector: 'ol-map > racing-start-line',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class RacingStartLineLayerComponent\n  extends FBFeatureLayerComponent\n  implements OnInit, OnDestroy, OnChanges\n{\n  @Input() startLine: LineString;\n  @Input() racecourseStyles: { [key: string]: Style };\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    super(mapComponent, changeDetectorRef);\n    this.labelPrefixes = ['race-startline'];\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseCourse();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (['markers', 'startLine', 'finishLine'].some((k) => k in changes)) {\n      this.parseCourse();\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseCourse() {\n    if (!this.source) {\n      return;\n    }\n    this.source.clear();\n    const fa: Feature[] = [];\n    if (Array.isArray(this.startLine) && this.startLine.length === 2) {\n      const sl = new Feature({\n        geometry: new LineString(\n          fromLonLatArray(mapifyCoords(this.startLine as any))\n        ),\n        name: 'start'\n      });\n      sl.setId('race-start-line');\n      sl.setStyle(this.racecourseStyles.startLine);\n      fa.push(sl);\n\n      const sp = new Feature({\n        geometry: new Point(fromLonLat(this.startLine[0])),\n        name: 'pin'\n      });\n      sp.setId('race-start-pin');\n      sp.setStyle(this.racecourseStyles.startPin);\n      fa.push(sp);\n\n      const sb = new Feature({\n        geometry: new Point(fromLonLat(this.startLine[1])),\n        name: 'boat'\n      });\n      sb.setId('race-start-boat');\n      sb.setStyle(this.racecourseStyles.startBoat);\n      fa.push(sb);\n\n      this.source.addFeatures(fa);\n      this.updateLabels();\n    }\n  }\n}\n","/***********************************\nwakelock component\n    <wakelock>\n***********************************/\nimport { CommonModule } from '@angular/common';\nimport {\n  Component,\n  Input,\n  Output,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  EventEmitter\n} from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n@Component({\n  selector: 'wakelock',\n  imports: [CommonModule, MatButtonModule, MatTooltipModule, MatIconModule],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styles: [],\n  template: `\n    @if(isSupported) {\n    <div>\n      <button\n        mat-mini-fab\n        [ngClass]=\"{ 'button-primary': state, 'button-toolbar': !state }\"\n        [matTooltip]=\"tipText\"\n        matTooltipPosition=\"left\"\n        (click)=\"toggle()\"\n      >\n        <mat-icon>{{ state ? 'visibility' : 'visibility_off' }}</mat-icon>\n      </button>\n    </div>\n    }\n  `\n})\nexport class WakeLockComponent {\n  @Input() tooltipText = 'Prevent device from sleeping.';\n  @Input() setOn = false;\n  @Output() has: EventEmitter<boolean> = new EventEmitter();\n  @Output() change: EventEmitter<boolean> = new EventEmitter();\n\n  public isSupported = false;\n  public wakeLockRef = null;\n  public state = false;\n  public tipText: string;\n  private tipTextSet = 'Preventing sleep.';\n\n  constructor(private cdr: ChangeDetectorRef) {}\n\n  ngOnInit() {\n    if ('wakeLock' in navigator) {\n      this.isSupported = true;\n    } else {\n      this.isSupported = false;\n    }\n    this.tipText = this.tooltipText;\n    if (this.setOn) {\n      this.toggle();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.has.emit(this.isSupported);\n  }\n\n  ngOnDestroy() {\n    this.releaseLock();\n    document.removeEventListener('visibilitychange', this.onVisibilityChange);\n  }\n\n  ngOnChanges() {\n    if (!this.isSupported) {\n      return;\n    }\n    if (this.setOn) {\n      this.requestLock();\n    } else {\n      this.releaseLock();\n    }\n  }\n\n  toggle() {\n    if (this.wakeLockRef) {\n      this.releaseLock();\n    } else {\n      this.requestLock();\n    }\n  }\n\n  requestLock() {\n    if (this.wakeLockRef) {\n      return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (navigator as any).wakeLock\n      .request('screen')\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      .then((w: any) => {\n        this.wakeLockRef = w;\n        this.state = true;\n        this.tipText = this.tipTextSet;\n        // listen for release\n        this.wakeLockRef.addEventListener('release', this.onRelease);\n        // listen for visibility change\n        document.addEventListener(\n          'visibilitychange',\n          this.onVisibilityChange.bind(this)\n        );\n        this.cdr.detectChanges();\n        this.change.emit(this.state);\n      })\n      .catch(() => {\n        this.wakeLockRef = null;\n        this.state = false;\n        this.tipText = this.tooltipText;\n        this.change.emit(this.state);\n      });\n  }\n\n  releaseLock() {\n    if (this.wakeLockRef) {\n      this.wakeLockRef.removeEventListener('release', this.onRelease);\n      this.wakeLockRef.release().then(() => {\n        this.wakeLockRef = null;\n        this.state = false;\n        this.tipText = this.tooltipText;\n        this.cdr.detectChanges();\n        this.change.emit(this.state);\n      });\n    }\n  }\n\n  // ** event handlers **\n  onRelease() {\n    this.tipText = this.tooltipText;\n    this.change.emit(false);\n  }\n\n  async onVisibilityChange() {\n    if (\n      this.wakeLockRef !== null &&\n      this.state &&\n      document.visibilityState === 'visible'\n    ) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.wakeLockRef = await (navigator as any).wakeLock.request('screen');\n      this.tipText = this.tipTextSet;\n      this.change.emit(true);\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, Text, Stroke } from 'ol/style';\nimport { MultiLineString } from 'ol/geom';\nimport { MapComponent } from '../map.component';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { SKTrack } from 'src/app/modules';\nimport { FBFeatureLayerComponent } from '../sk-feature.component';\n\n// ** Freeboard Track resources collection format **\n@Component({\n  selector: 'ol-map > fb-tracks',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class TrackLayerComponent extends FBFeatureLayerComponent {\n  @Input() tracks: Array<SKTrack>;\n  @Input() trackStyles: { [key: string]: Style };\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.labelPrefixes = ['track'];\n    this.parseTracks(this.tracks);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (this.source && 'tracks' in changes) {\n      this.source.clear();\n      this.parseTracks(changes['tracks'].currentValue);\n    }\n  }\n\n  parseTracks(tracks: Array<SKTrack> = this.tracks) {\n    const fa: Feature[] = [];\n    for (const t of tracks) {\n      const f = new Feature({\n        geometry: new MultiLineString(\n          this.parseCoordinates(t.feature.geometry.coordinates)\n        ),\n        name: t.feature.properties.name\n      });\n      f.setId('track.' + t.feature.id);\n      f.setStyle(this.buildStyle(t));\n      fa.push(f);\n    }\n    this.source.addFeatures(fa);\n  }\n\n  // build track style\n  buildStyle(trk: SKTrack): Style {\n    if (typeof this.trackStyles !== 'undefined') {\n      if (trk.feature.properties.skType) {\n        return this.setTextLabel(\n          this.trackStyles[trk.feature.properties.skType],\n          trk.feature.properties.name\n        );\n      } else {\n        return this.setTextLabel(\n          this.trackStyles.default,\n          trk.feature.properties.name\n        );\n      }\n    } else if (this.layerProperties && this.layerProperties.style) {\n      return this.setTextLabel(\n        this.layerProperties.style,\n        trk.feature.properties.name\n      );\n    } else {\n      // default styles\n      const s = new Style({\n        stroke: new Stroke({\n          color: 'rgb(146,11,153)',\n          width: 2,\n          lineDash: [5, 5]\n        }),\n        text: new Text({\n          text: '',\n          textAlign: 'center'\n        })\n      });\n      return this.setTextLabel(s, trk.feature.properties.name);\n    }\n  }\n\n  // ** mapify and transform MultiLineString coordinates\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseCoordinates(mls: Array<any>) {\n    const lines = [];\n    mls.forEach((line) => lines.push(mapifyCoords(line)));\n    return fromLonLatArray(lines);\n  }\n}\n","import { Map } from 'ol';\nimport { MapService } from './map.service';\n\n/* enum types */\n\nexport enum LayerType {\n  IMAGE,\n  TILE,\n  VECTOR_TILE,\n  VECTOR\n}\n\nexport enum SourceType {\n  BINGMAPS,\n  CARTODB,\n  CLUSTER,\n  IMAGE,\n  IMAGEARCGISREST,\n  IMAGECANVAS,\n  IMAGEMAPGUIDE,\n  IMAGESTATIC,\n  IMAGEVECTOR,\n  IMAGEWMS,\n  OSM,\n  RASTER,\n  STAMEN,\n  TILEARCGISREST,\n  TILEDEBUG,\n  TILEIMAGE,\n  TILEJSON,\n  TILEUTFGRID,\n  TILEWMS,\n  URLTILE,\n  VECTOR,\n  VECTORTILE,\n  WMTS,\n  XYZ,\n  ZOOMIFY\n}\n\n/* interface types */\nexport type Coordinate = [number, number, number?];\n\nexport type Extent = [number, number, number, number];\n\nexport interface MapReadyEvent {\n  map: Map;\n  mapService: MapService;\n}\n","/** Resource Dialog Components **\n ********************************/\n\nimport { Component, OnInit, Inject, ChangeDetectorRef } from '@angular/core';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport {\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { SKResourceSet } from '../../resourceset-class';\n\n/********* ResourceSetModal **********\n * Fetches ResouorceSets from server for selection\n\tdata: {\n        path: \"<string>\" resource path\n        skres: SKResource\n    }\n***********************************/\n@Component({\n  selector: 'ap-resourceset-modal',\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatCheckboxModule\n  ],\n  template: `\n    <div class=\"_ap-resource-set\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span>\n          <button\n            mat-icon-button\n            [disabled]=\"\n              !isResourceSet ||\n              app.config.selections.resourceSets[data.path].length === 0\n            \"\n            matTooltip=\"Clear selections\"\n            matTooltipPosition=\"right\"\n            (click)=\"clearSelections()\"\n          >\n            <mat-icon>clear_all</mat-icon>\n          </button>\n\n          <button\n            mat-icon-button\n            matTooltip=\"Fetch resource entries\"\n            matTooltipPosition=\"right\"\n            (click)=\"getItems()\"\n          >\n            <mat-icon>refresh</mat-icon>\n          </button>\n        </span>\n        <span style=\"flex: 1 1 auto; padding-left:20px;text-align:center;\">\n          {{ title }}\n        </span>\n        <span>\n          <button\n            mat-icon-button\n            (click)=\"closeModal()\"\n            matTooltip=\"Close\"\n            matTooltipPosition=\"left\"\n          >\n            <mat-icon>keyboard_arrow_down</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n      @for(res of resList; track res; let idx = $index) {\n      <mat-card>\n        <mat-card-content>\n          <div style=\"display:flex;flex-wrap:no-wrap;\">\n            <div style=\"width:45px;\">\n              <mat-checkbox\n                [disabled]=\"!isResourceSet\"\n                [checked]=\"selRes[idx]\"\n                (change)=\"handleCheck($event.checked, res.id, idx)\"\n              ></mat-checkbox>\n            </div>\n            <div style=\"flex:1 1 auto;\">\n              <div class=\"key-label\">\n                {{ res.name }}\n              </div>\n              <div class=\"key-desc\">\n                {{ res.description }}\n              </div>\n            </div>\n            <div style=\"width:45px;\"></div>\n          </div>\n        </mat-card-content>\n      </mat-card>\n      }\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-resource-set {\n        font-family: arial;\n        min-width: 300px;\n      }\n      ._ap-resource-set .key-label {\n        font-weight: 500;\n      }\n      ._ap-resource-set .key-desc {\n        font-style: italic;\n      }\n    `\n  ]\n})\nexport class ResourceSetModal implements OnInit {\n  public resList: Array<SKResourceSet>;\n  public selRes = [];\n  public title = 'Resources: ';\n  public isResourceSet = false;\n\n  constructor(\n    public app: AppFacade,\n    private cdr: ChangeDetectorRef,\n    private sk: SignalKClient,\n    public modalRef: MatBottomSheetRef<ResourceSetModal>,\n    @Inject(MAT_BOTTOM_SHEET_DATA)\n    public data: {\n      path: string;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      skres: any;\n    }\n  ) {}\n\n  ngOnInit() {\n    if (this.data.path !== 'undefined') {\n      this.title += this.data.path;\n    }\n    this.getItems();\n  }\n\n  closeModal() {\n    this.modalRef.dismiss();\n  }\n\n  getItems() {\n    this.sk.api\n      .get(this.app.skApiVersion, `resources/${this.data.path}`)\n      .subscribe(\n        (resSet) => {\n          this.resList = this.data.skres.processItems(resSet);\n          this.selRes = [];\n          if (\n            this.resList.length !== 0 &&\n            this.resList[0].type === 'ResourceSet'\n          ) {\n            this.isResourceSet = true;\n            for (let i = 0; i < this.resList.length; i++) {\n              this.selRes.push(\n                this.app.config.selections.resourceSets[\n                  this.data.path\n                ].includes(this.resList[i].id)\n                  ? true\n                  : false\n              );\n            }\n          }\n          this.cdr.detectChanges();\n        },\n        () => {\n          this.resList = [];\n          this.selRes = [];\n          this.cdr.detectChanges();\n        }\n      );\n  }\n\n  handleCheck(checked: boolean, id: string, idx: number) {\n    if (!this.isResourceSet) {\n      return;\n    }\n    this.selRes[idx] = checked;\n    if (checked) {\n      this.app.config.selections.resourceSets[this.data.path].push(id);\n    } else {\n      const i =\n        this.app.config.selections.resourceSets[this.data.path].indexOf(id);\n      if (i !== -1) {\n        this.app.config.selections.resourceSets[this.data.path].splice(i, 1);\n      }\n    }\n    this.app.saveConfig();\n    this.updateItems();\n    this.data.skres.resourceSelected();\n  }\n\n  clearSelections() {\n    if (!this.isResourceSet) {\n      return;\n    }\n    this.selRes = [];\n    for (let i = 0; i < this.resList.length; i++) {\n      this.selRes[i] = false;\n    }\n    this.app.config.selections.resourceSets[this.data.path] = [];\n    this.app.saveConfig();\n    this.updateItems();\n    this.data.skres.resourceSelected();\n  }\n\n  updateItems() {\n    this.app.data.resourceSets[this.data.path] = this.resList.filter((t) => {\n      return this.app.config.selections.resourceSets[this.data.path].includes(\n        t.id\n      )\n        ? true\n        : false;\n    });\n  }\n}\n","/********************************\n ** GPX File Class Module       *\n ********************************/\n\nimport { parseStringPromise } from 'xml2js';\n\n/************************\n ** GPX File Class **\n ************************/\nexport class GPX {\n  private version: string; // ** GPX version\n  public creator: string;\n\n  public wpt: Array<GPXWaypoint>; // ** array of waypoints\n  public rte: Array<GPXRoute>; // ** array of routes\n  public trk: Array<GPXTrack>; // ** array of tracks\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public extensions: any;\n\n  public metadata: GPXMetadataType;\n\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.version = '1.1';\n    this.creator = '@panaaj';\n    this.wpt = []; // ** array of waypoints\n    this.rte = []; // ** array of routes\n    this.trk = []; // ** array of tracks\n    this.extensions = {};\n    this.metadata = new GPXMetadataType();\n  }\n\n  //** alias for toXML() **\n  stringify() {\n    return this.toXML();\n  }\n\n  //** return a formatted string of GPX data suitable for writing to a file **\n  toXML() {\n    let xml =\n      `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\r\\n` +\n      `<gpx xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" ` +\n      `version=\"${this.version}\" ` +\n      `xmlns=\"http://www.topografix.com/GPX/1/1\" ` +\n      `creator=\"${this.creator}\" ` +\n      `xsi:schemaLocation=\"http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd http://www.topografix.com/GPX/Private/TopoGrafix/0/1 http://www.topografix.com/GPX/Private/TopoGrafix/0/1/topografix.xsd\" ` +\n      `xmlns:topografix=\"http://www.topografix.com/GPX/Private/TopoGrafix/0/1\">\\r\\n` +\n      this.metadataToXML() +\n      this.waypointsToXML() +\n      this.routesToXML() +\n      this.tracksToXML();\n\n    xml += this.extensionsToXML(this.extensions);\n    xml += '</gpx>\\r\\n';\n    return xml;\n  }\n\n  //** Returns a formatted metadata string\n  metadataToXML() {\n    let xml =\n      `\\t<metadata>\\r\\n` +\n      `\\t\\t<name>${this.metadata.name || ''}</name>\\r\\n` +\n      `\\t\\t<desc>${this.metadata.desc || ''}</desc>\\r\\n` +\n      `\\t\\t<time>${this.metadata.time || ''}</time>\\r\\n`;\n    xml += this.metadata.keywords\n      ? `\\t\\t<keywords>${this.metadata.keywords || ''}</keywords>\\r\\n`\n      : '';\n\n    if (this.metadata.author) {\n      xml +=\n        `\\t\\t<author>\\r\\n` +\n        `\\t\\t\\t<name>${this.metadata.author.name || ''}</name>\\r\\n` +\n        `\\t\\t\\t<email>\\r\\n` +\n        `\\t\\t\\t\\t<id>${this.metadata.author.email.id || ''}</id>\\r\\n` +\n        `\\t\\t\\t\\t<domain>${\n          this.metadata.author.email.domain || ''\n        }</domain>\\r\\n` +\n        `\\t\\t\\t</email>\\r\\n` +\n        `\\t\\t\\t<link href=\"${this.metadata.author.link.href || ''}\">\\r\\n` +\n        `\\t\\t\\t\\t<text>${this.metadata.author.link.text || ''}</text>\\r\\n` +\n        `\\t\\t\\t\\t<type>${this.metadata.author.link.type || ''}</type>\\r\\n` +\n        `\\t\\t\\t</link>\\r\\n` +\n        `\\t\\t</author>\\r\\n`;\n    }\n\n    if (this.metadata.copyright) {\n      xml +=\n        `\\t\\t<copyright author=\"${this.metadata.copyright || ''}\">\\r\\n` +\n        `\\t\\t\\t<year>${this.metadata.copyright.year || ''}</year>\\r\\n` +\n        `\\t\\t\\t<license>${\n          this.metadata.copyright.license || ''\n        }</license>\\r\\n` +\n        `\\t\\t</copyright>\\r\\n`;\n    }\n\n    this.metadata.link.forEach((l) => {\n      xml +=\n        `\\t\\t<link href=\"${l.href || ''}\">\\r\\n` +\n        `\\t\\t\\t<text>${l.text || ''}</text>\\r\\n` +\n        `\\t\\t\\t<type>${l.type || ''}</type>\\r\\n` +\n        `\\t\\t</link>\\r\\n`;\n    });\n\n    xml +=\n      `\\t\\t<bounds minlat=\"${this.metadata.bounds.minLat}\" minlon=\"${this.metadata.bounds.minLon}\" ` +\n      `maxlat=\"${this.metadata.bounds.maxLat}\" maxlon=\"${this.metadata.bounds.maxLon}\">` +\n      `</bounds>\\r\\n`;\n\n    xml += this.extensionsToXML(this.metadata.extensions, 2);\n    xml += `\\t</metadata>\\r\\n`;\n\n    return xml;\n  }\n\n  //** Returns a formatted wpt strings\n  waypointsToXML() {\n    let xml = '';\n    for (const pt of this.wpt) {\n      xml += this.ptToXML(pt, 'wpt');\n    }\n    return xml;\n  }\n\n  //** Returns a formatted rte strings\n  routesToXML() {\n    let xml = '';\n    this.rte.forEach((rt) => {\n      xml += `\\t<rte>\\r\\n`;\n      xml += rt.name ? `\\t\\t<name>${rt.name || ''}</name>\\r\\n` : '';\n      xml += rt.cmt ? `\\t\\t<cmt>${rt.cmt || ''}</cmt>\\r\\n` : '';\n      xml += rt.desc ? `\\t\\t<desc>${rt.desc || ''}</desc>\\r\\n` : '';\n      xml += rt.src ? `\\t\\t<src>${rt.src || ''}</src>\\r\\n` : '';\n      xml += rt.number ? `\\t\\t<number>${rt.number || ''}</number>\\r\\n` : '';\n      xml += rt.type ? `\\t\\t<type>${rt.type || ''}</type>\\r\\n` : '';\n\n      rt.link.forEach((l) => {\n        xml +=\n          `\\t\\t<link href=\"${l.href || ''}\">\\r\\n` +\n          `\\t\\t\\t<text>${l.text || ''}</text>\\r\\n` +\n          `\\t\\t\\t<type>${l.type || ''}</type>\\r\\n` +\n          `\\t\\t</link>\\r\\n`;\n      });\n\n      xml += this.extensionsToXML(rt.extensions, 2);\n\n      for (const pt of rt.rtept) {\n        xml += this.ptToXML(pt, 'rtept');\n      }\n      xml += `\\t</rte>\\r\\n`;\n    });\n    return xml;\n  }\n\n  //** Returns a formatted trk strings\n  tracksToXML() {\n    let xml = '';\n    this.trk.forEach((tk) => {\n      xml += '\\t<trk>\\r\\n';\n      xml += tk.name ? `\\t\\t<name>${tk.name || ''}</name>\\r\\n` : '';\n      xml += tk.cmt ? `\\t\\t<cmt>${tk.cmt || ''}</cmt>\\r\\n` : '';\n      xml += tk.desc ? `\\t\\t<desc>${tk.desc || ''}</desc>\\r\\n` : '';\n      xml += tk.src ? `\\t\\t<src>${tk.src || ''}</src>\\r\\n` : '';\n      xml += tk.number ? `\\t\\t<number>${tk.number || ''}</number>\\r\\n` : '';\n      xml += tk.type ? `\\t\\t<type>${tk.type || ''}</type>\\r\\n` : '';\n\n      xml += this.extensionsToXML(tk.extensions, 2);\n\n      tk.trkseg.forEach((seg) => {\n        xml += '\\t\\t<trkseg>\\r\\n';\n        for (const pt of seg.trkpt) {\n          xml += this.ptToXML(pt, 'trkpt');\n        }\n        xml += '\\t\\t</trkseg>\\r\\n';\n      });\n      xml += '\\t</trk>\\r\\n';\n    });\n    return xml;\n  }\n\n  // ** return formatted ptType <tag> XML for supplied GPXWaypoint object\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ptToXML(pt: any, tag: any) {\n    let pad = '';\n    let padLevel = 2;\n    switch (tag) {\n      case 'trkpt':\n        pad = '\\t\\t';\n        padLevel = 4;\n        break;\n      case 'rtept':\n        pad = '\\t';\n        padLevel = 3;\n        break;\n    }\n    let xml = '';\n\n    xml += `${pad}\\t<${tag} lat=\"${pt.lat.toFixed(6)}\" lon=\"${pt.lon.toFixed(\n      6\n    )}\">\\r\\n`;\n    xml += pt.sym ? `${pad}\\t\\t<sym>${pt.sym || ''}</sym>\\r\\n` : '';\n    xml += pt.name ? `${pad}\\t\\t<name>${pt.name || ''}</name>\\r\\n` : '';\n    xml += pt.cmt ? `${pad}\\t\\t<cmt>${pt.cmt || ''}</cmt>\\r\\n` : '';\n    xml += pt.desc ? `${pad}\\t\\t<desc>${pt.desc || ''}</desc>\\r\\n` : '';\n    xml += pt.src ? `${pad}\\t\\t<src>${pt.src || ''}</src>\\r\\n` : '';\n    xml += pt.type ? `${pad}\\t\\t<type>${pt.type || ''}</type>\\r\\n` : '';\n    xml += pt.time ? `${pad}\\t\\t<time>${pt.datetime || ''}</time>\\r\\n` : '';\n    xml += pt.fix ? `${pad}\\t\\t<fix>${pt.fix || ''}</fix>\\r\\n` : '';\n\n    xml += pt.ele ? `${pad}\\t\\t<ele>${pt.ele || ''}</ele>\\r\\n` : '';\n    xml += pt.magvar ? `${pad}\\t\\t<magvar>${pt.magvar || ''}</magvar>\\r\\n` : '';\n    xml += pt.geoidHeight\n      ? `${pad}\\t\\t<geoidheight>${pt.geoidHeight || ''}</geoidheight>\\r\\n`\n      : '';\n    xml += pt.sat ? `${pad}\\t\\t<sat>${pt.sat || ''}</sat>\\r\\n` : '';\n    xml += pt.vdop ? `${pad}\\t\\t<vdop>${pt.vdop || ''}</vdop>\\r\\n` : '';\n    xml += pt.hdop ? `${pad}\\t\\t<hdop>${pt.hdop || ''}</hdop>\\r\\n` : '';\n    xml += pt.pdop ? `${pad}\\t\\t<pdop>${pt.pdop || ''}</pdop>\\r\\n` : '';\n    xml += pt.ageOfGpsData\n      ? `${pad}\\t\\t<ageofdgpsdata>${pt.ageOfGpsData || ''}</ageofdgpsdata>\\r\\n`\n      : '';\n    xml += pt.dgpsid ? `${pad}\\t\\t<dgpsid>${pt.dgpsid || ''}</dgpsid>\\r\\n` : '';\n\n    pt.link.forEach((l) => {\n      xml +=\n        `${pad}\\t\\t<link href=\"${l.href || ''}\">\\r\\n` +\n        `${pad}\\t\\t\\t<text>${l.text || ''}</text>\\r\\n` +\n        `${pad}\\t\\t\\t<type>${l.type || ''}</type>\\r\\n` +\n        `${pad}\\t\\t</link>\\r\\n`;\n    });\n\n    xml += this.extensionsToXML(pt.extensions, padLevel);\n\n    xml += `${pad}\\t</${tag}>\\r\\n`;\n\n    return xml;\n  }\n\n  // ** return formatted <extension> XML for supplied .extension object\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  extensionsToXML(ext: any, padLevel = 1) {\n    let xml = '';\n    if (ext && Object.keys(ext).length !== 0) {\n      const pad = '\\t\\t\\t\\t\\t\\t\\t\\t\\t'.slice(0 - padLevel);\n      let es = ``;\n      if (ext.signalk) {\n        Object.keys(ext.signalk).forEach((k) => {\n          es += `${pad}\\t\\t<${k}>${ext.signalk[k]}</${k}>\\r\\n`;\n        });\n      }\n      xml +=\n        `${pad}<extensions>\\r\\n${pad}\\t<signalk>\\r\\n` +\n        es +\n        `${pad}\\t</signalk>\\r\\n${pad}</extensions>\\r\\n`;\n    }\n    return xml;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  xValue(attrib: Array<any>) {\n    if (attrib && Array.isArray(attrib)) {\n      return attrib.length !== 0 ? attrib[0] : null;\n    }\n  }\n\n  /** parse GPX string contents and fill this.data  **/\n  async parse(gpxstr: string) {\n    // ** check for valid file contents **\n    if (!gpxstr || gpxstr.indexOf('<gpx') === -1) {\n      return false;\n    }\n    // ** initialise **\n    this.init();\n    // ** xml to Json\n    try {\n      const xjs = await parseStringPromise(gpxstr);\n      if (!xjs) {\n        return false;\n      }\n\n      //** parse header **\n      if (xjs['gpx']['metadata']) {\n        const meta = this.xValue(xjs['gpx']['metadata']);\n\n        this.metadata.name = meta.name ? this.xValue(meta.name) : null;\n        this.metadata.desc = meta.desc ? this.xValue(meta.desc) : null;\n        this.metadata.keywords = meta.keywords ? meta.keywords : null;\n\n        if (meta.bounds) {\n          const bounds = this.xValue(meta.bounds);\n          this.metadata.bounds.minLat = Number(bounds['$'].minlat) ?? null;\n          this.metadata.bounds.minLon = Number(bounds['$'].minlon) ?? null;\n          this.metadata.bounds.maxLat = Number(bounds['$'].maxlat) ?? null;\n          this.metadata.bounds.maxLon = Number(bounds['$'].maxlon) ?? null;\n        }\n        this.metadata.extensions = meta.extensions\n          ? this.parseExtensions(meta.extensions)\n          : {};\n      }\n\n      //** parse waypoints **\n      if (xjs['gpx']['wpt']) {\n        this.parseWaypoints(xjs['gpx']['wpt']);\n      }\n      //** parse routes **\n      if (xjs['gpx']['rte']) {\n        this.parseRoutes(xjs['gpx']['rte']);\n      }\n      //** parse tracks **\n      if (xjs['gpx']['trk']) {\n        this.parseTracks(xjs['gpx']['trk']);\n      }\n      //** parse extensions **\n      this.extensions = xjs['gpx']['extensions']\n        ? this.parseExtensions(xjs['gpx']['extensions'])\n        : {};\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  //** parse wpt xml element object array into this.wpt array\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseWaypoints(waypoints: any[]) {\n    if (Array.isArray(waypoints)) {\n      waypoints.forEach((w) => {\n        const pt = this.toWpt(w);\n        this.updateBounds(pt);\n        this.wpt.push(pt);\n      });\n    } else {\n      const pt = this.toWpt(waypoints);\n      this.updateBounds(pt);\n      this.wpt.push(pt);\n    }\n  }\n\n  //** parse rte xml element object array into this.rte array\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseRoutes(routes: any[]) {\n    if (Array.isArray(routes)) {\n      routes.forEach((r) => {\n        const rte = this.toRte(r);\n        this.updateBounds(rte);\n        this.rte.push(rte);\n      });\n    } else {\n      const rte = this.toRte(routes);\n      this.updateBounds(rte);\n      this.rte.push(rte);\n    }\n  }\n\n  //** parse trk xml element object array into this.trk array\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseTracks(tracks: any[]) {\n    if (Array.isArray(tracks)) {\n      tracks.forEach((t) => {\n        const trk = this.toTrk(t);\n        this.updateBounds(trk);\n        this.trk.push(trk);\n      });\n    } else {\n      const trk = this.toTrk(tracks);\n      this.updateBounds(trk);\n      this.trk.push(trk);\n    }\n  }\n\n  //** updateBounds **\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  updateBounds(pt: any) {\n    this.metadata.bounds.minLat =\n      pt.lat < this.metadata.bounds.minLat\n        ? pt.lat\n        : this.metadata.bounds.minLat;\n    this.metadata.bounds.minLon =\n      pt.lon < this.metadata.bounds.minLon\n        ? pt.lon\n        : this.metadata.bounds.minLon;\n    this.metadata.bounds.maxLat =\n      pt.lat > this.metadata.bounds.maxLat\n        ? pt.lat\n        : this.metadata.bounds.maxLat;\n    this.metadata.bounds.maxLon =\n      pt.lon > this.metadata.bounds.maxLon\n        ? pt.lon\n        : this.metadata.bounds.maxLon;\n  }\n\n  // ** return extension data\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseExtensions(xext: any[]) {\n    if (!xext) {\n      return {};\n    }\n    if (!Array.isArray(xext)) {\n      return {};\n    }\n    const resExt = {};\n    xext.forEach((i) => {\n      if (i.signalk) {\n        const res = {};\n        const sk = this.xValue(i.signalk);\n        Object.keys(sk).forEach((k) => {\n          res[k] = this.xValue(sk[k]);\n        });\n        resExt['signalk'] = res;\n      }\n    });\n    return resExt;\n  }\n\n  // ** return array of GPXLinkType objects from x2js\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseLinks(xlink: any): Array<GPXLinkType> {\n    const links = [];\n    if (!xlink) {\n      return links;\n    }\n\n    if (Array.isArray(xlink)) {\n      xlink.forEach((link) => {\n        const l = new GPXLinkType();\n        l.href = link._href;\n        l.text = link.text;\n        l.type = link.type;\n        links.push(l);\n      });\n    } else {\n      const l = new GPXLinkType();\n      l.href = xlink._href;\n      l.text = xlink.text;\n      l.type = xlink.type;\n      links.push(l);\n    }\n    return links;\n  }\n\n  // ** return GPXRoute object for supplied rte xml object\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  toRte(xmlrte: any): GPXRoute {\n    const rte = new GPXRoute();\n\n    rte.name = xmlrte.name ? this.xValue(xmlrte.name) : null;\n    rte.cmt = xmlrte.cmt ? this.xValue(xmlrte.cmt) : null;\n    rte.desc = xmlrte.desc ? this.xValue(xmlrte.desc) : null;\n    rte.src = xmlrte.src ? this.xValue(xmlrte.src) : null;\n\n    rte.extensions = xmlrte.extensions\n      ? this.parseExtensions(xmlrte.extensions)\n      : {};\n\n    if (xmlrte.rtept) {\n      rte.rtept = this.toPtArray(xmlrte.rtept);\n    }\n\n    return rte;\n  }\n\n  // ** return GPXWaypoint object for supplied wpt xml object\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  toWpt(xmlwpt: any): GPXWaypoint {\n    const pt = new GPXWaypoint();\n    pt.lat = Number(xmlwpt['$'].lat) || 0;\n    pt.lon = Number(xmlwpt['$'].lon) || 0;\n    pt.ele = xmlwpt.ele ? Number(this.xValue(xmlwpt.ele)) : null;\n\n    pt.sym = xmlwpt.sym ? this.xValue(xmlwpt.sym) : null;\n    pt.name = xmlwpt.name ? this.xValue(xmlwpt.name) : null;\n    pt.cmt = xmlwpt.cmt ? this.xValue(xmlwpt.cmt) : null;\n    pt.desc = xmlwpt.desc ? this.xValue(xmlwpt.desc) : null;\n    pt.src = xmlwpt.src ? this.xValue(xmlwpt.src) : null;\n    pt.type = xmlwpt.type ? this.xValue(xmlwpt.type) : null;\n\n    // ** wpt extensions **\n    pt.extensions = xmlwpt.extensions\n      ? this.parseExtensions(xmlwpt.extensions)\n      : {};\n\n    return pt;\n  }\n\n  // ** return GPXTrack object for supplied trk xml object\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  toTrk(xmltrk: any): GPXTrack {\n    const tk = new GPXTrack();\n\n    tk.name = xmltrk.name ? this.xValue(xmltrk.name) : null;\n    tk.cmt = xmltrk.cmt ? this.xValue(xmltrk.cmt) : null;\n    tk.desc = xmltrk.desc ? this.xValue(xmltrk.desc) : null;\n    tk.src = xmltrk.src ? this.xValue(xmltrk.src) : null;\n    tk.number = xmltrk.number ? Number(this.xValue(xmltrk.number)) : null;\n    tk.type = xmltrk.type ? this.xValue(xmltrk.type) : null;\n    tk.extensions = xmltrk.extensions\n      ? this.parseExtensions(xmltrk.extensions)\n      : {};\n\n    if (xmltrk.trkseg) {\n      if (Array.isArray(xmltrk.trkseg)) {\n        xmltrk.trkseg.forEach((trkseg) => {\n          const seg = new GPXTrackSegment();\n          seg.extensions = trkseg.extensions\n            ? this.parseExtensions(trkseg.extensions)\n            : {};\n          if (trkseg.trkpt) {\n            seg.trkpt = this.toPtArray(trkseg.trkpt);\n          }\n          tk.trkseg.push(seg);\n        });\n      } else {\n        const seg = new GPXTrackSegment();\n        seg.extensions = xmltrk.trkseg.extensions\n          ? this.parseExtensions(xmltrk.trkseg.extensions)\n          : {};\n        if (xmltrk.trkseg.trkpt) {\n          seg.trkpt = this.toPtArray(xmltrk.trkseg.trkpt);\n        }\n        tk.trkseg.push(seg);\n      }\n    }\n    return tk;\n  }\n\n  // ** return GPXWaypoint array for supplied pt xml object(s)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  toPtArray(xpts: any[]): Array<GPXWaypoint> {\n    const pts = [];\n    if (Array.isArray(xpts)) {\n      xpts.forEach((t) => {\n        const pt = this.toWpt(t);\n        this.updateBounds(pt);\n        pts.push(pt);\n      });\n    } else {\n      const pt = this.toWpt(xpts);\n      this.updateBounds(pt);\n      pts.push(pt);\n    }\n    return pts;\n  }\n\n  /** add extension to element\n   * ele: element to add <extension> to\n   * name: extension path/name in dotted notation e.g. signalk.uuid\n   * value: extension value\n   * ************************/\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setExtension(ele: any, name: string, value: any) {\n    if (!ele.extensions) {\n      ele.extensions = {};\n    }\n    const ns = name.split('.');\n    let p = ele.extensions;\n    ns.forEach((n) => {\n      if (!p[n]) {\n        p[n] = {};\n      }\n      p = p[n];\n    });\n    ele.extensions['signalk']['uuid'] = value;\n  }\n}\n\n// ** GPX Waypont object **\nexport class GPXWaypoint {\n  public lat: number;\n  public lon: number;\n  public ele: number;\n  public datetime: Date;\n  public magvar: number;\n  public geoidHeight: number;\n  public name: string;\n  public cmt: string;\n  public desc: string;\n  public src: string;\n  public link: Array<GPXLinkType> = [];\n  public sym: string;\n  public type: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public fix: any;\n  public sat: number;\n  public hdop: number;\n  public vdop: number;\n  public pdop: number;\n  public ageOfGpsData: number;\n  public dgpsid: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public extensions: { [key: string]: any } = {};\n\n  constructor(lat?: number, lon?: number) {\n    this.lat = lat || 0;\n    this.lon = lon || 0;\n  }\n}\n\n// ** GPX Route object **\nexport class GPXRoute {\n  public name: string;\n  public cmt: string;\n  public desc: string;\n  public src: string;\n  public link: Array<GPXLinkType> = [];\n  public number: number;\n  public type: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public extensions: { [key: string]: any } = {};\n  public rtept: Array<GPXWaypoint> = [];\n\n  constructor(name?: string) {\n    this.name = name || '';\n  }\n}\n\n// ** GPX Track Class **\nexport class GPXTrack {\n  public name: string;\n  public cmt: string;\n  public desc: string;\n  public src: string;\n  public link: Array<GPXLinkType> = [];\n  public number: number;\n  public type: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public extensions: { [key: string]: any } = {};\n  public trkseg: Array<GPXTrackSegment> = [];\n\n  constructor(name?: string) {\n    this.name = name || '';\n  }\n}\n\nexport class GPXTrackSegment {\n  public trkpt: Array<GPXWaypoint> = [];\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public extensions: { [key: string]: any } = {};\n  //constructor() {\t}\n}\n\n// ***************\n// ** GPX Types **\n// ***************\nexport enum GPXFixType {\n  NONE = 'none',\n  '2D' = '2d',\n  '3D' = '3d',\n  DGPS = 'dgps',\n  PPS = 'pps'\n}\n\nexport class GPXMetadataType {\n  public name = '';\n  public desc = '';\n  public author: GPXPersonType; //= new GPXPersonType();\n  public copyright: GPXCopyrightType; //= new GPXCopyrightType();\n  public link: Array<GPXLinkType> = []; //\n  public time: string = new Date().toISOString();\n  public keywords = '';\n  public bounds: GPXBoundsType = new GPXBoundsType();\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public extensions: { [key: string]: any } = {};\n  //constructor() {\t}\n}\n\nexport class GPXLinkType {\n  public href = '';\n  public text = '';\n  public type = '';\n  //constructor() {\t}\n}\n\nexport class GPXPersonType {\n  public name = '';\n  public email: GPXEmailType = new GPXEmailType();\n  public link: GPXLinkType = new GPXLinkType();\n  //constructor() {\t}\n}\n\nexport class GPXEmailType {\n  public id = '';\n  public domain = '';\n  //constructor() {\t}\n}\n\nexport class GPXCopyrightType {\n  public author = '';\n  public license = '';\n  public year = '';\n  //constructor() {\t}\n}\n\nexport class GPXBoundsType {\n  public minLat = 90;\n  public minLon = 180;\n  public maxLat = -90;\n  public maxLon = -180;\n  //constructor() {\t}\n}\n","// AtoN Icons\n\nimport { AppIconSet } from './app.icons';\nimport { MapIconDef } from '../map/ol/lib/map-image-registry.service';\n\nconst AtoNsReal: AppIconSet = {\n  path: './assets/img/atons',\n  files: [\n    'real-aton.svg',\n    'real-north.svg',\n    'real-south.svg',\n    'real-east.svg',\n    'real-west.svg',\n    'real-port.svg',\n    'real-starboard.svg',\n    'real-danger.svg',\n    'real-safe.svg',\n    'real-special.svg'\n  ],\n  scale: 0.4,\n  anchor: [23, 49]\n};\n\nconst AtoNsVirtual: AppIconSet = {\n  path: './assets/img/atons',\n  files: [\n    'virtual-aton.svg',\n    'virtual-north.svg',\n    'virtual-south.svg',\n    'virtual-east.svg',\n    'virtual-west.svg',\n    'virtual-port.svg',\n    'virtual-starboard.svg',\n    'virtual-danger.svg',\n    'virtual-safe.svg',\n    'virtual-special.svg'\n  ],\n  scale: 0.4,\n  anchor: [23, 49]\n};\n\nconst WeatherStation: MapIconDef = {\n  path: './assets/img/weather_station.png',\n  anchor: [1, 25],\n  scale: 0.75\n};\n\n/**\n * @description Build MapIcon definitions for use by MapImageRegistry\n */\nexport const getAtoNDefs = () => {\n  const atonList = {};\n\n  const addToList = (list: AppIconSet) => {\n    list.files.forEach((file: string) => {\n      const gid = file.slice(0, file.lastIndexOf('-'));\n      const id = file.slice(file.lastIndexOf('-') + 1, file.indexOf('.'));\n      if (!atonList[gid]) {\n        atonList[gid] = {};\n      }\n      atonList[gid][id] = {\n        path: `${list.path}/${file}`,\n        scale: list.scale,\n        anchor: list.anchor\n      };\n    });\n  };\n  addToList(AtoNsReal);\n  addToList(AtoNsVirtual);\n  atonList['real']['weatherStation'] = WeatherStation;\n  atonList['virtual']['weatherStation'] = WeatherStation;\n  return atonList;\n};\n","import { S57Service, Lookup, DisplayCategory } from './s57.service';\nimport { Feature } from 'ol';\nimport { Style, Fill, Stroke, Icon, Text } from 'ol/style';\n\nconst DRGARE = 46; // Dredged area\nconst DEPARE = 42; // Depth Area\n\nconst LOOKUPINDEXKEY = '$lupIndex';\n\nexport class S57Style {\n  private s57Service: S57Service;\n  private selectedSafeContour = 1000;\n  private instructionMatch = new RegExp('([A-Z][A-Z])\\\\((.*)\\\\)');\n\n  constructor(s57Service: S57Service) {\n    this.s57Service = s57Service;\n  }\n\n  private getSymbolStyle(symbolName: string): Style {\n    const symbol = this.s57Service.getSymbol(symbolName);\n    if (symbol) {\n      return new Style({\n        image: new Icon({\n          width: symbol.width,\n          height: symbol.height,\n          img: symbol.image,\n          opacity: 1,\n          anchorXUnits: 'pixels',\n          anchorYUnits: 'pixels',\n          anchor: [symbol.pivotX, symbol.pivotY],\n          declutterMode: 'none'\n        })\n      });\n    }\n    return null;\n  }\n\n  //TODO implement more parameters\n  private getTextStyle(params: string[]): Style {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let textBaseline: any = 'middle';\n    let offsetY = 0;\n    if (params[1] === '3') {\n      textBaseline = 'top';\n      offsetY = 15;\n    } else if (params[1] === '1') {\n      textBaseline = 'bottom';\n      offsetY = -15;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let textAlign: any = 'left';\n    let offsetX = 15;\n    if (params[0] === '2') {\n      textAlign = 'right';\n      offsetX = -15;\n    } else if (params[0] === '1') {\n      textAlign = 'center';\n      offsetX = 0;\n    }\n\n    const style = new Style({\n      text: new Text({\n        textAlign: textAlign,\n        textBaseline: textBaseline,\n        scale: 1.5,\n        offsetX: offsetX,\n        offsetY: offsetY\n      })\n    });\n    style.setZIndex(99); // text always on top\n    return style;\n  }\n\n  private getTextStyleTXStyle(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    featureProperties: any,\n    parameters: string\n  ): Style {\n    const params = parameters.split(',');\n    return this.getTextStyle(params.slice(1));\n  }\n\n  private getTextStyleTXText(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    featureProperties: any,\n    parameters: string\n  ): string {\n    const params = parameters.split(',');\n    const text = featureProperties[params[0]];\n    return text;\n  }\n\n  private stripQuotes(text: string): string {\n    return text.substring(1).substring(0, text.length - 2);\n  }\n\n  private getTextStyleTEText(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    featureProperties: any,\n    parameters: string\n  ): string {\n    const params = parameters.split(',');\n    const text = featureProperties[this.stripQuotes(params[1])];\n    const format = this.stripQuotes(params[0]);\n    if (!text || !format) {\n      return null;\n    }\n    return format.replace(/%[0-9]*.?[0-9]*l?[sfd]/, text);\n  }\n\n  private getTextStyleTEStyle(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    featureProperties: any,\n    parameters: string\n  ): Style {\n    const params = parameters.split(',');\n    return this.getTextStyle(params.slice(2));\n  }\n\n  private getDefaultStyle(): Style {\n    return new Style({\n      fill: new Fill({\n        color: 'rgba(#224, 209, 14, 0.8)'\n      }),\n      stroke: new Stroke({\n        color: '#444',\n        width: 1\n      })\n    });\n  }\n\n  private getAreaStyle(colorName: string): Style {\n    const color = this.s57Service.getColor(colorName);\n    if (color) {\n      return new Style({\n        fill: new Fill({\n          color: color\n        })\n      });\n    }\n    return null;\n  }\n\n  private getLineStyle(params: string): Style {\n    const parts = params.split(',');\n    const color = this.s57Service.getColor(parts[2]);\n    const width = parseInt(parts[1]);\n    const lineStyle = parts[0];\n    let lineDash = null;\n    switch (lineStyle) {\n      case 'DASH':\n        lineDash = [4, 4];\n        break;\n      case 'SOLD':\n        lineDash = null;\n        break;\n      default:\n        console.debug('Unsupported linestyle:', lineStyle);\n    }\n    return new Style({\n      stroke: new Stroke({\n        color: color,\n        width: width,\n        lineDash: lineDash\n      })\n    });\n  }\n\n  //https://github.com/OpenCPN/OpenCPN/blob/20a781ecc507443e5aaa1d33d0cb91852feb07ee/libs/s52plib/src/s52cnsy.cpp#L2121\n  private GetCSQQUALIN01(feature: Feature): string[] {\n    const retval: string[] = [];\n    const featureProperties = feature.getProperties();\n\n    let quapos = 0;\n    let bquapos = false;\n    if (featureProperties['QUAPOS']) {\n      quapos = parseFloat(featureProperties['QUAPOS']);\n      bquapos = true;\n    }\n    if (bquapos) {\n      if (2 <= quapos && quapos < 10) {\n        retval.push('LC(LOWACC21');\n      }\n    } else {\n      if (featureProperties['layer'] === 'COALNE') {\n        let conrad = 0;\n        let bconrad = false;\n        if (featureProperties['CONRAD']) {\n          quapos = parseFloat(featureProperties['CONRAD']);\n          bquapos = true;\n        }\n        if (bconrad) {\n          if (conrad === 1) {\n            retval.push('LS(SOLD,3,CHMGF)');\n            retval.push('LS(SOLD,1,CSTLN)');\n          } else {\n            retval.push('LS(SOLD,1,CSTLN)');\n          }\n        } else {\n          retval.push('LS(SOLD,1,CSTLN)');\n        }\n      } else {\n        retval.push('LS(SOLD,1,CSTLN)');\n      }\n    }\n\n    return retval;\n  }\n\n  // https://github.com/OpenCPN/OpenCPN/blob/20a781ecc507443e5aaa1d33d0cb91852feb07ee/libs/s52plib/src/s52cnsy.cpp#L2185\n  private GetCSQQUAPNT01(feature: Feature): string[] {\n    const retval: string[] = [];\n    const featureProperties = feature.getProperties();\n\n    let accurate = true;\n    let quapos = 0;\n    let bquapos = false;\n    if (featureProperties['QUAPOS']) {\n      quapos = parseInt(featureProperties['QUAPOS']);\n      bquapos = true;\n    }\n    if (bquapos) {\n      if (2 <= quapos && quapos < 10) {\n        accurate = false;\n      }\n      if (accurate) {\n        switch (quapos) {\n          case 4:\n            retval.push('SY(QUAPOS01)');\n            break;\n          case 5:\n            retval.push('SY(QUAPOS02)');\n            break;\n          case 7:\n          case 8:\n            retval.push('SY(QUAPOS03)');\n            break;\n          default:\n            retval.push('SY(LOWACC03)');\n            break;\n        }\n      }\n    }\n    return retval;\n  }\n\n  //https://github.com/OpenCPN/OpenCPN/blob/20a781ecc507443e5aaa1d33d0cb91852feb07ee/libs/s52plib/src/s52cnsy.cpp#L2072\n  private GetCSQUAPOS01(feature: Feature): string[] {\n    const geometry = feature.getGeometry();\n\n    if (geometry.getType() === 'LineString') {\n      return this.GetCSQQUALIN01(feature);\n    } else {\n      return this.GetCSQQUAPNT01(feature);\n    }\n  }\n\n  //https://github.com/OpenCPN/OpenCPN/blob/20a781ecc507443e5aaa1d33d0cb91852feb07ee/libs/s52plib/src/s52cnsy.cpp#L2232\n  private GetCSSLCONS03(feature: Feature): string[] {\n    const retval: string[] = [];\n    const featureProperties = feature.getProperties();\n    const geometry = feature.getGeometry();\n\n    let quapos = 0;\n    let bquapos = false;\n    if (featureProperties['QUAPOS']) {\n      quapos = parseFloat(featureProperties['QUAPOS']);\n      bquapos = true;\n    }\n\n    if (geometry.getType() === 'Point') {\n      if (bquapos) {\n        if (2 <= quapos && quapos < 10) {\n          retval.push('SY(LOWACC01)');\n        }\n      }\n    } else {\n      if (geometry.getType() === 'Polygon') {\n        retval.push('AP(CROSSX01');\n      }\n      if (bquapos) {\n        if (2 <= quapos && quapos < 10) {\n          retval.push('LC(LOWACC01)');\n        }\n      } else {\n        let bcondtn = false;\n        let condtn = 0;\n        if (featureProperties['QUAPOS']) {\n          condtn = parseInt(featureProperties['CONDTN']);\n          bcondtn = true;\n        }\n        if (bcondtn && (condtn === 1 || condtn === 2)) {\n          retval.push('LS(DASH,1,CSTLN)');\n        } else {\n          let bcatslc = false;\n          let catslc = 0;\n          if (featureProperties['CATSLC']) {\n            catslc = parseInt(featureProperties['CATSLC']);\n            bcatslc = true;\n          }\n          if (bcatslc && (catslc === 6 || catslc === 15 || catslc === 16)) {\n            retval.push('LS(SOLD,4,CSTLN)');\n          } else {\n            let bwatlev = false;\n            let watlev = 0;\n            if (featureProperties['WATLEV']) {\n              watlev = parseInt(featureProperties['WATLEV']);\n              bwatlev = true;\n            }\n            if (bwatlev && watlev === 2) {\n              retval.push('LS(SOLD,2,CSTLN)');\n            } else if (bwatlev && (watlev === 3 || watlev === 4)) {\n              retval.push('LS(DASH,2,CSTLN)');\n            } else {\n              retval.push('LS(SOLD,2,CSTLN)');\n            }\n          }\n        }\n      }\n    }\n\n    return retval;\n  }\n\n  //https://github.com/OpenCPN/OpenCPN/blob/20a781ecc507443e5aaa1d33d0cb91852feb07ee/libs/s52plib/src/s52cnsy.cpp#L5809\n  private GetCSTOPMAR01(feature: Feature): string[] {\n    let rulestring: string = null;\n    const featureProperties = feature.getProperties();\n    if (!featureProperties['TOPSHP']) {\n      rulestring = 'SY(QUESMRK1)';\n    } else {\n      let floating = false;\n      const layer = featureProperties['layer'];\n      if (layer === 'LITFLT' || layer === 'LITVES' || layer.startsWith('BOY')) {\n        floating = true;\n      }\n      const topshp = featureProperties['TOPSHP'];\n      if (floating) {\n        switch (topshp) {\n          case 1:\n            rulestring = 'SY(TOPMAR02)';\n            break;\n          case 2:\n            rulestring = 'SY(TOPMAR04)';\n            break;\n          case 3:\n            rulestring = 'SY(TOPMAR10)';\n            break;\n          case 4:\n            rulestring = 'SY(TOPMAR12)';\n            break;\n\n          case 5:\n            rulestring = 'SY(TOPMAR13)';\n            break;\n          case 6:\n            rulestring = 'SY(TOPMAR14)';\n            break;\n          case 7:\n            rulestring = 'SY(TOPMAR65)';\n            break;\n          case 8:\n            rulestring = 'SY(TOPMAR17)';\n            break;\n\n          case 9:\n            rulestring = 'SY(TOPMAR16)';\n            break;\n          case 10:\n            rulestring = 'SY(TOPMAR08)';\n            break;\n          case 11:\n            rulestring = 'SY(TOPMAR07)';\n            break;\n          case 12:\n            rulestring = 'SY(TOPMAR14)';\n            break;\n\n          case 13:\n            rulestring = 'SY(TOPMAR05)';\n            break;\n          case 14:\n            rulestring = 'SY(TOPMAR06)';\n            break;\n          case 17:\n            rulestring = 'SY(TMARDEF2)';\n            break;\n          case 18:\n            rulestring = 'SY(TOPMAR10)';\n            break;\n\n          case 19:\n            rulestring = 'SY(TOPMAR13)';\n            break;\n          case 20:\n            rulestring = 'SY(TOPMAR14)';\n            break;\n          case 21:\n            rulestring = 'SY(TOPMAR13)';\n            break;\n          case 22:\n            rulestring = 'SY(TOPMAR14)';\n            break;\n\n          case 23:\n            rulestring = 'SY(TOPMAR14)';\n            break;\n          case 24:\n            rulestring = 'SY(TOPMAR02)';\n            break;\n          case 25:\n            rulestring = 'SY(TOPMAR04)';\n            break;\n          case 26:\n            rulestring = 'SY(TOPMAR10)';\n            break;\n\n          case 27:\n            rulestring = 'SY(TOPMAR17)';\n            break;\n          case 28:\n            rulestring = 'SY(TOPMAR18)';\n            break;\n          case 29:\n            rulestring = 'SY(TOPMAR02)';\n            break;\n          case 30:\n            rulestring = 'SY(TOPMAR17)';\n            break;\n\n          case 31:\n            rulestring = 'SY(TOPMAR14)';\n            break;\n          case 32:\n            rulestring = 'SY(TOPMAR10)';\n            break;\n          case 33:\n            rulestring = 'SY(TMARDEF2)';\n            break;\n          default:\n            rulestring = 'SY(TMARDEF2)';\n            break;\n        }\n      } else {\n        switch (topshp) {\n          case 1:\n            rulestring = 'SY(TOPMAR22)';\n            break;\n          case 2:\n            rulestring = 'SY(TOPMAR24)';\n            break;\n          case 3:\n            rulestring = 'SY(TOPMAR30)';\n            break;\n          case 4:\n            rulestring = 'SY(TOPMAR32)';\n            break;\n\n          case 5:\n            rulestring = 'SY(TOPMAR33)';\n            break;\n          case 6:\n            rulestring = 'SY(TOPMAR34)';\n            break;\n          case 7:\n            rulestring = 'SY(TOPMAR85)';\n            break;\n          case 8:\n            rulestring = 'SY(TOPMAR86)';\n            break;\n\n          case 9:\n            rulestring = 'SY(TOPMAR36)';\n            break;\n          case 10:\n            rulestring = 'SY(TOPMAR28)';\n            break;\n          case 11:\n            rulestring = 'SY(TOPMAR27)';\n            break;\n          case 12:\n            rulestring = 'SY(TOPMAR14)';\n            break;\n\n          case 13:\n            rulestring = 'SY(TOPMAR25)';\n            break;\n          case 14:\n            rulestring = 'SY(TOPMAR26)';\n            break;\n          case 15:\n            rulestring = 'SY(TOPMAR88)';\n            break;\n          case 16:\n            rulestring = 'SY(TOPMAR87)';\n            break;\n\n          case 17:\n            rulestring = 'SY(TMARDEF1)';\n            break;\n          case 18:\n            rulestring = 'SY(TOPMAR30)';\n            break;\n          case 19:\n            rulestring = 'SY(TOPMAR33)';\n            break;\n          case 20:\n            rulestring = 'SY(TOPMAR34)';\n            break;\n\n          case 21:\n            rulestring = 'SY(TOPMAR33)';\n            break;\n          case 22:\n            rulestring = 'SY(TOPMAR34)';\n            break;\n          case 23:\n            rulestring = 'SY(TOPMAR34)';\n            break;\n          case 24:\n            rulestring = 'SY(TOPMAR22)';\n            break;\n\n          case 25:\n            rulestring = 'SY(TOPMAR24)';\n            break;\n          case 26:\n            rulestring = 'SY(TOPMAR30)';\n            break;\n          case 27:\n            rulestring = 'SY(TOPMAR86)';\n            break;\n          case 28:\n            rulestring = 'SY(TOPMAR89)';\n            break;\n\n          case 29:\n            rulestring = 'SY(TOPMAR22)';\n            break;\n          case 30:\n            rulestring = 'SY(TOPMAR86)';\n            break;\n          case 31:\n            rulestring = 'SY(TOPMAR14)';\n            break;\n          case 32:\n            rulestring = 'SY(TOPMAR30)';\n            break;\n          case 33:\n            rulestring = 'SY(TMARDEF1)';\n            break;\n          default:\n            rulestring = 'SY(TMARDEF1)';\n            break;\n        }\n      }\n    }\n\n    return rulestring ? [rulestring] : [];\n  }\n\n  //https://github.com/OpenCPN/OpenCPN/blob/c2ffb36ebca8c3777f03ea4d42e24f897aa62609/libs/s52plib/src/s52cnsy.cpp#L4494C40-L4494C40\n  private GetCSLIGHTS05(feature: Feature): string[] {\n    let rulestring: string = null;\n    const featureProperties = feature.getProperties();\n\n    if (featureProperties['COLOUR']) {\n      const colVals = featureProperties['COLOUR'].split(',') as string[];\n      if (colVals.length === 1) {\n        if (colVals[0] === '3') {\n          rulestring = 'SY(LIGHTS11)';\n        } else if (colVals[0] === '4') {\n          rulestring = 'SY(LIGHTS12)';\n        } else if (\n          colVals[0] === '1' ||\n          colVals[0] === '6' ||\n          colVals[0] === '13'\n        ) {\n          rulestring = 'SY(LIGHTS13)';\n        }\n      } else if (colVals.length === 2) {\n        if (colVals.includes('1') && colVals.includes('3')) {\n          rulestring = 'SY(LIGHTS11)';\n        } else if (colVals.includes('1') && colVals.includes('4')) {\n          rulestring = 'SY(LIGHTS12)';\n        }\n      }\n    }\n    return rulestring ? [rulestring] : [];\n  }\n\n  //https://github.com/OpenCPN/OpenCPN/blob/c2ffb36ebca8c3777f03ea4d42e24f897aa62609/libs/s52plib/src/s52cnsy.cpp#L5597\n  private GetSeabed01(drval1: number, drval2: number): string[] {\n    let retval: string[] = ['AC(DEPIT)'];\n\n    if (drval1 >= 0 && drval2 > 0) {\n      retval = ['AC(DEPVS)'];\n    }\n    if (this.s57Service.options.colors === 2) {\n      if (\n        drval1 >= this.s57Service.options.safetyDepth &&\n        drval2 > this.s57Service.options.safetyDepth\n      ) {\n        retval = ['AC(DEPDW)'];\n      }\n    } else {\n      if (\n        drval1 >= this.s57Service.options.shallowDepth &&\n        drval2 > this.s57Service.options.shallowDepth\n      ) {\n        retval = ['AC(DEPMS)'];\n      }\n      if (\n        drval1 >= this.s57Service.options.safetyDepth &&\n        drval2 > this.s57Service.options.safetyDepth\n      ) {\n        retval = ['AC(DEPMD)'];\n      }\n      if (\n        drval1 >= this.s57Service.options.deepDepth &&\n        drval2 > this.s57Service.options.deepDepth\n      ) {\n        retval = ['AC(DEPDW)'];\n      }\n    }\n    // debug\n    // retval.push(\"LS(DASH,1,DEPSC)\")\n\n    return retval;\n  }\n\n  //https://github.com/OpenCPN/OpenCPN/blob/c2ffb36ebca8c3777f03ea4d42e24f897aa62609/libs/s52plib/src/s52cnsy.cpp#L4295\n  private GetCSDEPCNT02(feature: Feature): string[] {\n    //let rulestring: string = null;\n    const featureProperties = feature.getProperties();\n    const geometry = feature.getGeometry();\n    const retval: string[] = [];\n\n    //const safe = false;\n    let drval1 = 0;\n    let depth_value = -1;\n    let valdco = 0;\n    let quapos = 0;\n    let objl = 0;\n\n    if (featureProperties['OBJL']) {\n      objl = parseInt(featureProperties['OBJL']);\n    }\n\n    if (DEPARE === objl && geometry.getType() === 'LineString') {\n      if (featureProperties['DRVAL1']) {\n        drval1 = parseFloat(featureProperties['DRVAL1']);\n      }\n      depth_value = drval1;\n    } else {\n      if (featureProperties['VALDCO']) {\n        valdco = parseFloat(featureProperties['VALDCO']);\n        depth_value = valdco;\n      }\n    }\n    if (depth_value < this.s57Service.options.safetyDepth) {\n      retval.push('LS(SOLD,1,DEPCN)');\n      return retval;\n    }\n\n    if (featureProperties['QUAPOS']) {\n      quapos = parseFloat(featureProperties['QUAPOS']);\n      if (quapos > 2 && quapos < 10) {\n        if (depth_value === this.selectedSafeContour) {\n          retval.push('LS(DASH,2,DEPSC)');\n        } else {\n          retval.push('LS(DASH,1,DEPCN)');\n        }\n      }\n    } else {\n      if (depth_value === this.selectedSafeContour) {\n        retval.push('LS(SOLD,2,DEPSC)');\n      } else {\n        retval.push('LS(SOLD,1,DEPCN)');\n      }\n    }\n\n    return retval;\n  }\n\n  //https://github.com/OpenCPN/OpenCPN/blob/c2ffb36ebca8c3777f03ea4d42e24f897aa62609/libs/s52plib/src/s52cnsy.cpp#L4247\n  private getCSDEPARE01(feature: Feature): string[] {\n    let retval: string[] = [];\n\n    const featureProperties = feature.getProperties();\n\n    let drval1 = -1;\n\n    const dv1 = parseFloat(featureProperties['DRVAL1']);\n    if (!Number.isNaN(dv1)) {\n      drval1 = dv1;\n    }\n\n    let drval2: number = drval1 + 0.01;\n    const dv2 = parseFloat(featureProperties['DRVAL2']);\n    if (!Number.isNaN(dv2)) {\n      drval2 = dv2;\n    }\n\n    retval = this.GetSeabed01(drval1, drval2);\n\n    const objl = featureProperties['OBJL'];\n    if (parseInt(objl) === DRGARE) {\n      retval.push('AP(DRGARE01)');\n      retval.push('LS(DASH,1,CHGRF)');\n\n      //  if (featureProperties[\"RESTRN\"]) {\n\n      //  }\n    }\n\n    return retval;\n  }\n\n  private evalCS(feature: Feature, instruction: string): string[] {\n    let retval: string[] = [];\n    const instrParts = this.instructionMatch.exec(instruction);\n    if (instrParts && instrParts.length > 1) {\n      switch (instrParts[2]) {\n        case 'LIGHTS05':\n          retval = this.GetCSLIGHTS05(feature);\n          break;\n        case 'DEPCNT02':\n          retval = this.GetCSDEPCNT02(feature);\n          break;\n        case 'DEPARE01':\n        case 'DEPARE02':\n          retval = this.getCSDEPARE01(feature);\n          break;\n        case 'TOPMAR01':\n          retval = this.GetCSTOPMAR01(feature);\n          break;\n        case 'SLCONS03':\n          retval = this.GetCSSLCONS03(feature);\n          break;\n        case 'QUAPOS01':\n          retval = this.GetCSQUAPOS01(feature);\n          break;\n        default:\n          console.debug('Unsupported CS:' + instruction);\n      }\n    }\n    return retval;\n  }\n\n  private getStylesFromRules(lup: Lookup, feature: Feature): Style[] {\n    const styles: Style[] = [];\n    if (lup) {\n      const properties = feature.getProperties();\n\n      const instructions = lup.instruction.split(';');\n\n      //PreProcess CS\n      for (let i = 0; i < instructions.length; i++) {\n        if (instructions[i].startsWith('CS')) {\n          const conditionals = this.evalCS(feature, instructions[i]);\n          instructions.splice(i, 1, ...conditionals);\n        }\n      }\n      instructions.forEach((instruction) => {\n        const instrParts = this.instructionMatch.exec(instruction);\n        if (instrParts && instrParts.length > 1) {\n          let style: Style = null;\n          const cacheKey = instrParts[1] + '_' + instrParts[2];\n          style = this.s57Service.getStyle(cacheKey);\n          if (!style) {\n            switch (instrParts[1]) {\n              case 'SY':\n                style = this.getSymbolStyle(instrParts[2]);\n                break;\n              case 'AC':\n                style = this.getAreaStyle(instrParts[2]);\n                break;\n              case 'TX':\n                style = this.getTextStyleTXStyle(properties, instrParts[2]);\n                break;\n              case 'TE':\n                style = this.getTextStyleTEStyle(properties, instrParts[2]);\n                break;\n              case 'LS':\n                style = this.getLineStyle(instrParts[2]);\n                break;\n              default:\n                //debugger\n                console.debug('Unsupported instruction:' + instruction);\n            }\n            this.s57Service.setStyle(cacheKey, style);\n          }\n\n          if (style) {\n            if (instrParts[1] === 'TE') {\n              style\n                .getText()\n                .setText(this.getTextStyleTEText(properties, instrParts[2]));\n            }\n            if (instrParts[1] === 'TX') {\n              style\n                .getText()\n                .setText(this.getTextStyleTXText(properties, instrParts[2]));\n            }\n            styles.push(style);\n          }\n        }\n      });\n    }\n\n    return styles;\n  }\n\n  private layerOrder(feature: Feature): number {\n    const properties = feature.getProperties();\n\n    const layer = properties['layer'];\n    switch (layer) {\n      case 'SEAARE':\n        return 2;\n      case 'DEPARE':\n        return 3;\n      case 'DEPCNT':\n        return 4;\n      case 'LNDARE':\n        return 5;\n      case 'BUAARE':\n        return 6;\n      default:\n        return 99;\n    }\n  }\n\n  private updateSafeContour(feature: Feature): number {\n    const properties = feature.getProperties();\n    if (properties['DRVAL1']) {\n      const drval1 = properties['DRVAL1'];\n      if (\n        drval1 >= this.s57Service.options.safetyDepth &&\n        drval1 < this.selectedSafeContour\n      ) {\n        this.selectedSafeContour = drval1;\n      }\n      return drval1;\n    }\n    if (properties['VALDCO']) {\n      const valdco = properties['VALDCO'];\n      if (\n        valdco >= this.s57Service.options.safetyDepth &&\n        valdco < this.selectedSafeContour\n      ) {\n        this.selectedSafeContour = valdco;\n      }\n      return valdco;\n    }\n    return 0;\n  }\n\n  public renderOrder = (feature1: Feature, feature2: Feature): number => {\n    const l1 = this.layerOrder(feature1);\n    const l2 = this.layerOrder(feature2);\n    const o1 = this.updateSafeContour(feature1);\n    const o2 = this.updateSafeContour(feature2);\n    let lupIndex1 = feature1[LOOKUPINDEXKEY];\n    let lupIndex2 = feature1[LOOKUPINDEXKEY];\n    if (!lupIndex1) {\n      lupIndex1 = this.s57Service.selectLookup(feature1);\n      feature1[LOOKUPINDEXKEY] = lupIndex1;\n    }\n    if (!lupIndex2) {\n      lupIndex2 = this.s57Service.selectLookup(feature2);\n      feature2[LOOKUPINDEXKEY] = lupIndex2;\n    }\n\n    if (l1 !== l2) {\n      return l1 - l2;\n    }\n\n    if (lupIndex1 >= 0 && lupIndex2 >= 0) {\n      const c1 = this.s57Service.getLookup(lupIndex1).displayPriority;\n      const c2 = this.s57Service.getLookup(lupIndex1).displayPriority;\n      if (c1 !== c2) {\n        return c1 - c2;\n      }\n    }\n\n    if (o1 !== o2) {\n      return o1 - o2;\n    }\n\n    return 0;\n  };\n\n  public getStyle = (feature: Feature, resolution: number): Style[] => {\n    const lupIndex = feature[LOOKUPINDEXKEY];\n    if (lupIndex >= 0) {\n      const lup = this.s57Service.getLookup(lupIndex);\n      // simple feature filter\n      if (\n        lup.displayCategory === DisplayCategory.DISPLAYBASE ||\n        lup.displayCategory === DisplayCategory.STANDARD ||\n        lup.displayCategory === DisplayCategory.MARINERS_STANDARD ||\n        lup.name === 'DEPCNT'\n      ) {\n        return this.getStylesFromRules(lup, feature);\n      }\n    }\n    return null;\n  };\n}\n","/***********************************\ntimer button component\n    <timer-button>\n***********************************/\nimport {\n  Component,\n  Input,\n  Output,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  EventEmitter\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\n@Component({\n  selector: 'timer-button',\n  imports: [CommonModule, MatButtonModule, MatIconModule],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styles: [``],\n  template: `\n    <div>\n      @if(cancelled) { &nbsp;\n      <button mat-raised-button (click)=\"action()\">\n        @if(icon) {\n        <mat-icon>{{ icon }}</mat-icon>\n        }\n        {{ cancelledLabel }}\n      </button>\n      } @else {\n      <button mat-button [disabled]=\"disabled\" (click)=\"cancel()\">\n        {{ label }} {{ timeLeft }} secs\n      </button>\n      }\n    </div>\n  `\n})\nexport class TimerButtonComponent {\n  @Input() period = 5000; // timeout period in milliseconds\n  @Input() label: string;\n  @Input() icon: string;\n  @Input() cancelledLabel: string;\n  @Input() disabled: boolean;\n  @Output() nextPoint: EventEmitter<void> = new EventEmitter();\n\n  private timer: ReturnType<typeof setInterval>;\n  public timeLeft: number;\n  public cancelled = false;\n\n  constructor(private cdr: ChangeDetectorRef) {}\n\n  ngOnInit() {\n    this.timeLeft = isNaN(this.period) ? 5 : this.period / 1000;\n    this.label = this.label ?? 'Action in ';\n    this.cancelledLabel = this.cancelledLabel ?? 'OK';\n    this.timer = setInterval(() => {\n      --this.timeLeft;\n      if (this.timeLeft === 0) {\n        this.disabled = true;\n        this.action();\n        clearInterval(this.timer);\n        this.timer = null;\n      }\n      this.cdr.detectChanges();\n    }, 1000);\n  }\n\n  ngOnDestroy() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n  }\n\n  cancel() {\n    if (this.timer) {\n      clearInterval(this.timer);\n      this.timer = null;\n    }\n    this.cancelled = true;\n  }\n\n  action() {\n    this.nextPoint.emit();\n  }\n}\n","import { Component, ViewChild, effect } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { OverlayContainer } from '@angular/cdk/overlay';\nimport { Observable, Subject } from 'rxjs';\n\nimport { AppFacade } from './app.facade';\nimport { SettingsMessage } from './lib/services';\nimport {\n  AboutDialog,\n  LoginDialog,\n  PlaybackDialog,\n  GeoJSONImportDialog,\n  Trail2RouteDialog\n} from 'src/app/lib/components/dialogs';\n\nimport {\n  AISPropertiesModal,\n  AtoNPropertiesModal,\n  AircraftPropertiesModal,\n  ActiveResourcePropertiesModal,\n  ResourceImportDialog,\n  ResourceSetModal,\n  ResourceSetFeatureModal,\n  SettingsDialog,\n  SKStreamFacade,\n  SKSTREAM_MODE,\n  StreamOptions,\n  AnchorFacade,\n  SKResources,\n  SKVessel,\n  SKSaR,\n  SKAircraft,\n  SKAtoN,\n  SKOtherResources,\n  SKRegion,\n  WeatherForecastModal,\n  CourseSettingsModal,\n  NotificationManager,\n  GPXImportDialog,\n  GPXExportDialog\n} from 'src/app/modules';\n\nimport { SignalKClient } from 'signalk-client-angular';\nimport { Convert } from 'src/app/lib/convert';\nimport { GeoUtils } from 'src/app/lib/geoutils';\nimport * as semver from 'semver';\n\nimport {\n  NotificationMessage,\n  UpdateMessage,\n  LineString,\n  Polygon,\n  FBRoute,\n  Position,\n  ErrorList\n} from './types';\nimport { Feature } from 'ol';\n\ninterface DrawEndEvent {\n  coordinates: LineString | Position | Polygon;\n  enabled: boolean;\n  features: Feature[];\n  forSave: boolean;\n  mode: string;\n  modify: false;\n  properties: { [key: string]: unknown };\n  type: string;\n}\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  standalone: false\n})\nexport class AppComponent {\n  @ViewChild('sideright', { static: false }) sideright;\n  @ViewChild('remoteControlSidenav', { static: false }) remoteControlSidenav;\n\n  public display = {\n    fullscreen: { active: false, enabled: document.fullscreenEnabled },\n    leftMenuPanel: false,\n    instrumentPanelOpen: true,\n    instrumentAppActive: true,\n    routeList: false,\n    waypointList: false,\n    chartList: false,\n    noteList: false,\n    trackList: false,\n    aisList: false,\n    anchorWatch: false,\n    remoteControl: false,\n    navDataPanel: {\n      show: false,\n      nextPointCtrl: false,\n      apModeColor: '',\n      apModeText: ''\n    },\n    playback: { time: null },\n    map: { center: [0, 0], setFocus: false },\n    audio: { state: '' }\n  };\n\n  public draw = {\n    enabled: false,\n    mode: null,\n    type: null,\n    modify: false,\n    modifyMode: null,\n    forSave: null,\n    properties: {}\n  };\n\n  public measure = { enabled: false };\n\n  // APP features / mode\n  public features = { playbackAPI: true };\n  public mode: SKSTREAM_MODE = SKSTREAM_MODE.REALTIME; // current mode\n\n  private timers = [];\n\n  // external resources\n  private lastInstUrl: string;\n  private lastInstParams: string;\n  public instUrl: SafeResourceUrl;\n  private lastVideoUrl: string;\n  private selFavourite = -1;\n  public vidUrl: SafeResourceUrl;\n\n  public convert = Convert;\n  private obsList = []; // observables array\n  private streamOptions = { options: null, toMode: null };\n\n  constructor(\n    public app: AppFacade,\n    protected anchor: AnchorFacade,\n    protected notiMgr: NotificationManager,\n    private stream: SKStreamFacade,\n    public skres: SKResources,\n    public skresOther: SKOtherResources,\n    public signalk: SignalKClient,\n    private dom: DomSanitizer,\n    private overlayContainer: OverlayContainer,\n    private bottomSheet: MatBottomSheet,\n    private dialog: MatDialog\n  ) {\n    // set self to active vessel\n    this.app.data.vessels.active = this.app.data.vessels.self;\n\n    // handle signals\n    effect(() => {\n      this.app.debug('** sMapNorthUp:', this.app.sMapNorthUp());\n    });\n  }\n\n  // ********* LIFECYCLE ****************\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      const wr = this.app.showWelcome();\n      if (wr) {\n        wr.afterClosed().subscribe((r) => {\n          if (r) this.openSettings();\n        });\n      }\n    }, 500);\n  }\n\n  enableAudio() {\n    if (this.app.audio.context) {\n      this.app.audio.context.resume();\n    }\n  }\n\n  handleHasWakeLock(value: boolean) {\n    setTimeout(() => (this.app.data.hasWakeLock = value), 500);\n  }\n\n  handleWakelockChange(value: boolean) {\n    this.app.config.selections.wakeLock = value;\n    this.app.saveConfig();\n  }\n\n  ngOnInit() {\n    // ** audio context handing **\n    this.display.audio.state = this.app.audio.context.state;\n    this.app.debug('audio state:', this.display.audio.state);\n    this.app.audio.context.onstatechange = () => {\n      this.app.debug('audio statechange:', this.app.audio.context.state);\n      this.display.audio.state = this.app.audio.context.state;\n    };\n\n    // ** apply loaded app config\n    this.display.map.center = this.app.config.map.center;\n    if (this.app.config.plugins.startOnOpen) {\n      this.display.instrumentAppActive = false;\n    }\n\n    // overlay dark-theme\n    this.setDarkTheme();\n\n    this.lastInstUrl = this.app.config.plugins.instruments;\n    this.lastInstParams = this.app.config.plugins.parameters;\n    this.instUrl = this.dom.bypassSecurityTrustResourceUrl(\n      this.formatInstrumentsUrl()\n    );\n    this.lastVideoUrl = this.app.config.resources.video.url;\n    this.vidUrl = this.dom.bypassSecurityTrustResourceUrl(\n      `${this.app.config.resources.video.url}`\n    );\n\n    // ** connect to signalk server and intialise\n    this.connectSignalKServer();\n\n    // Connect to MOOS-IvP websocket\n    this.connectMOOSIvPServer();\n\n    // ********************* SUBSCRIPTIONS *****************\n    // ** SIGNAL K STREAM **\n    this.obsList.push(\n      this.app.skLogin$.subscribe({\n        next: (token: string) => {\n          this.app.debug('SK Login Event', token);\n          this.handleSKLoginEvent();\n        }\n      })\n    );\n    this.obsList.push(\n      this.stream\n        .delta$()\n        .subscribe((msg: NotificationMessage | UpdateMessage) =>\n          this.onMessage(msg)\n        )\n    );\n    this.obsList.push(\n      this.stream\n        .connect$()\n        .subscribe((msg: NotificationMessage | UpdateMessage) =>\n          this.onConnect(msg)\n        )\n    );\n    this.obsList.push(\n      this.stream\n        .close$()\n        .subscribe((msg: NotificationMessage | UpdateMessage) =>\n          this.onClose(msg)\n        )\n    );\n    this.obsList.push(\n      this.stream\n        .error$()\n        .subscribe((msg: NotificationMessage | UpdateMessage) =>\n          this.onError(msg)\n        )\n    );\n    this.obsList.push(\n      this.stream.trail$().subscribe((msg) => this.handleResourceUpdate(msg))\n    );\n    // ** RESOURCES update event\n    this.obsList.push(\n      this.skres\n        .update$()\n        .subscribe((value) => this.handleResourceUpdate(value))\n    );\n    // ** SETTINGS - handle settings load / save events\n    this.obsList.push(\n      this.app.settings$.subscribe((value: SettingsMessage) =>\n        this.handleSettingsEvent(value)\n      )\n    );\n\n    // fullscreen event handlers\n    document.addEventListener('fullscreenchange', () => {\n      //console.log(document.fullscreenElement)\n      if (document.fullscreenElement) {\n        this.display.fullscreen.active = true;\n      } else {\n        this.display.fullscreen.active = false;\n      }\n    });\n    document.addEventListener('fullscreenerror', (e) => {\n      console.warn(e);\n      this.display.fullscreen.active = false;\n    });\n\n  }\n\n  ngOnDestroy() {\n    // ** clean up\n    this.stopTimers();\n    this.stream.terminate();\n    this.signalk.disconnect();\n    this.obsList.forEach((i) => i.unsubscribe());\n  }\n\n  // ********* DISPLAY / APPEARANCE ****************\n\n  // ** return the map orientation **\n  getOrientation() {\n    return this.app.config.map.northUp\n      ? 'rotate(' + 0 + 'deg)'\n      : 'rotate(' + (0 - this.app.data.vessels.active.orientation) + 'rad)';\n  }\n\n  public toggleToolbarButtons() {\n    this.app.config.toolBarButtons = !this.app.config.toolBarButtons;\n    this.app.saveConfig();\n    this.focusMap();\n  }\n\n  public toggleAlertList(show: boolean) {\n    this.app.sAlertListShow.set(show);\n  }\n\n  public toggleLimitMapZoom() {\n    this.app.config.map.limitZoom = this.app.config.map.limitZoom\n      ? false\n      : true;\n    this.skres.setMapZoomRange();\n    this.app.saveConfig();\n    this.focusMap();\n  }\n\n  public invertAISTextColor() {\n    this.app.config.map.invertColor = this.app.config.map.invertColor\n      ? false\n      : true;\n    this.app.saveConfig();\n    this.focusMap();\n  }\n\n  public toggleFullscreen() {\n    const docel = document.documentElement;\n    const fscreen =\n      docel.requestFullscreen ||\n      docel['webkitRequestFullScreen'] ||\n      docel['mozRequestFullscreen'] ||\n      docel['msRequestFullscreen'];\n    if (fscreen) {\n      if (!document.fullscreenElement) {\n        fscreen.call(docel);\n      } else {\n        if (document.exitFullscreen) document.exitFullscreen();\n      }\n      this.focusMap();\n    }\n  }\n\n  private setDarkTheme() {\n    const mq = window.matchMedia('(prefers-color-scheme: dark)');\n\n    if (\n      (this.app.config.darkMode.source === 0 && mq.matches) ||\n      (this.app.config.darkMode.source === 1 &&\n        this.app.data.vessels.self.mode === 'night') ||\n      this.app.config.darkMode.source === -1\n    ) {\n      this.overlayContainer.getContainerElement().classList.add('dark-theme');\n      this.app.config.darkMode.enabled = true;\n    } else {\n      this.overlayContainer\n        .getContainerElement()\n        .classList.remove('dark-theme');\n      this.app.config.darkMode.enabled = false;\n    }\n  }\n\n  private formatInstrumentsUrl() {\n    const url = `${this.app.host}${this.app.config.plugins.instruments}`;\n    const params = this.app.config.plugins.parameters\n      ? this.app.config.plugins.parameters.length > 0 &&\n        this.app.config.plugins.parameters[0] !== '?'\n        ? `?${this.app.config.plugins.parameters}`\n        : this.app.config.plugins.parameters\n      : '';\n    return params ? `${url}/${params}` : url;\n  }\n\n  // ** select prev/next favourite plugin **\n  public selectPlugin(next = false) {\n    if (next) {\n      if (this.selFavourite === -1) {\n        this.selFavourite = 0;\n      } else if (\n        this.selFavourite ===\n        this.app.config.selections.pluginFavourites.length - 1\n      ) {\n        this.selFavourite = -1;\n      } else {\n        this.selFavourite++;\n      }\n    } else {\n      if (this.selFavourite === -1) {\n        this.selFavourite =\n          this.app.config.selections.pluginFavourites.length - 1;\n      } else if (this.selFavourite === 0) {\n        this.selFavourite = -1;\n      } else {\n        this.selFavourite--;\n      }\n    }\n    const url =\n      this.selFavourite === -1\n        ? this.formatInstrumentsUrl()\n        : `${this.app.host}${\n            this.app.config.selections.pluginFavourites[this.selFavourite]\n          }`;\n\n    this.instUrl = this.dom.bypassSecurityTrustResourceUrl(url);\n  }\n\n  // ** handle map context menu selections **\n  public handleContextMenuSelection(action: string) {\n    switch (action) {\n      case 'cleartrail':\n        this.clearTrail(this.app.data.serverTrail);\n        break;\n      case 'trail2route':\n        this.trailToRoute();\n        break;\n      case 'cleardestination':\n        this.clearDestination();\n        break;\n      case 'anchor':\n        this.displayLeftMenu('anchorWatch', true);\n        break;\n      case 'weather_forecast':\n        this.showWeather('forecast');\n        break;\n    }\n  }\n  // ** create route from vessel trail **\n  public trailToRoute() {\n    this.dialog\n      .open(Trail2RouteDialog, {\n        disableClose: true,\n        data: { trail: this.app.data.trail }\n      })\n      .afterClosed()\n      .subscribe((r) => {\n        if (r.result) {\n          this.skres.showRouteNew({ coordinates: r.data });\n        }\n        this.focusMap();\n      });\n  }\n\n  public showWeather(mode: string) {\n    if (mode === 'forecast') {\n      this.bottomSheet\n        .open(WeatherForecastModal, {\n          disableClose: true,\n          data: { title: 'Forecast' }\n        })\n        .afterDismissed()\n        .subscribe(() => {\n          this.focusMap();\n        });\n    }\n  }\n\n  // display selected experiment UI\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public openExperiment(e: { choice: string; value?: any }) {\n    switch (e.choice) {\n      case 'debugCapture':\n        if (window.isSecureContext) {\n          navigator.clipboard.writeText(\n            JSON.stringify({\n              data: this.app.data,\n              config: this.app.config\n            })\n          );\n          this.app.showMessage('Debug data catpured to clipboard.');\n        } else {\n          this.app.showAlert(\n            'Feature Unavailable',\n            'This feature is only available in a secure context!\\n e.g. https, http://localhost, http://127.0.0.1'\n          );\n        }\n        break;\n      default:\n        // resource set\n        if (this.app.config.resources.paths.includes(e.choice)) {\n          this.bottomSheet\n            .open(ResourceSetModal, {\n              disableClose: true,\n              data: { path: e.choice, skres: this.skresOther }\n            })\n            .afterDismissed()\n            .subscribe(() => {\n              this.focusMap();\n            });\n        }\n    }\n  }\n\n  // ** display course settings screen **\n  public openCourseSettings() {\n    this.bottomSheet\n      .open(CourseSettingsModal, {\n        disableClose: true,\n        data: { title: 'Course Settings' }\n      })\n      .afterDismissed()\n      .subscribe(() => {\n        this.focusMap();\n      });\n  }\n\n  // ************************************************\n  handleSKLoginEvent() {\n    this.signalk.getLoginStatus().subscribe((r) => {\n      this.app.data.loginRequired = r.authenticationRequired ?? false;\n      this.app.data.loggedIn = r.status === 'loggedIn' ? true : false;\n      // ** Request using cached auth token and display badge\n      this.signalk.get('/plugins/freeboard-sk').subscribe(\n        () => {\n          this.app.debug('User Authenticated');\n          this.app.data.loggedIn = true;\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status === 401) {\n            this.app.debug('User NOT Authenticated');\n            this.app.data.loggedIn = false;\n          }\n        }\n      );\n    });\n  }\n\n  // ** establish connection to server\n  private connectSignalKServer() {\n    this.app.data.selfId = null;\n    this.app.data.server = null;\n    this.signalk.proxied = this.app.config.selections.signalk.proxied;\n    this.signalk\n      .connect(this.app.hostName, this.app.hostPort, this.app.hostSSL)\n      .subscribe(\n        () => {\n          this.signalk.authToken = this.app.getFBToken();\n          this.app.watchSKLogin();\n          this.handleSKLoginEvent();\n\n          this.app.loadSettingsfromServer().subscribe((r) => {\n            const msg = r\n              ? 'Settings loaded from server.'\n              : 'Error loading Settings from server!';\n            console.log(msg);\n            if (r) {\n              this.skres.alignResourceSelections();\n            }\n          });\n\n          this.getFeatures();\n          this.app.data.server = this.signalk.server.info;\n          this.openSKStream();\n        },\n        () => {\n          this.app.showMessage(\n            'Unable to contact Signal K server! (Retrying in 5 secs)',\n            false,\n            5000\n          );\n          setTimeout(() => this.connectSignalKServer(), 5000);\n        }\n      );\n  }\n\n  // Connection to MOOS-IvP websocket\n  private connectMOOSIvPServer(): void {\n    const host = this.app.hostName || 'localhost';\n    const wsUrl = `ws://${host}:8000`;\n  \n    // Optionally, clear any previous connection state\n    this.app.data.moosIvPServer = null;\n  \n    // Initialize the WebSocket connection\n    const moosSocket = new WebSocket(wsUrl);\n    \n    // Save the socket if you need to reference it later\n    this.app.data.moosIvPServer = { socket: moosSocket, url: wsUrl, connected: false };\n\n    moosSocket.onopen = (event: Event) => {\n      console.log(`Connected to MOOS-IvP WebSocket server at ${wsUrl}`, event);\n      this.app.data.moosIvPServer.connected = true;\n      // Send an optional subscription or handshake message if required by MOOS-IvP\n      moosSocket.send(\"DEPLOY=false\");\n    };\n\n    moosSocket.onerror = (error: Event) => {\n      console.error('Error connecting to MOOS-IvP server:', error);\n      this.app.showMessage('Unable to contact MOOS-IvP server! (Retrying in 5 secs)', false, 5000);\n    };\n\n    moosSocket.onclose = (event: CloseEvent) => {\n      console.warn('MOOS-IvP WebSocket connection closed:', event);\n      this.app.data.moosIvPServer.connected = false;\n      // Attempt reconnect after 5 seconds\n      setTimeout(() => {\n        this.connectMOOSIvPServer();\n      }, 5000);\n    };\n    \n    moosSocket.onmessage = (message: MessageEvent) => {\n      console.log('Received MOOS-IvP message:', message.data);\n      // Process incoming data. Adjust based on MOOS-IvP message format.\n      // const data = JSON.parse(message.data);\n      // this.handleMOOSIvPMessage(data);\n    };\n  }\n\n  // ** discover server features **\n  private getFeatures() {\n    // check server features\n    this.signalk.get('/signalk/v2/features?enabled=1').subscribe(\n      (res: {\n        apis: string[];\n        plugins: Array<{ id: string; version: string }>;\n      }) => {\n        // detect apis\n        this.app.data.weather.hasApi = res.apis.includes('weather');\n        this.app.data.autopilot.hasApi = res.apis.includes('autopilot');\n\n        // detect plugins\n        const hasPlugin = {\n          charts: false,\n          pmTiles: false\n        };\n        this.app.data.anchor.hasApi = false;\n        res.plugins.forEach((p: { id: string; version: string }) => {\n          // anchor alarm\n          if (p.id === 'anchoralarm') {\n            this.app.debug('*** found anchoralarm plugin');\n            this.app.data.anchor.hasApi = true;\n          }\n          // buddy list\n          if (p.id === 'signalk-buddylist-plugin') {\n            this.app.debug('*** found buddylist plugin');\n            this.app.data.buddyList.hasApi = semver.satisfies(\n              p.version,\n              '>1.2.0'\n            )\n              ? true\n              : false;\n          }\n          // charts v2 api support\n          if (p.id === 'charts') {\n            this.app.debug('*** found charts plugin');\n            hasPlugin.charts = true;\n            if (\n              semver.satisfies(p.version, '>=3.0.0') &&\n              this.app.config.chartApi === 1\n            ) {\n              this.app.config.chartApi = 2;\n            }\n          }\n          // PMTiles support\n          if (p.id === 'signalk-pmtiles-plugin') {\n            this.app.debug('*** found PMTiles plugin');\n            hasPlugin.pmTiles = true;\n          }\n        });\n        // finalise\n        if (hasPlugin.pmTiles && !hasPlugin.charts) {\n          this.app.config.chartApi = 2;\n        }\n      },\n      () => {\n        this.app.debug('*** Features API not present!');\n        this.app.data.anchor.hasApi = true;\n      }\n    );\n  }\n\n  // ** start trail / AIS timers\n  private startTimers() {\n    // ** start trail logging interval timer\n    this.app.debug(`Starting Trail logging timer...`);\n    this.timers.push(\n      setInterval(() => {\n        this.processTrail();\n      }, 5000)\n    );\n  }\n  // ** stop timers\n  private stopTimers() {\n    this.app.debug(`Stopping timers:`);\n    this.timers.forEach((t) => clearInterval(t));\n    this.timers = [];\n  }\n\n  // ** process local vessel trail **\n  private processTrail(trailData?) {\n    if (!this.app.config.selections.vessel.trail) {\n      return;\n    }\n    // ** update vessel trail **\n    const t = this.app.data.trail.slice(-1);\n    if (this.app.data.vessels.showSelf) {\n      if (t.length === 0) {\n        this.app.data.trail.push(this.app.data.vessels.self.position);\n        return;\n      }\n      if (\n        this.app.data.vessels.self.position[0] !== t[0][0] ||\n        this.app.data.vessels.self.position[1] !== t[0][1]\n      ) {\n        this.app.data.trail.push(this.app.data.vessels.self.position);\n      }\n    }\n    if (!trailData || trailData.length === 0) {\n      // no server trail data supplied\n      if (this.app.data.trail.length % 60 === 0 && this.app.data.serverTrail) {\n        if (this.app.config.selections.trailFromServer) {\n          this.skres.getVesselTrail(); // request trail from server\n        }\n      }\n      this.app.data.trail = this.app.data.trail.slice(-5000);\n    } else {\n      // use server trail data, keep minimal local trail data\n      const lastseg = trailData.slice(-1);\n      const lastpt =\n        lastseg.length !== 0\n          ? lastseg[0].slice(-1)\n          : trailData.length > 1\n          ? trailData[trailData.length - 2].slice(-1)\n          : [];\n      this.app.data.trail = lastpt;\n    }\n    const trailId = this.mode === SKSTREAM_MODE.PLAYBACK ? 'history' : 'self';\n    this.app.db.saveTrail(trailId, this.app.data.trail);\n  }\n\n  // ** RESOURCES event handlers **\n  private handleResourceUpdate(e) {\n    // ** handle routes get and update NavData based on activeRoute\n    if (e.action === 'get' && e.mode === 'route') {\n      //this.updateNavPanel(e);\n    }\n    // ** trail retrieved from server **\n    if (e.action === 'get' && e.mode === 'trail') {\n      this.processTrail(e.data);\n    }\n    // ** create note in group **\n    if (e.action === 'new' && e.mode === 'note') {\n      if (this.app.config.resources.notes.groupRequiresPosition) {\n        this.drawStart(e.mode, { group: e.group });\n      } else {\n        this.skres.showNoteEditor({ group: e.group });\n      }\n    }\n  }\n\n  // ** SETTINGS event handler **\n  private handleSettingsEvent(e: SettingsMessage) {\n    this.app.debug(`App: settings.update$`, 'warn');\n    if (e.action === 'load' && e.setting === 'config') {\n      this.app.data.trueMagChoice = this.app.config.selections.headingAttribute;\n    }\n    if (e.action === 'save' && e.setting === 'config') {\n      this.setDarkTheme(); // **  set theme **\n      if (\n        this.app.data.trueMagChoice !==\n        this.app.config.selections.headingAttribute\n      ) {\n        this.app.debug('True / Magnetic selection changed..');\n        this.app.data.vessels.self.heading = this.app.useMagnetic\n          ? this.app.data.vessels.self.headingMagnetic\n          : this.app.data.vessels.self.headingTrue;\n        this.app.data.vessels.self.cog = this.app.useMagnetic\n          ? this.app.data.vessels.self.cogMagnetic\n          : this.app.data.vessels.self.cogTrue;\n        this.app.data.vessels.self.wind.direction = this.app.useMagnetic\n          ? this.app.data.vessels.self.wind.mwd\n          : this.app.data.vessels.self.wind.twd;\n\n        this.app.data.vessels.aisTargets.forEach((v) => {\n          v.heading = this.app.useMagnetic ? v.headingMagnetic : v.headingTrue;\n          v.cog = this.app.useMagnetic ? v.cogMagnetic : v.cogTrue;\n          v.wind.direction = this.app.useMagnetic ? v.wind.mwd : v.wind.twd;\n        });\n        this.app.data.trueMagChoice =\n          this.app.config.selections.headingAttribute;\n      }\n\n      if (\n        this.lastInstUrl !== this.app.config.plugins.instruments ||\n        this.lastInstParams !== this.app.config.plugins.parameters\n      ) {\n        this.lastInstUrl = this.app.config.plugins.instruments;\n        this.lastInstParams = this.app.config.plugins.parameters;\n        this.instUrl = this.dom.bypassSecurityTrustResourceUrl(\n          this.formatInstrumentsUrl()\n        );\n      }\n      if (this.lastVideoUrl !== this.app.config.resources.video.url) {\n        this.lastVideoUrl = this.app.config.resources.video.url;\n        this.vidUrl = this.dom.bypassSecurityTrustResourceUrl(\n          `${this.app.config.resources.video.url}`\n        );\n      }\n      // ** trail **\n      if (this.app.config.selections.vessel.trail) {\n        // show trail\n        if (this.app.config.selections.trailFromServer) {\n          this.skres.getVesselTrail();\n        } else {\n          this.app.data.serverTrail = false;\n        }\n      }\n    }\n    // update instrument app state\n    if (this.app.config.plugins.startOnOpen) {\n      if (!this.display.instrumentPanelOpen) {\n        this.display.instrumentAppActive = false;\n      }\n    } else {\n      // Only set instrumentAppActive to true if remote control is not active\n      this.display.instrumentAppActive = !this.display.remoteControl;\n    }\n  }\n\n  // ** trigger focus of the map so keyboard controls work\n  public focusMap() {\n    this.display.map.setFocus = true;\n    // reset value to ensure change detection\n    setTimeout(() => {\n      this.display.map.setFocus = false;\n    }, 1000);\n  }\n\n  // ********* SIDENAV ACTIONS *************\n\n  public rightSideNavAction(e: boolean) {\n    this.display.instrumentPanelOpen = e;\n    \n    // Handle instrument panel\n    if (this.app.config.plugins.startOnOpen) {\n      this.display.instrumentAppActive = e;\n    }\n    \n    // If the panel is closed, also turn off remote control\n    // but only if we're not in the middle of an animation\n    if (!e && !this.isAnimating && !this.isAnimatingRemoteControl) {\n      if (this.display.remoteControl) {\n        this.display.remoteControl = false;\n        this.app.config.selections.remoteControl = false;\n        this.app.saveConfig();\n        \n        // Send CONTROLE_MANUAL=false when closing the panel\n        if (\n          this.app.data.moosIvPServer &&\n          this.app.data.moosIvPServer.socket &&\n          this.app.data.moosIvPServer.socket.readyState === WebSocket.OPEN\n        ) {\n          this.app.data.moosIvPServer.socket.send(\"CONTROLE_MANUAL=false\");\n        }\n      }\n      \n      this.focusMap();\n    }\n  }\n\n  public displayLeftMenu(menulist = '', show = false) {\n    this.display.leftMenuPanel = show;\n    this.display.routeList = false;\n    this.display.waypointList = false;\n    this.display.chartList = false;\n    this.display.noteList = false;\n    this.display.trackList = false;\n    this.display.aisList = false;\n    this.display.anchorWatch = false;\n    switch (menulist) {\n      case 'routeList':\n        this.display.routeList = show;\n        break;\n      case 'waypointList':\n        this.display.waypointList = show;\n        break;\n      case 'chartList':\n        this.display.chartList = show;\n        break;\n      case 'noteList':\n        this.display.noteList = show;\n        break;\n      case 'trackList':\n        this.display.trackList = show;\n        break;\n      case 'anchorWatch':\n        this.display.anchorWatch = show;\n        break;\n      case 'aisList':\n        this.display.aisList = show;\n        break;\n      default:\n        this.display.leftMenuPanel = false;\n    }\n    if (!show) {\n      this.focusMap();\n    }\n  }\n\n  // ********* MAIN MENU ACTIONS *************\n\n  // ** open about dialog **\n  public openAbout() {\n    this.dialog\n      .open(AboutDialog, {\n        disableClose: false,\n        data: {\n          name: this.app.name,\n          version: this.app.plugin.version,\n          description: this.app.description,\n          logo: this.app.logo,\n          url: this.app.url\n        }\n      })\n      .afterClosed()\n      .subscribe(() => this.focusMap());\n  }\n\n  // ** open settings dialog **\n  public openSettings() {\n    this.dialog\n      .open(SettingsDialog, {\n        disableClose: true,\n        data: {},\n        maxWidth: '90vw',\n        minWidth: '90vw'\n      })\n      .afterClosed()\n      .subscribe((doSave) => {\n        this.focusMap();\n        if (doSave) {\n          this.app.saveConfig();\n        }\n      });\n  }\n\n  /** GPX / GeoJSON imports */\n  public importFile(f: { data: string | ArrayBuffer; name: string }) {\n    if ((f.data as string).indexOf('<gpx ') !== -1) {\n      this.processGPX(f);\n    } else if (\n      (f.data as string).indexOf(`\"type\": \"FeatureCollection\",`) !== -1\n    ) {\n      this.processGeoJSON(f);\n    } else {\n      this.app.showAlert('Import', 'File format not supported!');\n    }\n    this.focusMap();\n  }\n\n  /** process GPX file */\n  public processGPX(f: { data: string | ArrayBuffer; name: string }) {\n    this.dialog\n      .open(GPXImportDialog, {\n        disableClose: true,\n        data: {\n          fileData: f.data,\n          fileName: f.name\n        }\n      })\n      .afterClosed()\n      .subscribe((res: { errCount: number; errList: ErrorList }) => {\n        if (typeof res.errCount === 'undefined' || res.errCount < 0) {\n          // cancelled\n          this.focusMap();\n          return;\n        }\n        this.fetchResources();\n        if (res.errCount === 0) {\n          this.app.showMsgBox(\n            'GPX Load',\n            'GPX file resources loaded successfully.'\n          );\n        } else {\n          this.app.showErrorList(res.errList);\n        }\n        this.focusMap();\n      });\n  }\n\n  /** Export resources to GPX file */\n  public exportToGPX() {\n    this.dialog\n      .open(GPXExportDialog, {\n        disableClose: true,\n        data: {\n          routes: this.app.data.routes,\n          waypoints: this.app.data.waypoints,\n          tracks: [this.app.data.trail]\n        }\n      })\n      .afterClosed()\n      .subscribe((errCount) => {\n        if (errCount < 0) {\n          // cancelled\n          this.focusMap();\n          return;\n        }\n        if (errCount === 0) {\n          this.app.showMsgBox(\n            'GPX Save',\n            'Resources saved to GPX file successfully.'\n          );\n        } else {\n          this.app.showAlert('GPX Save', 'Error saving resources to GPX file!');\n        }\n        this.focusMap();\n      });\n  }\n\n  /** process GeoJSON file */\n  processGeoJSON(f: { data: string | ArrayBuffer; name: string }) {\n    this.dialog\n      .open(GeoJSONImportDialog, {\n        disableClose: true,\n        data: {\n          fileData: f.data,\n          fileName: f.name\n        }\n      })\n      .afterClosed()\n      .subscribe((errCount) => {\n        if (errCount < 0) {\n          return;\n        } // cancelled\n        this.fetchResources();\n        if (errCount === 0) {\n          this.app.showMsgBox(\n            'GeoJSON Load',\n            'GeoJSON features loaded successfully.'\n          );\n        } else {\n          this.app.showAlert(\n            'GeoJSON Load',\n            'Completed with errors!\\nNot all features were loaded.'\n          );\n        }\n        this.focusMap();\n      });\n  }\n\n  /** Import ResourceSet */\n  importResourceSet() {\n    this.dialog\n      .open(ResourceImportDialog, {\n        disableClose: true,\n        data: {}\n      })\n      .afterClosed()\n      .subscribe((res) => {\n        if (!res) {\n          return;\n        } // cancelled\n        try {\n          const d = JSON.parse(res.data);\n          this.skres.postResource(res.path, d);\n        } catch (err) {\n          this.app.showAlert(\n            'Load Resource',\n            'Resources were not loaded!\\nInvalid JSON.'\n          );\n        }\n        this.focusMap();\n      });\n  }\n\n  // ** show login dialog **\n  public showLogin(\n    message?: string,\n    cancelWarning = true,\n    onConnect?: boolean\n  ): Observable<boolean> {\n    const lis: Subject<boolean> = new Subject();\n    this.dialog\n      .open(LoginDialog, {\n        disableClose: true,\n        data: { message: message || 'Login to Signal K server.' }\n      })\n      .afterClosed()\n      .subscribe((res) => {\n        if (!res.cancel) {\n          this.signalk.login(res.user, res.pwd).subscribe(\n            (r) => {\n              // ** authenticated\n              this.app.persistToken(r['token']);\n              this.app.loadSettingsfromServer().subscribe((r) => {\n                const msg = r\n                  ? 'Settings loaded from server.'\n                  : 'Error loading Settings from server!';\n                console.log(msg);\n                if (r) {\n                  this.skres.alignResourceSelections();\n                }\n              });\n              if (onConnect) {\n                this.queryAfterConnect();\n              }\n              this.app.data.loggedIn = true;\n              lis.next(true);\n            },\n            () => {\n              // ** auth failed\n              this.app.persistToken(null);\n              this.signalk.isLoggedIn().subscribe((r) => {\n                this.app.data.loggedIn = r;\n              });\n              if (onConnect) {\n                this.app\n                  .showConfirm(\n                    'Invalid Username or Password.',\n                    'Authentication Failed:',\n                    'Try Again'\n                  )\n                  .subscribe(() => {\n                    this.showLogin(null, false, true);\n                  });\n              } else {\n                this.app\n                  .showConfirm(\n                    'Invalid Username or Password.\\nNote: Choosing CLOSE may make operations requiring authentication unavailable.',\n                    'Authentication Failed:',\n                    'Try Again',\n                    'Close'\n                  )\n                  .subscribe((r) => {\n                    if (r) {\n                      this.showLogin();\n                    }\n                  });\n              }\n            }\n          );\n        } else {\n          this.app.data.hasToken = false; // show login menu item\n          this.signalk.isLoggedIn().subscribe((r: boolean) => {\n            this.app.data.loggedIn = r;\n          });\n          if (onConnect) {\n            this.showLogin(null, false, true);\n          } else {\n            if (cancelWarning) {\n              this.app.showAlert(\n                'Login Cancelled:',\n                `Update operations are NOT available until you have authenticated to the Signal K server.`\n              );\n            }\n            lis.next(false);\n          }\n        }\n        this.focusMap();\n      });\n    return lis.asObservable();\n  }\n\n  public showPlaybackSettings() {\n    this.dialog\n      .open(PlaybackDialog, {\n        disableClose: false\n      })\n      .afterClosed()\n      .subscribe((r) => {\n        if (r.result) {\n          // OK: switch to playback mode\n          this.switchMode(SKSTREAM_MODE.PLAYBACK, r.query);\n        } else {\n          // cancel: restarts realtime mode\n          this.switchMode(SKSTREAM_MODE.REALTIME);\n        }\n        this.focusMap();\n      });\n  }\n\n  // ********** TOOLBAR ACTIONS **********\n\n  public toggleMoveMap(exit = false) {\n    const doSave: boolean = !this.app.config.map.moveMap && exit ? false : true;\n    this.app.config.map.moveMap = exit ? false : !this.app.config.map.moveMap;\n    if (doSave) {\n      this.app.saveConfig();\n    }\n  }\n\n  public toggleNorthUp() {\n    this.app.sMapNorthUp.update((nup) => {\n      this.app.config.map.northUp = !nup;\n      this.app.saveConfig();\n      return this.app.config.map.northUp;\n    });\n  }\n\n  // Animation tracking variables\n  private isAnimating = false;\n  public isAnimatingRemoteControl = false; // exposed to template\n  private animationDelay = 300; // ms - should match the CSS transition time\n  \n  //Function to toggle remote control panel\n  public toggleRemoteControl() {\n    // Check if we're in the middle of an animation\n    if (this.isAnimating) {\n      return;\n    }\n    \n    // Get current state before toggle\n    const wasActive = this.display.remoteControl;\n    \n    // Toggle the remote control panel display\n    this.display.remoteControl = !this.display.remoteControl;\n    \n    console.log(`Remote control display toggled to: ${this.display.remoteControl}`);\n    \n    // Also toggle the saved configuration state\n    this.app.config.selections.remoteControl = this.display.remoteControl;\n    this.app.saveConfig(); \n    \n    // Define message based on new value\n    const message = this.display.remoteControl \n      ? \"CONTROLE_MANUAL=true\" \n      : \"CONTROLE_MANUAL=false\";\n  \n    // Check if MOOS-IvP connection is active before sending\n    if (\n      this.app.data.moosIvPServer &&\n      this.app.data.moosIvPServer.socket &&\n      this.app.data.moosIvPServer.socket.readyState === WebSocket.OPEN\n    ) {\n      console.log(`Sending MOOS-IvP message: ${message}`);\n      this.app.data.moosIvPServer.socket.send(message);\n    } else {\n      console.warn(\"MOOS-IvP connection not established or not open!\");\n    }\n    \n    // Manage sidenav behavior for remote control\n    if (this.display.remoteControl) {\n      // When activating remote control, turn off instruments display\n      this.display.instrumentAppActive = false;\n      \n      // Make sure sidenav is open\n      if (this.sideright && !this.sideright.opened) {\n        this.sideright.open();\n      }\n    } else if (wasActive) {\n      // Only when deactivating remote control (not during initialization)\n      \n      // Set animation flags to prevent double-toggling and keep component visible\n      this.isAnimating = true;\n      this.isAnimatingRemoteControl = true;\n      \n      // Keep the remote control visible while the animation runs\n      // but begin the sidenav closing animation\n      if (this.sideright && this.sideright.opened) {\n        this.sideright.close();\n        \n        // After animation completes, reset the animation flags\n        setTimeout(() => {\n          this.isAnimating = false;\n          this.isAnimatingRemoteControl = false;\n        }, this.animationDelay);\n      }\n    }\n    \n    // Log all the state for debugging\n    console.log(\"Current app state:\", {\n      remoteControlDisplay: this.display.remoteControl,\n      remoteControlConfig: this.app.config.selections.remoteControl,\n      allDisplays: this.display\n    });\n    \n    this.focusMap();\n  }\n  \n  \n   //Function added to activate autonomous control\n   public toggleAutonomousControl() {\n    // Alterna o estado do controle autnomo e salva a configurao\n    this.app.config.selections.autonomousControl = !this.app.config.selections.autonomousControl;\n    this.app.saveConfig();\n  \n    // Define a mensagem baseada no novo valor\n    const message = this.app.config.selections.autonomousControl \n      ? \"AUTONOMOUS_CONTROL=true\" \n      : \"AUTONOMOUS_CONTROL=false\";\n  \n    // Verifica se a conexo MOOS-IvP est ativa antes de enviar\n    if (\n      this.app.data.moosIvPServer &&\n      this.app.data.moosIvPServer.socket &&\n      this.app.data.moosIvPServer.socket.readyState === WebSocket.OPEN\n    ) {\n      this.app.data.moosIvPServer.socket.send(message);\n    } else {\n      console.warn(\"Conexo MOOS-IvP no estabelecida ou no est aberta!\");\n    }\n  }\n  \n\n  // ***** EDIT MENU ACTONS *******\n\n  // ** Enter Draw mode **\n  public drawStart(mode: string, props?) {\n    this.draw.properties = props && props.group ? props : {};\n    this.draw.mode = mode;\n    this.draw.enabled = true;\n    this.app.data.map.suppressContextMenu = true;\n  }\n\n  // ** Enter Measure mode **\n  public measureStart() {\n    this.measure.enabled = true;\n    this.app.data.map.suppressContextMenu = true;\n  }\n\n  public measureEnd() {\n    this.measure.enabled = false;\n    this.app.data.measurement = { coords: [], index: -1 };\n    this.app.data.map.suppressContextMenu = false;\n  }\n\n  // ***** OPTIONS MENU ACTONS *******\n\n  public centerResource(position: [number, number], zoomTo?: number) {\n    position[0] += 0.0000000000001;\n    this.display.map.center = position;\n    if (typeof zoomTo === 'number') {\n      this.app.config.map.zoomLevel = zoomTo;\n    }\n  }\n\n  public centerVessel() {\n    const t = this.app.data.vessels.active.position;\n    t[0] += 0.0000000000001;\n    this.display.map.center = t;\n  }\n\n  public toggleAisTargets() {\n    this.app.config.aisTargets = !this.app.config.aisTargets;\n    if (this.app.config.aisTargets) {\n      this.processAIS(true);\n    }\n    this.app.saveConfig();\n  }\n\n  public toggleCourseData() {\n    this.app.config.courseData = !this.app.config.courseData;\n    this.app.saveConfig();\n  }\n\n  public toggleNotes() {\n    this.app.config.notes = !this.app.config.notes;\n    this.app.saveConfig();\n  }\n\n  // ** delete vessel trail **\n  public clearTrail(noprompt = false) {\n    if (noprompt) {\n      if (!this.app.data.serverTrail) {\n        this.app.data.trail = [];\n      } else {\n        if (this.app.config.selections.trailFromServer) {\n          this.skres.getVesselTrail(); // request trail from server\n        }\n      }\n    } else {\n      if (!this.app.data.serverTrail)\n        this.app\n          .showConfirm(\n            'Clear Vessel Trail',\n            'Do you want to delete the vessel trail?'\n          )\n          .subscribe((res) => {\n            if (res) {\n              if (!this.app.data.serverTrail) {\n                this.app.data.trail = [];\n              } else {\n                if (this.app.config.selections.trailFromServer) {\n                  this.skres.getVesselTrail(); // request trail from server\n                }\n              }\n            }\n          });\n    }\n  }\n\n  // ** clear course / navigation data **\n  public clearCourseData() {\n    const idx = this.app.data.navData.pointIndex;\n    this.app.data.navData = {\n      vmg: null,\n      dtg: null,\n      ttg: null,\n      bearing: { value: null, type: null },\n      bearingTrue: null,\n      bearingMagnetic: null,\n      xte: null,\n      eta: null,\n      position: [null, null],\n      pointIndex: idx,\n      pointTotal: 0,\n      arrivalCircle: null,\n      startPosition: [null, null],\n      pointNames: [],\n      activeRoutePoints: null,\n      destPointName: ''\n    };\n  }\n\n  // ** clear active destination **\n  public clearDestination() {\n    this.skres.clearCourse(this.app.data.vessels.activeId);\n  }\n\n  // ********** MAP / UI ACTIONS **********\n\n  // ** set active route **\n  public activateRoute(id: string) {\n    this.skres.activateRoute(id, this.app.data.vessels.activeId);\n  }\n\n  // ** Increment / decrement next active route point **\n  public routeNextPoint(pointIndex: number) {\n    this.skres.coursePointIndex(pointIndex);\n    this.focusMap();\n  }\n\n  // ** show feature (vessel/AtoN/Aircraft/Route points) properties **\n  public featureProperties(e: { id: string; type: string }) {\n    let v: FBRoute | SKVessel | SKSaR | SKAircraft | SKAtoN;\n    if (e.type === 'route') {\n      v = this.skres.fromCache('routes', e.id);\n      if (v) {\n        this.bottomSheet\n          .open(ActiveResourcePropertiesModal, {\n            disableClose: true,\n            data: {\n              title: 'Route Properties',\n              resource: v,\n              type: e.type,\n              skres: this.skres\n            }\n          })\n          .afterDismissed()\n          .subscribe((deactivate: boolean) => {\n            if (deactivate) {\n              this.clearDestination();\n            }\n            this.focusMap();\n          });\n      }\n    } else if (e.type === 'aton' || e.type === 'meteo') {\n      let title: string;\n      let icon: string;\n      let atonType: string;\n      if (e.type === 'meteo') {\n        v = this.app.data.meteo.get(e.id);\n        title = 'Meteo Properties';\n        icon = 'air';\n        atonType = e.type;\n      } else if (e.id.slice(0, 3) === 'sar') {\n        v = this.app.data.sar.get(e.id);\n        title = 'SaR Properties';\n        icon = 'tour';\n        atonType = 'sar';\n      } else {\n        v = this.app.data.atons.get(e.id);\n        title = 'AtoN Properties';\n        icon = 'beenhere';\n        atonType = 'aton';\n      }\n      if (v) {\n        this.bottomSheet\n          .open(AtoNPropertiesModal, {\n            disableClose: true,\n            data: {\n              title: title,\n              target: v,\n              id: e.id,\n              icon: icon,\n              type: atonType\n            }\n          })\n          .afterDismissed()\n          .subscribe(() => this.focusMap());\n      }\n    } else if (e.type === 'aircraft') {\n      v = this.app.data.aircraft.get(e.id);\n      if (v) {\n        this.bottomSheet\n          .open(AircraftPropertiesModal, {\n            disableClose: true,\n            data: {\n              title: 'Aircraft Properties',\n              target: v,\n              id: e.id\n            }\n          })\n          .afterDismissed()\n          .subscribe(() => this.focusMap());\n      }\n    } else if (e.type === 'alarm') {\n      this.notiMgr.showAlertInfo(e.id);\n    } else if (e.type === 'rset') {\n      v = this.skres.resSetFromCache(e.id);\n      if (v) {\n        this.bottomSheet\n          .open(ResourceSetFeatureModal, {\n            disableClose: true,\n            data: { id: e.id, skres: v }\n          })\n          .afterDismissed()\n          .subscribe(() => {\n            this.focusMap();\n          });\n      }\n    } else {\n      v =\n        e.type === 'self'\n          ? this.app.data.vessels.self\n          : this.app.data.vessels.aisTargets.get(e.id);\n      if (v) {\n        this.bottomSheet\n          .open(AISPropertiesModal, {\n            disableClose: true,\n            data: {\n              title: 'Vessel Properties',\n              target: v,\n              id: e.id\n            }\n          })\n          .afterDismissed()\n          .subscribe(() => this.focusMap());\n      }\n    }\n  }\n\n  // ** handle drag and drop of files onto map container**\n  public mapDragOver(e: DragEvent) {\n    e.preventDefault();\n  }\n\n  public mapDrop(e: DragEvent) {\n    e.preventDefault();\n    if (e.dataTransfer.files) {\n      if (e.dataTransfer.files.length > 1) {\n        this.app.showAlert(\n          'Load Resources',\n          'Multiple files provided!\\nPlease select only one file for processing.'\n        );\n      } else {\n        const reader = new FileReader();\n        reader.onerror = () => {\n          this.app.showAlert(\n            'File Load error',\n            `There was an error reading the file contents!`\n          );\n        };\n        if (!e.dataTransfer.files[0].name) {\n          return;\n        }\n        const fname = e.dataTransfer.files[0].name;\n        reader.onload = () => {\n          this.processGPX({ name: fname, data: reader.result });\n        };\n        reader.readAsText(e.dataTransfer.files[0]);\n      }\n    }\n  }\n\n  // ** process / cleanup AIS targets\n  private processAIS(toggled?: boolean) {\n    if (!this.app.config.aisTargets && !toggled) {\n      return;\n    }\n    if (toggled) {\n      // ** re-populate list after hide\n      this.app.data.vessels.aisTargets.forEach((v, k) => {\n        this.app.data.aisMgr.updateList.push(k);\n      });\n    }\n  }\n\n  // ********* MODE ACTIONS *************\n\n  // ** set the active vessel to the supplied UUID **\n  public switchActiveVessel(uuid: string = null) {\n    this.app.data.vessels.activeId = uuid;\n    if (!uuid) {\n      this.app.data.vessels.active = this.app.data.vessels.self;\n    } else {\n      const av = this.app.data.vessels.aisTargets.get(uuid);\n      if (!av) {\n        this.app.data.vessels.active = this.app.data.vessels.self;\n        this.app.data.vessels.activeId = null;\n      } else {\n        this.app.data.vessels.active = av;\n        // if instrument panel open - close it\n        this.sideright.close();\n      }\n    }\n    this.app.data.activeRoute = null;\n    this.clearCourseData();\n    this.app.debug(`** Active vessel: ${this.app.data.vessels.activeId} `);\n    this.app.debug(this.app.data.vessels.active);\n  }\n\n  // ** switch between realtime and history playback modes\n  public switchMode(toMode: SKSTREAM_MODE, options?: StreamOptions) {\n    this.app.debug(`switchMode from: ${this.mode} to ${toMode}`);\n    if (toMode === SKSTREAM_MODE.PLAYBACK) {\n      // ** history playback\n      this.app.db.saveTrail('self', this.app.data.trail);\n      this.app.data.trail = [];\n    } else {\n      // ** realtime data\n      this.app.db.getTrail('self').then((t) => {\n        this.app.data.trail = t && t.value ? t.value : [];\n      });\n    }\n    this.switchActiveVessel();\n    this.openSKStream(options, toMode, true);\n  }\n\n  // ** show select mode dialog\n  public showSelectMode() {\n    if (this.mode === SKSTREAM_MODE.REALTIME) {\n      // request history playback\n      this.app\n        .showConfirm(\n          'Do you want to change to History Playback mode?',\n          'Switch Mode'\n        )\n        .subscribe((r) => {\n          if (r) {\n            this.showPlaybackSettings();\n          }\n        });\n    } else {\n      // request realtime\n      this.app\n        .showConfirm(\n          'Do you want to exit History Playback mode?',\n          'Exit History Playback'\n        )\n        .subscribe((r) => {\n          if (r) {\n            this.switchMode(SKSTREAM_MODE.REALTIME);\n          }\n        });\n    }\n  }\n\n  // ******** DRAW / EDIT EVENT HANDLERS ************\n\n  // ** handle modify start event **\n  public handleModifyStart(e: { id: string; type: string }) {\n    this.draw.type = null;\n    this.draw.mode = null;\n    this.draw.enabled = false;\n    this.draw.modify = true;\n    this.draw.modifyMode = e.type;\n    this.draw.forSave = { id: e.type ?? null, coords: null };\n    this.app.data.map.suppressContextMenu = true;\n    if (e.type === 'route') {\n      this.app.data.measurement.coords = this.skres.fromCache(\n        'routes',\n        e.id\n      )[1].feature.geometry.coordinates;\n    }\n  }\n\n  // ** handle modify end event **\n  public handleModifyEnd(e: {\n    id: string;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    coords: any[];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    coordsMetadata?: any[];\n  }) {\n    if (\n      this.app.data.activeRoute &&\n      e.id.indexOf(this.app.data.activeRoute) !== -1\n    ) {\n      this.app.data.activeRouteIsEditing = true;\n    } else {\n      this.app.data.activeRouteIsEditing = false;\n    }\n    this.app.data.editingId = e.id;\n    this.draw.forSave = e;\n    this.app.debug(this.draw.forSave);\n  }\n\n  // ** Draw end event **\n  public handleDrawEnd(e: DrawEndEvent) {\n    this.draw.enabled = false;\n    let params;\n    let region: SKRegion;\n    let uuid: string;\n    switch (this.draw.mode) {\n      case 'note':\n        params = { position: e.coordinates };\n        if (this.draw.properties['group']) {\n          params['group'] = this.draw.properties['group'];\n        }\n        this.skres.showNoteEditor(params);\n        break;\n      case 'waypoint':\n        this.skres.showWaypointEditor({ position: e.coordinates as Position });\n        break;\n      case 'route':\n        this.skres.showRouteNew({ coordinates: e.coordinates as LineString });\n        break;\n      case 'region':\n        region = new SKRegion();\n        region.feature.geometry.coordinates = [\n          GeoUtils.normaliseCoords(e.coordinates as Polygon)\n        ];\n        this.skres.createRegion(region);\n        break;\n    }\n    // clean up\n    this.draw.mode = null;\n    this.draw.modify = false;\n    this.app.data.map.suppressContextMenu = false;\n  }\n\n  // ** End Draw / modify / Measure mode **\n  public cancelDraw() {\n    if (this.draw.modify && this.draw.forSave && this.draw.forSave.id) {\n      if (this.draw.forSave.id === 'anchor') {\n        this.draw.forSave = null;\n        this.app.data.activeRouteIsEditing = false;\n        this.focusMap();\n      } else {\n        // save changes\n        this.app\n          .showConfirm(\n            `Do you want to save the changes made to ${\n              this.draw.forSave.id.split('.')[0]\n            }?`,\n            'Save Changes'\n          )\n          .subscribe((res) => {\n            const r = this.draw.forSave.id.split('.');\n            if (res) {\n              // save changes\n              if (r[0] === 'route') {\n                this.skres.updateRouteCoords(\n                  r[1],\n                  this.draw.forSave.coords,\n                  this.draw.forSave.coordsMetadata\n                );\n              }\n              if (r[0] === 'waypoint') {\n                this.skres.updateWaypointPosition(\n                  r[1],\n                  this.draw.forSave.coords\n                );\n                // if waypoint the target destination update nextPoint\n                if (r[1] === this.app.data.activeWaypoint) {\n                  this.skres.setDestination({\n                    latitude: this.draw.forSave.coords[1],\n                    longitude: this.draw.forSave.coords[0]\n                  });\n                }\n              }\n              if (r[0] === 'note') {\n                this.skres.updateNotePosition(r[1], this.draw.forSave.coords);\n              }\n              if (r[0] === 'region') {\n                this.skres.updateRegionCoords(r[1], this.draw.forSave.coords);\n              }\n            } else {\n              if (r[0] === 'route') {\n                this.skres.getRoutes();\n              }\n              if (r[0] === 'waypoint') {\n                this.skres.getWaypoints();\n              }\n              if (r[0] === 'note' || r[0] === 'region') {\n                this.skres.getNotes();\n              }\n            }\n            this.draw.forSave = null;\n            this.app.data.activeRouteIsEditing = false;\n            this.focusMap();\n          });\n      }\n    }\n    // clean up\n    this.draw.enabled = false;\n    this.draw.mode = null;\n    this.draw.modify = false;\n    this.measure.enabled = false;\n    this.app.data.editingId = null;\n    this.app.data.map.suppressContextMenu = false;\n    this.app.data.measurement = { coords: [], index: -1 };\n  }\n\n  // ******** SIGNAL K STREAM *************\n\n  // ** fetch resource types from server **\n  fetchResources(allTypes = false) {\n    this.skres.getRoutes();\n    this.skres.getWaypoints();\n    this.skres.getCharts();\n    //this.skres.fetchRegions();\n    this.skres.getNotes();\n    if (allTypes) {\n      this.fetchOtherResources(true);\n    }\n  }\n\n  // ** fetch non-standard resources from server **\n  fetchOtherResources(onlySelected = false) {\n    this.skres.trackCacheRefresh();\n    this.app.config.resources.paths.forEach((i) => {\n      this.skresOther.getItems(i, onlySelected);\n    });\n  }\n\n  // ** open WS Stream\n  private openSKStream(\n    options: StreamOptions = null,\n    toMode: SKSTREAM_MODE = SKSTREAM_MODE.REALTIME,\n    restart = false\n  ) {\n    if (restart) {\n      this.streamOptions = { options: options, toMode: toMode };\n      this.stream.close();\n      return;\n    }\n    this.stream.open(options);\n  }\n\n  // ** query server for current values **\n  private queryAfterConnect() {\n    if (this.signalk.server.info.version.split('.')[0] === '1') {\n      this.app.showAlert(\n        'Unsupported Server Version:',\n        'The connected Signal K server is not supported by this version of Freeboard-SK.\\n Signal K server version 2 or later is required!'\n      );\n    }\n    this.app.alignResourcesPaths();\n    this.signalk.api.getSelf().subscribe(\n      (r) => {\n        this.stream.post({\n          cmd: 'vessel',\n          options: { context: 'self', name: r['name'] }\n        });\n        this.fetchResources(true); // ** fetch all resource types from server\n        if (this.app.config.selections.trailFromServer) {\n          this.skres.getVesselTrail(); // request trail from server\n        }\n        // ** query anchor alarm status\n        this.anchor.queryAnchorStatus(\n          undefined,\n          this.app.data.vessels.self.position\n        );\n      },\n      (err: HttpErrorResponse) => {\n        if (err.status && err.status === 401) {\n          this.showLogin(null, false, true);\n        }\n        this.app.debug('No vessel data available!');\n      }\n    );\n    this.app.fetchPluginSettings();\n  }\n\n  // ** handle connection established\n  private onConnect(e?: NotificationMessage | UpdateMessage) {\n    this.app.showMessage('Connection Open.', false, 2000);\n    this.app.debug(e);\n    // ** query server for status\n    this.queryAfterConnect();\n    // ** start trail timer\n    this.startTimers();\n  }\n\n  // ** handle connection closure\n  private onClose(e?: NotificationMessage | UpdateMessage) {\n    this.app.debug('onClose: STREAM connection closed...');\n    this.app.debug(e);\n    this.stopTimers();\n    if (e.result) {\n      // closed by command then restart\n      this.openSKStream(this.streamOptions.options, this.streamOptions.toMode);\n    } else {\n      const data = {\n        title: 'Connection Closed:',\n        buttonText: 'Re-connect',\n        message: ''\n      };\n      if (e.playback) {\n        data.buttonText = 'OK';\n        data.message = 'Unable to open Playback connection.';\n\n        this.app\n          .showAlert(data.message, data.title, data.buttonText)\n          .subscribe(() => {\n            if (this.mode === SKSTREAM_MODE.REALTIME) {\n              this.switchMode(this.mode);\n            } else {\n              this.showPlaybackSettings();\n            }\n          });\n      } else {\n        if (!this.reconnecting) {\n          this.reconnecting = true;\n          setTimeout(() => {\n            this.reconnecting = false;\n            this.openSKStream(this.streamOptions.options, this.mode);\n          }, 5000);\n        }\n      }\n    }\n  }\n\n  private reconnecting = false;\n\n  // ** handle error message\n  private onError(e?: NotificationMessage | UpdateMessage) {\n    this.app.showMessage('Connection Error!', false, 2000);\n    console.warn('Stream Error!', e);\n  }\n\n  // ** handle delta message received\n  private onMessage(e: NotificationMessage | UpdateMessage) {\n    if (e.action === 'hello') {\n      // ** hello message\n      this.app.debug(e);\n      if (e.playback) {\n        this.mode = SKSTREAM_MODE.PLAYBACK;\n      } else {\n        this.mode = SKSTREAM_MODE.REALTIME;\n        this.stream.subscribe();\n      }\n      this.app.data.selfId = e.self;\n      return;\n    } else if (e.action === 'update') {\n      // delta message\n      if (this.mode === SKSTREAM_MODE.PLAYBACK) {\n        const d = new Date(e.timestamp);\n        this.display.playback.time = `${d.toDateString().slice(4)} ${d\n          .toTimeString()\n          .slice(0, 8)}`;\n      } else {\n        this.display.playback.time = null;\n        this.setDarkTheme();\n        if (\n          e.result.self.resourceUpdates &&\n          e.result.self.resourceUpdates.length !== 0\n        ) {\n          this.skres.processDelta(e.result.self.resourceUpdates);\n        }\n      }\n      this.updateNavPanel();\n    }\n  }\n\n  // ** Update NavData Panel display **\n  private updateNavPanel() {\n    this.display.navDataPanel.show =\n      this.app.data.activeRoute ||\n      this.app.data.activeWaypoint ||\n      this.app.data.navData.position\n        ? true\n        : false;\n\n    this.display.navDataPanel.nextPointCtrl = this.app.data.activeRoute\n      ? true\n      : false;\n\n    //autopilot\n    if (this.app.data.vessels.self.autopilot.enabled) {\n      this.display.navDataPanel.apModeColor = 'primary';\n    } else {\n      this.display.navDataPanel.apModeColor = '';\n    }\n\n    this.display.navDataPanel.apModeText = this.app.data.vessels.self.autopilot\n      .default\n      ? 'Autopilot: ' + this.app.data.vessels.self.autopilot.default\n      : '';\n  }\n}\n","<div [ngClass]=\"{ 'dark-theme': app.config.darkMode.enabled }\">\n  <div class=\"appframe mat-app-background\">\n    <!--toolbar button menus-->\n    <mat-menu #layersmenu=\"matMenu\">\n      <button mat-menu-item (click)=\"displayLeftMenu('routeList', true)\">\n        <mat-icon class=\"icon-route\" svgIcon=\"route\"></mat-icon>\n        &nbsp;Routes\n      </button>\n      <button mat-menu-item (click)=\"displayLeftMenu('waypointList', true)\">\n        <mat-icon class=\"icon-waypoint\">location_on</mat-icon>\n        &nbsp;Waypoints\n      </button>\n      <button mat-menu-item (click)=\"displayLeftMenu('noteList', true)\">\n        <mat-icon>local_offer</mat-icon>\n        &nbsp;Notes\n      </button>\n      <button mat-menu-item (click)=\"displayLeftMenu('chartList', true)\">\n        <mat-icon>map</mat-icon>\n        &nbsp;Charts\n      </button>\n\n      <mat-divider></mat-divider>\n      <button mat-menu-item>\n        <ap-file-input\n          accept=\".gpx,.json\"\n          [astext]=\"true\"\n          (chosen)=\"importFile($event)\"\n        >\n          <mat-icon class=\"ob\" svgIcon=\"route-import\"></mat-icon>\n          Import\n        </ap-file-input>\n      </button>\n      <button mat-menu-item (click)=\"exportToGPX()\">\n        <mat-icon class=\"ob\" svgIcon=\"route-export\"></mat-icon>\n        &nbsp;Export\n      </button>\n\n      @if(app.config.resources.paths.length !== 0) {\n      <div>\n        <mat-divider></mat-divider>\n        @for(p of app.config.resources.paths.sort(); track p) {\n        <div>\n          @switch(p) { @case('tracks') {\n          <button mat-menu-item (click)=\"displayLeftMenu('trackList', true)\">\n            <mat-icon class=\"icon-warn\">show_chart</mat-icon>\n            &nbsp;Tracks\n          </button>\n          } @default {\n          <button\n            mat-menu-item\n            (click)=\"openExperiment({ choice: p, value: null })\"\n          >\n            <mat-icon\n              class=\"ob\"\n              svgIcon=\"chart-display-settings-iec\"\n            ></mat-icon>\n            &nbsp;{{ p }}\n          </button>\n          } }\n        </div>\n        }\n      </div>\n      }\n    </mat-menu>\n\n    <mat-menu #settingsmenu=\"matMenu\">\n      @if(app.config.selections.vessel.trail && app.data.trail.length !== 0) {\n      <a mat-menu-item (click)=\"clearTrail(app.data.serverTrail)\">\n        <mat-icon>clear_all</mat-icon>\n        <span>{{ app.data.serverTrail ? 'Refresh' : 'Clear' }} Trail</span>\n      </a>\n      } @if(app.config.selections.vessel.trail && app.data.trail.length !== 0) {\n      <a mat-menu-item (click)=\"trailToRoute()\">\n        <mat-icon>insights</mat-icon>\n        <span>Trail to Route</span>\n      </a>\n      } @if(app.data.navData.position){\n      <a mat-menu-item (click)=\"clearDestination()\">\n        <mat-icon>clear_all</mat-icon>\n        @if(app.data.activeRoute) {\n        <span>Clear Active Route</span>\n        } @else {\n        <span>Clear Destination</span>\n        }\n      </a>\n      <a mat-menu-item (click)=\"clearCourseData()\">\n        <mat-icon>clear_all</mat-icon>\n        <span>Clear Course Data</span>\n      </a>\n      }\n      <mat-divider></mat-divider>\n      <a mat-menu-item (click)=\"toggleCourseData()\">\n        <mat-icon>{{\n          app.config.courseData ? 'visibility_off' : 'compare_arrows'\n        }}</mat-icon>\n        <span>{{ app.config.courseData ? 'Hide' : 'Show' }} Course Data</span>\n      </a>\n      <a mat-menu-item (click)=\"toggleAisTargets()\">\n        <mat-icon>{{\n          app.config.aisTargets ? 'visibility_off' : 'directions_boat'\n        }}</mat-icon>\n        <span>{{ app.config.aisTargets ? 'Hide' : 'Show' }} Vessels</span>\n      </a>\n      <a mat-menu-item (click)=\"toggleNotes()\">\n        <mat-icon>{{\n          app.config.notes ? 'visibility_off' : 'local_offer'\n        }}</mat-icon>\n        <span>{{ app.config.notes ? 'Hide' : 'Show' }} Notes</span>\n      </a>\n      <mat-divider></mat-divider>\n      <a mat-menu-item (click)=\"showWeather('forecast')\">\n        <mat-icon>air</mat-icon>\n        <span>Weather Forecast</span>\n      </a>\n      <mat-divider></mat-divider>\n      <a mat-menu-item (click)=\"openSettings()\">\n        <mat-icon>settings</mat-icon>\n        <span>Settings</span>\n      </a>\n    </mat-menu>\n\n    <mat-menu #editmenu=\"matMenu\">\n      <a mat-menu-item (click)=\"measureStart()\">\n        <mat-icon>straighten</mat-icon>\n        <span>Measure</span>\n      </a>\n      <mat-divider></mat-divider>\n      <a mat-menu-item (click)=\"drawStart('route')\">\n        <mat-icon class=\"icon-route\" svgIcon=\"route-planning\"></mat-icon>\n        <span>Draw Route</span>\n      </a>\n      <a mat-menu-item (click)=\"app.data.buildRoute.show = true\">\n        <mat-icon class=\"icon-route\" svgIcon=\"route-planning\"></mat-icon>\n        <span>Build Route</span>\n      </a>\n      <mat-divider></mat-divider>\n      @if(app.data.vessels.showSelf) {\n      <a\n        mat-menu-item\n        (click)=\"\n          skres.showWaypointEditor(null, app.data.vessels.active.position)\n        \"\n      >\n        <mat-icon class=\"icon-waypoint\">add_location</mat-icon>\n        <span>Add Waypoint at Vessel</span>\n      </a>\n      }\n      <a mat-menu-item (click)=\"drawStart('waypoint')\">\n        <mat-icon class=\"icon-waypoint\">edit_location</mat-icon>\n        <span>Drop Waypoint</span>\n      </a>\n      <mat-divider></mat-divider>\n      @if(this.app.config.map.zoomLevel >=\n      this.app.config.selections.notesMinZoom) {\n      <a mat-menu-item (click)=\"drawStart('note')\">\n        <mat-icon>local_offer</mat-icon>\n        <span>Add Note</span>\n      </a>\n      }\n      <a mat-menu-item (click)=\"drawStart('region')\">\n        <mat-icon>tab_unselected</mat-icon>\n        <span>Draw Region</span>\n      </a>\n    </mat-menu>\n\n    <mat-menu #mainmenu=\"matMenu\">\n      @if(!app.hostParams.token && app.data.loginRequired){\n      <a mat-menu-item (click)=\"showLogin(null, false)\">\n        <mat-icon\n          [matBadge]=\"app.data.loggedInBadgeText\"\n          matBadgeOverlap=\"true\"\n          matBadgeSize=\"medium\"\n          matBadgePosition=\"below after\"\n          [matBadgeHidden]=\"app.data.loggedIn\"\n          aria-hidden=\"false\"\n        >\n          account_circle\n        </mat-icon>\n        <span>{{ app.data.loggedIn ? 'Change User' : 'Login' }}</span>\n      </a>\n      }\n      <mat-divider></mat-divider>\n      @if((!draw.enabled || !measure.enabled) && app.data.anchor.hasApi) {\n      <a mat-menu-item (click)=\"displayLeftMenu('anchorWatch', true)\">\n        <mat-icon>anchor</mat-icon>\n        <span>Anchor Watch</span>\n      </a>\n      }\n      <a mat-menu-item (click)=\"displayLeftMenu('aisList', true)\">\n        <mat-icon>directions_boat</mat-icon>\n        <span>Vessels</span>\n      </a>\n\n      <a mat-menu-item (click)=\"importResourceSet()\">\n        <mat-icon>upload</mat-icon>\n        <span>Resource Sets</span>\n      </a>\n\n      @if(features.playbackAPI) {\n      <a mat-menu-item (click)=\"showPlaybackSettings()\">\n        <mat-icon>history</mat-icon>\n        <span>Playback History</span>\n      </a>\n      }\n\n      <mat-divider></mat-divider>\n      <a mat-menu-item (click)=\"openSettings()\">\n        <mat-icon>settings</mat-icon>\n        <span>Settings</span>\n      </a>\n      <mat-divider></mat-divider>\n      <a mat-menu-item (click)=\"openAbout()\">\n        <mat-icon class=\"icon-accent\">info_outline</mat-icon>\n        <span>About</span>\n      </a>\n\n      <button mat-menu-item (click)=\"app.showHelp()\">\n        <mat-icon class=\"icon-accent\">help</mat-icon>\n        <span>Help</span>\n      </button>\n    </mat-menu>\n    <!--/toolbar button menus-->\n\n    <!-- content -->\n    <div class=\"view\" theme-main>\n      <mat-sidenav-container hasBackdrop=\"false\">\n        <!-- Single shared sidenav for both Instruments and Remote Control -->\n        @if(app.data.optAppPanel) {\n        <mat-sidenav\n          #sideright\n          mode=\"side\"\n          position=\"end\"\n          (openedChange)=\"rightSideNavAction($event)\"\n          style=\"width: 350px; transition: transform 300ms ease-in-out;\"\n        >\n          <!-- Instruments Panel Layout -->\n          <div\n            *ngIf=\"!display.remoteControl && !isAnimatingRemoteControl\"\n            style=\"display: flex; flex-direction: column; position: relative\"\n          >\n            <mat-nav-list>\n              <a mat-list-item>\n                <a mat-icon-button (click)=\"sideright.toggle()\">\n                  <mat-icon>arrow_forward</mat-icon>\n                </a>\n                &nbsp;&nbsp;&nbsp;&nbsp; @if(app.config.plugins.instruments) {\n                <a\n                  mat-icon-button\n                  [href]=\"instUrl\"\n                  (click)=\"sideright.toggle()\"\n                  target=\"_blank\"\n                  matTooltip=\"Open Instruments in window.\"\n                  matTooltipPosition=\"right\"\n                >\n                  <mat-icon>open_in_new</mat-icon>\n                </a>\n                } &nbsp;&nbsp;\n                <a\n                  mat-icon-button\n                  (click)=\"selectPlugin()\"\n                  [disabled]=\"\n                    app.config.selections.pluginFavourites.length === 0\n                  \"\n                  matTooltip=\"Previous plugin\"\n                  matTooltipPosition=\"below\"\n                >\n                  <mat-icon>arrow_back_ios</mat-icon>\n                </a>\n                <a\n                  mat-icon-button\n                  (click)=\"selectPlugin(true)\"\n                  [disabled]=\"\n                    app.config.selections.pluginFavourites.length === 0\n                  \"\n                  matTooltip=\"Next plugin\"\n                  matTooltipPosition=\"below\"\n                >\n                  <mat-icon>arrow_forward_ios</mat-icon>\n                </a>\n              </a>\n              <mat-divider></mat-divider>\n            </mat-nav-list>\n            <div\n              style=\"\n                position: fixed;\n                bottom: 0;\n                top: 48px;\n                overflow: auto;\n                -webkit-overfow-scrolling: touch;\n              \"\n            >\n              <!-- Show instruments when active -->\n              @if(display.instrumentAppActive) {\n              <iframe\n                [src]=\"instUrl\"\n                style=\"width: 345px; height: 100%\"\n                sandbox=\"allow-scripts allow-same-origin\"\n              >\n              </iframe>\n              }\n            </div>\n          </div>\n          \n          <!-- Remote Control Panel Layout - Display during both active state and animation -->\n          <div \n            *ngIf=\"display.remoteControl || isAnimatingRemoteControl\"\n            style=\"width: 100%; height: 100%; display: flex; flex-direction: column;\">\n            <remote-control\n              [navData]=\"app.data.navData\"\n              (closed)=\"toggleRemoteControl()\"\n              style=\"width: 100%; height: 100%;\"\n            ></remote-control>\n          </div>\n        </mat-sidenav>\n        }\n        <mat-sidenav-content style=\"overflow: hidden\">\n          @if(app.sIsFetching()) {\n          <div\n            style=\"\n              z-index: 4700;\n              position: fixed;\n              top: 0px;\n              left: 0px;\n              width: 100%;\n            \"\n          >\n            <mat-progress-bar mode=\"query\"></mat-progress-bar>\n          </div>\n          } @if(app.data.autopilot.console) {\n          <autopilot-console></autopilot-console>\n          } @if(app.data.buildRoute.show) {\n          <route-builder (save)=\"skres.showRouteNew($event)\"> </route-builder>\n          } @if(!app.data.kioskMode && !this.app.data.map.suppressContextMenu) {\n          <!-- left button bar -->\n          <div class=\"leftTop buttonPanel\">\n            <div class=\"buttonPanelItem\">\n              <button\n                class=\"button-secondary\"\n                mat-mini-fab\n                [disabled]=\"draw.enabled || measure.enabled\"\n                [matBadge]=\"app.data.loggedInBadgeText\"\n                matBadgeOverlap=\"true\"\n                [matBadgeHidden]=\"app.data.loggedIn\"\n                matTooltip=\"Menu\"\n                matTooltipPosition=\"right\"\n                [matMenuTriggerFor]=\"mainmenu\"\n                aria-hidden=\"false\"\n              >\n                <mat-icon>menu</mat-icon>\n              </button>\n            </div>\n          </div>\n          @if(app.config.toolBarButtons) {\n          <div class=\"buttonPanel left\">\n            <div class=\"buttonPanelItem\">\n              <button\n                class=\"button-warn\"\n                mat-mini-fab\n                matTooltip=\"Alarms\"\n                matTooltipPosition=\"left\"\n                [matBadge]=\"notiMgr.alerts().length\"\n                matBadgeOverlap=\"true\"\n                [matBadgeHidden]=\"notiMgr.alerts().length === 0\"\n                (click)=\"toggleAlertList(true)\"\n                aria-hidden=\"false\"\n              >\n                <mat-icon class=\"ob\" svgIcon=\"alert-list\"></mat-icon>\n              </button>\n            </div>\n            <div class=\"buttonPanelItem\">\n              <button\n                class=\"button-accent\"\n                mat-mini-fab\n                [disabled]=\"draw.enabled || measure.enabled\"\n                matTooltip=\"Routes, Waypoints, Notes, etc.\"\n                matTooltipPosition=\"right\"\n                [matMenuTriggerFor]=\"layersmenu\"\n              >\n                <mat-icon>layers</mat-icon>\n              </button>\n            </div>\n            <div class=\"buttonPanelItem\">\n              <button\n                class=\"button-toolbar\"\n                mat-mini-fab\n                [disabled]=\"draw.enabled || measure.enabled\"\n                matTooltip=\"Draw / Measure\"\n                matTooltipPosition=\"right\"\n                [matMenuTriggerFor]=\"editmenu\"\n              >\n                <mat-icon>edit</mat-icon>\n              </button>\n            </div>\n            <div class=\"buttonPanelItem\">\n              <button\n                mat-mini-fab\n                [ngClass]=\"{\n                  'button-northup-active': !app.sMapNorthUp(),\n                  'button-toolbar': app.sMapNorthUp()\n                }\"\n                (click)=\"toggleNorthUp()\"\n                [matTooltip]=\"\n                  app.config.map.northUp ? 'Show Heading Up' : 'Show North Up'\n                \"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon\n                  class=\"ob\"\n                  [svgIcon]=\"\n                    app.config.map.northUp ? 'heading-n-up' : 'heading-h-up'\n                  \"\n                >\n                </mat-icon>\n              </button>\n            </div>\n            <div class=\"buttonPanelItem\">\n              <button\n                mat-mini-fab\n                [ngClass]=\"{\n                  'button-primary': app.config.map.moveMap,\n                  'button-toolbar': !app.config.map.moveMap\n                }\"\n                (click)=\"toggleMoveMap()\"\n                [disabled]=\"!app.data.vessels.showSelf\"\n                [matTooltip]=\"\n                  app.config.map.moveMap\n                    ? 'Turn off Follow Vessel'\n                    : 'Follow Vessel'\n                \"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon class=\"ob\" svgIcon=\"cent-iec\"></mat-icon>\n              </button>\n            </div>\n            @if(!app.config.map.moveMap) {\n            <div class=\"buttonPanelItem\">\n              <button\n                class=\"button-toolbar\"\n                mat-mini-fab\n                (click)=\"centerVessel()\"\n                [disabled]=\"!app.data.vessels.showSelf\"\n                matTooltip=\"Center Vessel\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon> center_focus_strong </mat-icon>\n              </button>\n            </div>\n            }\n            <div class=\"buttonPanelItem\">\n              <button\n                mat-mini-fab\n                [ngClass]=\"{\n                  'button-remote-active': display.remoteControl,\n                  'button-toolbar': !display.remoteControl\n                }\"\n                (click)=\"toggleRemoteControl()\"\n                matTooltip=\"Activate Remote Control\"\n                matTooltipPosition=\"right\"\n              >\n              <mat-icon class=\"ob\" svgIcon=\"remote_control\"></mat-icon>\n              </button>\n            </div>\n            <div class=\"buttonPanelItem\">\n              <button\n                mat-mini-fab\n                [ngClass]=\"{\n                  'button-autonomous-active': app.config.selections.autonomousControl,\n                  'button-toolbar': !app.config.selections.autonomousControl\n                }\"\n                (click)=\"toggleAutonomousControl()\"\n                matTooltip=\"Activate Autonomous Control\"\n                matTooltipPosition=\"right\"\n              >\n              <mat-icon class=\"ob\" svgIcon=\"autonomous_control\"></mat-icon>\n              </button>\n            </div>\n            <div class=\"buttonPanelItem\">\n              <button\n                class=\"button-toolbar\"\n                mat-mini-fab\n                [disabled]=\"draw.enabled || measure.enabled\"\n                matTooltip=\"More actions\"\n                matTooltipPosition=\"right\"\n                [matMenuTriggerFor]=\"settingsmenu\"\n              >\n                <mat-icon>more_horiz</mat-icon>\n              </button>\n            </div>\n            @if(mode === 1) {\n            <div class=\"buttonPanelItem\">\n              <!-- Playback mode -->\n              <button\n                class=\"button-warn\"\n                mat-mini-fab\n                matTooltip=\"Exit playback mode\"\n                matTooltipPosition=\"right\"\n                (click)=\"showSelectMode()\"\n              >\n                <mat-icon>cancel</mat-icon>\n              </button>\n            </div>\n            }\n          </div>\n          }\n          <!-- /left button bar-->\n\n          <!--left menu panel-->\n          @if(display.leftMenuPanel) {\n          <div class=\"leftMenuPanel\">\n            @if(display.routeList) { @defer {\n            <route-list\n              [routes]=\"app.data.routes\"\n              [activeRoute]=\"app.data.activeRoute\"\n              [editingRouteId]=\"app.data.editingId\"\n              (select)=\"skres.routeSelected()\"\n              (delete)=\"skres.showRouteDelete($event)\"\n              (activate)=\"activateRoute($event.id)\"\n              (deactivate)=\"clearDestination()\"\n              (refresh)=\"skres.getRoutes()\"\n              (properties)=\"skres.resourceProperties($event)\"\n              (points)=\"featureProperties({ id: $event.id, type: 'route' })\"\n              (notes)=\"\n                skres.showRelatedNotes($event.id, 'route', $event.readOnly)\n              \"\n              (closed)=\"displayLeftMenu()\"\n            >\n            </route-list>\n            } } @if(display.waypointList) { @defer {\n            <waypoint-list\n              [waypoints]=\"app.data.waypoints\"\n              [activeWaypoint]=\"app.data.activeWaypoint\"\n              [editingWaypointId]=\"app.data.editingId\"\n              (select)=\"skres.waypointSelected()\"\n              (delete)=\"skres.showWaypointDelete($event)\"\n              (goto)=\"skres.navigateToWaypoint($event)\"\n              (deactivate)=\"clearDestination()\"\n              (refresh)=\"skres.getWaypoints()\"\n              (properties)=\"skres.resourceProperties($event)\"\n              (center)=\"centerResource($event)\"\n              (notes)=\"\n                skres.showRelatedNotes($event.id, 'waypoint', $event.readOnly)\n              \"\n              (closed)=\"displayLeftMenu()\"\n            >\n            </waypoint-list>\n            } } @if(display.chartList) { @defer {\n            <chart-list\n              [charts]=\"app.data.charts\"\n              [selectedCharts]=\"app.config.selections.charts\"\n              (select)=\"skres.chartSelected()\"\n              (delete)=\"skres.showChartDelete($event)\"\n              (orderChange)=\"skres.chartOrder()\"\n              (refresh)=\"skres.getCharts()\"\n              (closed)=\"displayLeftMenu()\"\n            >\n            </chart-list>\n            } } @if(display.noteList) { @defer {\n            <note-list\n              [notes]=\"app.data.notes\"\n              (select)=\"skres.noteSelected($event)\"\n              (refresh)=\"skres.getNotes()\"\n              (pan)=\"centerResource($event.center, $event.zoomLevel)\"\n              (closed)=\"displayLeftMenu()\"\n            >\n            </note-list>\n            } } @if(display.trackList) { @defer {\n            <track-list\n              (center)=\"centerResource($event)\"\n              (closed)=\"displayLeftMenu()\"\n            >\n            </track-list>\n            } } @if(display.aisList) { @defer {\n            <ais-list\n              [aisTargets]=\"app.data.vessels.aisTargets\"\n              [focusId]=\"app.data.vessels.activeId\"\n              (select)=\"skres.aisSelected($event)\"\n              (properties)=\"featureProperties({ id: $event, type: 'ais' })\"\n              (closed)=\"displayLeftMenu()\"\n              (focusVessel)=\"switchActiveVessel($event)\"\n              (pan)=\"centerResource($event.center, $event.zoomLevel)\"\n            >\n            </ais-list>\n            } } @if(display.anchorWatch) {\n            <anchor-watch\n              [showSelf]=\"app.data.vessels.showSelf\"\n              [radius]=\"this.anchor.radius()\"\n              [feet]=\"app.config.units.depth !== 'm' ? true : false\"\n              [raised]=\"anchor.raised()\"\n              (closed)=\"displayLeftMenu()\"\n            >\n            </anchor-watch>\n            }\n          </div>\n          }\n\n          <!-- right button bar -->\n          <!-- show/hide  -->\n          <div class=\"rightTop buttonPanel\">\n            <div class=\"buttonPanelItem\">\n              <button\n                class=\"button-secondary\"\n                mat-mini-fab\n                (click)=\"toggleToolbarButtons()\"\n                [matTooltip]=\"\n                  app.config.toolBarButtons ? 'Hide Buttons' : 'Show Buttons'\n                \"\n                matTooltipPosition=\"below\"\n              >\n                <mat-icon>{{\n                  app.config.toolBarButtons ? 'apps' : 'apps_outage'\n                }}</mat-icon>\n              </button>\n            </div>\n          </div>\n          @if(app.config.toolBarButtons) {\n          <div class=\"buttonPanel right\">\n            <!-- instrument sidebar open button -->\n            <div class=\"instrumentPanelToggle buttonPanelItem\">\n              @if(app.data.optAppPanel && !draw.enabled && !measure.enabled &&\n              !app.data.vessels.activeId) {\n              <button\n                class=\"button-toolbar\"\n                mat-mini-fab\n                (click)=\"sideright.toggle()\"\n                matTooltip=\"Instruments\"\n                matTooltipPosition=\"below\"\n              >\n                <mat-icon>av_timer</mat-icon>\n              </button>\n              }\n              <br />&nbsp;<br />&nbsp;\n            </div>\n\n            <!-- Web audio enable -->\n            @if(display.audio.state !== 'running') {\n            <div class=\"buttonPanelItem\">\n              <button\n                class=\"button-toolbar\"\n                mat-mini-fab\n                matTooltip=\"Web Audio off! Click to enable.\"\n                matTooltipPosition=\"left\"\n                (click)=\"enableAudio()\"\n              >\n                <mat-icon class=\"icon-warn\">volume_off</mat-icon>\n              </button>\n              <br />&nbsp;<br />\n            </div>\n            }\n\n            <!-- fullscreen enable -->\n            @if(display.fullscreen.enabled) {\n            <div class=\"buttonPanelItem\">\n              <button\n                mat-mini-fab\n                [ngClass]=\"{\n                  'icon-warn': display.fullscreen.active,\n                  'button-toolbar': !display.fullscreen.active\n                }\"\n                (click)=\"toggleFullscreen()\"\n                [matTooltip]=\"\n                  display.fullscreen.active\n                    ? 'Exit Fullscreen '\n                    : 'Go Fullscreen'\n                \"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon>\n                  {{\n                    display.fullscreen.active\n                      ? 'fullscreen_exit '\n                      : 'fullscreen'\n                  }}\n                </mat-icon>\n              </button>\n              <br />&nbsp;<br />\n            </div>\n            }\n            <!-- WakeLock enable -->\n            <div class=\"buttonPanelItem\">\n              <wakelock\n                [setOn]=\"app.config.selections.wakeLock\"\n                (has)=\"handleHasWakeLock($event)\"\n                (change)=\"handleWakelockChange($event)\"\n              ></wakelock>\n              @if(app.data.hasWakeLock) {\n              <span><br />&nbsp;<br /></span>\n              }\n            </div>\n\n            <!-- Experiments -->\n            @if(app.config.experiments) {\n            <div class=\"buttonPanelItem\">\n              <fb-experiments\n                (selected)=\"openExperiment($event)\"\n              ></fb-experiments>\n              <br />&nbsp;<br />\n            </div>\n            }\n            <!-- PiP enable -->\n            @if(app.config.resources.video.enable &&\n            app.config.resources.video.url) {\n            <div class=\"buttonPanelItem\">\n              <pip-video [src]=\"vidUrl\" [muted]=\"true\" (click)=\"focusMap()\">\n              </pip-video>\n              <br />&nbsp;<br />\n            </div>\n            }\n\n            <!-- constrain zoom to selected map(s) extent -->\n            <div class=\"buttonPanelItem\">\n              <button\n                mat-mini-fab\n                [ngClass]=\"{\n                  'button-primary': app.config.map.limitZoom,\n                  'button-toolbar': !app.config.map.limitZoom\n                }\"\n                (click)=\"toggleLimitMapZoom()\"\n                matTooltip=\"Constrain map zoom.\"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon>zoom_in_map</mat-icon>\n              </button>\n              <br />&nbsp;<br />\n            </div>\n\n            <!-- Invert colors -->\n            <div class=\"buttonPanelItem\">\n              <button\n                mat-mini-fab\n                [ngClass]=\"{\n                  'button-primary': app.config.map.invertColor,\n                  'button-toolbar': !app.config.map.invertColor\n                }\"\n                (click)=\"invertAISTextColor()\"\n                matTooltip=\"Invert feature text color.\"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon>{{\n                  true ? 'invert_colors' : 'invert_colors_off'\n                }}</mat-icon>\n              </button>\n              <br />&nbsp;<br />\n            </div>\n\n            <!-- Autopilot console-->\n            @if(app.data.autopilot.hasApi &&\n            app.data.vessels.self.autopilot.default) {\n            <div class=\"buttonPanelItem\">\n              <button\n                mat-mini-fab\n                [ngClass]=\"{\n                  'button-primary': app.data.vessels.self.autopilot.enabled,\n                  'button-toolbar': !app.data.vessels.self.autopilot.enabled\n                }\"\n                matTooltip=\"Autopilot\"\n                matTooltipPosition=\"left\"\n                (click)=\"app.data.autopilot.console = true\"\n              >\n                <mat-icon> alt_route </mat-icon>\n              </button>\n              <br />&nbsp;<br />\n            </div>\n            }\n\n            <!-- Drop Waypoint button -->\n            <div class=\"buttonPanelItem\">\n              <button\n                class=\"button-accent\"\n                mat-mini-fab\n                (click)=\"\n                  skres.showWaypointEditor(null, app.data.vessels.self.position)\n                \"\n                matTooltip=\"Mark Vessel position\"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon>add_location</mat-icon>\n              </button>\n              <br />&nbsp;<br />\n            </div>\n          </div>\n          }\n          <!-- /right button bar -->\n          }\n          <!--map panel-->\n          <div\n            style=\"display: relative; width: 100%; height: 100%\"\n            (dragover)=\"mapDragOver($event)\"\n            (drop)=\"mapDrop($event)\"\n          >\n            <!-- MAP -->\n            <fb-map\n              [setFocus]=\"display.map.setFocus\"\n              [mapCenter]=\"display.map.center\"\n              [mapZoom]=\"app.config.map.zoomLevel\"\n              [northUp]=\"app.sMapNorthUp()\"\n              [movingMap]=\"app.config.map.moveMap\"\n              [vesselTrail]=\"app.data.trail\"\n              [activeRoute]=\"app.data.activeRoute\"\n              [dblClickZoom]=\"app.config.mapDoubleClick\"\n              [measureMode]=\"measure.enabled\"\n              (measureStart)=\"measureStart()\"\n              (measureEnd)=\"measureEnd()\"\n              [drawMode]=\"draw.mode\"\n              (drawEnd)=\"handleDrawEnd($event)\"\n              [modifyMode]=\"draw.modify\"\n              (modifyStart)=\"handleModifyStart($event)\"\n              (modifyEnd)=\"handleModifyEnd($event)\"\n              (activate)=\"activateRoute($event)\"\n              (deactivate)=\"clearDestination()\"\n              (exitedMovingMap)=\"toggleMoveMap($event)\"\n              (focusVessel)=\"switchActiveVessel($event)\"\n              (info)=\"featureProperties($event)\"\n              (menuItemSelected)=\"handleContextMenuSelection($event)\"\n            >\n            </fb-map>\n          </div>\n          <!--/map panel-->\n\n          <!-- North Arrow -->\n          <div style=\"position: absolute; top: 60px; left: 56px; width: 50px\">\n            <img\n              #northArrow\n              src=\"./assets/img/north_arrow.svg\"\n              [style.transform]=\"getOrientation()\"\n              width=\"50\"\n              height=\"70\"\n            />\n          </div>\n\n          <!-- Draw Help -->\n          @if((draw.enabled && draw.mode !== 'route') || draw.modify) {\n          <div class=\"mat-app-background measurePanel\">\n            @if(draw.enabled) {\n            <div>\n              <span style=\"font-weight: bold; padding: 5px\">\n                <mat-icon>edit</mat-icon> Drawing Help:\n              </span>\n              @if(draw.mode === 'waypoint' || draw.mode === 'note') {\n              <div style=\"padding: 5px\">\n                Click on the Map where to drop the feature.\n              </div>\n              } @if(draw.mode === 'region') {\n              <div style=\"padding: 5px\">\n                <ol\n                  style=\"\n                    margin-block-start: 0.2em;\n                    margin-block-end: 0.2em;\n                    padding-inline-start: 15px;\n                  \"\n                >\n                  <li>Click on the Map to place a vertex of the Region.</li>\n                  <li>Click on the last point to end drawing.</li>\n                </ol>\n              </div>\n              }\n            </div>\n            } @if(draw.modify) {\n            <div>\n              <span style=\"font-weight: bold; padding: 5px\">\n                <mat-icon>edit</mat-icon> Modify:\n              </span>\n              <div style=\"padding: 5px\">\n                <ol\n                  style=\"\n                    margin-block-start: 0.2em;\n                    margin-block-end: 0.2em;\n                    padding-inline-start: 15px;\n                  \"\n                >\n                  @if(draw.forSave.id === 'anchor') {\n                  <li>Click and drag to move anchor.</li>\n                  } @if(draw.forSave.id !== 'anchor') {\n                  <li>Click and drag to move point.</li>\n                  <li>Ctrl-Click or Tap-hold to remove point from line.</li>\n                  }\n                </ol>\n              </div>\n            </div>\n            } @if( !(draw.modify && draw.modifyMode === 'route')) {\n            <div style=\"text-align: center\">\n              <!-- cancel Draw button -->\n              <a\n                class=\"icon-warn\"\n                mat-raised-button\n                (click)=\"cancelDraw()\"\n                [matTooltip]=\"draw.modify ? 'Cancel Editing' : 'Cancel Draw'\"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon class=\"icon-warn\">close</mat-icon>\n                {{ draw.modify ? 'FINISH' : 'CANCEL' }}\n              </a>\n            </div>\n            }\n          </div>\n          }\n\n          <!-- *** Playback panel ***-->\n          @if(mode === 1){\n          <div class=\"playbackPanel mat-app-background\">\n            <div style=\"border-radius: 5px\">\n              <mat-icon>access_time</mat-icon> <b>Playback:</b>\n            </div>\n            <div style=\"text-align: center\">{{ display.playback.time }}</div>\n          </div>\n          }\n\n          <!-- *** Alarm / Mode panel ***-->\n          @if(!app.data.kioskMode) { @if( app.sAlertListShow()) {\n          <alert-list\n            [alerts]=\"notiMgr.alerts()\"\n            (closed)=\"toggleAlertList(false)\"\n          ></alert-list>\n          }\n          \n          <!-- Remote Control Panel is now displayed in the right side panel -->\n          <div class=\"alarmPanel\">\n            @for(n of notiMgr.alerts(); track n[0]) {\n            <span style=\"margin-bottom: 5px\">\n              <fb-alert\n                [audioStatus]=\"display.audio.state\"\n                [alert]=\"n[1]\"\n                [acknowledged]=\"n[1].acknowledged\"\n                [silenced]=\"n[1].silenced\"\n                [doNotPlaySound]=\"app.config.muteSound\"\n                (nextPoint)=\"\n                  skres.coursePointIndex(app.data.navData.pointIndex + 1)\n                \"\n              >\n              </fb-alert>\n            </span>\n            }\n          </div>\n          }\n\n          <!-- Measurement panel -->\n          @if(measure.enabled || (draw.mode === 'route' && draw.enabled) ||\n          (draw.modify && draw.modifyMode === 'route')) {\n          <fb-measurements\n            matTooltip=\"Click on the Map to start. Click cancel or the last point to end.\"\n            [coords]=\"app.data.measurement.coords\"\n            [index]=\"app.data.measurement.index\"\n            [totalOnly]=\"draw.modifyMode === 'route'\"\n            (cancel)=\"cancelDraw()\"\n          >\n          </fb-measurements>\n          }\n\n          <!-- *** Nav data panel ***-->\n          @if(!measure.enabled && !draw.enabled && !draw.modify) {\n          <div class=\"navdataPanel\">\n            @if(display.navDataPanel.nextPointCtrl) {\n            <route-nextpoint\n              [index]=\"app.data.navData.pointIndex\"\n              [total]=\"app.data.navData.pointTotal\"\n              [circular]=\"app.data.activeRouteCircular\"\n              (selected)=\"routeNextPoint($event)\"\n            >\n            </route-nextpoint>\n            } @if(app.config.courseData && display.navDataPanel.show) {\n            <div style=\"display: flex; flex-wrap: nowrap\">\n              <div class=\"mat-app-background\" style=\"display: flex\">\n                <div style=\"width: 40px\">\n                  <button\n                    mat-icon-button\n                    matTooltip=\"Course Settings\"\n                    (click)=\"openCourseSettings()\"\n                  >\n                    <mat-icon class=\"ob\" svgIcon=\"navigation-route\"></mat-icon>\n                  </button>\n                  <br />\n                  <button\n                    mat-icon-button\n                    matTooltip=\"Autopilot Console\"\n                    matTooltipPosition=\"above\"\n                    [disabled]=\"!app.data.autopilot.hasApi\"\n                    [matTooltip]=\"display.navDataPanel.apModeText\"\n                    (click)=\"app.data.autopilot.console = true\"\n                  >\n                    <mat-icon [color]=\"display.navDataPanel.apModeColor\">\n                      alt_route\n                    </mat-icon>\n                  </button>\n                </div>\n                <div>\n                  <button\n                    mat-icon-button\n                    matTooltip=\"Restart XTE\"\n                    (click)=\"skres.courseRestart()\"\n                  >\n                    <mat-icon>replay</mat-icon>\n                  </button>\n                  <br />\n                  <button\n                    mat-icon-button\n                    matTooltip=\"Reverse route direction\"\n                    matTooltipPosition=\"above\"\n                    [disabled]=\"!app.data.activeRoute\"\n                    (click)=\"skres.courseReverse()\"\n                  >\n                    <mat-icon\n                      [color]=\"\n                        app.data.activeRouteReversed ? 'primary' : 'none'\n                      \"\n                    >\n                      multiple_stop\n                    </mat-icon>\n                  </button>\n                </div>\n              </div>\n              @if(app.data.navData.vmg) {\n              <ap-dial-text\n                [title]=\"'VMG'\"\n                [value]=\"app.formatSpeed(app.data.navData.vmg, true)\"\n                [units]=\"app.formattedSpeedUnits\"\n              >\n              </ap-dial-text>\n              } @if(app.data.navData.bearing.value) {\n              <ap-dial-text\n                [title]=\"'BRG'\"\n                [value]=\"app.data.navData.bearing.value.toFixed(1)\"\n                [units]=\"\n                  app.data.navData.bearing.type === 'M' ? 'deg (M)' : 'deg (T)'\n                \"\n              >\n              </ap-dial-text>\n              } @if(app.data.navData.dtg) {\n              <ap-dial-text\n                [title]=\"'DTG'\"\n                [value]=\"app.data.navData.dtg.toFixed(1)\"\n                [units]=\"app.config.units.distance === 'm' ? 'km' : 'NM'\"\n              >\n              </ap-dial-text>\n              } @if(app.data.navData.ttg) {\n              <ap-dial-ttg [value]=\"app.data.navData.ttg\"> </ap-dial-ttg>\n              } @if(app.data.navData.xte) {\n              <ap-dial-text\n                [title]=\"'XTE'\"\n                [value]=\"\n                  app.data.navData.xte > 10\n                    ? app.data.navData.xte.toFixed(1)\n                    : app.data.navData.xte.toFixed(3)\n                \"\n                [units]=\"app.config.units.distance === 'm' ? 'km' : 'NM'\"\n              >\n              </ap-dial-text>\n              } @if(app.data.navData.eta) {\n              <ap-dial-eta [title]=\"'ETA'\" [value]=\"app.data.navData.eta\">\n              </ap-dial-eta>\n              }\n            </div>\n            }\n          </div>\n          }\n        </mat-sidenav-content>\n      </mat-sidenav-container>\n    </div>\n    <!-- /content -->\n  </div>\n</div>\n","import { Component, OnInit, Inject, ChangeDetectorRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport {\n  MatBottomSheetModule,\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { CommonDialogs } from 'src/app/lib/components/dialogs';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { Convert } from 'src/app/lib/convert';\nimport { SKStreamFacade } from 'src/app/modules';\nimport { UpdateMessage } from 'src/app/types';\nimport { Subscription } from 'rxjs';\n\n/********* Course Settings Modal ********\n\tdata: {\n        title: \"<string>\" title text\n    }\n***********************************/\n@Component({\n  selector: 'ap-course-modal',\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatInputModule,\n    MatSelectModule,\n    MatBottomSheetModule,\n    MatCardModule,\n    MatIconModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatCheckboxModule,\n    MatTooltipModule,\n    MatSlideToggleModule,\n    MatDatepickerModule,\n    CommonDialogs\n  ],\n  template: `\n    <div class=\"_ap-course\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span>\n          <mat-icon class=\"ob\" svgIcon=\"navigation-route\"></mat-icon>\n        </span>\n        <span style=\"flex: 1 1 auto; padding-left:20px;text-align:center;\">\n          {{ data.title }}\n        </span>\n        <span>\n          <button\n            mat-icon-button\n            (click)=\"closeModal()\"\n            matTooltip=\"Close\"\n            matTooltipPosition=\"below\"\n          >\n            <mat-icon>keyboard_arrow_down</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n\n      <fieldset>\n        <legend>Arrival</legend>\n\n        <mat-form-field floatLabel=\"always\">\n          <mat-label\n            >Arrival Circle radius ({{\n              app.config.units.distance === 'm'\n                ? app.config.units.distance\n                : 'NM'\n            }}):\n          </mat-label>\n          <input\n            id=\"arrivalCircle\"\n            matInput\n            type=\"number\"\n            min=\"0\"\n            [value]=\"frmArrivalCircle\"\n            (change)=\"onFormChange($event)\"\n            placeholder=\"500\"\n            matTooltip=\"Enter Arrival circle radius\"\n          />\n        </mat-form-field>\n\n        <div style=\"padding-right: 10px;\">\n          <mat-slide-toggle\n            id=\"targetarrivalenable\"\n            labelPosition=\"before\"\n            [hideIcon]=\"true\"\n            [(checked)]=\"targetArrivalEnabled\"\n            (change)=\"toggleTargetArrival($event)\"\n          >\n            Target Arrival time\n          </mat-slide-toggle>\n        </div>\n\n        <div style=\"display:flex; flex-wrap:wrap;\">\n          <div>\n            <mat-form-field floatLabel=\"always\">\n              <mat-label>Date</mat-label>\n              <input\n                id=\"arrivalDate\"\n                [disabled]=\"!targetArrivalEnabled\"\n                matInput\n                required\n                [matDatepicker]=\"picker\"\n                [min]=\"minDate\"\n                [(ngModel)]=\"arrivalData.datetime\"\n                (dateChange)=\"onFormChange($event)\"\n                placeholder=\"Choose a start date\"\n              />\n              <mat-hint>MM/DD/YYYY</mat-hint>\n              <mat-datepicker-toggle\n                matIconSuffix\n                [for]=\"picker\"\n              ></mat-datepicker-toggle>\n              <mat-datepicker #picker></mat-datepicker>\n            </mat-form-field>\n          </div>\n\n          <div style=\"display:flex;flex-wrap:nowrap;\">\n            <mat-form-field style=\"width:100px;\">\n              <mat-label>Hour</mat-label>\n              <mat-select\n                id=\"arrivalHour\"\n                [(ngModel)]=\"arrivalData.hour\"\n                [disabled]=\"!targetArrivalEnabled\"\n                (selectionChange)=\"onFormChange($event)\"\n              >\n                @for(i of hrValues(); track i) {\n                <mat-option [value]=\"i\">{{ i }}</mat-option>\n                }\n              </mat-select>\n            </mat-form-field>\n\n            <mat-form-field style=\"width:100px;\">\n              <mat-label>Minutes</mat-label>\n              <mat-select\n                id=\"arrivalMinutes\"\n                [(ngModel)]=\"arrivalData.minutes\"\n                [disabled]=\"!targetArrivalEnabled\"\n                (selectionChange)=\"onFormChange($event)\"\n              >\n                @for(i of minValues(); track i) {\n                <mat-option [value]=\"i\">{{ i }}</mat-option>\n                }\n              </mat-select>\n            </mat-form-field>\n\n            <mat-form-field style=\"width:100px;\">\n              <mat-label>seconds</mat-label>\n              <mat-select\n                id=\"arrivalSeconds\"\n                [(ngModel)]=\"arrivalData.seconds\"\n                [disabled]=\"!targetArrivalEnabled\"\n                (selectionChange)=\"onFormChange($event)\"\n              >\n                @for(i of minValues(); track i) {\n                <mat-option [value]=\"i\">{{ i }}</mat-option>\n                }\n              </mat-select>\n            </mat-form-field>\n          </div>\n        </div>\n      </fieldset>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-course {\n        font-family: arial;\n        min-width: 300px;\n      }\n      ._ap-course .key-label {\n        font-weight: 500;\n        width: 120px;\n      }\n      ._ap-course .key-desc {\n        font-style: italic;\n      }\n    `\n  ]\n})\nexport class CourseSettingsModal implements OnInit {\n  frmArrivalCircle: number;\n  private deltaSub: Subscription;\n  protected targetArrivalEnabled = false;\n  protected minDate = new Date();\n  protected arrivalData = {\n    hour: '00',\n    minutes: '00',\n    seconds: '00',\n    datetime: null\n  };\n  private context = 'self';\n  /*this.app.data.vessels.activeId\n  ? this.app.data.vessels.activeId\n  : 'self';*/\n\n  constructor(\n    public app: AppFacade,\n    private stream: SKStreamFacade,\n    private cdr: ChangeDetectorRef,\n    private signalk: SignalKClient,\n    public modalRef: MatBottomSheetRef<CourseSettingsModal>,\n    @Inject(MAT_BOTTOM_SHEET_DATA) public data\n  ) {}\n\n  ngOnInit() {\n    if (this.data.title === 'undefined') {\n      this.data['title'] = 'Course Settings';\n    }\n    this.frmArrivalCircle =\n      this.app.data.navData.arrivalCircle === null\n        ? 0\n        : this.app.data.navData.arrivalCircle;\n    this.frmArrivalCircle =\n      this.app.config.units.distance === 'm'\n        ? this.frmArrivalCircle\n        : Number(\n            Convert.kmToNauticalMiles(this.frmArrivalCircle / 1000).toFixed(1)\n          );\n\n    this.deltaSub = this.stream.delta$().subscribe((e: UpdateMessage) => {\n      if (e.action === 'update') {\n        this.cdr.detectChanges();\n      }\n    });\n\n    this.signalk.api\n      .get(this.app.skApiVersion, 'vessels/self/navigation/course')\n      .subscribe((val) => {\n        console.log(val.targetArrivalTime);\n        if (val.targetArrivalTime) {\n          this.targetArrivalEnabled = true;\n          this.arrivalData.datetime = new Date(val.targetArrivalTime);\n          this.arrivalData.hour = (\n            '00' + this.arrivalData.datetime.getHours()\n          ).slice(-2);\n          this.arrivalData.minutes = (\n            '00' + this.arrivalData.datetime.getMinutes()\n          ).slice(-2);\n          this.arrivalData.seconds = (\n            '00' + this.arrivalData.datetime.getSeconds()\n          ).slice(-2);\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.deltaSub.unsubscribe();\n  }\n\n  closeModal() {\n    this.modalRef.dismiss();\n  }\n\n  onFormChange(e) {\n    if (\n      e.targetElement &&\n      [\n        'arrivalDate',\n        'arrivalHour',\n        'arrivalMinutes',\n        'arrivalSeconds'\n      ].includes(e.targetElement.id)\n    ) {\n      this.processTargetArrival();\n    }\n    if (\n      e.source &&\n      ['arrivalHour', 'arrivalMinutes', 'arrivalSeconds'].includes(e.source.id)\n    ) {\n      this.processTargetArrival();\n    }\n    if (e.target && e.target.id === 'arrivalCircle') {\n      if (e.target.value !== '' && e.target.value !== null) {\n        let d =\n          this.app.config.units.distance === 'm'\n            ? Number(e.target.value)\n            : Convert.nauticalMilesToKm(Number(e.target.value)) * 1000;\n        d = d <= 0 ? null : d;\n\n        this.signalk.api\n          .putWithContext(\n            this.app.skApiVersion,\n            this.context,\n            'navigation/course/arrivalCircle',\n            { value: d }\n          )\n          .subscribe(\n            () => undefined,\n            (error: HttpErrorResponse) => {\n              let msg = `Error setting Arrival Circle!\\n`;\n              if (error.status === 403) {\n                msg += 'Unauthorised: Please login.';\n              }\n              this.app.showAlert(`Error (${error.status}):`, msg);\n            }\n          );\n      }\n    }\n  }\n\n  toggleTargetArrival(e) {\n    this.targetArrivalEnabled = e.checked;\n    if (!this.targetArrivalEnabled) {\n      this.arrivalData.datetime = null;\n      this.signalk.api\n        .putWithContext(\n          this.app.skApiVersion,\n          this.context,\n          'navigation/course/targetArrivalTime',\n          {\n            value: null\n          }\n        )\n        .subscribe();\n    } else {\n      this.processTargetArrival();\n    }\n  }\n\n  processTargetArrival() {\n    if (this.targetArrivalEnabled) {\n      if (!this.arrivalData.datetime) {\n        return;\n      }\n      const atime = this.formatArrivalTime();\n      this.signalk.api\n        .putWithContext(\n          this.app.skApiVersion,\n          this.context,\n          'navigation/course/targetArrivalTime',\n          {\n            value: atime\n          }\n        )\n        .subscribe(\n          () => {\n            console.log('targetArrivalTime = ', atime);\n          },\n          (error: HttpErrorResponse) => {\n            let msg = `Error setting target arrival time!\\n`;\n            if (error.status === 403) {\n              msg += 'Unauthorised: Please login.';\n            }\n            this.app.showAlert(`Error (${error.status}):`, msg);\n          }\n        );\n    }\n  }\n\n  formatArrivalTime(): string {\n    let ts = '';\n    this.arrivalData.datetime.setHours(parseInt(this.arrivalData.hour));\n    this.arrivalData.datetime.setMinutes(parseInt(this.arrivalData.minutes));\n    this.arrivalData.datetime.setSeconds(parseInt(this.arrivalData.seconds));\n    ts = this.arrivalData.datetime.toISOString();\n    return ts.slice(0, ts.indexOf('.')) + 'Z';\n  }\n\n  hrValues() {\n    const v = [];\n    for (let i = 0; i < 24; i++) {\n      v.push(('00' + i).slice(-2));\n    }\n    return v;\n  }\n\n  minValues() {\n    const v = [];\n    for (let i = 0; i < 59; i++) {\n      v.push(('00' + i).slice(-2));\n    }\n    return v;\n  }\n}\n","'use strict';\n\nexport class IndexedDB {\n  utils: Utils;\n  dbWrapper: DbWrapper;\n\n  constructor(dbName: string, version: number) {\n    this.utils = new Utils();\n    this.dbWrapper = new DbWrapper(dbName, version);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  openDatabase(\n    version: number,\n    upgradeCallback?: (evt: any, db: IDBDatabase) => void\n  ) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Promise<any>((resolve, reject) => {\n      this.dbWrapper.dbVersion = version;\n      const request = this.utils.indexedDB.open(this.dbWrapper.dbName, version);\n      request.onsuccess = (e) => {\n        this.dbWrapper.db = request.result;\n        resolve(e);\n      };\n\n      request.onerror = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        reject('IndexedDB error: ' + (<any>e.target).errorCode);\n      };\n\n      if (typeof upgradeCallback === 'function') {\n        request.onupgradeneeded = (e) => {\n          upgradeCallback(e, this.dbWrapper.db);\n        };\n      }\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  getByKey(storeName: string, key: any) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Promise<any>((resolve, reject) => {\n      this.dbWrapper.validateBeforeTransaction(storeName, reject);\n\n      const transaction = this.dbWrapper.createTransaction({\n        storeName: storeName,\n        dbMode: 'readonly',\n        error: (e: Event) => {\n          reject(e);\n        },\n        complete: () => {\n          /* */\n        }\n      });\n\n      const objectStore = transaction.objectStore(storeName);\n      const request: IDBRequest = objectStore.get(key);\n      request.onsuccess = (event: Event) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        resolve((<any>event.target).result);\n      };\n    });\n  }\n\n  getAll(\n    storeName: string,\n    keyRange?: IDBKeyRange,\n    indexDetails?: IndexDetails\n  ) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Promise<any>((resolve, reject) => {\n      this.dbWrapper.validateBeforeTransaction(storeName, reject);\n\n      const transaction = this.dbWrapper.createTransaction({\n        storeName: storeName,\n        dbMode: 'readonly',\n        error: (e: Event) => {\n          reject(e);\n        },\n        complete: () => {\n          /* */\n        }\n      });\n      const objectStore = transaction.objectStore(storeName);\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const result: Array<any> = [];\n      let request: IDBRequest;\n\n      if (indexDetails) {\n        const index = objectStore.index(indexDetails.indexName),\n          order = indexDetails.order === 'desc' ? 'prev' : 'next';\n        request = index.openCursor(keyRange, <IDBCursorDirection>order);\n      } else {\n        request = objectStore.openCursor(keyRange);\n      }\n\n      request.onerror = (e) => {\n        reject(e);\n      };\n\n      request.onsuccess = function (evt: Event) {\n        const cursor = (<IDBOpenDBRequest>evt.target).result;\n        if (cursor) {\n          result.push(cursor['value']);\n          cursor['continue']();\n        } else {\n          resolve(result);\n        }\n      };\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  add(storeName: string, value: any, key?: any) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Promise<any>((resolve, reject) => {\n      this.dbWrapper.validateBeforeTransaction(storeName, reject);\n\n      const transaction = this.dbWrapper.createTransaction({\n        storeName: storeName,\n        dbMode: 'readwrite',\n        error: (e: Event) => {\n          reject(e);\n        },\n        complete: () => {\n          resolve({ key: key, value: value });\n        }\n      });\n      const objectStore = transaction.objectStore(storeName);\n\n      const request = objectStore.add(value, key);\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      request.onsuccess = (evt: any) => {\n        key = evt.target.result;\n      };\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  update(storeName: string, value: any, key?: any) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Promise<any>((resolve, reject) => {\n      this.dbWrapper.validateBeforeTransaction(storeName, reject);\n\n      const transaction = this.dbWrapper.createTransaction({\n        storeName: storeName,\n        dbMode: 'readwrite',\n        error: (e: Event) => {\n          reject(e);\n        },\n        complete: () => {\n          resolve(value);\n        },\n        abort: (e: Event) => {\n          reject(e);\n        }\n      });\n      const objectStore = transaction.objectStore(storeName);\n\n      objectStore.put(value, key);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  delete(storeName: string, key: any) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Promise<any>((resolve, reject) => {\n      this.dbWrapper.validateBeforeTransaction(storeName, reject);\n\n      const transaction = this.dbWrapper.createTransaction({\n        storeName: storeName,\n        dbMode: 'readwrite',\n        error: (e: Event) => {\n          reject(e);\n        },\n        complete: (e: Event) => {\n          resolve(e);\n        },\n        abort: (e: Event) => {\n          reject(e);\n        }\n      });\n      const objectStore = transaction.objectStore(storeName);\n\n      objectStore['delete'](key);\n    });\n  }\n\n  openCursor(\n    storeName: string,\n    cursorCallback: (evt: Event) => void,\n    keyRange?: IDBKeyRange\n  ) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Promise<any>((resolve, reject) => {\n      this.dbWrapper.validateBeforeTransaction(storeName, reject);\n\n      const transaction = this.dbWrapper.createTransaction({\n        storeName: storeName,\n        dbMode: 'readonly',\n        error: (e: Event) => {\n          reject(e);\n        },\n        complete: (e: Event) => {\n          resolve(e);\n        },\n        abort: (e: Event) => {\n          reject(e);\n        }\n      });\n      const objectStore = transaction.objectStore(storeName);\n      const request = objectStore.openCursor(keyRange);\n\n      request.onsuccess = (evt: Event) => {\n        cursorCallback(evt);\n        resolve(evt);\n      };\n    });\n  }\n\n  clear(storeName: string) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Promise<any>((resolve, reject) => {\n      this.dbWrapper.validateBeforeTransaction(storeName, reject);\n\n      const transaction = this.dbWrapper.createTransaction({\n        storeName: storeName,\n        dbMode: 'readwrite',\n        error: (e: Event) => {\n          reject(e);\n        },\n        complete: (e: Event) => {\n          resolve(e);\n        },\n        abort: (e: Event) => {\n          reject(e);\n        }\n      });\n      const objectStore = transaction.objectStore(storeName);\n      objectStore.clear();\n      resolve(null);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  getByIndex(storeName: string, indexName: string, key: any) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Promise<any>((resolve, reject) => {\n      this.dbWrapper.validateBeforeTransaction(storeName, reject);\n\n      const transaction = this.dbWrapper.createTransaction({\n        storeName: storeName,\n        dbMode: 'readonly',\n        error: (e: Event) => {\n          reject(e);\n        },\n        abort: (e: Event) => {\n          reject(e);\n        },\n        complete: () => {\n          /* */\n        }\n      });\n      const objectStore = transaction.objectStore(storeName);\n      const index = objectStore.index(indexName);\n      const request = index.get(key);\n\n      request.onsuccess = (event) => {\n        resolve((<IDBOpenDBRequest>event.target).result);\n      };\n    });\n  }\n}\n\nexport class Utils {\n  indexedDB: IDBFactory;\n\n  constructor() {\n    this.indexedDB =\n      window.indexedDB ||\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (<any>window).mozIndexedDB ||\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (<any>window).webkitIndexedDB ||\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (<any>window).msIndexedDB;\n  }\n}\n\nexport interface IndexDetails {\n  indexName: string;\n  order: string;\n}\n\nexport class DbWrapper {\n  dbName: string;\n  dbVersion: number;\n  db: IDBDatabase;\n\n  constructor(dbName: string, version: number) {\n    this.dbName = dbName;\n    this.dbVersion = version || 1;\n    this.db = null;\n  }\n\n  validateStoreName(storeName: string) {\n    return this.db.objectStoreNames.contains(storeName);\n  }\n\n  validateBeforeTransaction(storeName: string, reject: (e: string) => void) {\n    if (!this.db) {\n      reject(\n        'You need to use the createStore function to create a database before you query it!'\n      );\n    }\n    if (!this.validateStoreName(storeName)) {\n      reject('objectStore does not exists: ' + storeName);\n    }\n  }\n\n  createTransaction(options: {\n    storeName: string;\n    dbMode: IDBTransactionMode;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    error: (e: Event) => any;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    complete: (e: Event) => any;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    abort?: (e: Event) => any;\n  }): IDBTransaction {\n    const trans: IDBTransaction = this.db.transaction(\n      options.storeName,\n      options.dbMode\n    );\n    trans.onerror = options.error;\n    trans.oncomplete = options.complete;\n    trans.onabort = options.abort;\n    return trans;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, RegularShape, Fill, Stroke, Text, Icon } from 'ol/style';\nimport { Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { AISBaseLayerComponent, SKTarget } from './ais-base.component';\nimport { MapImageRegistry } from '../map-image-registry.service';\n\n// ** Signal K non-vessel targets **\n@Component({\n  selector: 'ol-map > sk-ais-targets',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class AISTargetsLayerComponent extends AISBaseLayerComponent {\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapImages: MapImageRegistry\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.labelPrefixes = [this.targetContext];\n  }\n\n  // reload all Features from this.targets\n  override onReloadTargets() {\n    this.extractKeys(this.targets).forEach((id) => {\n      this.addTargetWithId(id);\n    });\n  }\n\n  // update targets\n  override onUpdateTargets(ids: Array<string>) {\n    ids.forEach((id: string) => {\n      if (id.includes(this.targetContext)) {\n        const f = this.source.getFeatureById(id) as Feature;\n        if (this.okToRenderTarget(id)) {\n          if (this.targets.has(id)) {\n            if (f) {\n              const target = this.targets.get(id);\n              const label = this.buildLabel(target);\n              if (target.position) {\n                f.setGeometry(new Point(fromLonLat(target.position)));\n              }\n              const s = this.buildStyle(target).clone();\n              f.set('name', label, true);\n              f.setStyle(\n                this.setTextLabel(\n                  this.setRotation(s, target.orientation),\n                  label\n                )\n              );\n            } else {\n              this.addTargetWithId(id);\n            }\n          }\n        } else {\n          this.source.removeFeature(f);\n        }\n      }\n    });\n  }\n\n  // remove target features\n  override onRemoveTargets(ids: Array<string>) {\n    ids.forEach((id) => {\n      if (id.includes(this.targetContext)) {\n        const f = this.source.getFeatureById(id) as Feature;\n        if (f) {\n          this.source.removeFeature(f);\n        }\n      }\n    });\n  }\n\n  // add new target\n  addTargetWithId(id: string) {\n    if (!id.includes(this.targetContext) || !this.targets.has(id)) {\n      return;\n    }\n    const target = this.targets.get(id);\n    const label = this.buildLabel(target);\n    if (target.position) {\n      const f = new Feature({\n        geometry: new Point(fromLonLat(target.position)),\n        name: target.name\n      });\n      f.setId(id);\n      f.set('name', label, true);\n      const s = this.buildStyle(target).clone();\n      f.setStyle(\n        this.setTextLabel(this.setRotation(s, target.orientation), label)\n      );\n      this.source.addFeature(f);\n    }\n  }\n\n  // build target style\n  buildStyle(target: SKTarget): Style {\n    const icon = this.mapImages.getAtoN(target.type?.id, target.virtual);\n    if (icon && typeof this.targetStyles === 'undefined') {\n      if (icon) {\n        return new Style({\n          image: icon,\n          text: new Text({\n            text: '',\n            offsetX: 0,\n            offsetY: -18\n          })\n        });\n      }\n      return;\n    }\n    let s: Style;\n    const setStale = this.isStale(target);\n    if (typeof this.targetStyles !== 'undefined') {\n      if (setStale) {\n        s = this.targetStyles.inactive ?? this.targetStyles.default;\n      } else {\n        s = this.targetStyles.default;\n      }\n    } else if (this.layerProperties && this.layerProperties.style) {\n      s = this.layerProperties.style;\n    } else {\n      s = new Style({\n        image: new RegularShape({\n          points: 3,\n          radius: 7,\n          fill: new Fill({ color: 'magenta' }),\n          stroke: new Stroke({\n            color: 'black',\n            width: 1\n          }),\n          rotateWithView: true\n        })\n      });\n    }\n    return s;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, Stroke, Fill, Text } from 'ol/style';\nimport { Polygon, MultiPolygon } from 'ol/geom';\nimport { MapComponent } from '../map.component';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { FBFeatureLayerComponent } from '../sk-feature.component';\nimport { FBRegions } from 'src/app/types';\n\n@Component({\n  selector: 'ol-map > fb-regions',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class FreeboardRegionLayerComponent extends FBFeatureLayerComponent {\n  @Input() regions: FBRegions = [];\n  @Input() regionStyles: { [key: string]: Style };\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.labelPrefixes = ['region'];\n    this.parseRegions(this.regions);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (this.source && 'regions' in changes) {\n      this.source.clear();\n      this.parseRegions(changes['regions'].currentValue);\n    }\n  }\n\n  parseRegions(regions: FBRegions = this.regions) {\n    const fa: Feature[] = [];\n    for (const r of regions) {\n      const c = this.parseCoordinates(\n        r[1].feature.geometry.coordinates,\n        r[1].feature.geometry.type\n      );\n      const f = new Feature({\n        geometry:\n          r[1].feature.geometry.type === 'MultiPolygon'\n            ? new MultiPolygon(c)\n            : new Polygon(c),\n        name: r[1].name\n      });\n      f.setId('region.' + r[0]);\n      f.set('name', r[1].name);\n      f.set('icon', 'region');\n      f.setStyle(this.buildStyle(r[0], r[1]));\n      fa.push(f);\n    }\n    this.source.addFeatures(fa);\n  }\n\n  // build region feature style\n  buildStyle(id: string, reg: any): Style {\n    // default style\n    let theStyle = this.setTextLabel(\n      new Style({\n        fill: new Fill({\n          color: 'rgba(255,0,255,0.1)'\n        }),\n        stroke: new Stroke({\n          color: 'purple',\n          width: 1\n        }),\n        text: new Text({\n          text: '',\n          offsetY: 0\n        })\n      }),\n      reg.name\n    );\n\n    if (this.regionStyles) {\n      if (\n        reg.feature.properties?.skIcon &&\n        this.regionStyles[reg.feature.properties.skIcon]\n      ) {\n        theStyle = this.setTextLabel(\n          this.regionStyles[reg.feature.properties.skIcon],\n          reg.name\n        );\n      } else if (this.regionStyles.default) {\n        theStyle = this.setTextLabel(this.regionStyles.default, reg.name);\n      }\n    } else if (this.layerProperties && this.layerProperties.style) {\n      theStyle = this.setTextLabel(this.layerProperties.style, reg.name);\n    }\n\n    return theStyle;\n  }\n\n  // mapify and transform MultiLineString coordinates\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseCoordinates(coords: Array<any>, geomType: 'Polygon' | 'MultiPolygon') {\n    if (geomType === 'MultiPolygon') {\n      const multipoly = [];\n      coords.forEach((mpoly) => {\n        const lines = [];\n        mpoly.forEach((poly) => {\n          lines.push(mapifyCoords(poly));\n        });\n        multipoly.push(lines);\n      });\n      return fromLonLatArray(multipoly);\n    } else if (geomType === 'Polygon') {\n      const lines = [];\n      coords.forEach((line) => lines.push(mapifyCoords(line)));\n      return fromLonLatArray(lines);\n    }\n  }\n}\n","/***********************************\nSignal K Details list component\n    <signalk-details-list>\n***********************************/\nimport { Component, Input, ChangeDetectionStrategy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { AppFacade } from 'src/app/app.facade';\nimport { PipesModule } from '../../../lib/pipes';\n\n@Component({\n  selector: 'signalk-details-list',\n  imports: [MatTooltipModule, CommonModule, PipesModule],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: ['./signalk-details.component.css'],\n  template: `\n    <div class=\"sk-details\">\n      <div class=\"title\">\n        <div>{{ title }}</div>\n      </div>\n      <div class=\"content\">\n        @for(item of items; track item) {\n        <div class=\"item\">\n          @if(item[0] === 0 && item[2] === null) {\n          <span class=\"sectionname\">{{ item[1] }}</span>\n          } @if(item[2] !== null) {\n          <div class=\"pathvalue\">\n            <div class=\"path\" [matTooltip]=\"item[1]\">{{ item[1] }}</div>\n            @if(item[1] === 'latitude') {\n            <div class=\"value\" [matTooltip]=\"item[2]\">\n              {{\n                item[2] | coords : app.config.selections.positionFormat : true\n              }}\n            </div>\n            } @else if (item[1] === 'longitude') {\n            <div class=\"value\" [matTooltip]=\"item[2]\">\n              {{\n                item[2] | coords : app.config.selections.positionFormat : false\n              }}\n            </div>\n            } @else {\n            <div class=\"value\" [matTooltip]=\"item[2]\">{{ item[2] }}</div>\n            }\n          </div>\n          }\n        </div>\n        }\n      </div>\n    </div>\n  `\n})\nexport class SignalKDetailsComponent {\n  @Input() title = '';\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() details: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public items: any;\n\n  constructor(protected app: AppFacade) {}\n\n  ngOnChanges() {\n    if (this.details) {\n      this.parseEntries();\n    } else {\n      this.items = [];\n    }\n  }\n\n  // ** parse items\n  parseEntries() {\n    const u = Object.entries(this.details);\n    u.sort((a, b) => {\n      return a[0] < b[0] ? -1 : 1;\n    });\n    this.items = this.section(this.flatten(u));\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private section(u: Array<any>): Array<any> {\n    const result = [];\n    u.forEach((i) => {\n      const p = i[0].split('.');\n      if (p.length === 1) {\n        result.push([0, '', p[0], typeof i[1] !== 'object' ? i[1] : null]);\n      } else {\n        const pp = p.slice(0, p.length - 1).join('.');\n        result.push([p.length - 1, pp, p[p.length - 1], i[1]]);\n      }\n    });\n    // ** sort **\n    result.sort((a, b) => {\n      return a[1] < b[1] ? -1 : 1;\n    });\n    let prevParent: string = null;\n    const processedParents = [];\n    u = [];\n    result.forEach((i) => {\n      if (i[1] !== prevParent) {\n        prevParent = i[1];\n        if (processedParents.indexOf(i[1]) === -1) {\n          //\n          processedParents.push(i[1]);\n          u.push([0, i[1], null]);\n        }\n      }\n      u.push([i[0], i[2], i[3]]);\n    });\n    return u;\n  }\n\n  // ** flatten object values to .paths **\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private flatten(u: Array<any>): Array<any> {\n    let paths = [];\n    u.forEach((i) => {\n      if (typeof i[1] === 'object' && i[1] !== null) {\n        paths = paths.concat(this.processObject(i[0], i[1]));\n      } else {\n        paths.push([i[0], i[1]]);\n      }\n    });\n    return paths;\n  }\n\n  // ** process object values **\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private processObject(parent: string, obj: any) {\n    let paths = [];\n    const u = Object.entries(obj);\n    u.sort((a, b) => {\n      return a[0] < b[0] ? -1 : 1;\n    });\n    u.forEach((i) => {\n      if (typeof i[1] === 'object' && i[1] !== null) {\n        paths = paths.concat(this.processObject(parent + '.' + i[0], i[1]));\n      } else {\n        paths.push([parent + '.' + i[0], i[1]]);\n      }\n    });\n    return paths;\n  }\n}\n","// Alert Component\n\nimport {\n  Component,\n  Output,\n  EventEmitter,\n  input,\n  effect,\n  signal\n} from '@angular/core';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { TimerButtonComponent } from './timer-button.component';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { NotificationManager } from '../notification-manager';\nimport { AppIconDef } from '../../icons';\nimport { ALARM_STATE } from '@signalk/server-api';\n\nexport interface AlertData {\n  path: string;\n  priority: ALARM_STATE;\n  message: string;\n  sound: boolean;\n  visual: boolean;\n  properties?: { [index: string]: any };\n  icon: AppIconDef;\n  type?: string;\n  acknowledged: boolean;\n  silenced: boolean;\n  canAcknowledge?: boolean;\n  canCancel?: boolean;\n  createdAt: number;\n}\n\nconst SoundFiles = {\n  emergency: './assets/sound/woop.mp3',\n  alarm: './assets/sound/woop.mp3',\n  alert: './assets/sound/ding.mp3',\n  warn: './assets/sound/ding.mp3'\n};\n\n@Component({\n  selector: 'fb-alert',\n  imports: [\n    MatIconModule,\n    MatButtonModule,\n    MatCardModule,\n    MatProgressBarModule,\n    TimerButtonComponent\n  ],\n  template: `\n    @if(app.sAlertListShow() || hidden()) {\n    <span></span>\n    } @else { @if(alert().visual && !alert().acknowledged) {\n    <div>\n      @if(!alert().canAcknowledge) {\n      <mat-progress-bar\n        mode=\"determinate\"\n        [value]=\"progressValue()\"\n      ></mat-progress-bar>\n      }\n      <mat-card style=\"padding:5px;border-radius:0;\">\n        <mat-card-content>\n          <div style=\"display:flex; width:100%;\">\n            <div style=\"width:35px;\">\n              <mat-icon\n                [class]=\"this.alert().icon.class\"\n                [svgIcon]=\"this.alert().icon.svgIcon\"\n                >{{ this.alert().icon.name }}</mat-icon\n              >\n            </div>\n            <div\n              style=\"overflow: hidden;\n                  display: -webkit-box;\n                  -webkit-box-orient: vertical;\n                  -webkit-line-clamp: 2;\n                  line-clamp: 2;\n                  text-overflow:ellipsis;\"\n            >\n              {{ alert().message }}\n            </div>\n          </div>\n        </mat-card-content>\n\n        <mat-card-actions>\n          <div style=\"display:flex;flex-wrap: wrap;\">\n            @if(alert().sound) {\n            <div style=\"text-align: left;\">\n              <button\n                mat-raised-button\n                (click)=\"muteAlarm()\"\n                [disabled]=\"alert().silenced\"\n              >\n                <mat-icon\n                  class=\"ob\"\n                  [svgIcon]=\"\n                    alert().silenced\n                      ? 'sound-off-fill'\n                      : 'sound-unavailable-fill'\n                  \"\n                ></mat-icon>\n                {{ alert().silenced ? 'MUTED' : 'MUTE' }}\n              </button>\n            </div>\n            } @if(alert().canAcknowledge) {\n            <div>\n              <button mat-raised-button (click)=\"ackAlarm()\">\n                <mat-icon>check</mat-icon>\n                ACK\n              </button>\n            </div>\n            } @else {\n            <button\n              mat-raised-button\n              matTooltip=\"Dismiss\"\n              matTooltipPosition=\"left\"\n              (click)=\"hide()\"\n            >\n              <mat-icon>clear_all</mat-icon>\n              Dismiss\n            </button>\n            } @if(app.data.activeRoute && alert().type ===\n            'arrivalCircleEntered') {\n            <div>\n              @if(app.config.selections.course.autoNextPointOnArrival) {\n              <div>\n                @if(app.data.navData.pointIndex !== app.data.navData.pointTotal\n                - 1) {\n                <timer-button\n                  [disabled]=\"nextPointClicked\"\n                  [icon]=\"'skip_next'\"\n                  [label]=\"'Next point in'\"\n                  [cancelledLabel]=\"'Next Point'\"\n                  [period]=\"app.config.selections.course.autoNextPointDelay\"\n                  (nextPoint)=\"gotoNextPoint()\"\n                >\n                </timer-button>\n                }\n              </div>\n              } @else {\n              <button\n                mat-button\n                [disabled]=\"\n                  nextPointClicked ||\n                  app.data.navData.pointIndex ===\n                    app.data.navData.pointTotal - 1\n                \"\n                (click)=\"gotoNextPoint()\"\n              >\n                <mat-icon style=\"color:green;\">skip_next</mat-icon>\n                NEXT POINT\n              </button>\n              }\n            </div>\n            }\n          </div>\n        </mat-card-actions>\n      </mat-card>\n    </div>\n    }}\n  `,\n  styles: []\n})\nexport class AlertComponent {\n  alert = input<AlertData>();\n  acknowledged = input<boolean>(false);\n  silenced = input<boolean>(false);\n  audioStatus = input<string>(); // changed audio context state\n  doNotPlaySound = input<boolean>(false); // config setting\n\n  hidden = signal<boolean>(false); // alert card is hidden\n  progressValue = signal<number>(100);\n\n  @Output() nextPoint: EventEmitter<void> = new EventEmitter();\n\n  protected showNextPoint = false;\n  protected nextPointClicked = false;\n  private audio: HTMLAudioElement;\n  private source: MediaElementAudioSourceNode;\n  private soundFile = SoundFiles.warn;\n  private timerRef!: any;\n\n  constructor(protected app: AppFacade, private notiMgr: NotificationManager) {\n    effect(() => {\n      const ack = this.acknowledged();\n      const mute = this.silenced();\n      const al = this.alert();\n      this.showNextPoint = al.type === 'arrivalCircleEntered';\n      if (typeof this.doNotPlaySound() !== 'undefined') {\n      }\n      this.processAudio();\n      if (\n        !this.timerRef &&\n        !['emergency', 'alarm'].includes(this.alert().priority) &&\n        !this.showNextPoint\n      ) {\n        //  hide after set time secs\n        this.timerRef = setInterval(() => {\n          if (this.progressValue() > 0) {\n            this.progressValue.update((value) => value - 4);\n          } else {\n            this.hidden.set(true);\n            clearInterval(this.timerRef);\n          }\n        }, 100);\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.audio.pause();\n    this.audio = null;\n    this.source = null;\n  }\n\n  protected hide() {\n    this.hidden.set(true);\n  }\n\n  protected ackAlarm() {\n    this.notiMgr.acknowledge(this.alert().path);\n  }\n\n  protected muteAlarm() {\n    this.notiMgr.silence(this.alert().path);\n  }\n\n  private processAudio() {\n    this.soundFile = SoundFiles[this.alert().priority];\n    if (this.app.audio.context) {\n      if (!this.audio) {\n        this.audio = new Audio();\n      }\n      if (!this.source) {\n        this.source = this.app.audio.context.createMediaElementSource(\n          this.audio\n        );\n        this.source.connect(this.app.audio.context.destination);\n      }\n      if (this.audioStatus() === 'running') {\n        if (this.alert().sound) {\n          if (\n            this.doNotPlaySound() ||\n            this.alert().silenced ||\n            this.alert().acknowledged\n          ) {\n            this.audio.pause();\n          } else {\n            this.audio.loop = ['emergency', 'alarm'].includes(\n              this.alert().priority\n            );\n            this.audio.src = this.soundFile;\n            this.audio\n              .play()\n              .then(() => undefined)\n              .catch(() => undefined);\n          }\n        } else {\n          this.audio.pause();\n        }\n      }\n    }\n  }\n\n  // arrival alarm - goto next point handler\n  gotoNextPoint() {\n    this.nextPointClicked = true;\n    this.nextPoint.emit();\n    this.hide();\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Directive,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport View from 'ol/View';\nimport { transformExtent, toLonLat, fromLonLat } from 'ol/proj';\nimport { Coordinate, Extent } from './models';\nimport { MapComponent } from './map.component';\nimport { ProjectionLike } from 'ol/proj';\n\nconst animateDuration = 500;\n\n@Directive({\n  selector: 'ol-map > [olView]',\n  standalone: false\n})\nexport class ViewDirective\n  implements OnInit, AfterViewInit, OnChanges, OnDestroy\n{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private timerCenterId: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private timerZoomId: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private timerRotationId: any;\n  private view: View;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private viewProperties: { [index: string]: any } = {};\n\n  @Output() centerChange: EventEmitter<Coordinate> =\n    new EventEmitter<Coordinate>();\n  @Output() rotationChange: EventEmitter<number> = new EventEmitter<number>();\n  @Output() zoomChange: EventEmitter<number> = new EventEmitter<number>();\n\n  @Input() enableAnimation = false;\n  @Input() constrainRotation: boolean | number;\n  @Input() constrainResolution: boolean;\n  @Input() enableRotation: boolean;\n  @Input() extent: Extent;\n  @Input() maxResolution: number;\n  @Input() minResolution: number;\n  @Input() maxZoom: number;\n  @Input() minZoom: number;\n  @Input() multiWorld: boolean;\n  @Input() resolution: number;\n  @Input() resolutions: number[];\n  @Input() rotation: number;\n  @Input() zoom: number;\n  @Input() zoomFactor: number;\n  @Input() center: Coordinate;\n  @Input() projection: ProjectionLike;\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.view = new View(this.viewProperties);\n    this.view.setRotation(this.rotation ?? 0);\n    const map = this.mapComponent.getMap();\n    if (map) {\n      map.setView(this.view);\n      map.updateSize();\n    }\n  }\n\n  ngAfterViewInit() {\n    const map = this.mapComponent.getMap();\n    if (map) {\n      // register view events\n      this.view.on('change:center', this.emitCenterChange);\n      this.view.on('change:resolution', this.emitZoomChange);\n      this.view.on('change:rotation', this.emitRotationChange);\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const properties: { [index: string]: any } = {};\n\n    for (const key in changes) {\n      if (key === 'zoom') {\n        if (this.view) {\n          if (this.enableAnimation) {\n            this.view.animate({\n              zoom: changes[key].currentValue,\n              duration: animateDuration\n            });\n          } else {\n            this.view.setZoom(changes[key].currentValue);\n          }\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      } else if (key === 'center') {\n        if (this.view) {\n          if (this.enableAnimation) {\n            this.view.animate({\n              center: changes[key].currentValue,\n              duration: animateDuration\n            });\n          } else {\n            this.view.setCenter(fromLonLat(changes[key].currentValue));\n          }\n        } else {\n          properties[key] = fromLonLat(changes[key].currentValue);\n        }\n      } else if (key === 'minZoom') {\n        if (this.view) {\n          this.view.setMinZoom(changes[key].currentValue);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      } else if (key === 'maxZoom') {\n        if (this.view) {\n          this.view.setMaxZoom(changes[key].currentValue);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      } else {\n        properties[key] = changes[key].currentValue;\n      }\n    }\n    this.viewProperties = properties;\n    if (this.view) {\n      this.view.setProperties(this.viewProperties, false);\n      this.view.setRotation(this.rotation ?? 0);\n    }\n  }\n\n  ngOnDestroy() {\n    this.view.un('change:center', this.emitCenterChange);\n    this.view.un('change:resolution', this.emitZoomChange);\n    this.view.un('change:rotation', this.emitRotationChange);\n  }\n\n  getView(): View {\n    return this.view;\n  }\n\n  // Only arrow function works with addEventListener\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private emitCenterChange = (e: any) => {\n    clearTimeout(this.timerCenterId);\n    this.timerCenterId = setTimeout(\n      () =>\n        this.centerChange.emit(\n          Object.assign(e, {\n            lonlat: toLonLat(this.view.getCenter()),\n            zoom: this.view.getZoom(),\n            extent: transformExtent(\n              this.view.calculateExtent(this.mapComponent.getMap().getSize()),\n              this.view.getProjection().getCode(),\n              'EPSG:4326'\n            ),\n            projCode: this.view.getProjection().getCode(),\n            key: e.target.get(e.key)\n          })\n        ),\n      animateDuration + 10\n    );\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private emitZoomChange = (e: any) => {\n    clearTimeout(this.timerZoomId);\n    this.timerZoomId = setTimeout(\n      () =>\n        this.zoomChange.emit(\n          Object.assign(e, {\n            lonlat: toLonLat(this.view.getCenter()),\n            zoom: this.view.getZoom(),\n            extent: transformExtent(\n              this.view.calculateExtent(this.mapComponent.getMap().getSize()),\n              this.view.getProjection().getCode(),\n              'EPSG:4326'\n            ),\n            projCode: this.view.getProjection().getCode(),\n            key: e.target.get(e.key)\n          })\n        ),\n      animateDuration + 10\n    );\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private emitRotationChange = (e: any) => {\n    clearTimeout(this.timerRotationId);\n    this.timerRotationId = setTimeout(\n      () => this.rotationChange.emit(e.target.get(e.key)),\n      animateDuration + 10\n    );\n  };\n}\n","/** Track Details Dialog Component **\n ********************************/\n\nimport { Component, OnInit, Inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { SKTrack } from '../../resource-classes';\n\n/********* TrackDialog **********\n\tdata: {\n    track: SKTrack\n  }\n***********************************/\n@Component({\n  selector: 'ap-trackdialog',\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatInputModule,\n    MatIconModule,\n    MatButtonModule,\n    MatDialogModule\n  ],\n  template: `\n    <div class=\"_ap-track\">\n      <div style=\"display:flex;\">\n        <div style=\"padding: 15px 0 0 10px;\">\n          <mat-icon class=\"icon-track\">show_chart</mat-icon>\n        </div>\n        <div>\n          <h1 mat-dialog-title>Track Details</h1>\n        </div>\n      </div>\n\n      <mat-dialog-content>\n        <div>\n          <div style=\"padding-left: 10px;\">\n            <div>\n              <mat-form-field floatLabel=\"always\">\n                <mat-label>Name</mat-label>\n                <input\n                  matInput\n                  #inpname=\"ngModel\"\n                  type=\"text\"\n                  required\n                  [readonly]=\"readOnly\"\n                  [(ngModel)]=\"name\"\n                />\n                @if(inpname.invalid && (inpname.dirty || inpname.touched)) {\n                <mat-error> Please enter a name.</mat-error>\n                }\n              </mat-form-field>\n            </div>\n            <div>\n              <mat-form-field floatLabel=\"always\">\n                <mat-label>Description</mat-label>\n                <textarea\n                  matInput\n                  rows=\"3\"\n                  #inpcmt=\"ngModel\"\n                  [readonly]=\"readOnly\"\n                  [(ngModel)]=\"description\"\n                >\n                </textarea>\n              </mat-form-field>\n            </div>\n          </div>\n        </div>\n      </mat-dialog-content>\n      <mat-dialog-actions>\n        <div style=\"text-align:center;width:100%;\">\n          @if(!readOnly) {\n          <button\n            mat-raised-button\n            [disabled]=\"inpname.invalid || readOnly\"\n            (click)=\"handleClose(true)\"\n          >\n            SAVE\n          </button>\n          }\n          <button mat-raised-button (click)=\"handleClose(false)\">CANCEL</button>\n        </div>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-track {\n        min-width: 300px;\n      }\n    `\n  ]\n})\nexport class TrackDialog implements OnInit {\n  protected name: string;\n  protected description: string;\n  protected readOnly = false;\n\n  constructor(\n    private dialogRef: MatDialogRef<TrackDialog>,\n    @Inject(MAT_DIALOG_DATA)\n    protected data: {\n      track: SKTrack;\n    }\n  ) {}\n\n  ngOnInit() {\n    this.name = this.data.track.feature?.properties?.name ?? '';\n    this.description = this.data.track.feature?.properties?.description ?? '';\n    this.readOnly =\n      (this.data.track.feature as any)?.properties?.readOnly ?? false;\n  }\n\n  handleClose(save: boolean) {\n    if (save) {\n      this.data.track.feature.properties.name = this.name;\n      this.data.track.feature.properties.description = this.description;\n    }\n    this.dialogRef.close({ save: save, track: this.data.track });\n  }\n}\n","import {\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Component,\n  Output,\n  Input,\n  EventEmitter\n} from '@angular/core';\nimport { Map } from 'ol';\nimport { Draw } from 'ol/interaction';\nimport { DrawEvent } from 'ol/interaction/Draw';\nimport { Style } from 'ol/style';\nimport { MapComponent } from '../map.component';\n\n@Component({\n  selector: 'ol-map > ol-draw',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class InteractionDrawComponent {\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  @Input() type = 'LineString';\n  @Input() style: Style;\n  @Input() stopClick: boolean;\n\n  @Output() change: EventEmitter<DrawEvent> = new EventEmitter();\n  @Output() drawStart: EventEmitter<DrawEvent> = new EventEmitter();\n  @Output() drawEnd: EventEmitter<DrawEvent> = new EventEmitter();\n  @Output() drawAbort: EventEmitter<DrawEvent> = new EventEmitter();\n\n  private map: Map;\n  private interaction: Draw;\n\n  ngAfterViewInit() {\n    this.map = this.mapComponent.getMap();\n    this.addDrawInteraction();\n  }\n\n  ngOnDestroy() {\n    this.map.removeInteraction(this.interaction);\n    this.interaction.un('change', this.emitChangeEvent);\n    this.interaction.un('drawstart', this.emitDrawStartEvent);\n    this.interaction.un('drawend', this.emitDrawEndEvent);\n    this.interaction.un('drawabort', this.emitDrawAbortEvent);\n    this.interaction = null;\n  }\n\n  addDrawInteraction() {\n    if (undefined !== this.map) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const opt: any = {\n        type: this.type,\n        stopClick: this.stopClick ?? true\n      };\n      if (this.style) {\n        opt.style = this.style;\n      }\n      this.interaction = new Draw(opt);\n      this.interaction.on('change', this.emitChangeEvent);\n      this.interaction.on('drawstart', this.emitDrawStartEvent);\n      this.interaction.on('drawend', this.emitDrawEndEvent);\n      this.interaction.on('drawabort', this.emitDrawAbortEvent);\n      this.map.addInteraction(this.interaction);\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  // ** emit events\n  private emitChangeEvent = (event: DrawEvent) => this.change.emit(event);\n  private emitDrawStartEvent = (event: DrawEvent) => this.drawStart.emit(event);\n  private emitDrawEndEvent = (event: DrawEvent) => this.drawEnd.emit(event);\n  private emitDrawAbortEvent = (event: DrawEvent) => this.drawAbort.emit(event);\n}\n","/** Route Details Dialog Component **\n ********************************/\n\nimport { Component, OnInit, Inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { SKRoute } from '../../resource-classes';\n\n/********* RouteDialog **********\n\tdata: {\n    route: SKRoute\n  }\n***********************************/\n@Component({\n  selector: 'ap-routedialog',\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatInputModule,\n    MatIconModule,\n    MatButtonModule,\n    MatDialogModule\n  ],\n  template: `\n    <div class=\"_ap-route\">\n      <div style=\"display:flex;\">\n        <div style=\"padding: 15px 0 0 10px;\">\n          <mat-icon class=\"icon-route\" svgIcon=\"route\"></mat-icon>\n        </div>\n        <div>\n          <h1 mat-dialog-title>Route Details</h1>\n        </div>\n      </div>\n\n      <mat-dialog-content>\n        <div>\n          <div style=\"padding-left: 10px;\">\n            <div>\n              <mat-form-field floatLabel=\"always\">\n                <mat-label>Name</mat-label>\n                <input\n                  matInput\n                  #inpname=\"ngModel\"\n                  type=\"text\"\n                  required\n                  [readonly]=\"readOnly\"\n                  [(ngModel)]=\"name\"\n                />\n                @if(inpname.invalid && (inpname.dirty || inpname.touched)) {\n                <mat-error> Please enter a name.</mat-error>\n                }\n              </mat-form-field>\n            </div>\n            <div>\n              <mat-form-field floatLabel=\"always\">\n                <mat-label>Description</mat-label>\n                <textarea\n                  matInput\n                  rows=\"3\"\n                  #inpcmt=\"ngModel\"\n                  [readonly]=\"readOnly\"\n                  [(ngModel)]=\"description\"\n                >\n                </textarea>\n              </mat-form-field>\n            </div>\n          </div>\n        </div>\n      </mat-dialog-content>\n      <mat-dialog-actions>\n        <div style=\"text-align:center;width:100%;\">\n          @if(!readOnly) {\n          <button\n            mat-raised-button\n            [disabled]=\"inpname.invalid || readOnly\"\n            (click)=\"handleClose(true)\"\n          >\n            SAVE\n          </button>\n          }\n          <button mat-raised-button (click)=\"handleClose(false)\">CANCEL</button>\n        </div>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-route {\n        min-width: 300px;\n      }\n    `\n  ]\n})\nexport class RouteDialog implements OnInit {\n  protected name: string;\n  protected description: string;\n  protected readOnly = false;\n\n  constructor(\n    private dialogRef: MatDialogRef<RouteDialog>,\n    @Inject(MAT_DIALOG_DATA)\n    protected data: {\n      route: SKRoute;\n    }\n  ) {}\n\n  ngOnInit() {\n    this.name = this.data.route.name ?? '';\n    this.description = this.data.route.description ?? '';\n    this.readOnly =\n      (this.data.route.feature as any)?.properties?.readOnly ?? false;\n  }\n\n  handleClose(save: boolean) {\n    if (save) {\n      this.data.route.name = this.name;\n      this.data.route.description = this.description;\n    }\n    this.dialogRef.close({ save: save, route: this.data.route });\n  }\n}\n","/***********************************\nSignal K preferred paths component\n    <signalk-preferred-paths>\n***********************************/\nimport {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatRadioModule } from '@angular/material/radio';\n\nimport { AppFacade } from 'src/app/app.facade';\n\n@Component({\n  selector: 'signalk-preferred-paths',\n  imports: [CommonModule, MatRadioModule],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: ['./signalk-preferredpaths.component.css'],\n  template: `\n    <fieldset>\n      <legend style=\"font-size: 10pt;\">{{ title }}</legend>\n      <div>\n        @for(item of pathChoicesArray; track item[0]) {\n        <div class=\"sk-details\">\n          <div class=\"title\">\n            <div>{{ item[1].name }}</div>\n          </div>\n          <div>\n            @for(path of item[1].available; track path) {\n            <div style=\"margin: 5px 0 5px 0;\">\n              <mat-radio-button\n                #pathopt\n                [name]=\"item[0]\"\n                [value]=\"path\"\n                [checked]=\"path === item[1].current\"\n                (change)=\"item[1].current = pathopt.value; save(true)\"\n              >\n                {{ path.split('.').slice(-1) }}\n              </mat-radio-button>\n            </div>\n            }\n          </div>\n        </div>\n        }\n      </div>\n    </fieldset>\n  `\n})\nexport class SignalKPreferredPathsComponent {\n  @Input() title = '';\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Output() chosen: any = new EventEmitter<any>();\n\n  private pathChoices = {\n    tws: {\n      name: 'True Wind Speed',\n      choices: [\n        'environment.wind.speedTrue',\n        'environment.wind.speedOverGround'\n      ],\n      available: [],\n      current: ''\n    },\n    twd: {\n      name: 'True Wind Direction',\n      choices: [\n        'environment.wind.directionTrue',\n        'environment.wind.directionMagnetic',\n        'environment.wind.angleTrueGround',\n        'environment.wind.angleTrueWater'\n      ],\n      available: [],\n      current: ''\n    },\n    heading: {\n      name: 'Heading / COG',\n      choices: [\n        'navigation.courseOverGroundTrue',\n        'navigation.courseOverGroundMagnetic',\n        'navigation.headingTrue',\n        'navigation.headingMagnetic'\n      ],\n      available: [],\n      current: ''\n    }\n  };\n\n  protected pathChoicesArray = Object.entries(this.pathChoices);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public availPaths: any;\n\n  constructor(public app: AppFacade) {}\n\n  ngOnInit() {\n    this.initEntries();\n  }\n\n  // ** initialise items from settings\n  initEntries() {\n    this.availPaths = new Map(\n      Object.entries(this.app.data.vessels.prefAvailablePaths)\n    );\n    this.pathChoices.tws.current =\n      this.app.config.selections.preferredPaths.tws;\n    this.pathChoices.twd.current =\n      this.app.config.selections.preferredPaths.twd;\n    this.pathChoices.heading.current =\n      this.app.config.selections.preferredPaths.heading;\n\n    const u = Object.entries(this.pathChoices);\n    u.forEach((x) => {\n      const i = x[1];\n      // ** fill available paths from received path data **\n      i['choices'].forEach((c) => {\n        if (this.availPaths.has(c)) {\n          i['available'].push(c);\n        }\n      });\n      // ** ensure a default\n      if (i['available'].length === 0) {\n        i['available'].push(i['choices'][0]);\n      }\n    });\n  }\n\n  // save / cancel\n  save(keep: boolean) {\n    const value = {};\n    Object.entries(this.pathChoices).forEach((i) => {\n      value[i[0]] = i[1].current;\n    });\n    this.chosen.emit({ save: keep, value: value });\n  }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatStepperModule } from '@angular/material/stepper';\n\nexport interface WeatherData {\n  description?: string;\n  time?: string;\n  temperature?: string;\n  temperatureMin?: string;\n  temperatureMax?: string;\n  dewPoint?: string;\n  humidity?: string;\n  pressure?: string;\n  rain?: string;\n  uvIndex?: string;\n  clouds?: string;\n  visibility?: string;\n  wind?: {\n    speed?: string;\n    direction?: string;\n    gust?: string;\n  };\n}\n\n/********* Weather Data viewer component ****************/\n@Component({\n  selector: 'weather-data',\n  imports: [\n    MatCardModule,\n    MatListModule,\n    MatButtonModule,\n    MatIconModule,\n    MatTooltipModule,\n    MatBottomSheetModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatToolbarModule,\n    MatStepperModule\n  ],\n  template: `\n    <div class=\"weather-data\">\n      <mat-horizontal-stepper [linear]=\"false\" #stepper>\n        @for(item of data; track item; let i = $index) {\n        <mat-step>\n          <div style=\"display:flex;\">\n            <div style=\"min-width:50px;text-align:left;padding-top: 15%;\">\n              @if(i !== 0 && data.length > 1) {\n              <button\n                mat-icon-button\n                (click)=\"currentPage = currentPage - 1\"\n                matStepperPrevious\n              >\n                <mat-icon>keyboard_arrow_left</mat-icon>\n              </button>\n              }\n            </div>\n            <div style=\"flex: 1 1 auto;\">\n              <mat-card>\n                <div style=\"display:flex;flex-direction: column;\">\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\">\n                      <mat-icon>schedule</mat-icon>\n                    </div>\n                    <div class=\"key-label\">Time:</div>\n                    <div style=\"flex: 1 1 auto;\">\n                      {{ item.time }}\n                    </div>\n                  </div>\n                  @if(item.description) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\"></div>\n                    <div class=\"key-label\">Outlook:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.description }}</div>\n                  </div>\n                  } @if(item.temperature) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\">\n                      <mat-icon>device_thermostat</mat-icon>\n                    </div>\n                    <div class=\"key-label\">Temp:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.temperature }}</div>\n                  </div>\n                  } @if(item.temperatureMin) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\"></div>\n                    <div class=\"key-label\">Min:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.temperatureMax }}</div>\n                  </div>\n                  } @if(item.temperatureMax) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\"></div>\n                    <div class=\"key-label\">Max:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.temperatureMax }}</div>\n                  </div>\n                  } @if(item.dewPoint) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\">\n                      <mat-icon>opacity</mat-icon>\n                    </div>\n                    <div class=\"key-label\">Dew Point:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.dewPoint }}</div>\n                  </div>\n                  } @if(item.wind.speed) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\">\n                      <mat-icon>air</mat-icon>\n                    </div>\n                    <div class=\"key-label\">Wind Speed:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.wind.speed }}</div>\n                  </div>\n                  } @if(item.wind.gust) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\">\n                      <mat-icon>air</mat-icon>\n                    </div>\n                    <div class=\"key-label\">Wind Gust:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.wind.gust }}</div>\n                  </div>\n                  } @if(item.wind.direction) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\">\n                      <mat-icon>outbound</mat-icon>\n                    </div>\n                    <div class=\"key-label\">Wind Direction:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.wind.direction }}</div>\n                  </div>\n                  } @if(item.humidity) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\"></div>\n                    <div class=\"key-label\">Humidity:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.humidity }}</div>\n                  </div>\n                  } @if(item.pressure) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\"></div>\n                    <div class=\"key-label\">Pressure:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.pressure }}</div>\n                  </div>\n                  } @if(item.uvIndex) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\"></div>\n                    <div class=\"key-label\">UV Index:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.uvIndex }}</div>\n                  </div>\n                  } @if(item.clouds) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\"></div>\n                    <div class=\"key-label\">Cloud Cover:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.clouds }}</div>\n                  </div>\n                  } @if(item.visibility) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-icon\"></div>\n                    <div class=\"key-label\">Visibility:</div>\n                    <div style=\"flex: 1 1 auto;\">{{ item.visibility }}</div>\n                  </div>\n                  }\n                </div>\n              </mat-card>\n            </div>\n            <div style=\"min-width:50px;text-align:right;padding-top: 15%;\">\n              @if(i !== data.length - 1) {\n              <button\n                mat-icon-button\n                (click)=\"currentPage = currentPage + 1\"\n                matStepperNext\n              >\n                <mat-icon>keyboard_arrow_right</mat-icon>\n              </button>\n              }\n            </div>\n          </div>\n        </mat-step>\n        }\n      </mat-horizontal-stepper>\n      <div style=\"text-align:center;font-size:10pt;font-family:roboto;\">\n        @for(c of data; track c; let i = $index) {\n        <mat-icon\n          [style.color]=\"currentPage - 1 === i ? 'blue' : 'gray'\"\n          style=\"font-size:8pt;width:12px;\"\n        >\n          fiber_manual_record\n        </mat-icon>\n        }\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n      .weather-data h1 {\n        font-weight: normal !important;\n      }\n      .weather-data-row {\n        display: -webkit-box;\n        display: -moz-box;\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        justify-content: flex-start;\n        align-content: stretch;\n        font-family: Arial, Helvetica, sans-serif;\n      }\n      .weather-data-row .item.stretch {\n        text-align: center;\n        width: 100%;\n      }\n      .weather-data-row .item {\n        padding-left: 5px;\n      }\n      .weather-data-row img {\n        width: 42px;\n      }\n      .weather-data-row .description {\n        font-size: 12pt;\n      }\n      .weather-data .key-icon {\n        width: 30px;\n        font-weight: bold;\n      }\n      .weather-data .key-label {\n        width: 150px;\n        font-weight: bold;\n      }\n    `\n  ]\n})\nexport class WeatherDataComponent {\n  @Input() data: Array<WeatherData>;\n\n  public currentPage = 1;\n\n  ngAfterViewInit() {\n    const sh = document.getElementsByClassName(\n      'mat-horizontal-stepper-header-container'\n    );\n    sh[0]['style']['display'] = 'none';\n  }\n}\n","export * from './popovers';\nexport { FBMapComponent } from './fb-map.component';\n","export * from './popover.component';\nexport * from './resource-popover.component';\nexport * from './compass.component';\nexport * from './vessel-popover.component';\nexport * from './featurelist-popover.component';\nexport * from './aircraft-popover.component';\nexport * from './alarm-popover.component';\nexport * from './aton-popover.component';\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, RegularShape, Fill, Stroke, Circle } from 'ol/style';\nimport { fromLonLat } from 'ol/proj';\nimport { Point, LineString } from 'ol/geom';\nimport { Coordinate } from 'ol/coordinate';\nimport { MapComponent } from '../map.component';\nimport { AISBaseLayerComponent } from './ais-base.component';\nimport { SKVessel } from 'src/app/modules/skresources';\nimport { fromLonLatArray } from '../util';\n\n// ** Signal K AIS Vessel targets **\n@Component({\n  selector: 'ol-map > sk-ais-vessels',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class AISVesselsLayerComponent extends AISBaseLayerComponent {\n  @Input() cogLineLength = 0;\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.labelPrefixes = ['ais-'];\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if ('cogLineLength' in changes) {\n      this.cogLineLength = changes['cogLineLength'].currentValue ?? 0;\n      this.onUpdateTargets(this.extractKeys(this.targets));\n    }\n  }\n\n  // reload all Features from this.targets\n  override onReloadTargets() {\n    this.extractKeys(this.targets).forEach((id) => {\n      this.addTargetWithId(id);\n    });\n  }\n\n  // update targets\n  override onUpdateTargets(ids: Array<string>) {\n    ids.forEach((id: string) => {\n      if (id.includes(this.targetContext)) {\n        if (this.okToRenderTarget(id)) {\n          if (this.targets.has(id)) {\n            const f = this.source.getFeatureById('ais-' + id) as Feature;\n            if (f) {\n              const target = this.targets.get(id) as SKVessel;\n              const label = this.buildLabel(target);\n              if (target.position) {\n                f.setGeometry(new Point(fromLonLat(target.position)));\n              }\n              const s = this.buildVesselStyle(\n                target,\n                label,\n                this.isStale(target)\n              ).clone();\n              f.set('name', label, true);\n              f.setStyle(\n                this.setTextLabel(\n                  this.setRotation(s, target.orientation),\n                  label\n                )\n              );\n              this.parseCogLine(id, target);\n            } else {\n              this.addTargetWithId(id);\n            }\n          }\n        } else {\n          this.onRemoveTargets([id]);\n        }\n      }\n    });\n  }\n\n  // remove target features\n  override onRemoveTargets(ids: Array<string>) {\n    ids.forEach((id) => {\n      if (id.includes(this.targetContext)) {\n        let f = this.source.getFeatureById('ais-' + id) as Feature;\n        if (f) {\n          this.source.removeFeature(f);\n        }\n        f = this.source.getFeatureById('cog-' + id) as Feature;\n        if (f) {\n          this.source.removeFeature(f);\n        }\n      }\n    });\n  }\n\n  // label zoom threshold crossed\n  override onLabelZoomThreshold(entered: boolean) {\n    super.updateLabels();\n    this.toggleCogLines(entered);\n  }\n\n  // add new target\n  addTargetWithId(id: string) {\n    if (!id.includes(this.targetContext) || !this.targets.has(id)) {\n      return;\n    }\n    const target = this.targets.get(id) as SKVessel;\n    if (this.okToRenderTarget(id) && target.position) {\n      const label = this.buildLabel(target);\n      const f = new Feature({\n        geometry: new Point(fromLonLat(target.position)),\n        name: target.name\n      });\n      f.setId('ais-' + id);\n      f.set('name', label, true);\n      const s = this.buildVesselStyle(\n        target,\n        label,\n        this.isStale(target)\n      ).clone();\n      f.setStyle(\n        this.setTextLabel(this.setRotation(s, target.orientation), label)\n      );\n      this.source.addFeature(f);\n      this.parseCogLine(id, target);\n    }\n  }\n\n  // build target style\n  buildVesselStyle(target: SKVessel, label?: string, setStale = false): Style {\n    let s: Style;\n    const shipClass = target.type.id\n      ? Math.floor(target.type.id / 10) * 10\n      : -1;\n\n    if (typeof this.targetStyles !== 'undefined') {\n      if (target.id === this.focusId && this.targetStyles.focus) {\n        s = this.targetStyles.focus;\n      } else if (setStale) {\n        // stale\n        s = this.targetStyles.inactive ?? this.targetStyles.default;\n      } else if (target.type && this.targetStyles[shipClass]) {\n        // ship type & state\n        if (target.state && this.targetStyles[shipClass][target.state]) {\n          s = this.targetStyles[shipClass][target.state];\n        } else {\n          s = this.targetStyles[shipClass]['default'];\n        }\n      } else if (target.buddy && this.targetStyles.buddy) {\n        // buddy\n        s = this.targetStyles.buddy;\n      } else {\n        // all others\n        if (target.state && this.targetStyles[target.state]) {\n          // state only\n          s = this.targetStyles[target.state];\n        } else {\n          s = this.targetStyles.default;\n        }\n      }\n    } else if (this.layerProperties && this.layerProperties.style) {\n      s = this.layerProperties.style;\n    } else {\n      if (target.id === this.focusId) {\n        s = new Style({\n          image: new RegularShape({\n            points: 3,\n            radius: 4,\n            fill: new Fill({ color: 'red' }),\n            stroke: new Stroke({\n              color: 'black',\n              width: 1\n            }),\n            rotateWithView: true\n          })\n        });\n      } else if (setStale) {\n        s = new Style({\n          image: new RegularShape({\n            points: 3,\n            radius: 4,\n            fill: new Fill({ color: 'orange' }),\n            stroke: new Stroke({\n              color: 'black',\n              width: 1\n            }),\n            rotateWithView: true\n          })\n        });\n      } else {\n        s = new Style({\n          image: new RegularShape({\n            points: 3,\n            radius: 4,\n            fill: new Fill({ color: 'magenta' }),\n            stroke: new Stroke({\n              color: 'black',\n              width: 1\n            }),\n            rotateWithView: true\n          })\n        });\n      }\n    }\n    return s;\n  }\n\n  // add update COG vector\n  parseCogLine(id: string, target: SKVessel) {\n    if (!this.source || !target.vectors.cog) {\n      return;\n    }\n\n    let cf = this.source.getFeatureById('cog-' + id) as Feature;\n    if (\n      !this.okToRenderCogLines ||\n      !this.okToRenderTarget(id) ||\n      !target.position\n    ) {\n      if (cf) {\n        this.source.removeFeature(cf);\n      }\n      return;\n    }\n\n    if (cf) {\n      // update vector\n      cf.setGeometry(new LineString(fromLonLatArray(target.vectors.cog)));\n      cf.setStyle(this.buildCogLineStyle(id, cf));\n    } else {\n      // create vector\n      cf = new Feature(new LineString(fromLonLatArray(target.vectors.cog)));\n      cf.setId('cog-' + id);\n      cf.setStyle(this.buildCogLineStyle(id, cf));\n      this.source.addFeature(cf);\n    }\n  }\n\n  // show / hide cog vector\n  toggleCogLines(show: boolean) {\n    if (show) {\n      this.targets.forEach((v: SKVessel, k) => {\n        this.parseCogLine(k, v);\n      });\n    } else {\n      this.source.forEachFeature((cl: Feature<LineString>) => {\n        if ((cl.getId() as string).includes('cog-')) {\n          this.source.removeFeature(cl);\n        }\n      });\n    }\n  }\n\n  // build COG vector style\n  buildCogLineStyle(id: string, feature: Feature) {\n    const opacity =\n      this.okToRenderTarget(id) && this.okToRenderCogLines() ? 0.7 : 0;\n    const geometry = feature.getGeometry() as LineString;\n    const color = `rgba(0,0,0, ${opacity})`;\n    const styles = [];\n    styles.push(\n      new Style({\n        stroke: new Stroke({\n          color: color,\n          width: 1,\n          lineDash: [5, 5]\n        })\n      })\n    );\n    geometry.forEachSegment((start: Coordinate, end: Coordinate) => {\n      styles.push(\n        new Style({\n          geometry: new Point(end),\n          image: new Circle({\n            radius: 2,\n            stroke: new Stroke({\n              color: color,\n              width: 1\n            }),\n            fill: new Fill({ color: 'transparent' })\n          })\n        })\n      );\n    });\n    return styles;\n  }\n\n  // ok to show cog lines\n  okToRenderCogLines() {\n    return this.cogLineLength !== 0 && this.mapZoom >= this.labelMinZoom;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChanges\n} from '@angular/core';\n\nimport { Feature } from 'ol';\nimport { Style, Stroke, Fill, Text } from 'ol/style';\nimport { Polygon, Point } from 'ol/geom';\nimport { MapComponent } from '../map.component';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { FBFeatureLayerComponent } from '../sk-feature.component';\nimport { FBCharts } from 'src/app/types';\n\n// ** Show Chart bounds on map **\n@Component({\n  selector: 'ol-map > fb-chart-bounds',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class ChartBoundsLayerComponent extends FBFeatureLayerComponent {\n  @Input() charts: FBCharts = [];\n\n  private boundStyles = ['red', 'magenta', 'blue', 'purple', 'green'];\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseChartBounds(this.charts);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (this.source && 'charts' in changes) {\n      this.source.clear();\n      this.parseChartBounds(changes['charts'].currentValue);\n    }\n  }\n\n  parseChartBounds(charts: FBCharts = this.charts) {\n    const fa: Feature[] = [];\n    let i = 0;\n\n    // backdrop\n    fa.push(this.buildBackdrop());\n\n    // chart bounds\n    for (const c of charts) {\n      const coords = this.parseBoundsCoordinates(c[1].bounds);\n      if (coords.length === 0) continue;\n      // rectangle\n      const f = new Feature({\n        geometry: new Polygon(coords),\n        name: c[1].name\n      });\n      f.setId('chart-bound.' + c[0]);\n      const lp = [\n        coords[0][0][0] +\n          (coords[0][0][0] > coords[0][1][0]\n            ? coords[0][0][0] - coords[0][1][0]\n            : coords[0][1][0] - coords[0][0][0]) /\n            2,\n        coords[0][1][1]\n      ];\n      f.set('labelPos', lp);\n      f.set('boundColor', this.boundStyles[i]);\n      f.setStyle(this.buildStyle);\n      fa.push(f);\n      i++;\n      i = i === this.boundStyles.length ? 0 : i;\n    }\n    this.source.addFeatures(fa);\n  }\n\n  buildBackdrop() {\n    const f = new Feature({\n      geometry: new Polygon([\n        fromLonLatArray([\n          [-180, -90],\n          [-180, 90],\n          [180, 90],\n          [180, -90],\n          [-180, -90]\n        ])\n      ]),\n      name: ''\n    });\n    f.setId('chart-backdrop');\n    f.setStyle(\n      new Style({\n        fill: new Fill({\n          color: 'rgba(255,255,255,0.4)'\n        })\n      })\n    );\n    return f;\n  }\n\n  buildStyle(feature: Feature) {\n    return [\n      new Style({\n        stroke: new Stroke({\n          color: feature.get('boundColor'),\n          width: 2\n        }),\n        fill: new Fill({\n          color: 'rgba(255,255,255,0.1 )'\n        })\n      }),\n      new Style({\n        geometry: new Point(feature.get('labelPos')),\n        text: new Text({\n          text: feature.get('name'),\n          overflow: true,\n          offsetX: 0,\n          offsetY: -10,\n          fill: new Fill({\n            color: feature.get('boundColor')\n          }),\n          justify: 'left',\n          textBaseline: 'top'\n        })\n      })\n    ];\n  }\n\n  // mapify and transform bounds to polygon\n  parseBoundsCoordinates(bounds: Array<number>) {\n    if (\n      !Array.isArray(bounds) ||\n      bounds.length !== 4 ||\n      (bounds[0] === -180 &&\n        bounds[1] === -90 &&\n        bounds[2] === 180 &&\n        bounds[3] === 90)\n    )\n      return [];\n    const rect = mapifyCoords(\n      [\n        [bounds[0], bounds[1]],\n        [bounds[2], bounds[1]],\n        [bounds[2], bounds[3]],\n        [bounds[0], bounds[3]],\n        [bounds[0], bounds[1]]\n      ],\n      0\n    );\n    return [fromLonLatArray(rect)];\n  }\n}\n","/** Application Information Service **\n * perform version checking etc. here\n * ************************************/\nimport { Injectable, signal } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Subject, Observable } from 'rxjs';\n\nimport {\n  Info,\n  SettingsMessage,\n  IndexedDB,\n  SettingsSignals\n} from './lib/services';\n\nimport {\n  AlertDialog,\n  ConfirmDialog,\n  WelcomeDialog,\n  MessageBarComponent,\n  MsgBox,\n  ErrorListDialog\n} from './lib/components/dialogs';\n\nimport { Convert } from './lib/convert';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { SKVessel, SKChart, SKWorkerService } from './modules';\n\nimport {\n  PluginInfo,\n  PluginSettings,\n  AppUpdateMessage,\n  Position,\n  ErrorList\n} from './types';\n\nimport {\n  IAppConfig,\n  DefaultConfig,\n  validateConfig,\n  cleanConfig\n} from './app.settings';\n\nimport { WELCOME_MESSAGES } from './app.messages';\nimport { getSvgList } from './modules/icons';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n// ** default OSM charts **\nexport const OSM = [\n  [\n    'openstreetmap',\n    new SKChart({\n      name: 'World Map',\n      description: 'Open Street Map'\n    }),\n    true\n  ],\n  [\n    'openseamap',\n    new SKChart({\n      name: 'Sea Map',\n      description: 'Open Sea Map',\n      url: 'https://tiles.openseamap.org/seamark/{z}/{x}/{y}.png',\n      minzoom: 1,\n      maxzoom: 24,\n      bounds: [-180, -90, 180, 90],\n      type: 'tilelayer'\n    }),\n    true\n  ]\n];\n\n@Injectable({ providedIn: 'root' })\nexport class AppFacade extends Info {\n  private DEV_SERVER = {\n    host: 'localhost', //'192.168.86.32', // host name || ip address\n    port: 3000, // port number\n    ssl: false\n  };\n\n  // controls map zoom limits\n  public MAP_ZOOM_EXTENT = {\n    min: 2,\n    max: 28\n  };\n\n  public hostName: string;\n  public hostPort: number;\n  public hostSSL: boolean;\n  public host = '';\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public hostParams: { [key: string]: any } = {};\n\n  private fbAudioContext =\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    window.AudioContext || (window as any).webkitAudioContext;\n  public audio = { context: new this.fbAudioContext() };\n\n  public db: AppDB;\n\n  private suppressTrailFetch = false;\n\n  public skApiVersion = 2;\n  public plugin: PluginSettings = {\n    version: '',\n    settings: {}\n  };\n\n  get useMagnetic(): boolean {\n    return this.config.selections.headingAttribute ===\n      'navigation.headingMagnetic'\n      ? true\n      : false;\n  }\n\n  private skLoginSource: Subject<string>;\n  public skLogin$: Observable<string>;\n  private watchingSKLogin: number;\n\n  // signals\n  sMapNorthUp = signal(true); // map North / Heading Up\n  sIsFetching = signal(false); // show progress for fetching data from server\n  sAlertListShow = signal(false); // display AlertList\n\n  constructor(\n    public signalk: SignalKClient,\n    private worker: SKWorkerService,\n    private dialog: MatDialog,\n    private snackbar: MatSnackBar,\n    private iconReg: MatIconRegistry,\n    private dom: DomSanitizer\n  ) {\n    super();\n\n    this.id = 'freeboard';\n    this.name = 'Freeboard-SK';\n    this.shortName = 'Freeboard';\n    this.description = `Signal K Chart Plotter.`;\n    this.version = '2.14.1';\n    this.url = 'https://github.com/signalk/freeboard-sk';\n    this.logo = './assets/img/app_logo.png';\n\n    this.signalk.setAppId(this.id); // server stored data appId\n    this.signalk.setAppVersion('1.0.0'); // server stored data version\n\n    this.db = new AppDB();\n\n    // events / observables\n    this.skLoginSource = new Subject<string>();\n    this.skLogin$ = this.skLoginSource.asObservable();\n\n    // Initialiase IconRegistry\n    this.initAppIcons();\n\n    // process searchParams\n    if (window.location.search) {\n      const p = window.location.search.slice(1).split('&');\n      p.forEach((i: string) => {\n        const a = i.split('=');\n        this.hostParams[a[0]] = a.length > 1 ? a[1] : null;\n      });\n    }\n\n    // host\n    this.hostName =\n      typeof this.hostParams.host !== 'undefined'\n        ? this.hostParams.host\n        : this.devMode && this.DEV_SERVER.host\n        ? this.DEV_SERVER.host\n        : window.location.hostname;\n\n    this.hostSSL =\n      window.location.protocol === 'https:' ||\n      (this.devMode && this.DEV_SERVER.ssl)\n        ? true\n        : false;\n\n    this.hostPort =\n      typeof this.hostParams.port !== 'undefined'\n        ? parseInt(this.hostParams.port)\n        : this.devMode && this.DEV_SERVER.port\n        ? this.DEV_SERVER.port\n        : parseInt(window.location.port);\n\n    // if no port specified then set to 80 | 443\n    this.hostPort = isNaN(this.hostPort)\n      ? this.hostSSL\n        ? 443\n        : 80\n      : this.hostPort;\n\n    this.host = `${this.hostSSL ? 'https:' : 'http:'}//${this.hostName}:${\n      this.hostPort\n    }`;\n\n    this.debug('host:', this.host);\n\n    // apply base config\n    this.config = JSON.parse(JSON.stringify(DefaultConfig));\n    // apply default data\n    this.data = {\n      firstRun: false,\n      updatedRun: null,\n      kioskMode: typeof this.hostParams.kiosk !== 'undefined' ? true : false,\n      n2kRoute: null,\n      optAppPanel: false,\n      trueMagChoice: '',\n      loggedIn: false,\n      loginRequired: false,\n      loggedInBadgeText: '!',\n      hasToken: false,\n      hasWakeLock: false,\n      routes: [],\n      waypoints: [],\n      charts: [].concat(OSM),\n      chartBounds: false,\n      notes: [],\n      resourceSets: {}, // additional resource sets\n      selfId: null,\n      activeRoute: null,\n      activeRouteReversed: false,\n      activeRouteCircular: false,\n      activeRouteIsEditing: false,\n      editingId: null,\n      activeWaypoint: null,\n      trail: [], // self vessel track / trail\n      serverTrail: false, // trail received from server\n      server: null,\n      lastGet: null, // map position of last resources GET\n      map: {\n        suppressContextMenu: false,\n        atClick: {\n          features: [],\n          lonlat: [0, 0]\n        }\n      },\n      vessels: {\n        // received vessel data\n        showSelf: false,\n        self: new SKVessel(),\n        aisTargets: new Map(),\n        aisTracks: new Map(), // AIS targets track (tracks plugin)\n        activeId: null,\n        active: null,\n        closest: [],\n        prefAvailablePaths: {}, // preference paths available from source,\n        flagged: [] // flagged ais targets\n      },\n      aircraft: new Map(), // received AIS aircraft data\n      atons: new Map(), // received AIS AtoN data\n      sar: new Map(), // received AIS SaR data\n      meteo: new Map(), // received AIS Meteo data\n      aisMgr: {\n        // manage aisTargets\n        updateList: [],\n        staleList: [],\n        removeList: []\n      },\n      navData: {\n        vmg: null,\n        dtg: null,\n        ttg: null,\n        bearing: { value: null, type: null },\n        bearingTrue: null,\n        bearingMagnetic: null,\n        xte: null,\n        eta: null,\n        position: null,\n        pointIndex: -1,\n        pointTotal: 0,\n        arrivalCircle: null,\n        startPosition: null,\n        pointNames: [],\n        activeRoutePoints: [],\n        destPointName: ''\n      },\n      racing: {\n        startLine: [],\n        finishLine: []\n      },\n      anchor: {\n        hasApi: true\n      },\n      buddyList: {\n        hasApi: false\n      },\n      autopilot: {\n        console: false, // display Autopilot console\n        hasApi: false // Server implements Autopilot API\n      },\n      skIcons: {\n        hasApi: false\n      },\n      buildRoute: {\n        show: false\n      },\n      weather: {\n        hasApi: false\n      },\n      measurement: {\n        coords: [],\n        index: -1\n      }\n    };\n    this.data.map.suppressContextMenu = this.data.kioskMode;\n\n    /***************************************\n     * Subscribe to App events as required\n     ***************************************/\n    // ** version update **\n    this.upgraded$.subscribe((version: AppUpdateMessage) => {\n      this.handleUpgradeEvent(version);\n    });\n    // ** settings load / save events\n    this.settings$.subscribe((value: SettingsMessage) => {\n      this.handleSettingsEvent(value);\n    });\n    // ** database events\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.db.dbUpdate$.subscribe((res: { action: string; value: any }) => {\n      if (res.action) {\n        switch (res.action) {\n          case 'db_init':\n            if (res.value) {\n              if (this.config.selections.vessel.trail) {\n                this.db.getTrail().then((t) => {\n                  this.data.trail = t && t.value ? t.value : [];\n                });\n              }\n            }\n            break;\n          case 'trail_save':\n            if (!res.value) {\n              this.debug('app.trail.save.error', 'warn');\n            }\n            break;\n        }\n      }\n    });\n\n    this.init();\n\n    // token from url params\n    if (typeof this.hostParams.token !== 'undefined') {\n      this.persistToken(this.hostParams.token);\n    }\n\n    // ** detect if launched in iframe **\n    try {\n      this.data.optAppPanel = window.self === window.top;\n    } catch (e) {\n      this.data.optAppPanel = false;\n    }\n\n    /***************************************\n     * trigger app version check\n     * uses: handleUpgradeEvent() subscription\n     ***************************************/\n    const v = this.checkVersion();\n    if (!v.result) {\n      //** current version\n      this.loadConfig();\n      this.loadData();\n    }\n\n    // ** check for internet connection **\n    window\n      .fetch('https://tile.openstreetmap.org') //'https://tiles.openseamap.org/seamark/')\n      .then(() => {\n        console.info('Internet connection detected.');\n      })\n      .catch(() => {\n        console.warn('No Internet connection detected!');\n        const mapsel = this.config.selections.charts;\n        if (mapsel.includes('openstreetmap') || mapsel.includes('openseamap')) {\n          if (!this.data.kioskMode) {\n            this.showAlert(\n              'Internet Map Service Unavailable: ',\n              `Unable to display Open Street / Sea Maps!\\n\n                      Please check your Internet connection or select maps from the local network.\\n\n                      `\n            );\n          }\n        }\n      });\n  }\n\n  // Initialise IconRegistry with custom icons\n  private initAppIcons() {\n    getSvgList().forEach((s: { id: string; path: string }) => {\n      this.iconReg.addSvgIcon(\n        s.id,\n        this.dom.bypassSecurityTrustResourceUrl(s.path)\n      );\n    });\n  }\n\n  // get plugin information\n  fetchPluginSettings() {\n    this.signalk\n      .get(`/plugins/freeboard-sk/settings`)\n      .subscribe((r: PluginSettings) => {\n        this.plugin.settings = r.settings;\n      });\n    this.signalk.get(`/plugins/freeboard-sk`).subscribe(\n      (r: PluginInfo) => {\n        this.plugin.version = r.version;\n      },\n      () => {\n        this.plugin.version = this.version;\n      }\n    );\n  }\n\n  // persist auth token for session\n  persistToken(value: string) {\n    if (value) {\n      this.signalk.authToken = value;\n      this.worker.postMessage({\n        cmd: 'auth',\n        options: {\n          token: value\n        }\n      });\n      document.cookie = `sktoken=${value}; SameSite=Strict`;\n      this.data.hasToken = true; // hide login menu item\n    } else {\n      this.data.hasToken = false; // show login menu item\n      this.signalk.authToken = null;\n      this.data.loggedIn = false;\n      document.cookie = `sktoken=${null}; SameSite=Strict; max-age=0;`;\n      this.worker.postMessage({\n        cmd: 'auth',\n        options: {\n          token: null\n        }\n      });\n    }\n  }\n\n  // Start watching for change in skLoginInfo cookie\n  watchSKLogin() {\n    if (this.watchingSKLogin) return;\n    this.watchingSKLogin = window.setInterval(\n      (() => {\n        let lastCookie = this.getCookie(document.cookie, 'skLoginInfo');\n        return () => {\n          const currentCookie = this.getCookie(document.cookie, 'skLoginInfo');\n          if (currentCookie !== lastCookie) {\n            lastCookie = currentCookie;\n            this.skLoginSource.next(currentCookie);\n          }\n        };\n      })(),\n      2000\n    );\n  }\n\n  // return FB auth token for session\n  getFBToken(): string {\n    return this.getCookie(document.cookie, 'sktoken');\n  }\n\n  // return the requested cookie\n  private getCookie(c: string, sel: 'sktoken' | 'skLoginInfo') {\n    if (!c) {\n      return undefined;\n    }\n    const tk = new Map();\n    c.split(';').map((i) => {\n      const c = i.split('=');\n      tk.set(c[0], c[1]);\n    });\n    if (tk.has(sel)) {\n      return tk.get(sel);\n    } else {\n      return undefined;\n    }\n  }\n\n  // fetch of trail from server (triggers SKStreamFacade.trail$)\n  fetchTrailFromServer() {\n    if (this.suppressTrailFetch) {\n      this.suppressTrailFetch = false;\n      return;\n    }\n    this.worker.postMessage({\n      cmd: 'trail',\n      options: {\n        trailDuration: this.config.selections.trailDuration,\n        trailResolution: this.config.selections.trailResolution\n      }\n    });\n  }\n\n  // ** handle App version upgrade **\n  handleUpgradeEvent(version: AppUpdateMessage) {\n    this.debug('App Upgrade Handler...Start...', 'info');\n    this.debug(version);\n    // *******************\n\n    if (version.result && version.result === 'update') {\n      this.debug('Upgrade result....new version detected');\n      this.loadConfig();\n      this.loadData();\n\n      const pv = version.previous.split('.');\n      const cv = version.new.split('.');\n      if (pv[0] !== cv[0] || pv[1] !== cv[1]) {\n        this.data['updatedRun'] = version;\n      }\n    } else if (version.result && version.result === 'new') {\n      this.debug('Upgrade result....new installation');\n      this.loadConfig();\n      this.loadData();\n      this.data['firstRun'] = true;\n    }\n\n    // *******************\n    this.saveInfo();\n    this.debug('App Upgrade Handler...End...', 'info');\n  }\n\n  // ** handle Settings load / save **\n  handleSettingsEvent(value: SettingsMessage) {\n    this.debug(value);\n    if (value.action === 'load' && value.setting === 'config') {\n      cleanConfig(this.config, this.hostParams);\n      if (this.config.fixedLocationMode) {\n        this.data.vessels.self.position = [\n          ...this.config.fixedPosition\n        ] as Position;\n        this.data.vessels.showSelf = true;\n        this.config.map.center = [...this.config.fixedPosition];\n      }\n      this.sMapNorthUp.set(this.config.map.northUp);\n    }\n  }\n\n  /**  \n   * @description Retrieve and apply user / plugin settings from server\n  */\n  public loadSettingsfromServer(): Observable<boolean> {\n    const sub: Subject<boolean> = new Subject();\n    this.signalk.isLoggedIn().subscribe(\n      (r) => {\n        // fetch plugin settings\n        this.fetchPluginSettings();\n        this.data.loggedIn = r;\n        if (r) {\n          // ** get server stored config for logged in user **\n          this.signalk.appDataGet('/').subscribe(\n            (settings: IAppConfig) => {\n              if (Object.keys(settings).length === 0) {\n                return;\n              }\n              cleanConfig(settings, this.hostParams);\n              if (validateConfig(settings)) {\n                this.config = settings;\n                this.saveConfig();\n                sub.next(true);\n              }\n              this.alignResourcesPaths();\n            },\n            () => {\n              console.info(\n                'applicationData: Unable to retrieve settings from server!'\n              );\n              sub.next(false);\n            }\n          );\n        }\n      },\n      () => {\n        this.data.loggedIn = false;\n        console.info('Unable to get loginStatus!');\n        sub.next(false);\n      }\n    );\n    return sub.asObservable();\n  }\n\n  /**\n   * @description Align selected custom resource paths with those enabled on the server.\n   */\n  public alignResourcesPaths() {\n    // check resources paths\n    this.signalk.api.get(this.skApiVersion,'/resources').subscribe(\n      (res: {[key:string]: {description:string}}) => {\n        const paths = Object.keys(res).filter( i=> !['routes','waypoints','regions','notes','charts'].includes(i));\n        this.config.resources.paths = this.config.resources.paths.filter( k => paths.includes(k));\n      }\n    );\n  }\n\n  // ** overloaded saveConfig() **\n  saveConfig(signals?: SettingsSignals) {\n    this.suppressTrailFetch = signals?.suppressTrailFetch ?? false;\n    super.saveConfig(signals);\n    if (this.data.loggedIn) {\n      this.signalk.appDataSet('/', this.config).subscribe(\n        () => this.debug('saveConfig: config saved to server.'),\n        () => this.debug('saveConfig: Cannot save config to server!')\n      );\n    }\n  }\n\n  // ** show Help at specified anchor\n  showHelp(anchor?: string) {\n    const url = `./assets/help/index.html${anchor ? '#' + anchor : ''}`;\n    window.open(url, 'help');\n  }\n\n  // ** display Welcome dialog\n  showWelcome() {\n    let btnText = 'Get Started';\n    const messages = [];\n    let showPrefs = false;\n\n    if (!this.data.kioskMode && (this.data.firstRun || this.data.updatedRun)) {\n      if (this.data.firstRun) {\n        messages.push(WELCOME_MESSAGES['welcome']);\n        if (this.data.server && this.data.server.id) {\n          messages.push(WELCOME_MESSAGES[this.data.server.id]);\n          showPrefs = true;\n        }\n      } else {\n        if (\n          WELCOME_MESSAGES['whats-new'] &&\n          WELCOME_MESSAGES['whats-new'].length > 0\n        ) {\n          WELCOME_MESSAGES['whats-new'].forEach((msg) => {\n            if (msg.type) {\n              if (\n                this.data.server &&\n                this.data.server.id &&\n                msg.type === this.data.server.id\n              ) {\n                messages.push(msg);\n              }\n            } else {\n              messages.push(msg);\n            }\n          });\n        }\n        btnText = 'Got it';\n      }\n\n      if (messages.length === 0) {\n        return;\n      }\n      return this.dialog.open(WelcomeDialog, {\n        disableClose: true,\n        data: {\n          buttonText: btnText,\n          content: messages,\n          showPrefs: showPrefs\n        }\n      });\n    }\n  }\n\n  // ** display MsgBox dialog\n  showMsgBox(title: string, message: string, btn?: string) {\n    return this.dialog\n      .open(MsgBox, {\n        disableClose: false,\n        data: {\n          message: message,\n          title: title,\n          buttonText: btn\n        }\n      })\n      .afterClosed();\n  }\n\n  // ** display alert dialog\n  showAlert(title: string, message: string, btn?: string) {\n    return this.dialog\n      .open(AlertDialog, {\n        disableClose: false,\n        data: {\n          message: message,\n          title: title,\n          buttonText: btn\n        }\n      })\n      .afterClosed();\n  }\n\n  // ** display error list dialog\n  showErrorList(errList: ErrorList, btn?: string) {\n    return this.dialog\n      .open(ErrorListDialog, {\n        disableClose: false,\n        data: {\n          errorList: errList,\n          buttonText: btn\n        }\n      })\n      .afterClosed();\n  }\n\n  // ** display message bar\n  showMessage(message: string, sound = false, duration = 5000) {\n    this.snackbar.openFromComponent(MessageBarComponent, {\n      duration: duration,\n      data: { message: message, sound: sound }\n    });\n  }\n\n  // ** display confirm dialog **\n  showConfirm(\n    message: string,\n    title: string,\n    btn1?: string,\n    btn2?: string,\n    checkText?: string\n  ) {\n    return this.dialog\n      .open(ConfirmDialog, {\n        disableClose: true,\n        data: {\n          message: message,\n          title: title,\n          button1Text: btn1,\n          button2Text: btn2,\n          checkText: checkText\n        }\n      })\n      .afterClosed();\n  }\n\n  // ******** Http Error Message handling *****************\n\n  /**\n   * @description Parse and display error message\n   * @param err Error response\n   */\n  parseHttpErrorResponse(err: HttpErrorResponse) {\n    let msg: string = '';\n    if (err.status && [401, 403].includes(err.status)) {\n      // unauthorised / forbidden\n      msg =\n        'Signal K server requires authentication to update resources.\\nPlease login and try again.\\n';\n    } else {\n      msg = 'Operation could not be completed!\\n';\n    }\n    this.showAlert(\n      `${err.status}: ${err.statusText}`,\n      msg + `${err.error.message}`\n    );\n  }\n\n  /** returns a formatted string containing the value (converted to the preferred units)\n   * and units. (e.g. 12.5 knots, 8.8 m/s)\n   * Numbers are fixed to 1 decimal point\n   */\n  formatValueForDisplay(\n    value: number,\n    sourceUnits: 'K' | 'm/s' | 'rad' | 'm' | 'ratio' | 'deg',\n    depthValue?: boolean\n  ): string {\n    if (sourceUnits === 'K') {\n      return this.config.units.temperature === 'c'\n        ? `${Convert.kelvinToCelcius(value).toFixed(1)}${String.fromCharCode(\n            186\n          )}C`\n        : `${Convert.kelvinToFarenheit(value).toFixed(1)}${String.fromCharCode(\n            186\n          )}F`;\n    } else if (sourceUnits === 'ratio') {\n      return Math.abs(value) <= 1\n        ? `${(value * 100).toFixed(1)}%`\n        : value.toFixed(4);\n    } else if (sourceUnits === 'rad') {\n      return `${Convert.radiansToDegrees(value).toFixed(\n        1\n      )}${String.fromCharCode(186)}`;\n    } else if (sourceUnits === 'deg') {\n      return `${value.toFixed(1)}${String.fromCharCode(186)}`;\n    } else if (sourceUnits === 'm') {\n      if (depthValue) {\n        return this.config.units.depth === 'm'\n          ? `${value.toFixed(1)} m`\n          : `${Convert.metersToFeet(value).toFixed(1)} ft`;\n      } else {\n        if (this.config.units.distance !== 'ft') {\n          return value < 1000\n            ? `${value.toFixed(0)} m`\n            : `${(value / 1000).toFixed(1)} km`;\n        } else {\n          const nm = Convert.kmToNauticalMiles(value / 1000);\n          return nm < 0.5\n            ? this.formatValueForDisplay(value, 'm', true)\n            : `${nm.toFixed(1)} NM`;\n        }\n      }\n    } else if (sourceUnits === 'm/s') {\n      switch (this.config.units.speed) {\n        case 'kmh':\n          return `${Convert.msecToKmh(value).toFixed(1)} km/h`;\n        case 'kn':\n          return `${Convert.msecToKnots(value).toFixed(1)} knots`;\n        case 'mph':\n          return `${Convert.msecToMph(value).toFixed(1)} mph`;\n        default:\n          return `${value} ${sourceUnits}`;\n      }\n    } else {\n      // timestamp\n      if (typeof value === 'string') {\n        if (value[String(value).length - 1] === 'Z' && value[10] === 'T') {\n          return new Date(value).toLocaleString();\n        }\n      }\n      return `${value}${sourceUnits}`;\n    }\n  }\n\n  // convert speed value and set the value of this.app.formattedSpeedUnits\n  formatSpeed(value: number, asString = false): string | number {\n    const valIsNumber = typeof value === 'number';\n    switch (this.config.units.speed) {\n      case 'kn':\n        value = Convert.msecToKnots(value);\n        this.formattedSpeedUnits = 'knots';\n        break;\n      case 'kmh':\n        value = Convert.msecToKmh(value);\n        this.formattedSpeedUnits = 'km/h';\n        break;\n      case 'mph':\n        value = Convert.msecToMph(value);\n        this.formattedSpeedUnits = 'mph';\n        break;\n      default:\n        this.formattedSpeedUnits = 'm/s';\n    }\n    if (asString) {\n      return valIsNumber ? value.toFixed(1) : '-';\n    } else {\n      return valIsNumber ? value : '-';\n    }\n  }\n\n  formattedSpeedUnits = 'knots';\n}\n\n/******************\n ** App Database  **\n ******************/\nexport class AppDB {\n  private db: IndexedDB;\n  private dbUpdateSource;\n  public dbUpdate$;\n\n  constructor() {\n    this.dbUpdateSource = new Subject<string>();\n    this.dbUpdate$ = this.dbUpdateSource.asObservable();\n    this.db = new IndexedDB('freeboard', 1);\n\n    this.db\n      .openDatabase(1, (evt) => {\n        const trail = evt.currentTarget.result.createObjectStore('trail', {\n          keyPath: 'uuid'\n        });\n        trail.createIndex('uuid_idx', 'uuid', { unique: true });\n      })\n      .then(\n        () => {\n          this.emitDbUpdate({ action: 'db_init', value: true });\n        },\n        () => {\n          this.emitDbUpdate({ action: 'db_init', value: false });\n        }\n      );\n  }\n\n  // ** emit dbUpdate message **\n  emitDbUpdate(value = null) {\n    this.dbUpdateSource.next(value);\n  }\n\n  // ** get veesel trail **\n  getTrail(id = 'self') {\n    return this.db.getByIndex('trail', 'uuid_idx', id);\n  }\n\n  // ** create / update vessel trail entry**\n  saveTrail(id = 'self', trailData) {\n    this.db.update('trail', { uuid: id, value: trailData }).then(\n      () => {\n        this.emitDbUpdate({ action: 'trail_save', value: true });\n      },\n      () => {\n        this.db.add('trail', { uuid: id, value: trailData }).then(\n          () => {\n            this.emitDbUpdate({ action: 'trail_save', value: true });\n          },\n          () => {\n            this.emitDbUpdate({ action: 'trail_save', value: false });\n          }\n        );\n      }\n    );\n  }\n}\n","import { ChangeDetectorRef, Directive, Input, OnInit } from '@angular/core';\nimport {\n  Attribution,\n  FullScreen,\n  Rotate,\n  ScaleLine,\n  Zoom,\n  ZoomSlider,\n  ZoomToExtent\n} from 'ol/control';\nimport { MapComponent } from './map.component';\n\n@Directive({\n  selector: 'ol-map > [olControls]',\n  standalone: false\n})\nexport class ControlsDirective implements OnInit {\n  private controls = [];\n  private readonly controlList = {\n    attribution: Attribution,\n    fullscreen: FullScreen,\n    rotate: Rotate,\n    scaleline: ScaleLine,\n    zoom: Zoom,\n    zoomslider: ZoomSlider,\n    zoomtoextent: ZoomToExtent\n  };\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  @Input()\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  set olControls(value: any[]) {\n    this.controls = value;\n    this.setControls();\n  }\n\n  ngOnInit() {\n    this.setControls();\n  }\n\n  setControls() {\n    const map = this.mapComponent.getMap();\n    if (undefined !== map) {\n      map.getControls().clear();\n      if (!this.controls || this.controls.length < 0) {\n        return;\n      }\n      for (const config of this.controls) {\n        this.addControl(map, config);\n      }\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  private addControl(map, controlConfig) {\n    if (!this.controlList[controlConfig.name]) {\n      console.warn(`Unknown control ${controlConfig.name}`);\n      return;\n    }\n    const newControl = new this.controlList[controlConfig.name](\n      controlConfig.options\n    );\n    map.addControl(newControl);\n  }\n}\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { GPXSaveFacade } from './gpxsave-dialog.facade';\nimport { AppFacade } from 'src/app/app.facade';\n\n//** GPXSave dialog **\n@Component({\n  selector: 'gpxsave-dialog',\n  templateUrl: './gpxsave-dialog.html',\n  styleUrls: ['./gpxsave-dialog.css'],\n  standalone: false\n})\nexport class GPXExportDialog implements OnInit {\n  public resData = {\n    routes: [],\n    waypoints: [],\n    tracks: []\n  };\n\n  public selRoutes = [];\n  public selectedRoute = null;\n  public selWaypoints = [];\n  public selTracks = [];\n\n  public display = {\n    notValid: false,\n    allRoutesChecked: false,\n    allWaypointsChecked: false,\n    allTracksChecked: false,\n    someWptChecked: false,\n    someRteChecked: false,\n    someTrkChecked: false,\n    saveRoutesOK: false,\n    saveWaypointsOK: false,\n    saveTracksOK: false,\n    routeViewer: false,\n    selCount: { routes: 0, waypoints: 0, tracks: 0 },\n    expand: { routes: false, waypoints: false, tracks: false }\n  };\n\n  private unsubscribe = [];\n\n  constructor(\n    public app: AppFacade,\n    public facade: GPXSaveFacade,\n    public dialogRef: MatDialogRef<GPXExportDialog>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  ngOnInit() {\n    this.parseResourceData();\n\n    // ** close dialog returning error count **\n    this.unsubscribe.push(\n      this.facade.result$.subscribe((errCount) => {\n        this.dialogRef.close(errCount);\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.forEach((i) => i.unsubscribe());\n    this.facade.clear();\n  }\n\n  // ** load selected resources **\n  save() {\n    this.facade.saveToFile(this.resData, {\n      rte: { selected: this.selRoutes },\n      wpt: { selected: this.selWaypoints },\n      trk: { selected: this.selTracks }\n    });\n  }\n\n  parseResourceData() {\n    this.display.allRoutesChecked = false;\n    this.display.saveRoutesOK = false;\n    this.selRoutes = [];\n    this.display.allWaypointsChecked = false;\n    this.display.saveWaypointsOK = false;\n    this.selWaypoints = [];\n    this.display.allTracksChecked = false;\n    this.display.saveTracksOK = false;\n    this.selTracks = [];\n    this.display.selCount = { routes: 0, waypoints: 0, tracks: 0 };\n    this.display.expand = { routes: false, waypoints: false, tracks: false };\n    this.display.notValid = false;\n\n    this.resData = this.facade.prepData(this.data);\n\n    this.resData.routes.forEach(() => {\n      this.selRoutes.push(false);\n    });\n    if (this.selRoutes.length === 1) {\n      this.selRoutes[0] = true;\n      this.display.allRoutesChecked = true;\n      this.display.expand.routes = true;\n      this.display.saveRoutesOK = true;\n    }\n\n    this.resData.waypoints.forEach(() => {\n      this.selWaypoints.push(false);\n    });\n\n    this.selTracks.push(false);\n  }\n\n  // ** select Route idx=-1 -> check all\n  checkRte(checked: boolean, idx = -1) {\n    let selcount = 0;\n    if (idx !== -1) {\n      this.selRoutes[idx] = checked;\n      this.display.saveRoutesOK = checked;\n      for (const c of this.selRoutes) {\n        if (c) {\n          selcount++;\n        }\n      }\n      this.display.saveRoutesOK = selcount !== 0 ? true : false;\n      this.display.selCount.routes = selcount;\n      this.display.allRoutesChecked = selcount === this.selRoutes.length;\n    } else {\n      for (let i = 0; i < this.selRoutes.length; i++) {\n        this.selRoutes[i] = checked;\n        this.display.saveRoutesOK = checked;\n        this.display.allRoutesChecked = checked;\n      }\n      this.display.selCount.routes = checked ? this.selRoutes.length : 0;\n    }\n    this.display.someRteChecked =\n      this.display.allRoutesChecked || selcount === 0 ? false : true;\n  }\n\n  // ** select Waypoint idx=-1 -> check all\n  checkWpt(checked: boolean, idx = -1) {\n    let selcount = 0;\n    if (idx !== -1) {\n      this.selWaypoints[idx] = checked;\n      this.display.saveWaypointsOK = checked;\n      for (const c of this.selWaypoints) {\n        if (c) {\n          selcount++;\n        }\n      }\n      this.display.saveWaypointsOK = selcount !== 0 ? true : false;\n      this.display.selCount.waypoints = selcount;\n      this.display.allWaypointsChecked = selcount === this.selWaypoints.length;\n    } else {\n      for (let i = 0; i < this.selWaypoints.length; i++) {\n        this.selWaypoints[i] = checked;\n        this.display.saveWaypointsOK = checked;\n        this.display.allWaypointsChecked = checked;\n      }\n      this.display.selCount.waypoints = checked ? this.selWaypoints.length : 0;\n    }\n    this.display.someWptChecked =\n      this.display.allWaypointsChecked || selcount === 0 ? false : true;\n  }\n\n  // ** select Track idx=-1 -> check all\n  checkTrk(checked: boolean, idx = -1) {\n    let selcount = 0;\n    if (idx !== -1) {\n      this.selTracks[idx] = checked;\n      this.display.saveTracksOK = checked;\n      for (const c of this.selTracks) {\n        if (c) {\n          selcount++;\n        }\n      }\n      this.display.saveTracksOK = selcount !== 0 ? true : false;\n      this.display.selCount.tracks = selcount;\n      this.display.allTracksChecked = selcount === this.selTracks.length;\n    } else {\n      for (let i = 0; i < this.selTracks.length; i++) {\n        this.selTracks[i] = checked;\n        this.display.saveTracksOK = checked;\n        this.display.allTracksChecked = checked;\n      }\n      this.display.selCount.tracks = checked ? this.selTracks.length : 0;\n    }\n    this.display.someTrkChecked =\n      this.display.allTracksChecked || selcount === 0 ? false : true;\n  }\n}\n","<div class=\"gpxsave-dialog\">\n  <mat-toolbar style=\"background-color: transparent\">\n    <div style=\"display: flex; width: 100%\">\n      <div>\n        <button\n          style=\"width: 85px\"\n          mat-raised-button\n          matTooltip=\"Save selected resources\"\n          matTooltipPosition=\"right\"\n          [disabled]=\"!display.saveRoutesOK && !display.saveWaypointsOK && !display.saveTracksOK\"\n          (click)=\"save()\"\n        >\n          <mat-icon>save</mat-icon>&nbsp;Save&nbsp;\n        </button>\n      </div>\n      <div style=\"flex: 1 1 auto; text-align: center\">Export to GPX</div>\n      <div style=\"text-align: right\">\n        <button mat-icon-button (click)=\"this.dialogRef.close(-1);\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </mat-toolbar>\n\n  <div mat-dialog-content style=\"padding: 2px\">\n    <!-- Waypoints -->\n    @if(resData.waypoints.length !== 0) {\n    <div class=\"card-group\">\n      <mat-expansion-panel\n        [expanded]=\"display.expand.waypoints\"\n        (opened)=\"display.expand.waypoints=true\"\n        (closed)=\"display.expand.waypoints=false\"\n      >\n        <mat-expansion-panel-header class=\"panel-header\">\n          <mat-panel-title>\n            <mat-icon class=\"icon-waypoint\">place</mat-icon>\n            &nbsp;<b>Waypoints:</b>\n          </mat-panel-title>\n          <mat-panel-description>\n            <div class=\"panel-description\">\n              <mat-checkbox\n                [indeterminate]=\"display.someWptChecked\"\n                [checked]=\"display.allWaypointsChecked\"\n                [disabled]=\"resData.waypoints.length===0\"\n                (change)=\"checkWpt($event.checked, -1)\"\n                (click)=\"$event.cancelBubble=true\"\n                matTooltip=\"Select all Waypoints\"\n                matTooltipPosition=\"before\"\n              ></mat-checkbox>\n            </div>\n          </mat-panel-description>\n        </mat-expansion-panel-header>\n\n        <div class=\"list-container-scrollable\">\n          @for(w of resData.waypoints;track w;let i=$index) {\n          <div class=\"item-row\">\n            <div class=\"name\">{{w.name}}</div>\n            <div class=\"check\">\n              <mat-checkbox\n                [checked]=\"selWaypoints[i]\"\n                #wval\n                (change)=\"checkWpt(wval.checked, i)\"\n                matTooltip=\"Select Waypoint\"\n                matTooltipPosition=\"below\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n          }\n        </div>\n      </mat-expansion-panel>\n    </div>\n    }\n\n    <!-- Routes -->\n    @if(resData.routes.length !== 0) {\n    <div class=\"card-group\">\n      <mat-expansion-panel\n        [expanded]=\"display.expand.routes\"\n        (opened)=\"display.expand.routes=true\"\n        (closed)=\"display.expand.routes=false\"\n      >\n        <mat-expansion-panel-header class=\"panel-header\">\n          <mat-panel-title>\n            <mat-icon class=\"icon-route\">directions</mat-icon>\n            &nbsp;<b>Routes:</b>\n          </mat-panel-title>\n          <mat-panel-description>\n            <div class=\"panel-description\">\n              <mat-checkbox\n                [indeterminate]=\"display.someRteChecked\"\n                [checked]=\"display.allRoutesChecked\"\n                [disabled]=\"resData.routes.length==0\"\n                (change)=\"checkRte($event.checked, -1)\"\n                (click)=\"$event.cancelBubble=true\"\n                matTooltip=\"Select all Routes\"\n                matTooltipPosition=\"before\"\n              ></mat-checkbox>\n            </div>\n          </mat-panel-description>\n        </mat-expansion-panel-header>\n\n        <div class=\"list-container-scrollable\">\n          @for(r of resData.routes; track r; let i=$index) {\n          <div class=\"item-row\">\n            <div class=\"name\">\n              <mat-icon class=\"icon-route\">directions</mat-icon>\n              {{r.name}}\n            </div>\n            <div class=\"check\">\n              <mat-checkbox\n                matTooltip=\"Select this Route\"\n                matTooltipPosition=\"below\"\n                [checked]=\"selRoutes[i]\"\n                #rval\n                (change)=\"checkRte(rval.checked, i)\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n          }\n        </div>\n      </mat-expansion-panel>\n    </div>\n    }\n\n    <!-- Tracks -->\n    @if(!app.data.serverTrail && resData.tracks.length !== 0) {\n    <div class=\"card-group\">\n      <mat-expansion-panel [expanded]=\"false\">\n        <mat-expansion-panel-header class=\"panel-header\">\n          <mat-panel-title>\n            <mat-icon class=\"icon-track\">show_chart</mat-icon>\n            &nbsp;<b>Tracks:</b>\n          </mat-panel-title>\n          <mat-panel-description>\n            <div class=\"panel-description\">\n              <mat-checkbox\n                [indeterminate]=\"false\"\n                [checked]=\"display.allTracksChecked\"\n                [disabled]=\"resData.tracks.length==0\"\n                (change)=\"checkTrk($event.checked, -1)\"\n                (click)=\"$event.cancelBubble=true\"\n                matTooltip=\"Vessel Trail to Track\"\n                matTooltipPosition=\"before\"\n              >\n              </mat-checkbox>\n            </div>\n          </mat-panel-description>\n        </mat-expansion-panel-header>\n        <div class=\"list-container-scrollable\">\n          @for(r of resData.tracks; track r; let i=$index) {\n          <div class=\"item-row\">\n            <div class=\"name\">\n              <mat-icon class=\"icon-track\">directions_boat</mat-icon>\n              Vessel Trail\n            </div>\n            <div class=\"check\">\n              <mat-checkbox\n                matTooltip=\"Select this Track\"\n                matTooltipPosition=\"below\"\n                [checked]=\"selTracks[i]\"\n                #tval\n                (change)=\"checkTrk(tval.checked, i)\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n          }\n        </div>\n      </mat-expansion-panel>\n    </div>\n    }\n  </div>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  SimpleChange\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, Stroke, Fill, Circle, Text } from 'ol/style';\nimport { StyleLike } from 'ol/style/Style';\nimport { LineString, Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { AsyncSubject } from 'rxjs';\n\n// ** Freeboard Bearing line component **\n@Component({\n  selector: 'ol-map > fb-bearing-line',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class BearingLineComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature> = [];\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() marker: Coordinate;\n  @Input() markerName: string;\n  @Input() lineCoords: Array<Coordinate>;\n  @Input() showMarker = false;\n  @Input() mapZoom = 10;\n  @Input() labelMinZoom = 10;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() bearingStyles: { [key: string]: any };\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  public mapifiedRadius = 0;\n  public mapifiedLine: Array<Coordinate> = [];\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseValues();\n    this.source = new VectorSource({ features: this.features });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (key === 'marker' || key === 'showMarker' || key === 'lineCoords') {\n          this.parseValues();\n          if (this.source) {\n            this.source.clear();\n            this.source.addFeatures(this.features);\n          }\n        } else if (\n          key === 'markerName' ||\n          key === 'labelMinZoom' ||\n          key === 'mapZoom'\n        ) {\n          this.handleLabelZoomChange(key, changes[key]);\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseValues() {\n    this.mapifiedLine = mapifyCoords(this.lineCoords);\n    const fa: Feature[] = [];\n    const fl = new Feature({\n      geometry: new LineString(fromLonLatArray(this.mapifiedLine))\n    });\n    fl.setStyle(this.buildStyle('line'));\n    fa.push(fl);\n    let fp = new Feature({\n      geometry: new Point(fromLonLat(this.marker))\n    });\n    fp.setId('d.base');\n    fp.setStyle(this.buildStyle('line'));\n    this.updateLabel(fp);\n    fa.push(fp);\n    if (this.showMarker) {\n      fp = new Feature({\n        geometry: new Point(fromLonLat(this.marker))\n      });\n      fp.setId('dest.point');\n      fp.setStyle(this.buildStyle('marker'));\n      fa.push(fp);\n    }\n\n    this.features = fa;\n  }\n\n  // build target style\n  buildStyle(key: string): Style | Style[] {\n    if (this.bearingStyles && this.bearingStyles[key]) {\n      return this.bearingStyles[key];\n    } else {\n      if (this.layerProperties && this.layerProperties.style) {\n        return this.layerProperties.style;\n      } else {\n        // default style\n        return [\n          new Style({\n            stroke: new Stroke({\n              color: 'white',\n              width: 6\n            })\n          }),\n          new Style({\n            image: new Circle({\n              radius: 5,\n              stroke: new Stroke({\n                width: 2,\n                color: 'white'\n              }),\n              fill: new Fill({\n                color: 'rgba(221, 149, 0, 1)'\n              })\n            }),\n            stroke: new Stroke({\n              color: 'rgba(221, 149, 0, 1)',\n              width: 2\n            }),\n            text: new Text({\n              text: '',\n              offsetX: 0,\n              offsetY: -29\n            })\n          })\n        ];\n      }\n    }\n  }\n\n  // ** assess attribute change **\n  handleLabelZoomChange(key: string, change: SimpleChange) {\n    if (key === 'labelMinZoom') {\n      if (typeof this.mapZoom !== 'undefined') {\n        this.updateLabel();\n      }\n    } else if (key === 'mapZoom') {\n      if (typeof this.labelMinZoom !== 'undefined') {\n        if (\n          (change.currentValue >= this.labelMinZoom &&\n            change.previousValue < this.labelMinZoom) ||\n          (change.currentValue < this.labelMinZoom &&\n            change.previousValue >= this.labelMinZoom)\n        ) {\n          this.updateLabel();\n        }\n      }\n    }\n  }\n\n  // update feature labels\n  updateLabel(f?: Feature) {\n    if (!f && this.source) {\n      f = this.source.getFeatureById('d.base') as Feature;\n    }\n    let s: StyleLike = f.getStyle();\n    if (!s) {\n      return;\n    }\n    s = Array.isArray(s) ? s[1] : s;\n\n    const ts = (s as Style).getText();\n    if (!ts) {\n      return;\n    }\n    ts.setText(\n      Math.abs(this.mapZoom) >= this.labelMinZoom ? this.markerName ?? '' : ''\n    );\n    (s as Style).setText(ts);\n    f.setStyle(s);\n  }\n}\n","/** Experiments Components **\n ********************************/\n\nimport { Component, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { CommonDialogs } from 'src/app/lib/components/dialogs';\n\n/********* ExperimentsComponent ********/\n@Component({\n  selector: 'fb-experiments',\n  imports: [\n    CommonModule,\n    MatMenuModule,\n    MatIconModule,\n    MatButtonModule,\n    MatTooltipModule,\n    CommonDialogs\n  ],\n  template: `\n    <mat-menu #experimentsmenu=\"matMenu\">\n      <!--\n      <a mat-menu-item (click)=\"handleSelect('exp_id_here')\">\n          <mat-icon>filter_drama</mat-icon>\n          <span>EXP_NAME_HERE</span>\t\t\t\n      </a>\n      <a mat-menu-item [disabled]=\"true\">\n        <span>None Available</span>\n      </a>\n      -->\n      <a mat-menu-item (click)=\"handleSelect('debugCapture')\">\n        <mat-icon>adb</mat-icon>\n        <span>Capture Debug Info</span>\n      </a>\n    </mat-menu>\n\n    <div>\n      <button\n        class=\"button-toolbar\"\n        mat-mini-fab\n        [matMenuTriggerFor]=\"experimentsmenu\"\n        matTooltip=\"Experiments\"\n        matTooltipPosition=\"left\"\n      >\n        <mat-icon>science</mat-icon>\n      </button>\n    </div>\n  `,\n  styles: [``]\n})\nexport class ExperimentsComponent {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Output() selected: EventEmitter<any> = new EventEmitter();\n\n  //constructor() {}\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handleSelect(choice: string, value?: any) {\n    this.selected.emit({ choice: choice, value: value });\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Map, MapBrowserEvent } from 'ol';\nimport MapEvent from 'ol/MapEvent';\nimport ObjectEvent from 'ol/Object';\nimport RenderEvent from 'ol/render/Event';\nimport { MapService } from './map.service';\nimport { MapReadyEvent } from './models';\nimport { AsyncSubject } from 'rxjs';\nimport { toLonLat, transformExtent } from 'ol/proj';\nimport { Coordinate } from 'ol/coordinate';\nimport { FeatureLike } from 'ol/Feature';\nimport { Extent } from 'ol/extent';\n\nexport interface FBMapEvent extends MapEvent {\n  lonlat: Coordinate;\n  zoom: number;\n  zoomChanged: boolean;\n  extent: Extent;\n  projCode: string;\n}\n\nexport interface FBClickEvent extends MapBrowserEvent<PointerEvent> {\n  features: Array<FeatureLike>;\n  lonlat: Coordinate;\n}\n\nexport interface FBPointerEvent extends MapBrowserEvent<PointerEvent> {\n  lonlat: Coordinate;\n}\n\n@Component({\n  selector: 'ol-map',\n  styleUrls: ['./map.component.scss'],\n  template: `\n    <div\n      style=\"width: 100%; height: 100%; margin: 0; padding: 0; touch-action: none;\"\n      tabindex=\"-1\"\n    ></div>\n    <ng-content></ng-content>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class MapComponent implements OnInit, OnDestroy {\n  private map: Map;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private timeoutId: any;\n\n  /**\n   * This event is triggered after the map is initialized\n   * Use this to have access to the maps and some helper functions\n   */\n  @Output() mapReady: AsyncSubject<MapReadyEvent> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  /**\n   * This event is triggered after the user clicks on the map.\n   * A true single click with no dragging and no double click.\n   * Note that this event is delayed by 250 ms to ensure that it is not a double click.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Output() mapClick: EventEmitter<any> = new EventEmitter<any>();\n  @Output() mapRightClick: EventEmitter<{\n    features: FeatureLike[];\n    lonlat: Coordinate;\n  }> = new EventEmitter<{ features: FeatureLike[]; lonlat: Coordinate }>();\n  @Output() mapContextMenu: EventEmitter<FBPointerEvent> =\n    new EventEmitter<FBPointerEvent>();\n  @Output() mapSingleClick: EventEmitter<FBClickEvent> =\n    new EventEmitter<FBClickEvent>();\n  @Output() mapDblClick: EventEmitter<FBClickEvent> =\n    new EventEmitter<FBClickEvent>();\n  @Output() mapMoveStart: EventEmitter<MapEvent> =\n    new EventEmitter<FBMapEvent>();\n  @Output() mapMoveEnd: EventEmitter<MapEvent> = new EventEmitter<FBMapEvent>();\n  @Output() mapPointerDrag: EventEmitter<FBPointerEvent> =\n    new EventEmitter<FBPointerEvent>();\n  @Output() mapPointerMove: EventEmitter<FBPointerEvent> =\n    new EventEmitter<FBPointerEvent>();\n  @Output() mapPointerDown: EventEmitter<FBPointerEvent> =\n    new EventEmitter<FBPointerEvent>();\n  @Output() mapPostCompose: EventEmitter<RenderEvent> =\n    new EventEmitter<RenderEvent>();\n  @Output() mapPostRender: EventEmitter<MapEvent> =\n    new EventEmitter<MapEvent>();\n  @Output() mapPreCompose: EventEmitter<RenderEvent> =\n    new EventEmitter<RenderEvent>();\n  @Output() mapPropertyChange: EventEmitter<ObjectEvent> =\n    new EventEmitter<ObjectEvent>();\n\n  @Input() pixelRatio: number;\n  @Input() keyboardEventTarget: Element | string;\n  @Input() logo: string | boolean;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() properties: { [index: string]: any };\n  @Input() setFocus = false;\n  @Input() hitTolerance = 5;\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected element: ElementRef,\n    protected mapService: MapService\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    const target = this.element.nativeElement.firstElementChild;\n    this.map = new Map();\n    this.map.setTarget(target);\n    this.map.setProperties(this.properties, true);\n    // register the map in the injectable mapService\n    this.mapService.addMap(this.map);\n\n    this.map.once('postrender', () => {\n      this.afterMapReady();\n    });\n  }\n\n  ngOnDestroy() {\n    this.map.un('singleclick', this.emitSingleClickEvent);\n    this.map.un('dblclick', this.emitDblClickEvent);\n    this.map.un('click', this.emitClickEvent);\n    this.map.un('movestart', this.emitMoveStartEvent);\n    this.map.un('moveend', this.emitMoveEndEvent);\n    this.map.un('pointerdrag', this.emitPointerDragEvent);\n    this.map.un('pointermove', this.emitPointerMoveEvent);\n    this.map.un('postcompose', this.emitPostComposeEvent);\n    this.map.un('postrender', this.emitPostRenderEvent);\n    this.map.un('precompose', this.emitPreComposeEvent);\n    // right click handler\n    this.map\n      .getViewport()\n      .removeEventListener('contextmenu', this.rightClickHandler);\n    this.map\n      .getViewport()\n      .removeEventListener('pointerdown', this.pointerDownHandler);\n    this.map\n      .getViewport()\n      .removeEventListener('pointerup', this.pointerUpHandler);\n    window.removeEventListener('resize', this.updateSizeThrottle);\n    window.removeEventListener('orientationchange', this.updateSizeThrottle);\n\n    this.map.setTarget(null);\n    this.map = null;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.map && typeof changes.setFocus !== 'undefined') {\n      if (changes.setFocus.currentValue) {\n        this.focusMap();\n      }\n    }\n  }\n\n  afterMapReady() {\n    // register map events\n    this.map.on('singleclick', this.emitSingleClickEvent);\n    this.map.on('dblclick', this.emitDblClickEvent);\n    this.map.on('click', this.emitClickEvent);\n    this.map.on('movestart', this.emitMoveStartEvent);\n    this.map.on('moveend', this.emitMoveEndEvent);\n    this.map.on('pointerdrag', this.emitPointerDragEvent);\n    this.map.on('pointermove', this.emitPointerMoveEvent);\n    this.map.on('postcompose', this.emitPostComposeEvent);\n    this.map.on('postrender', this.emitPostRenderEvent);\n    this.map.on('precompose', this.emitPreComposeEvent);\n\n    // right click handler\n    this.map\n      .getViewport()\n      .addEventListener('contextmenu', this.rightClickHandler);\n    this.map\n      .getViewport()\n      .addEventListener('pointerdown', this.pointerDownHandler);\n    this.map.getViewport().addEventListener('pointerup', this.pointerUpHandler);\n\n    // react on window events\n    window.addEventListener('resize', this.updateSizeThrottle, false);\n    window.addEventListener(\n      'orientationchange',\n      this.updateSizeThrottle,\n      false\n    );\n\n    this.updateSize();\n\n    this.mapReady.next({ map: this.map, mapService: this.mapService });\n    this.mapReady.complete();\n\n    if (this.setFocus) {\n      this.focusMap();\n    }\n  }\n\n  // Only arrow function works with addEventListener\n\n  // Long Press Detection (iOS & Android)\n  private touchTimer: any;\n  private evCache: { [id: number]: MouseEvent } = {};\n  private clearTouchTimer = () => {\n    clearTimeout(this.touchTimer);\n    this.evCache = {};\n  };\n  private touchHold = () => {\n    if (Object.keys(this.evCache).length === 1) {\n      this.mapContextMenu.emit(Object.values(this.evCache)[0] as any);\n      this.rightClickHandler(Object.values(this.evCache)[0]);\n    }\n  };\n  private pointerDownHandler = (event) => {\n    this.evCache[event.pointerId] = event;\n    this.touchTimer = setTimeout(this.touchHold, 500);\n    const c = toLonLat(this.map.getEventCoordinate(event));\n    this.mapPointerDown.emit(Object.assign(event, { lonlat: c }));\n  };\n  private pointerUpHandler = (event) => {\n    this.clearTouchTimer();\n  };\n  private rightClickHandler = (event: MouseEvent) => {\n    this.clearTouchTimer();\n    this.emitRightClickEvent(event);\n  };\n\n  private emitClickEvent = (event: MapBrowserEvent<PointerEvent>) => {\n    this.mapClick.emit(this.augmentClickEvent(event));\n  };\n\n  private emitRightClickEvent = (event: MouseEvent) => {\n    event.preventDefault();\n    const c = this.map.getEventCoordinate(event);\n    this.mapRightClick.emit({\n      features: this.map.getFeaturesAtPixel(\n        this.map.getPixelFromCoordinateInternal(c),\n        {\n          hitTolerance: this.hitTolerance\n        }\n      ),\n      lonlat: toLonLat(c)\n    });\n  };\n  private emitSingleClickEvent = (event: MapBrowserEvent<PointerEvent>) => {\n    this.mapSingleClick.emit(this.augmentClickEvent(event));\n  };\n  private emitDblClickEvent = (event: MapBrowserEvent<PointerEvent>) => {\n    this.mapDblClick.emit(this.augmentClickEvent(event));\n  };\n\n  // ** add {lonlat, features}fields to event\n  private augmentClickEvent(event: MapBrowserEvent<PointerEvent>) {\n    return Object.assign(event, {\n      features: this.map.getFeaturesAtPixel(event.pixel, {\n        hitTolerance: this.hitTolerance\n      }),\n      lonlat: toLonLat(event.coordinate)\n    });\n  }\n\n  private zoomAtStart: number;\n  private emitMoveStartEvent = (event: MapEvent) => {\n    this.zoomAtStart = this.map.getView().getZoom();\n    this.mapMoveStart.emit(this.augmentMoveEvent(event));\n  };\n  private emitMoveEndEvent = (event: MapEvent) => {\n    this.mapMoveEnd.emit(this.augmentMoveEvent(event));\n  };\n\n  // ** add {lonlat, zoom, extent, projection code} fields to event\n  private augmentMoveEvent(event: MapEvent) {\n    const zoom = this.map.getView().getZoom();\n    return Object.assign(event, {\n      lonlat: this.getMapCenter(),\n      zoom: zoom,\n      zoomChanged: this.zoomAtStart !== zoom,\n      extent: this.getMapExtent(),\n      projCode: this.map.getView().getProjection().getCode()\n    });\n  }\n\n  private emitPointerDragEvent = (event: MapBrowserEvent<PointerEvent>) => {\n    this.clearTouchTimer();\n    this.mapPointerDrag.emit(this.augmentPointerEvent(event));\n  };\n  private emitPointerMoveEvent = (event: MapBrowserEvent<PointerEvent>) => {\n    this.clearTouchTimer();\n    this.mapPointerMove.emit(this.augmentPointerEvent(event));\n  };\n\n  // ** add {lonlat} field to event\n  private augmentPointerEvent(event: MapBrowserEvent<PointerEvent>) {\n    return Object.assign(event, { lonlat: toLonLat(event.coordinate) });\n  }\n\n  private emitPostComposeEvent = (event: RenderEvent) =>\n    this.mapPostCompose.emit(event);\n  private emitPostRenderEvent = (event: MapEvent) =>\n    this.mapPostRender.emit(event);\n  private emitPreComposeEvent = (event: RenderEvent) =>\n    this.mapPreCompose.emit(event);\n  private emitPropertyChangeEvent = (event: ObjectEvent) =>\n    this.mapPropertyChange.emit(event);\n\n  private updateSizeThrottle = () => {\n    clearTimeout(this.timeoutId);\n    this.timeoutId = setTimeout(() => {\n      this.map.updateSize();\n    }, 100);\n  };\n\n  focusMap() {\n    this.element.nativeElement.firstElementChild.focus();\n  }\n\n  getMap() {\n    return this.map;\n  }\n\n  updateSize() {\n    this.updateSizeThrottle();\n  }\n\n  getMapCenter(): Coordinate {\n    if (!this.map) {\n      return [0, 0];\n    }\n    return toLonLat(this.map.getView().getCenter());\n  }\n\n  getMapExtent() {\n    if (!this.map) {\n      return [0, 0, 0, 0];\n    }\n    const v = this.map.getView();\n    const mrid = v.getProjection().getCode();\n\n    return transformExtent(\n      v.calculateExtent(this.map.getSize()),\n      mrid,\n      'EPSG:4326'\n    );\n  }\n}\n","import { Component, OnInit, Inject } from '@angular/core';\nimport {\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { SKVessel } from 'src/app/modules/skresources/resource-classes';\nimport { Convert } from 'src/app/lib/convert';\n\n/********* AISPropertiesModal **********\n\tdata: {\n        title: \"<string>\" title text,\n        target: \"<SKVessel>\" vessel,\n        id: <string> vessel id\n    }\n***********************************/\n@Component({\n  selector: 'ap-ais-modal',\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule\n  ],\n  template: `\n    <div class=\"_ap-ais\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span>\n          <mat-icon> directions_boat</mat-icon>\n        </span>\n        <span style=\"flex: 1 1 auto; padding-left:20px;text-align:center;\">\n          {{ data.title }}\n        </span>\n        <span>\n          <button\n            mat-icon-button\n            (click)=\"modalRef.dismiss()\"\n            matTooltip=\"Close\"\n            matTooltipPosition=\"below\"\n          >\n            <mat-icon>keyboard_arrow_down</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n\n      <mat-card>\n        <mat-card-content>\n          <div style=\"display:flex;flex-direction: column;\">\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Name:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.name }}</div>\n            </div>\n            @if(vInfo.mmsi) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">MMSI:</div>\n              <div style=\"flex: 1 1 auto;\">\n                {{ vInfo.mmsi }}\n                <a\n                  target=\"aisinfo\"\n                  [href]=\"\n                    'https://www.marinetraffic.com/en/ais/details/ships/mmsi:' +\n                    vInfo.mmsi\n                  \"\n                >\n                  <mat-icon>info</mat-icon>\n                </a>\n              </div>\n            </div>\n            } @if(vInfo.shipType) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Type:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.shipType }}</div>\n            </div>\n            } @if(vInfo.flag) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Flag:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.flag }}</div>\n            </div>\n            } @if(vInfo.port) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Port:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.port }}</div>\n            </div>\n            } @if(vInfo.callsignVhf) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Call sign VHF:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.callsignVhf }}</div>\n            </div>\n            } @if(vInfo.callsignHf) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Call sign HF:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.callsignHf }}</div>\n            </div>\n            }@if(vInfo.length) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Dimensions:</div>\n              <div style=\"flex: 1 1 auto;\">\n                {{ vInfo.length }} x {{ vInfo.beam }}\n              </div>\n            </div>\n            } @if(vInfo.draft) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Draft:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.draft }}</div>\n            </div>\n            } @if(vInfo.height) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Height:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.height }}</div>\n            </div>\n            } @if(vInfo.state) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">State:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.state }}</div>\n            </div>\n            } @if(vInfo.destination) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Destination:</div>\n              <div style=\"flex: 1 1 auto;\">{{ vInfo.destination }}</div>\n            </div>\n            } @if(vInfo.eta) {\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">ETA:</div>\n              <div style=\"flex: 1 1 auto;\">\n                {{ vInfo.eta.toLocaleString() }}\n              </div>\n            </div>\n            }\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-ais {\n        font-family: arial;\n      }\n      ._ap-ais .key-label {\n        width: 150px;\n        font-weight: bold;\n      }\n    `\n  ]\n})\nexport class AISPropertiesModal implements OnInit {\n  public vInfo = {\n    name: null,\n    mmsi: null,\n    callsignVhf: null,\n    callsignHf: null,\n    length: null,\n    beam: null,\n    draft: null,\n    height: null,\n    shipType: null,\n    destination: null,\n    eta: null,\n    state: null,\n    flag: null,\n    port: null\n  };\n\n  constructor(\n    public app: AppFacade,\n    private sk: SignalKClient,\n    public modalRef: MatBottomSheetRef<AISPropertiesModal>,\n    @Inject(MAT_BOTTOM_SHEET_DATA)\n    public data: {\n      title: string;\n      target: SKVessel;\n      id: string;\n    }\n  ) {}\n\n  ngOnInit() {\n    this.getVesselInfo();\n  }\n\n  formatDegrees(val: number) {\n    return val\n      ? `${Convert.radiansToDegrees(val).toFixed(1)} ${String.fromCharCode(\n          186\n        )}`\n      : '0.0';\n  }\n\n  formatKnots(val: number) {\n    return val ? `${Convert.msecToKnots(val).toFixed(1)} kn` : '0.0';\n  }\n\n  private getVesselInfo() {\n    let path: string;\n    if (!this.data.id) {\n      path = 'vessels/self';\n    } else {\n      path = this.data.id.split('.').join('/');\n    }\n\n    this.sk.api.get(path).subscribe((v) => {\n      if (typeof v['name'] !== 'undefined') {\n        this.vInfo.name = v['name'];\n      }\n      if (typeof v['mmsi'] !== 'undefined') {\n        this.vInfo.mmsi = v['mmsi'];\n      }\n      if (typeof v['flag'] !== 'undefined') {\n        this.vInfo.flag = v['flag'];\n      }\n      if (typeof v['port'] !== 'undefined') {\n        this.vInfo.port = v['port'];\n      }\n      if (typeof v['communication'] !== 'undefined') {\n        if (typeof v['communication']['callsignVhf'] !== 'undefined') {\n          this.vInfo.callsignVhf =\n            v['communication']['callsignVhf']['value'] ??\n            v['communication']['callsignVhf'];\n        }\n        if (typeof v['communication']['callsignHf'] !== 'undefined') {\n          this.vInfo.callsignHf =\n            v['communication']['callsignHf']['value'] ??\n            v['communication']['callsignHf'];\n        }\n      }\n      if (typeof v['navigation'] !== 'undefined') {\n        if (typeof v['navigation']['destination'] !== 'undefined') {\n          if (\n            typeof v['navigation']['destination']['commonName'] !== 'undefined'\n          ) {\n            this.vInfo.destination =\n              v['navigation']['destination']['commonName']['value'];\n          }\n          if (typeof v['navigation']['destination']['eta'] !== 'undefined') {\n            this.vInfo.eta = new Date(\n              v['navigation']['destination']['eta']['value']\n            ).toUTCString();\n          }\n        }\n        if (\n          typeof v['navigation']['state'] !== 'undefined' &&\n          typeof v['navigation']['state']['value'] !== 'undefined'\n        ) {\n          this.vInfo.state = v['navigation']['state']['value'];\n        }\n      }\n      if (typeof v['design'] !== 'undefined') {\n        if (\n          typeof v['design']['length'] !== 'undefined' &&\n          v['design']['length']['value']['overall']\n        ) {\n          this.vInfo.length = v['design']['length']['value']['overall'];\n        }\n        if (typeof v['design']['beam'] !== 'undefined') {\n          this.vInfo.beam = v['design']['beam']['value'];\n        }\n        if (\n          typeof v['design']['draft'] !== 'undefined' &&\n          v['design']['draft']['value']\n        ) {\n          if (typeof v['design']['draft']['value']['maximum'] !== 'undefined') {\n            this.vInfo.draft = `${v['design']['draft']['value']['maximum']} (max)`;\n          } else if (\n            typeof v['design']['draft']['value']['current'] !== 'undefined'\n          ) {\n            this.vInfo.draft = `${v['design']['draft']['value']['current']} (current)`;\n          }\n        }\n        if (typeof v['design']['airHeight'] !== 'undefined') {\n          this.vInfo.height = v['design']['airHeight']['value'];\n        }\n        if (typeof v['design']['aisShipType'] !== 'undefined') {\n          this.vInfo.shipType = v['design']['aisShipType']['value']['name'];\n        }\n      }\n    });\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { PopoverComponent } from './popover.component';\nimport { NorthUpCompassComponent } from './compass.component';\nimport { SKMeteo } from 'src/app/modules';\nimport { AppFacade } from 'src/app/app.facade';\nimport { Convert } from 'src/app/lib/convert';\n/*********** AtoN Popover ***************\n  title: string -  title text,\n  aton: SKAtoN - aton data\n  *************************************************/\n@Component({\n  selector: 'aton-popover',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    PipesModule,\n    PopoverComponent,\n    NorthUpCompassComponent\n  ],\n  template: `\n    <ap-popover [title]=\"_title\" [canClose]=\"canClose\" (closed)=\"handleClose()\">\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Type:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">{{ aton.type.name }}</div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Latitude:</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"\n            aton.position[1]\n              | coords : app.config.selections.positionFormat : true\n          \"\n        ></div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Longitude:</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"\n            aton.position[0] | coords : app.config.selections.positionFormat\n          \"\n        ></div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Last Update:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">\n          {{ timeLastUpdate }} {{ timeAgo }}\n        </div>\n      </div>\n      @if(isMeteo && aton.temperature !== undefined) {\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Temperature:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">\n          {{ this.app.formatValueForDisplay(aton.temperature, 'K') }}\n        </div>\n      </div>\n      } @if(isMeteo && aton.tws !== undefined && aton.twd !== undefined) {\n      <div style=\"display:flex;flex-wrap:no-wrap;\">\n        <div style=\"font-weight:bold;\">Wind:</div>\n        <div style=\"width:150px;\">\n          <ap-compass-northup\n            [heading]=\"convert.radiansToDegrees(aton.twd)\"\n            [speed]=\"app.formatSpeed(aton.tws)\"\n            [label]=\"app.formattedSpeedUnits\"\n            [windtrue]=\"true\"\n          >\n          </ap-compass-northup>\n        </div>\n      </div>\n      }\n      <div style=\"display:flex;\">\n        <div style=\"flex:1 1 auto;\">&nbsp;</div>\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"handleInfo()\"\n            matTooltip=\"Show Properties\"\n          >\n            <mat-icon>info_outline</mat-icon>\n            INFO\n          </button>\n        </div>\n      </div>\n    </ap-popover>\n  `,\n  styleUrls: []\n})\nexport class AtoNPopoverComponent {\n  @Input() title: string;\n  @Input() aton: SKMeteo;\n  @Input() canClose: boolean;\n  @Output() info: EventEmitter<string> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  _title: string;\n  timeLastUpdate: string;\n  timeAgo: string; // last update in minutes ago\n  protected convert = Convert;\n  isMeteo: boolean;\n  constructor(public app: AppFacade) {}\n  ngOnInit() {\n    if (!this.aton) {\n      this.handleClose();\n    } else {\n      this.isMeteo = this.aton.id.includes('meteo');\n    }\n  }\n  ngOnChanges() {\n    if (!this.aton) {\n      this.handleClose();\n      return;\n    }\n    this._title = this.title || this.aton.name || this.aton.mmsi || 'AtoN:';\n    this.timeLastUpdate = `${this.aton.lastUpdated.getHours()}:${(\n      '00' + this.aton.lastUpdated.getMinutes()\n    ).slice(-2)}`;\n    const td = (new Date().valueOf() - this.aton.lastUpdated.valueOf()) / 1000;\n    this.timeAgo = td < 60 ? '' : `(${Math.floor(td / 60)} min ago)`;\n  }\n  handleInfo() {\n    this.info.emit(this.aton.id);\n  }\n  handleClose() {\n    this.closed.emit();\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, Stroke, Fill, Circle } from 'ol/style';\nimport { LineString, Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { AsyncSubject } from 'rxjs';\n\n// ** Freeboard CPA Alarm component **\n@Component({\n  selector: 'ol-map > fb-cpa-alarms',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class CPAAlarmComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature>;\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() cpaLines: Array<Coordinate[]>;\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseValues();\n    this.source = new VectorSource({ features: this.features });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (key === 'cpaLines') {\n          this.parseValues();\n          if (this.source) {\n            this.source.clear();\n            this.source.addFeatures(this.features);\n          }\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseValues() {\n    if (!Array.isArray(this.cpaLines)) {\n      return;\n    }\n    const fa: Feature[] = [];\n    this.cpaLines.forEach((cpaLine) => {\n      const mapifiedLine = mapifyCoords(cpaLine);\n      const f = new Feature({\n        geometry: new LineString(fromLonLatArray(mapifiedLine))\n      });\n      f.setStyle(this.buildStyle());\n      fa.push(f);\n      const fp = new Feature({\n        geometry: new Point(fromLonLat(mapifiedLine[0]))\n      });\n      fp.setStyle(this.buildStyle());\n      fa.push(fp);\n    });\n    this.features = fa;\n  }\n\n  // build target style\n  buildStyle(): Style {\n    let cs: Style;\n    if (this.layerProperties && this.layerProperties.style) {\n      cs = this.layerProperties.style;\n    } else {\n      // default style\n      cs = new Style({\n        image: new Circle({\n          radius: 10,\n          stroke: new Stroke({\n            width: 2,\n            color: 'red',\n            lineDash: [2, 3]\n          }),\n          fill: new Fill({\n            color: 'rgba(255,0,0,.2)'\n          })\n        }),\n        stroke: new Stroke({\n          width: 2,\n          color: 'red',\n          lineDash: [2, 3]\n        }),\n        fill: new Fill({\n          color: 'rgba(255,0,0,.2)'\n        })\n      });\n    }\n    return cs;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges\n} from '@angular/core';\n\nimport TileLayer from 'ol/layer/Tile';\nimport { TileWMS, XYZ, TileJSON, WMTS } from 'ol/source';\nimport { optionsFromCapabilities } from 'ol/source/WMTS';\nimport WMTSCapabilities from 'ol/format/WMTSCapabilities';\n\nimport { MapComponent } from '../map.component';\nimport { osmLayer } from '../util';\nimport { MapService } from '../map.service';\nimport { VectorLayerStyleFactory } from '../vectorLayerStyleFactory';\n\nimport DataTile from 'ol/source/DataTile';\nimport WebGLTileLayer from 'ol/layer/WebGLTile';\nimport VectorTileLayer from 'ol/layer/VectorTile';\nimport * as pmtiles from 'pmtiles';\nimport { SKChart } from 'src/app/modules';\nimport LayerGroup from 'ol/layer/Group';\nimport { apply } from 'ol-mapbox-style';\nimport { FeatureLike } from 'ol/Feature';\n\n// ** Freeboard resource collection format **\n@Component({\n  selector: 'ol-map > fb-charts',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class FreeboardChartLayerComponent\n  implements OnInit, OnDestroy, OnChanges\n{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  protected layers: Map<string, any> = new Map();\n\n  @Input() charts: Array<[string, SKChart, boolean]>;\n  @Input() zIndex = 10; // start number for zIndex of chart layers\n\n  private wmtsCapabilitesMap = new Map();\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent,\n    private mapService: MapService,\n    private vectorLayerStyleFactory: VectorLayerStyleFactory\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseCharts(this.charts);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    for (const key in changes) {\n      if (key === 'charts' && !changes[key].firstChange) {\n        this.parseCharts(changes[key].currentValue);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.clearlayers();\n  }\n\n  clearlayers() {\n    const map = this.mapComponent.getMap();\n    if (this.layers && map) {\n      this.layers.forEach((l) => map.removeLayer(l));\n      map.render();\n      this.layers.clear();\n    }\n  }\n\n  // create a PMTile WebGLtile layer\n  initPMTilesWebGLLayer(\n    url: string,\n    minZoom: number,\n    maxZoom: number,\n    zIndex: number\n  ): WebGLTileLayer {\n    const tiles = new pmtiles.PMTiles(url);\n\n    function loadImage(src: string) {\n      return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.addEventListener('load', () => resolve(img));\n        img.addEventListener('error', () => reject(new Error('load failed')));\n        img.src = src;\n      });\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async function loader(z, x, y): Promise<any> {\n      const response = await tiles.getZxy(z, x, y);\n      const blob = new Blob([response.data]);\n      const src = URL.createObjectURL(blob);\n      const image = await loadImage(src);\n      URL.revokeObjectURL(src);\n      return image;\n    }\n\n    return new WebGLTileLayer({\n      source: new DataTile({\n        loader,\n        wrapX: true,\n        maxZoom: maxZoom,\n        minZoom: minZoom\n      }),\n      style: {},\n      zIndex: zIndex\n    });\n  }\n\n  // create a PMTile XYZ source TileLayer\n  initPMTilesXYZLayer(\n    url: string,\n    minZoom: number,\n    maxZoom: number,\n    zIndex: number\n  ): TileLayer<XYZ> {\n    const tiles = new pmtiles.PMTiles(url);\n\n    function loader(tile, url) {\n      tile.setState(1); // LOADING\n      // the URL construction is done internally by OL, so we need to parse it\n      // back out here using a hacky regex\n      const re = new RegExp(/pmtiles:\\/\\/(.+)\\/(\\d+)\\/(\\d+)\\/(\\d+)/);\n      const result = url.match(re);\n      const z = +result[2];\n      const x = +result[3];\n      const y = +result[4];\n\n      tiles.getZxy(z, x, y).then((tile_result) => {\n        if (tile_result) {\n          const blob = new Blob([tile_result.data]);\n          const imageUrl = window.URL.createObjectURL(blob);\n          tile.getImage().src = imageUrl;\n          tile.setState(2); // LOADED\n        } else {\n          tile.setState(4); // EMPTY\n        }\n      });\n    }\n\n    return new TileLayer({\n      source: new XYZ({\n        tileLoadFunction: loader,\n        tileSize: [512, 512],\n        url: 'pmtiles://' + url + '/{z}/{x}/{y}',\n        wrapX: true,\n        maxZoom: maxZoom,\n        minZoom: minZoom\n      }),\n      zIndex: zIndex\n    });\n  }\n\n  async parseCharts(charts: Array<[string, SKChart, boolean]> = this.charts) {\n    const map = this.mapComponent.getMap();\n\n    for (const i in charts) {\n      // check for existing layer\n      let layer = this.mapService.getLayerByKey('id', charts[i][0]);\n      if (!charts[i][2]) {\n        // not selected\n        if (layer) {\n          map.removeLayer(layer);\n          this.layers.delete(charts[i][0]);\n        }\n      } else {\n        // selected\n        if (!layer) {\n          if (charts[i][0] === 'openstreetmap') {\n            // open street map\n            layer = osmLayer();\n            layer.setZIndex(this.zIndex + parseInt(i));\n            layer.setMinZoom(charts[i][1].minZoom);\n            layer.setMaxZoom(charts[i][1].maxZoom);\n          } else {\n            // signal k charts\n            const minZ =\n              charts[i][1].minZoom && charts[i][1].minZoom >= 0.1\n                ? charts[i][1].minZoom - 0.1\n                : charts[i][1].minZoom;\n            const maxZ = charts[i][1].maxZoom;\n\n            if (charts[i][1].type.toLowerCase() === 'mapboxstyle') {\n              const lg = new LayerGroup({\n                zIndex: this.zIndex + parseInt(i)\n              });\n              lg.set('id', charts[i][0]);\n              apply(lg, `${charts[i][1].url}`);\n              map.addLayer(lg);\n            } else if (\n              charts[i][1].format === 'pbf' ||\n              charts[i][1].format === 'mvt'\n            ) {\n              const styleFactory =\n                this.vectorLayerStyleFactory.CreateVectorLayerStyler(\n                  charts[i][1]\n                );\n              layer = styleFactory.CreateLayer();\n              styleFactory.ApplyStyle(layer as VectorTileLayer<never>);\n              layer.setZIndex(this.zIndex + parseInt(i));\n            } else {\n              // raster tile\n              let source; // select source type\n              if (\n                charts[i][1].type &&\n                charts[i][1].type.toLowerCase() === 'wms'\n              ) {\n                // WMS source\n                source = new TileWMS({\n                  url: charts[i][1].url,\n                  params: {\n                    LAYERS: charts[i][1].layers\n                      ? charts[i][1].layers.join(',')\n                      : ''\n                  }\n                });\n              } else if (\n                charts[i][1].type &&\n                charts[i][1].type.toLowerCase() === 'wmts'\n              ) {\n                // WMTS - fetch GetCapabilities.xml\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                let result: any;\n                if (!this.wmtsCapabilitesMap.has(charts[i][1].url)) {\n                  try {\n                    const response = await fetch(\n                      `${charts[i][1].url}?request=GetCapabilities&service=wmts`\n                    );\n                    const capabilitiesXml = await response.text();\n                    if (!capabilitiesXml) {\n                      console.log('Error: GetCapabilities response is empty!');\n                      return;\n                    }\n                    const parser = new WMTSCapabilities();\n                    result = parser.read(capabilitiesXml);\n                    this.wmtsCapabilitesMap.set(charts[i][1].url, result);\n                  } catch (err) {\n                    console.log(err);\n                    return;\n                  }\n                } else {\n                  // get pre-fetched capabilities\n                  result = this.wmtsCapabilitesMap.get(charts[i][1].url);\n                }\n\n                const options = optionsFromCapabilities(result, {\n                  layer: charts[i][1].layers[0],\n                  matrixSet: 'EPSG:3857'\n                });\n                source = new WMTS(options);\n              } else if (\n                charts[i][1].type &&\n                charts[i][1].type.toLowerCase() === 'tilejson'\n              ) {\n                // tileJSON\n                source = new TileJSON({\n                  url: charts[i][1].url,\n                  crossOrigin: 'anonymous'\n                });\n              } else {\n                // XYZ tilelayer\n                if (charts[i][1].url.indexOf('.pmtiles') !== -1) {\n                  // pmtiles source\n                  layer = this.initPMTilesXYZLayer(\n                    charts[i][1].url,\n                    charts[i][1].minZoom,\n                    charts[i][1].maxZoom,\n                    this.zIndex + parseInt(i)\n                  );\n                } else {\n                  // default XYZ source\n                  source = new XYZ({\n                    url: charts[i][1].url\n                  });\n                }\n              }\n\n              if (source) {\n                layer = new TileLayer({\n                  source: source,\n                  preload: 0,\n                  zIndex: this.zIndex + parseInt(i),\n                  minZoom: minZ,\n                  maxZoom: maxZ\n                });\n              }\n            }\n          }\n          if (layer) {\n            layer.set('id', charts[i][0]);\n            this.layers.set(charts[i][0], layer);\n            map.addLayer(layer);\n          }\n        } else {\n          // set zIndex\n          layer.setZIndex(this.zIndex + parseInt(i));\n        }\n      }\n    }\n    if (map) {\n      map.render();\n    }\n  }\n}\n","/** Trail2Route Dialog Component **\n ********************************/\n\nimport { Component, OnInit, Inject } from '@angular/core';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\nimport { CommonDialogs } from 'src/app/lib/components/dialogs';\nimport { FreeboardOpenlayersModule } from 'src/app/modules/map/ol';\nimport { SimplifyAP } from 'simplify-ts';\nimport { SKRoute, SKResources, SKStreamFacade } from 'src/app/modules';\nimport { AppFacade } from 'src/app/app.facade';\n\n/********* Trail2RouteDialog **********\n\tdata: {\n    }\n***********************************/\n@Component({\n  selector: 'ap-trail2routedialog',\n  imports: [\n    CommonModule,\n    MatIconModule,\n    MatButtonModule,\n    MatDialogModule,\n    MatTooltipModule,\n    MatSliderModule,\n    MatCheckboxModule,\n    MatToolbarModule,\n    CommonDialogs,\n    FreeboardOpenlayersModule\n  ],\n  templateUrl: `./trail2route-dialog.html`,\n  styles: [\n    `\n      ._ap-trail2route {\n        font-family: arial;\n        min-width: 300px;\n      }\n    `\n  ]\n})\nexport class Trail2RouteDialog implements OnInit {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  rteFromTrail: any[];\n  mapCenter = [0, 0];\n  pointCount = 0;\n  incServer = false;\n\n  tolerance = 0.000001;\n  highQuality = true;\n\n  mapControls = [{ name: 'zoom' }];\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private obsList: Array<any> = [];\n  private fetching = false;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private serverCoords: Array<any> = [];\n\n  constructor(\n    private skres: SKResources,\n    protected app: AppFacade,\n    private stream: SKStreamFacade,\n    public dialogRef: MatDialogRef<Trail2RouteDialog>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  //** lifecycle: events **\n  ngOnInit() {\n    this.parseTrail(false, true);\n    this.obsList.push(\n      this.stream.trail$().subscribe((value) => this.onServerResource(value))\n    );\n    this.getServerTrail(this.app.config.selections.trailFromServer);\n  }\n\n  ngOnDestroy() {\n    this.obsList.forEach((i) => i.unsubscribe());\n  }\n\n  changeTolerance(val: number) {\n    this.tolerance = val;\n    this.parseTrail();\n  }\n\n  parseTrail(incServer?: boolean, center?: boolean) {\n    let trail = [].concat(this.data.trail ?? []);\n    if (incServer) {\n      trail = [].concat(this.serverCoords, trail);\n    }\n    const rteCoords = SimplifyAP(trail, this.tolerance, this.highQuality);\n    this.pointCount = rteCoords.length;\n    if (center) {\n      this.mapCenter = rteCoords[Math.floor(rteCoords.length / 2)];\n    }\n    const rte = new SKRoute();\n    rte.feature.geometry.coordinates = rteCoords;\n    this.rteFromTrail = [['rtefromtrail', rte, true]];\n  }\n\n  doClose(save: boolean) {\n    let coords = [];\n    if (save) {\n      coords = this.rteFromTrail[0][1].feature.geometry.coordinates;\n    }\n    this.dialogRef.close({ result: save, data: coords });\n  }\n\n  // retrieve trail from server\n  getServerTrail(checked: boolean) {\n    if (checked) {\n      if (\n        !this.app.config.selections.trailFromServer ||\n        this.serverCoords.length === 0\n      ) {\n        this.fetching = true;\n        this.skres.getVesselTrail();\n      } else {\n        this.parseTrail(true);\n      }\n    } else {\n      this.parseTrail();\n    }\n  }\n\n  // get server trail event handler\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onServerResource(value: any) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let serverTrail: Array<any> = [];\n    if (this.fetching && value.action === 'get' && value.mode === 'trail') {\n      this.fetching = false;\n      serverTrail = value.data;\n      this.serverCoords = [];\n      serverTrail.forEach((line) => {\n        this.serverCoords = this.serverCoords.concat(line);\n      });\n      this.parseTrail();\n    }\n  }\n}\n","<div class=\"_ap-trail2route\">\n  <mat-toolbar style=\"background-color: transparent\">\n    <span><mat-icon>insights</mat-icon></span>\n    <span style=\"flex: 1 1 auto; text-align: center\"\n      >Vessel Trail to Route</span\n    >\n    <span style=\"text-align: right\">\n      <button mat-icon-button (click)=\"doClose(false);\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </span>\n  </mat-toolbar>\n\n  <mat-dialog-content style=\"width: 50vw\">\n    <div style=\"display: block\">\n      <div>\n        <mat-slider\n          min=\"0.000001\"\n          max=\"0.1005\"\n          step=\"0.000001\"\n          value=\"tolerance\"\n          matTooltip=\"Set tolerance\"\n        >\n          <input matSliderThumb (valueChange)=\"changeTolerance($event.value)\" />\n        </mat-slider>\n        &nbsp;Points: {{pointCount}}\n      </div>\n      <div>\n        <mat-checkbox\n          [checked]=\"incServer\"\n          (change)=\"getServerTrail($event.checked)\"\n        >\n          Include Trail from server\n        </mat-checkbox>\n      </div>\n    </div>\n    <div style=\"display: flex; border: black 1px solid; height: 40vh\">\n      <div style=\"width: 100%; height: 100%\">\n        <ol-map\n          [logo]=\"false\"\n          [olInteractions]=\"[\n                      {name: 'dragpan'},\n                      {name: 'dragzoom'},\n                      {name: 'keyboardpan'},\n                      {name: 'keyboardzoom'},\n                      {name: 'mousewheelzoom'},\n                      {name: 'pinchzoom'}\n                  ]\"\n          [olControls]=\"mapControls\"\n          olView\n          [zoom]=\"10\"\n          [center]=\"mapCenter\"\n          [rotation]=\"0\"\n          [minZoom]=\"2\"\n          [enableAnimation]=\"false\"\n        >\n          <fb-routes [routes]=\"rteFromTrail\"> </fb-routes>\n        </ol-map>\n      </div>\n    </div>\n  </mat-dialog-content>\n\n  <mat-dialog-actions>\n    <div style=\"text-align: center; width: 100%\">\n      <button\n        mat-raised-button\n        [disabled]=\"pointCount==0\"\n        (click)=\"doClose(true)\"\n      >\n        SAVE\n      </button>\n    </div>\n  </mat-dialog-actions>\n</div>\n","/** Signal K Stream Provider abstraction Facade\n * ************************************/\nimport { Injectable, signal } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SettingsMessage } from 'src/app/lib/services';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { SKWorkerService } from './skstream.service';\nimport { Convert } from 'src/app/lib/convert';\nimport { SKRoute, SKVessel } from 'src/app/modules';\nimport {\n  UpdateMessage,\n  TrailMessage,\n  MultiLineString,\n  Position\n} from 'src/app/types';\nimport { GeoUtils } from 'src/app/lib/geoutils';\n\nexport enum SKSTREAM_MODE {\n  REALTIME = 0,\n  PLAYBACK\n}\n\nexport interface StreamOptions {\n  playbackRate: number;\n  startTime: string;\n  subscribe: string;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class SKStreamFacade {\n  // **************** ATTRIBUTES ***************************\n  private onConnect: Subject<UpdateMessage> = new Subject();\n  private onClose: Subject<UpdateMessage> = new Subject();\n  private onError: Subject<UpdateMessage> = new Subject();\n  private onMessage: Subject<UpdateMessage> = new Subject();\n  private onSelfTrail: Subject<{\n    action: 'get';\n    mode: 'trail';\n    data: MultiLineString;\n  }> = new Subject();\n  private vesselsUpdate: Subject<void> = new Subject();\n  private navDataUpdate: Subject<void> = new Subject();\n  // **************** SIGNALS ***********************************\n  private anchorSignal = signal<{\n    maxRadius?: number;\n    radius?: number;\n    position?: Position;\n  }>({});\n  readonly selfAnchor = this.anchorSignal.asReadonly();\n\n  constructor(\n    private app: AppFacade,\n    private signalk: SignalKClient,\n    private worker: SKWorkerService\n  ) {\n    // ** SIGNAL K STREAM **\n    this.worker.message$().subscribe((msg: UpdateMessage | TrailMessage) => {\n      if (msg.action === 'open') {\n        this.post({\n          cmd: 'auth',\n          options: {\n            token: this.app.getFBToken()\n          }\n        });\n        this.onConnect.next(msg);\n      } else if (msg.action === 'close') {\n        this.onClose.next(msg);\n      } else if (msg.action === 'error') {\n        this.onError.next(msg);\n      } else if (msg.action === 'trail') {\n        this.parseSelfTrail(msg as TrailMessage);\n      } else {\n        this.parseUpdate(msg);\n        this.onMessage.next(msg as UpdateMessage);\n      }\n    });\n\n    // ** SETTINGS - handle settings load / save events\n    this.app.settings$.subscribe((r: SettingsMessage) =>\n      this.handleSettingsEvent(r)\n    );\n  }\n  // ** SKStream WebSocket messages **\n  connect$(): Observable<UpdateMessage> {\n    return this.onConnect.asObservable();\n  }\n  close$(): Observable<UpdateMessage> {\n    return this.onClose.asObservable();\n  }\n  error$(): Observable<UpdateMessage> {\n    return this.onError.asObservable();\n  }\n  delta$(): Observable<UpdateMessage> {\n    return this.onMessage.asObservable();\n  }\n  trail$(): Observable<{\n    action: 'get';\n    mode: 'trail';\n    data: MultiLineString;\n  }> {\n    return this.onSelfTrail.asObservable();\n  }\n\n  // ** Data centric messages\n  vessels$(): Observable<void> {\n    return this.vesselsUpdate.asObservable();\n  }\n  navdata$(): Observable<void> {\n    return this.navDataUpdate.asObservable();\n  }\n\n  terminate() {\n    this.worker.terminate();\n  }\n\n  close() {\n    this.worker.close();\n  }\n\n  post(msg) {\n    this.worker.postMessage(msg);\n  }\n\n  // ** open Signal K Stream\n  open(options?: StreamOptions) {\n    if (options && options.startTime) {\n      const url = this.signalk.server.endpoints['v1']['signalk-ws'].replace(\n        'stream',\n        'playback'\n      );\n      this.worker.postMessage({\n        cmd: 'open',\n        options: {\n          url: url,\n          subscribe: 'none',\n          token: null,\n          playback: true,\n          playbackOptions: options\n        }\n      });\n    } else {\n      this.worker.postMessage({\n        cmd: 'open',\n        options: {\n          url: this.signalk.server.endpoints['v1']['signalk-ws'],\n          subscribe: 'none',\n          token: null\n        }\n      });\n    }\n  }\n\n  // ** subscribe to signal k paths\n  subscribe() {\n    this.worker.postMessage({\n      cmd: 'subscribe',\n      options: {\n        context: 'vessels.*',\n        path: [\n          { path: '', period: 1000, policy: 'fixed' },\n          { path: 'buddy', period: 1000, policy: 'fixed' },\n          { path: 'uuid', period: 1000, policy: 'fixed' },\n          { path: 'name', period: 1000, policy: 'fixed' },\n          { path: 'mmsi', period: 1000, policy: 'fixed' },\n          { path: 'port', period: 1000, policy: 'fixed' },\n          { path: 'flag', period: 1000, policy: 'fixed' },\n          { path: 'navigation.*', period: 1000, policy: 'fixed' },\n          { path: 'environment.wind.*', period: 1000, policy: 'fixed' },\n          { path: 'environment.mode', period: 1000, policy: 'fixed' },\n          { path: 'resources.*', period: 1000, policy: 'fixed' },\n          { path: 'steering.autopilot.*', period: 1000, policy: 'fixed' },\n          { path: 'performance.*', period: 1000, policy: 'fixed' }\n        ]\n      }\n    });\n    this.worker.postMessage({\n      cmd: 'subscribe',\n      options: {\n        context: 'vessels.self',\n        path: [{ path: 'notifications.*', period: 1000 }]\n      }\n    });\n    this.worker.postMessage({\n      cmd: 'subscribe',\n      options: {\n        context: 'atons.*',\n        path: [{ path: '*', period: 60000 }]\n      }\n    });\n    this.worker.postMessage({\n      cmd: 'subscribe',\n      options: {\n        context: 'shore.basestations.*',\n        path: [{ path: '*', period: 60000 }]\n      }\n    });\n    this.worker.postMessage({\n      cmd: 'subscribe',\n      options: {\n        context: 'sar.*',\n        path: [{ path: '*', period: 1000 }]\n      }\n    });\n    this.worker.postMessage({\n      cmd: 'subscribe',\n      options: {\n        context: 'aircraft.*',\n        path: [{ path: '*', period: 1000 }]\n      }\n    });\n    this.worker.postMessage({\n      cmd: 'subscribe',\n      options: {\n        context: 'meteo.*',\n        path: [{ path: '*', period: 1000 }]\n      }\n    });\n    this.worker.postMessage({\n      cmd: 'subscribe',\n      options: {\n        context: 'meteo.*',\n        path: [{ path: 'notifications.*', period: 1000 }]\n      }\n    });\n  }\n\n  // ** process selfTrail message from worker and emit trail$ **\n  private parseSelfTrail(msg: TrailMessage) {\n    if (msg.result) {\n      if (!this.app.data.serverTrail) {\n        this.app.data.serverTrail = true;\n      }\n      this.onSelfTrail.next({ action: 'get', mode: 'trail', data: msg.result });\n    } else {\n      console.warn('Unable to fetch vessel trail from server.');\n      this.app.data.serverTrail = false;\n    }\n  }\n\n  // ** parse delta message and update Vessel Data -> vesselsUpdate.next()\n  private parseUpdate(msg: UpdateMessage) {\n    if (msg.action === 'update') {\n      // delta message\n\n      this.parseVesselSelf(msg.result.self);\n\n      this.parseVesselOther(msg.result.aisTargets);\n\n      this.app.data.vessels.prefAvailablePaths = msg.result.paths;\n\n      // ** update active vessel map display **\n      this.app.data.vessels.active = this.app.data.vessels.activeId\n        ? this.app.data.vessels.aisTargets.get(this.app.data.vessels.activeId)\n        : this.app.data.vessels.self;\n\n      this.processCourse(this.app.data.vessels.active);\n\n      // process AtoNs\n      this.app.data.atons = msg.result.atons;\n\n      // process SaR\n      this.app.data.sar = msg.result.sar;\n\n      // process Meteo\n      this.app.data.meteo = msg.result.meteo;\n\n      // process Aircraft\n      this.app.data.aircraft = msg.result.aircraft;\n\n      // processAIS\n      this.app.data.aisMgr.updateList = msg.result.aisStatus.updated;\n      this.app.data.aisMgr.staleList = msg.result.aisStatus.stale;\n      this.app.data.aisMgr.removeList = msg.result.aisStatus.expired;\n\n      // process AIS tracks\n      this.app.data.aisMgr.updateList.forEach((id) => {\n        const v =\n          id.indexOf('aircraft') !== -1\n            ? this.app.data.aircraft.get(id)\n            : this.app.data.vessels.aisTargets.get(id);\n        if (v) {\n          this.app.data.vessels.aisTracks.set(id, v.track);\n        }\n      });\n      this.app.data.aisMgr.removeList.forEach((id) => {\n        this.app.data.vessels.aisTracks.delete(id);\n      });\n\n      this.vesselsUpdate.next();\n    }\n  }\n\n  private parseVesselSelf(v: SKVessel) {\n    this.app.data.vessels.self = v;\n    if (this.app.config.fixedLocationMode) {\n      this.app.data.vessels.self.position = [...this.app.config.fixedPosition];\n    }\n    this.parseSelfRacing(v);\n    this.processVessel(this.app.data.vessels.self);\n    this.anchorSignal.update(() => {\n      return {\n        position: v.anchor.position\n          ? [v.anchor.position.longitude, v.anchor.position.latitude]\n          : null,\n        maxRadius: v.anchor.maxRadius ?? -1,\n        radius: v.anchor.radius?.value ?? null\n      };\n    });\n    // resource update handling is in AppComponent.OnMessage()\n  }\n\n  private parseSelfRacing(v: SKVessel) {\n    if (\n      v.properties['navigation.racing.startLineStb'] &&\n      v.properties['navigation.racing.startLinePort']\n    ) {\n      const sls = v.properties['navigation.racing.startLineStb'];\n      const slp = v.properties['navigation.racing.startLinePort'];\n      this.app.data.racing.startLine = [\n        [slp.longitude, slp.latitude],\n        [sls.longitude, sls.latitude]\n      ];\n    } else {\n      this.app.data.racing.startLine = [];\n    }\n  }\n\n  private parseVesselOther(otherVessels: Map<string, SKVessel>) {\n    this.app.data.vessels.aisTargets = otherVessels;\n    this.app.data.vessels.aisTargets.forEach((value, key) => {\n      this.processVessel(value);\n\n      value.wind.direction = this.app.useMagnetic\n        ? value.wind.mwd\n        : value.wind.twd;\n\n      value.orientation =\n        value.cogTrue ??\n        value.headingTrue ??\n        value.cogMagnetic ??\n        value.headingMagnetic ??\n        0;\n    });\n  }\n\n  // ** process vessel data and true / magnetic preference **\n  private processVessel(d: SKVessel) {\n    d.cog = this.app.useMagnetic ? d.cogMagnetic : d.cogTrue;\n    d.heading = this.app.useMagnetic ? d.headingMagnetic : d.headingTrue;\n    d.wind.direction = this.app.useMagnetic ? d.wind.mwd : d.wind.twd;\n  }\n\n  // ** process course data\n  private processCourse(v: SKVessel) {\n    // ** process courseApi data\n    if (typeof v['courseApi'] !== 'undefined') {\n      this.processCourseApi(v['courseApi']);\n    }\n\n    // ** process preferred course data **\n    if (typeof v['course.crossTrackError'] !== 'undefined') {\n      this.app.data.navData.xte =\n        this.app.config.units.distance === 'm'\n          ? v['course.crossTrackError'] / 1000\n          : Convert.kmToNauticalMiles(v['course.crossTrackError'] / 1000);\n    }\n\n    if (typeof v['course.distance'] !== 'undefined') {\n      this.app.data.navData.dtg =\n        this.app.config.units.distance === 'm'\n          ? v['course.distance'] / 1000\n          : Convert.kmToNauticalMiles(v['course.distance'] / 1000);\n    }\n    if (typeof v['course.bearingTrue'] !== 'undefined') {\n      this.app.data.navData.bearingTrue = Convert.radiansToDegrees(\n        v['course.bearingTrue']\n      );\n      if (!this.app.useMagnetic) {\n        this.app.data.navData.bearing.value = this.app.data.navData.bearingTrue;\n        this.app.data.navData.bearing.type = 'T';\n      }\n    }\n    if (typeof v['course.bearingMagnetic'] !== 'undefined') {\n      this.app.data.navData.bearingMagnetic = Convert.radiansToDegrees(\n        v['course.bearingMagnetic']\n      );\n      if (this.app.useMagnetic) {\n        this.app.data.navData.bearing.value =\n          this.app.data.navData.bearingMagnetic;\n        this.app.data.navData.bearing.type = 'M';\n      }\n    }\n    if (typeof v['course.velocityMadeGood'] !== 'undefined') {\n      this.app.data.navData.vmg = v['course.velocityMadeGood'];\n    }\n    if (typeof v['course.timeToGo'] !== 'undefined') {\n      this.app.data.navData.ttg = v['course.timeToGo'] / 60;\n    }\n\n    if (typeof v['course.estimatedTimeOfArrival'] !== 'undefined') {\n      let d: Date | null;\n      if (v['course.estimatedTimeOfArrival'] !== null) {\n        d = new Date(v['course.estimatedTimeOfArrival']);\n        this.app.data.navData.eta =\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          d instanceof Date && !isNaN(d as any) ? d : null;\n      } else {\n        this.app.data.navData.eta = null;\n      }\n    }\n    this.navDataUpdate.next();\n  }\n\n  private clearCourseData() {\n    this.app.data.navData.startPosition = null;\n    this.app.data.navData.position = null;\n    this.app.data.activeWaypoint = null;\n    this.clearRouteData();\n  }\n\n  private clearRouteData() {\n    this.app.data.activeRoute = null;\n    this.app.data.navData.pointIndex = -1;\n    this.app.data.navData.pointTotal = 0;\n    this.app.data.navData.pointNames = [];\n    this.app.data.navData.destPointName = '';\n    this.app.data.activeRouteReversed = false;\n  }\n\n  // ** process courseApi values into navData\n  private processCourseApi(value) {\n    if (!value) {\n      this.clearCourseData();\n      return;\n    }\n\n    // navData.arrivalCircle\n    if (typeof value.arrivalCircle !== 'undefined') {\n      this.app.data.navData.arrivalCircle = value.arrivalCircle;\n    }\n\n    if (!value.nextPoint || !value.previousPoint) {\n      this.clearCourseData();\n    }\n\n    if (value.nextPoint && value.previousPoint) {\n      // navData.startPosition\n      this.app.data.navData.startPosition = value?.previousPoint?.position\n        ? [\n            value.previousPoint.position.longitude,\n            value.previousPoint.position.latitude\n          ]\n        : null;\n\n      // navData.position\n      this.app.data.navData.position = value?.nextPoint?.position\n        ? [\n            value.nextPoint.position.longitude,\n            value.nextPoint.position.latitude\n          ]\n        : null;\n\n      // wpt / route hrefs\n      if (value?.nextPoint.href) {\n        const wptHref = value.nextPoint.href.split('/');\n        this.app.data.activeWaypoint = wptHref[wptHref.length - 1];\n        if (\n          !this.app.config.selections.waypoints.includes(\n            this.app.data.activeWaypoint\n          )\n        ) {\n          this.app.config.selections.waypoints.push(\n            this.app.data.activeWaypoint\n          );\n          const idx = this.app.data.waypoints.findIndex((i) => {\n            return i[0] === this.app.data.activeWaypoint;\n          });\n          if (idx !== -1) {\n            this.app.data.waypoints[idx][2] = true;\n          }\n        }\n      } else {\n        this.app.data.activeWaypoint = null;\n      }\n    }\n\n    // navData.activeRoute\n    if (!value.activeRoute) {\n      this.clearRouteData();\n    } else {\n      if (value.activeRoute.href) {\n        this.app.data.navData.destPointName = '';\n        const rteHref = value.activeRoute.href.split('/');\n        this.app.data.activeRoute = rteHref[rteHref.length - 1];\n        if (\n          !this.app.config.selections.routes.includes(this.app.data.activeRoute)\n        ) {\n          this.app.config.selections.routes.push(this.app.data.activeRoute);\n          const idx = this.app.data.routes.findIndex((i) => {\n            return i[0] === this.app.data.activeRoute;\n          });\n          if (idx !== -1) {\n            this.app.data.routes[idx][2] = true;\n          }\n        }\n        this.app.data.activeWaypoint = null;\n        this.app.data.navData.pointIndex =\n          value?.activeRoute.pointIndex === null\n            ? -1\n            : value?.activeRoute.pointIndex;\n        this.app.data.navData.pointTotal =\n          value?.activeRoute.pointTotal === null\n            ? 0\n            : value?.activeRoute.pointTotal;\n\n        const rte = this.app.data.routes.filter((i) => {\n          if (i[0] === this.app.data.activeRoute) {\n            return i;\n          }\n        });\n        if (rte.length === 1 && rte[0][1]) {\n          this.app.data.navData.activeRoutePoints =\n            rte[0][1].feature.geometry.coordinates;\n\n          if (\n            rte[0][1].feature.properties.coordinatesMeta &&\n            Array.isArray(rte[0][1].feature.properties.coordinatesMeta)\n          ) {\n            this.app.data.navData.pointNames =\n              rte[0][1].feature.properties.coordinatesMeta.map((pt) => {\n                return pt.name ?? '';\n              });\n            if (\n              this.app.data.navData.pointIndex !== -1 &&\n              this.app.data.navData.pointIndex <\n                this.app.data.navData.pointNames.length\n            ) {\n              this.app.data.navData.destPointName =\n                this.app.data.navData.pointNames[\n                  this.app.data.navData.pointIndex\n                ];\n            }\n          }\n\n          this.app.data.activeRouteReversed = !value?.activeRoute.reverse\n            ? false\n            : value?.activeRoute.reverse;\n\n          const coords = rte[0][1].feature.geometry.coordinates;\n          if (\n            coords[0][0] === coords[coords.length - 1][0] &&\n            coords[0][1] === coords[coords.length - 1][1]\n          ) {\n            this.app.data.activeRouteCircular = true;\n          } else {\n            this.app.data.activeRouteCircular = false;\n          }\n        }\n      } else {\n        this.app.data.activeRoute = null;\n        // Non-signal k source (n2k) route points.\n        if (value.activeRoute.waypoints) {\n          const n2kRoute = new SKRoute();\n          n2kRoute.name = value.activeRoute?.name ?? 'From NMEA2000';\n          n2kRoute.description = 'Route from NMEA2000 source';\n          n2kRoute.feature.geometry.coordinates =\n            value.activeRoute?.waypoints.map((pt) => {\n              return [pt.position.longitude, pt.position.latitude];\n            });\n          const c = n2kRoute.feature.geometry.coordinates;\n          n2kRoute.feature.geometry.coordinates = c;\n          n2kRoute.distance = GeoUtils.routeLength(\n            n2kRoute.feature.geometry.coordinates\n          );\n          this.app.data.n2kRoute = ['n2k', n2kRoute, true];\n        } else {\n          this.app.data.n2kRoute = null;\n        }\n      }\n    }\n  }\n\n  // handle settings (config.selections)\n  private handleSettingsEvent(value) {\n    if (value.setting === 'config') {\n      //console.log('streamFacade.settingsEvent');\n      this.worker.postMessage({\n        cmd: 'settings',\n        options: { selections: this.app.config.selections }\n      });\n    }\n  }\n}\n","/** GeoJSON abstraction Facade\n * ************************************/\nimport { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport {\n  SKResources,\n  SKRoute,\n  SKWaypoint,\n  SKRegion,\n  SKTrack\n} from 'src/app/modules';\nimport {\n  LineStringFeature,\n  MultiLineStringFeature,\n  PointFeature,\n  PolygonFeature\n} from 'src/app/types';\nimport { GeoJSONFeatureCollection } from 'ol/format/GeoJSON';\n\n@Injectable({ providedIn: 'root' })\nexport class GeoJSONLoadFacade {\n  // **************** ATTRIBUTES ***************************\n  private errorCount = 0;\n  private subCount = 0;\n\n  private uploadSource: Subject<number>;\n  public uploaded$: Observable<number>;\n\n  // *******************************************************\n\n  constructor(\n    private app: AppFacade,\n    private skres: SKResources,\n    public signalk: SignalKClient\n  ) {\n    this.uploadSource = new Subject<number>();\n    this.uploaded$ = this.uploadSource.asObservable();\n  }\n\n  // ** parse GeoJSON file\n  validate(fileData: string) {\n    try {\n      const data = JSON.parse(fileData);\n      if (\n        typeof data.type === 'undefined' ||\n        data.type !== 'FeatureCollection'\n      ) {\n        return null;\n      }\n      if (\n        typeof data.features === 'undefined' ||\n        !Array.isArray(data.features)\n      ) {\n        return null;\n      }\n      // ** check each feature schema\n      data.features.forEach((f) => {\n        if (f.type && f.type === 'Feature' && f.geometry && f.geometry.type) {\n          if (!f.properties) {\n            f.properties = {};\n          }\n        }\n      });\n      return data;\n    } catch (err) {\n      return null;\n    }\n  }\n\n  // ** upload selected features to Signal K server **\n  uploadToServer(data: GeoJSONFeatureCollection) {\n    this.errorCount = 0;\n    this.subCount = 0;\n\n    data.features.forEach((f) => {\n      if (f.type && f.type === 'Feature' && f.geometry && f.geometry.type) {\n        switch (f.geometry.type) {\n          case 'LineString': // route\n            this.transformRoute(f as LineStringFeature);\n            break;\n          case 'Point': // waypoint\n            this.transformWaypoint(f as PointFeature);\n            break;\n          case 'MultiLineString': // track\n            this.transformTrack(f as MultiLineStringFeature);\n            break;\n          case 'Polygon': // region\n          case 'MultiPolygon':\n            this.transformRegion(f as PolygonFeature);\n            break;\n        }\n      } else {\n        console.warn('Parse GeoJSON: invalid feature data!');\n      }\n    });\n  }\n\n  // ** check all submissions are resolved and emit upload$\n  checkComplete() {\n    if (this.subCount === 0) {\n      this.uploadSource.next(this.errorCount);\n      this.app.debug(`GeoJSONLoad: complete: ${this.errorCount}`);\n    }\n  }\n\n  // ** transform and upload route\n  transformRoute(f: LineStringFeature) {\n    // SKRoute POST payload\n    const r = new SKRoute();\n    if (!f.properties) {\n      f.properties = {};\n    }\n\n    if (typeof f.properties.name !== 'undefined') {\n      r.name = f.properties.name ?? '';\n      delete f.properties.name;\n    } else {\n      r.name = `rte-${new Date().getTime()}`;\n    }\n\n    if (typeof f.properties.description !== 'undefined') {\n      r.description = f.properties.description ?? '';\n      delete f.properties.description;\n    } else {\n      r.description = 'GeoJSON import';\n    }\n\n    r.feature = f;\n\n    this.subCount++;\n    this.signalk.api\n      .post(this.app.skApiVersion, `/resources/routes`, r)\n      .subscribe(\n        (r) => {\n          this.subCount--;\n          if (r['state'] === 'COMPLETED') {\n            this.app.debug('SUCCESS: GeoJSON Route added.');\n          } else {\n            this.errorCount++;\n          }\n          this.checkComplete();\n        },\n        () => {\n          this.errorCount++;\n          this.subCount--;\n          this.checkComplete();\n        }\n      );\n  }\n\n  // ** transform and upload waypoint\n  transformWaypoint(f: PointFeature) {\n    // SKWaypoint POST payload\n    const w = new SKWaypoint();\n    if (!f.properties) {\n      f.properties = {};\n    }\n\n    if (typeof f.properties.name !== 'undefined') {\n      w.name = f.properties.name ?? '';\n      delete f.properties.name;\n    } else {\n      w.name = `wpt-${new Date().getTime()}`;\n    }\n\n    if (typeof f.properties.description !== 'undefined') {\n      w.description = f.properties.description ?? '';\n      delete f.properties.description;\n    } else {\n      w.description = 'GeoJSON import';\n    }\n\n    w.feature = f;\n\n    this.subCount++;\n    this.signalk.api\n      .post(this.app.skApiVersion, `/resources/waypoints`, w)\n      .subscribe(\n        (r) => {\n          this.subCount--;\n          if (r['state'] === 'COMPLETED') {\n            this.app.debug('SUCCESS: GeoJSON Waypoint added.');\n          } else {\n            this.errorCount++;\n          }\n          this.checkComplete();\n        },\n        () => {\n          this.errorCount++;\n          this.subCount--;\n          this.checkComplete();\n        }\n      );\n  }\n\n  // ** transform and upload track\n  transformTrack(f: MultiLineStringFeature) {\n    if (!f.properties) {\n      f.properties = {};\n    }\n    f.properties.name =\n      typeof f.properties.name !== 'undefined'\n        ? f.properties.name ?? ''\n        : `trk-${new Date().getTime()}`;\n    f.properties.description =\n      typeof f.properties.description !== 'undefined'\n        ? f.properties.description ?? ''\n        : 'GeoJSON import';\n\n    const r = new SKTrack({ feature: f });\n    this.subCount++;\n    this.signalk.api\n      .post(this.app.skApiVersion, `/resources/tracks`, r)\n      .subscribe(\n        (r) => {\n          this.subCount--;\n          if (r['state'] === 'COMPLETED') {\n            this.app.debug('SUCCESS: GeoJSON Track added.');\n          } else {\n            this.errorCount++;\n          }\n          this.checkComplete();\n        },\n        () => {\n          this.errorCount++;\n          this.subCount--;\n          this.checkComplete();\n        }\n      );\n  }\n\n  // ** transform and upload region\n  transformRegion(f: PolygonFeature) {\n    // SKRegion POST payload\n    const r = new SKRegion();\n    if (!f.properties) {\n      f.properties = {};\n    }\n    if (typeof f.properties.name !== 'undefined') {\n      r.name = f.properties.name ?? '';\n      delete f.properties.name;\n    } else {\n      r.name = `reg-${new Date().getTime()}`;\n    }\n\n    if (typeof f.properties.description !== 'undefined') {\n      r.description = f.properties.description ?? '';\n      delete f.properties.description;\n    } else {\n      r.description = 'GeoJSON import';\n    }\n    r.feature = f;\n\n    this.subCount++;\n    this.signalk.api\n      .post(this.app.skApiVersion, `/resources/regions`, r)\n      .subscribe(\n        (r) => {\n          this.subCount--;\n          if (r['state'] === 'COMPLETED') {\n            this.app.debug('SUCCESS: GeoJSON Region added.');\n          } else {\n            this.errorCount++;\n          }\n          this.checkComplete();\n        },\n        () => {\n          this.errorCount++;\n          this.subCount--;\n          this.checkComplete();\n        }\n      );\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  Input,\n  ViewChild,\n  ChangeDetectionStrategy,\n  Renderer2,\n  SimpleChanges\n} from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\n\ninterface DialConfig {\n  minValue: number;\n  maxValue: number;\n  minAngle: number;\n  maxAngle: number;\n}\n\n//** Base class **\nclass SvgDialBase implements DialConfig {\n  //** config variables **\n  minValue = 0; //** min scale value\n  maxValue = 360; //** max scale value\n  minAngle = 0; //** pointer angle when showing min value\n  maxAngle = 360; //** pointer angle when showing max value\n  private _scale = 1; //** scaling variables\n  protected pointers = {\n    //** dial pointers\n    value: null,\n    lo: null,\n    hi: null\n  };\n\n  constructor(config?: DialConfig) {\n    if (config) {\n      //** set config here\n      this.minValue = config.minValue ? config.minValue : this.minValue;\n      this.maxValue = config.maxValue ? config.maxValue : this.maxValue;\n      this.minAngle = config.minAngle ? config.minAngle : this.minAngle;\n      this.maxAngle = config.maxAngle ? config.maxAngle : this.maxAngle;\n    }\n    this._init();\n  }\n\n  //** initialise: calculate scaling **\n  private _init() {\n    const a: number =\n      this.minAngle > this.maxAngle\n        ? 360 - this.minAngle + this.maxAngle\n        : this.maxAngle - this.minAngle;\n    const b: number = this.maxValue - this.minValue;\n    this._scale = a / b; //** deg / 1 unit\n  }\n\n  //** return the angle to rotate needle for supplied val **\n  getAngle(val) {\n    let v = this._checkInRange(val);\n    v = v - this.minValue; //** cater for non-zero min values\n    return v * this._scale + this.minAngle;\n  }\n\n  /** check minValue < val < maxValue.\n   * retruns: val if in range else minVaue or maxVale **/\n  private _checkInRange(val) {\n    if (isNaN(val)) {\n      return 0;\n    }\n\n    if (val > this.maxValue) {\n      return this.maxValue;\n    } else if (val < this.minValue) {\n      return this.minValue;\n    } else {\n      return val;\n    }\n  }\n}\n\n/*** Compass component *******\n <ap-compass>\n    [heading]=\"<number>\" dial heading value to display\n    [needle]=\"<number>\" needle value to display\n\t[windtrue]=\"<number>\" wind true direction 0-359\n\t[windapparent]=\"<number>\" wind apparent direction 0-359\n\t[speed]=\"<string>\" speed value to display\n***********************************/\n@Component({\n  selector: 'ap-compass',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [CommonModule],\n  templateUrl: './compass.component.svg'\n})\nexport class CompassComponent extends SvgDialBase {\n  @Input() speed: number;\n  @Input() speedunits = 'knots';\n  @Input() heading: number;\n  @Input() needle: number;\n  @Input() windtrue: number;\n  @Input() windapparent: number;\n  @ViewChild('speedtext', { static: true }) speedtext: ElementRef;\n  @ViewChild('speedunitstext', { static: true }) speedunitstext: ElementRef;\n  @ViewChild('dial', { static: true }) dial: ElementRef;\n  @ViewChild('headingtext', { static: true }) headingtext: ElementRef;\n  @ViewChild('pointer', { static: true }) pointer: ElementRef;\n  @ViewChild('needlehi', { static: true }) needlehi: ElementRef;\n  @ViewChild('needlelo', { static: true }) needlelo: ElementRef;\n  public valueStr: string = '0' + String.fromCharCode(186);\n  private ptrOffset = 0; // ** pointer offset value\n\n  constructor(private renderer: Renderer2) {\n    super(null);\n  }\n\n  ngOnInit() {\n    this.pointers.value = this.dial;\n    this.pointers['value2'] = this.pointer;\n    this.pointers.hi = this.needlehi;\n    this.pointers.lo = this.needlelo;\n    this.updateDial();\n  }\n\n  //** handle inputs changes\n  ngOnChanges(changes: SimpleChanges) {\n    this.updateDial(changes);\n  }\n\n  updateDial(changes = null) {\n    const d = {\n      heading: null,\n      needle: null,\n      windtrue: null,\n      windapparent: null,\n      speed: null\n    };\n    d.heading =\n      changes && changes.heading ? changes.heading.currentValue : this.heading;\n    d.needle =\n      changes && changes.needle ? changes.needle.currentValue : this.needle;\n    d.windtrue =\n      changes && changes.hi ? changes.windtrue.currentValue : this.windtrue;\n    d.windapparent =\n      changes && changes.windapparent\n        ? changes.windapparent.currentValue\n        : this.windapparent;\n    d.speed =\n      changes && changes.speed ? changes.speed.currentValue : this.speed;\n\n    this.renderer.setProperty(\n      this.speedtext.nativeElement,\n      'innerHTML',\n      `${typeof this.speed === 'number' ? this.speed.toFixed(1) : '-'}`\n    );\n    this.renderer.setProperty(\n      this.speedunitstext.nativeElement,\n      'innerHTML',\n      this.speedunits\n    );\n    if (this.pointers.value) {\n      d.heading = parseFloat(d.heading);\n      if (isNaN(d.heading)) {\n        d.heading = null;\n      }\n      this.ptrOffset = d.heading !== null ? d.heading : 0;\n      if (d.heading !== null) {\n        d.heading = d.heading > 360 ? d.heading - 360 : d.heading;\n        this.valueStr = d.heading.toFixed(0) + String.fromCharCode(186);\n        const val = 0 - this.getAngle(d.heading);\n        this.renderer.setAttribute(\n          this.dial.nativeElement,\n          'transform',\n          'rotate(' + val + ' 100 100)'\n        );\n        this.renderer.setProperty(\n          this.headingtext.nativeElement,\n          'innerHTML',\n          this.valueStr\n        );\n      } else {\n        this.renderer.setAttribute(\n          this.dial.nativeElement,\n          'transform',\n          'rotate(' + (0 - this.getAngle(0)) + ' 100 100)'\n        );\n        this.renderer.setProperty(\n          this.headingtext.nativeElement,\n          'innerHTML',\n          '--'\n        );\n      }\n    }\n    if (this.pointers['value2']) {\n      d.needle = parseFloat(d.needle);\n      if (isNaN(d.needle)) {\n        d.needle = null;\n      }\n      if (d.needle !== null) {\n        const val = this.getAngle(d.needle) - this.ptrOffset;\n        this.renderer.setAttribute(\n          this.pointer.nativeElement,\n          'transform',\n          'rotate(' + val + ' 100 100)'\n        );\n      }\n    }\n    if (this.pointers.hi) {\n      d.windtrue = parseFloat(d.windtrue);\n      if (isNaN(d.windtrue)) {\n        d.windtrue = null;\n      }\n      if (d.windtrue !== null) {\n        const val =\n          d.windtrue < 0\n            ? d.windtrue\n            : this.getAngle(d.windtrue) - this.ptrOffset;\n        this.renderer.setAttribute(\n          this.needlehi.nativeElement,\n          'transform',\n          'rotate(' + val + ' 100 100)'\n        );\n      }\n    }\n    if (this.pointers.lo) {\n      d.windapparent = parseFloat(d.windapparent);\n      if (isNaN(d.windapparent)) {\n        d.windapparent = null;\n      }\n      if (d.windapparent !== null) {\n        const val = d.windapparent;\n        this.renderer.setAttribute(\n          this.needlelo.nativeElement,\n          'transform',\n          'rotate(' + val + ' 100 100)'\n        );\n      }\n    }\n  }\n}\n\n/*** North Up Compass component *************\n <ap-compass-northup>\n\t[heading]=\"<number>\" pointer value to display\n\t[windtrue]=\"<number>\" wind true direction 0-359\n\t[windapparent]=\"<number>\" wind apparent direction 0-359\n\t[label]=\"<string>\" label text to display\n***********************************/\n@Component({\n  selector: 'ap-compass-northup',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [CommonModule],\n  templateUrl: './compass-northup.component.svg'\n})\nexport class NorthUpCompassComponent extends SvgDialBase {\n  @Input() label = '';\n  @Input() speed: number | undefined;\n  @Input() heading: number | undefined;\n  @Input() windtrue: boolean;\n  @Input() windapparent: boolean;\n  @ViewChild('labeltext', { static: true }) labeltext: ElementRef;\n  @ViewChild('headingtext', { static: true }) headingtext: ElementRef;\n  @ViewChild('speedtext', { static: true }) speedtext: ElementRef;\n  @ViewChild('pointer', { static: true }) pointer: ElementRef;\n  @ViewChild('needlehi', { static: true }) needlehi: ElementRef;\n  @ViewChild('needlelo', { static: true }) needlelo: ElementRef;\n\n  public showPointer = true;\n  public showWindTrue = true;\n  public showWindApparent = true;\n\n  constructor(private renderer: Renderer2) {\n    super(null);\n  }\n\n  ngOnInit() {\n    this.updateDial();\n  }\n\n  //** handle inputs changes\n  ngOnChanges(changes: SimpleChanges) {\n    this.updateDial(changes);\n  }\n\n  // render numeric value as string\n  renderValue(value: number, precision = 0, leadingZero = false): string {\n    if (isNaN(value) || typeof value !== 'number') {\n      return '--';\n    }\n    const res =\n      typeof precision === 'number'\n        ? value.toFixed(precision)\n        : value.toString();\n    return value < 10 && leadingZero ? '0' + res : res;\n  }\n\n  updateDial(changes?: SimpleChanges) {\n    const d = {\n      windtrue: false,\n      windapparent: false,\n      label: null,\n      heading: null,\n      speed: null\n    };\n    d.heading =\n      changes && changes['heading']\n        ? changes['heading'].currentValue\n        : this.heading;\n    d.speed =\n      changes && changes['speed'] ? changes['speed'].currentValue : this.speed;\n    d.label =\n      changes && changes['label'] ? changes['label'].currentValue : this.label;\n\n    if (this.labeltext && this.labeltext.nativeElement) {\n      this.renderer.setProperty(\n        this.labeltext.nativeElement,\n        'innerHTML',\n        d.label\n      );\n    }\n\n    if (this.speedtext && this.speedtext.nativeElement) {\n      this.renderer.setProperty(\n        this.speedtext.nativeElement,\n        'innerHTML',\n        this.renderValue(d.speed, 1)\n      );\n    }\n\n    const rHeading = this.renderValue(d.heading, 0);\n    const rAngle = rHeading === '--' ? this.minValue : d.heading;\n\n    this.showPointer =\n      (rHeading === '--' ? false : true) &&\n      !this.windtrue &&\n      !this.windapparent;\n    if (this.pointer && this.pointer.nativeElement) {\n      this.renderer.setAttribute(\n        this.pointer.nativeElement,\n        'transform',\n        'rotate(' + this.getAngle(rAngle) + ' 100 100)'\n      );\n    }\n    if (this.headingtext && this.headingtext.nativeElement) {\n      this.renderer.setProperty(\n        this.headingtext.nativeElement,\n        'innerHTML',\n        rHeading + String.fromCharCode(186)\n      );\n    }\n\n    this.showWindTrue = (rHeading === '--' ? false : true) && this.windtrue;\n    if (this.needlehi && this.needlehi.nativeElement) {\n      this.renderer.setAttribute(\n        this.needlehi.nativeElement,\n        'transform',\n        'rotate(' + this.getAngle(rAngle) + ' 100 100)'\n      );\n    }\n\n    this.showWindApparent =\n      (rHeading === '--' ? false : true) && this.windapparent && !this.windtrue;\n    if (this.needlehi && this.needlehi.nativeElement) {\n      this.renderer.setAttribute(\n        this.needlelo.nativeElement,\n        'transform',\n        'rotate(' + this.getAngle(rAngle) + ' 100 100)'\n      );\n    }\n  }\n}\n","<svg \r\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\r\n   xmlns=\"http://www.w3.org/2000/svg\"\r\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\" \r\n   version=\"1.1\"\r\n   encoding=\"UTF-8\"\r\n   viewBox=\"0 0 200 200\">\r\n   \r\n   <defs>\r\n\t  <filter\r\n\t\t x=\"-0.5\"\r\n\t\t y=\"-0.5\"\r\n\t\t width=\"2\"\r\n\t\t height=\"2\"\r\n\t\t color-interpolation-filters=\"sRGB\"\r\n\t\t id=\"shadow\">\r\n\t\t<feGaussianBlur stdDeviation=\"5\" />\r\n\t  </filter>\r\n\t\t  <filter\r\n\t\t x=\"-0.5\"\r\n\t\t y=\"-0.5\"\r\n\t\t width=\"3\"\r\n\t\t height=\"3\"\r\n\t\t color-interpolation-filters=\"sRGB\"\r\n\t\t id=\"shadow2\">\r\n\t\t<feGaussianBlur stdDeviation=\"1\" />\r\n\t  </filter>\r\n   </defs>\r\n\t   \r\n   <style type=\"text/css\" >\r\n\t\t.hide {\r\n\t\t\tdisplay:none;\r\n\t\t}\r\n\t\t.compass text  {\r\n\t\t\tfont-style:normal;\r\n\t\t\tfont-variant:normal;\r\n\t\t\tfont-weight:normal;\r\n\t\t\tfont-stretch:normal;\r\n\t\t\tfont-family:Arial;\r\n\t\t\ttext-align:center;\r\n\t\t\ttext-anchor:middle;\r\n\t\t\tstroke:none;\r\n\t\t\tfill-opacity:1;\t\t\r\n\t\t}\r\n\t\r\n\t\t.compass text.label {           /** label **/\r\n\t\t\tfont-size:10px;\r\n\t\t\tfill: #dcff85;\t\t\t  \r\n\t\t}\r\n\t\t.compass text.value,\r\n\t\t.compass text.unit {\t\t\t\t/** units **/\r\n\t\t\tfont-size:12px;\r\n\t\t\tfont-weight: bold;\r\n            fill: black; \r\n\t\t\tfill-opacity:0.9;\r\n\t\t}\r\n\t\t.compass text.speedunits {\r\n\t\t\tfont-size:10pt;\r\n\t\t\tfill: black;\r\n\t\t}\r\n\t\t.compass text.value {\t\t\t/** Heading Value **/\r\n\t\t\tfont-size:22px;\r\n\t\t}\t\t  \r\n\t\t.compass text.cardinal_point {\t/** scale 12,3,6,9 oclock positions **/\r\n\t\t\tfont-size:20px;\r\n\t\t\tfont-weight: bold;\r\n            fill: black;  \r\n\t\t}\r\n\t\t\r\n\t\t.compass text.intermediate_point {\t/** scale remainder **/\r\n\t\t\tfont-size:16px;\r\n            fill: black;  \r\n\t\t\tfont-weight:  bold;\r\n\t\t}   \r\n\t\r\n\t\t.compass text.scale {\r\n\t\t\tfont-size:   12px;\r\n\t\t\tfont-weight: bold;\r\n            fill: black;            \r\n\t\t}\t\r\n\t\t\r\n\t\t.compass path.shortDiv  {\r\n\t\t\tfill:none;\r\n\t\t\tfill-rule:evenodd;\r\n            stroke: black;\r\n\t\t\tstroke-width:0.5;\r\n\t\t\tstroke-linecap:butt;\r\n\t\t\tstroke-linejoin:miter;\r\n\t\t\tstroke-miterlimit:4;\r\n\t\t\tstroke-dasharray:none;\r\n\t\t\tstroke-opacity:1;\r\n\t\t}\r\n\t\t\r\n\t\t.compass path.longDiv  {\r\n\t\t\tfill:none;\r\n\t\t\tfill-rule:evenodd;\r\n            /*stroke: #dcff85;*/\r\n            stroke: black;\r\n\t\t\tstroke-width:2;\r\n\t\t\tstroke-linecap:butt;\r\n\t\t\tstroke-linejoin:miter;\r\n\t\t\tstroke-miterlimit:4;\r\n\t\t\tstroke-dasharray:none;\r\n\t\t\tstroke-opacity:1;\r\n\t\t}\r\n\t\t\r\n\t\trect.compass.bgRect {\r\n\t\t\tfill:transparent;\r\n\t\t\tstroke: none; \r\n\t\t}\r\n        \r\n        .compass .bgDial {\r\n            fill: lightgray;\r\n            stroke: gray;\r\n            stroke-width: 2px;\r\n        }    \r\n\t\t\r\n\t\t.compass #pointerShaftInner {\r\n\t\t\tfill: orangered;\r\n\t\t\tstroke:orangered;\r\n\t\t\tstroke-width:0.3;\r\n\t\t\tstroke-opacity:1;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t\t\t\t\r\n\t\t.compass #hiPointer {\r\n\t\t\tfill:olive;\r\n\t\t\tfill-opacity:0.8;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t\t\r\n\t\t.compass #loPointer {\r\n\t\t\tfill: rgb(16, 75, 16);\r\n\t\t\tfill-opacity:0.8;\r\n\t\t\tdisplay: block;\r\n\t\t}\t\r\n\r\n\t\t.compass #topMark {\r\n\t\t\tstroke: #3d3b3b;\r\n\t\t\tstroke-width: 1;\r\n\t\t\tfill: gray;\r\n\t\t\tfill-opacity:1;\r\n\t\t\tdisplay: block;\r\n        }\t\r\n\r\n        .compass path.port  {\r\n\t\t\tfill:none;\r\n\t\t\tstroke: red;\r\n\t\t\tstroke-width:6;\r\n\t\t\tstroke-linecap:butt;\r\n\t\t\tstroke-linejoin:miter;\r\n\t\t\tstroke-miterlimit:4;\r\n\t\t\tstroke-dasharray:none;\r\n\t\t\tstroke-opacity:1;\r\n\t\t}        \r\n\t\t.compass path.starboard  {\r\n\t\t\tfill:none;\r\n\t\t\tstroke: green;\r\n\t\t\tstroke-width:6;\r\n\t\t\tstroke-linecap:butt;\r\n\t\t\tstroke-linejoin:miter;\r\n\t\t\tstroke-miterlimit:4;\r\n\t\t\tstroke-dasharray:none;\r\n\t\t\tstroke-opacity:1;\r\n\t\t}\r\n\t\t.dark-theme {\r\n\t\t\t.compass text.speedunits,\r\n\t\t\t.compass text.label {           /** label **/\r\n\t\t\t\tfill: #dcff85;\t\t  \r\n\t\t\t}\r\n\t\t\t.compass text.value,\r\n\t\t\t.compass text.unit {\t\t\t/** units **/\r\n\t\t\t\tfill: #00ff00;\r\n\t\t\t}\r\n\t\t\t.compass text.scale {\r\n\t\t\t\tfill: #dcff85;\r\n\t\t\t}\t\r\n\r\n\t\t\t.compass .bgDial {\r\n\t\t\t\tfill: transparent;\r\n\t\t\t\tstroke: #deff8b;\r\n\t\t\t}\r\n\t\t\t.compass #topMark {\r\n\t\t\t\tfill: #dcff85;\r\n\t\t\t\tstroke: unset;\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\t.compass text.cardinal_point {\t/** scale 12,3,6,9 oclock positions **/\r\n\t\t\t\tfill: #dcff85;\r\n\t\t\t}\r\n\t\t\t.compass text.intermediate_point {\t/** scale remainder **/\r\n\t\t\t\tfill: #dcff85;\r\n\t\t\t}  \r\n\r\n\t\t\t.compass path.shortDiv  {\r\n\t\t\t\tstroke: #dcff85;\r\n\t\t\t}\r\n\t\t\t.compass path.longDiv  {\r\n\t\t\t\tstroke: #dcff85;\r\n\t\t\t}\r\n\t\t}   \r\n   </style>\r\n\r\n    <rect x=\"0\" width=\"200\" y=\"0\" height=\"200\" class=\"compass bgRect\" />\r\n    <g class=\"compass\">\r\n        <circle cx=\"100\" cy=\"100\" r=\"90\" class=\"bgDial\"/>\r\n    </g>\r\n\r\n    <g class=\"compass\">\r\n        <path class=\"starboard\" d=\"M 100 185 A 85 85 0 0 0 100 15\" />\r\n        <path class=\"port\"  d=\"M 99.99999999999999 15 A 85 85 0 0 0 100 185\" />          \r\n    </g>    \r\n   \r\n\t<g #dial id=\"dial\" class=\"compass\">\r\n\t\t<path class='longDiv' d='M 100,45 L 100,65' />\r\n\t\t<path class='longDiv' d='M 100,155 L 100,135' />\r\n\t\t<path class='shortDiv' d='M 45,100 L 65,100' />\r\n\t\t<path class='shortDiv' d='M 155,100 L 135,100' />\r\n\r\n\t\t<path class='longDiv' d='M 100,30 L 100,19' />\r\n\t\t<path class='shortDiv' d='M 101.30893048279626,25.011422863270653 L 101.41364492141996,19.012336692332312' />\r\n\t\t<path class='shortDiv' d='M 102.61746225268757,25.045687973567823 L 102.82685923290258,19.049343011453246' />\r\n\t\t<path class='shortDiv' d='M 103.92519671822079,25.102784893406962 L 104.23921245567846,19.111007684879525' />\r\n\t\t<path class='shortDiv' d='M 105.2317355308094,25.182696230513187 L 105.65027437327414,19.197311928954235' />\r\n\t\t<path class='shortDiv' d='M 106.53668070607436,25.285397643119083 L 107.0596151625603,19.308229454568604' />\r\n\t\t<path class='shortDiv' d='M 107.83963474507401,25.410857847379503 L 108.46680552467993,19.443726475169868' />\r\n\t\t<path class='shortDiv' d='M 109.14020075538606,25.559038626900858 L 109.87141681581694,19.60376171705292' />\r\n\t\t<path class='shortDiv' d='M 110.43798257200491,25.72989484438223 L 111.2730211777653,19.788286431932804' />\r\n\t\t<path class='shortDiv' d='M 111.73258487801732,25.923374455364666 L 112.6711916682587,19.997244411793844' />\r\n\t\t<path class='shortDiv' d='M 113.02361332501978,26.139418524084405 L 114.06550239102135,20.230572006011144' />\r\n\t\t<path class='shortDiv' d='M 114.31067465324087,26.377961241425197 L 115.45552862550014,20.488198140739215' />\r\n\t\t<path class='shortDiv' d='M 115.59337681133195,26.638929944964573 L 116.84084695623851,20.77004434056174' />\r\n\t\t<path class='shortDiv' d='M 116.87132907578987,26.922245141107354 L 118.22103540185307,21.076024752395952' />\r\n\t\t<path class='shortDiv' d='M 118.14414216997508,27.22782052930026 L 119.59567354357308,21.40604617164429' />\r\n\t\t<path class='shortDiv' d='M 119.41142838268905,27.55556302831988 L 120.96434265330419,21.76000807058547' />\r\n\t\t<path class='shortDiv' d='M 120.67280168627494,27.905372804626083 L 122.32662582117693,22.13780262899617' />\r\n\t\t<path class='shortDiv' d='M 121.92787785420526,28.277143302772345 L 123.68210808254167,22.539314766994124' />\r\n\t\t<path class='shortDiv' d='M 123.17627457812105,28.67076127786349 L 125.03037654437074,22.96442218009257' />\r\n\t\t<path class='shortDiv' d='M 124.41761158428675,29.086106830051236 L 126.37102051102968,23.412995376455342' />\r\n\t\t<path class='shortDiv' d='M 125.65151074942516,29.523053441056874 L 127.70363160937916,23.884897716341413' />\r\n\t\t<path class='shortDiv' d='M 126.87759621589751,29.98146801270987 L 129.02780391316932,24.37998545372666' />\r\n\t\t<path class='shortDiv' d='M 128.0954945061934,30.461210907490937 L 130.34313406668886,24.898107780090214' />\r\n\t\t<path class='shortDiv' d='M 129.30483463669552,30.962135991066972 L 131.64922140763116,25.439106870352333' />\r\n\t\t<path class='shortDiv' d='M 130.50524823068503,31.48409067680494 L 132.94566808913982,26.002817930949334' />\r\n\t\t<path class='shortDiv' d='M 131.69636963055245,32.02691597225126 L 134.23207920099665,26.589069250031358' />\r\n\t\t<path class='shortDiv' d='M 132.8778360091808,32.59044652756248 L 135.50806288991527,27.197682249767468' />\r\n\t\t<path class='shortDiv' d='M 134.049287480466,33.174510685872406 L 136.7732304789033,27.8284715407422' />\r\n\t\t<path class='shortDiv' d='M 135.21036720894182,33.77893053558047 L 138.02719658565715,28.481244978426915' />\r\n\t\t<path class='shortDiv' d='M 136.3607215184753,34.40352196454532 L 139.26957923995332,29.15580372170895' />\r\n\t\t<path class='shortDiv' d='M 137.5,35.0480947161671 L 140.5,29.851942293460468' />\r\n\t\t<path class='shortDiv' d='M 138.62785561825405,35.712452447341576 L 141.7180840677144,30.569448643128908' />\r\n\t\t<path class='shortDiv' d='M 139.74394481749036,36.39639278826805 L 142.9234604028896,31.308104211329493' />\r\n\t\t<path class='shortDiv' d='M 140.84792762612705,37.099707404093195 L 144.1157618362172,32.067683996420655' />\r\n\t\t<path class='shortDiv' d='M 141.939467760306,37.82218205837188 L 145.2946251811305,32.847956623041625' />\r\n\t\t<path class='shortDiv' d='M 143.01823272632845,38.56359667832562 L 146.45969134443473,33.64868441259166' />\r\n\t\t<path class='shortDiv' d='M 144.0838939219355,39.32372542187894 L 147.61060543569033,34.46962345562926' />\r\n\t\t<path class='shortDiv' d='M 145.1361267364036,40.10233674645304 L 148.74701687531592,35.310523686169276' />\r\n\t\t<path class='shortDiv' d='M 146.17461064942438,40.89919347949585 L 149.86857950137832,36.171128957855515' />\r\n\t\t<path class='shortDiv' d='M 147.1990293287378,41.71405289072718 L 150.97495167503683,37.051177121985354' />\r\n\t\t<path class='shortDiv' d='M 148.20907072649044,42.54666676607665 L 152.06579638460968,37.95040010736278' />\r\n\t\t<path class='shortDiv' d='M 149.20442717428804,43.3967814832921 L 153.1407813482311,38.868524001955464' />\r\n\t\t<path class='shortDiv' d='M 150.18479547691436,44.264138089195434 L 154.1995791150675,39.80526913633106' />\r\n\t\t<path class='shortDiv' d='M 151.14987700468737,45.148472378562204 L 155.2418671650624,40.76035016884718' />\r\n\t\t<path class='shortDiv' d='M 152.0993777844248,46.04951497460116 L 156.26732800717878,41.733476172569254' />\r\n\t\t<path class='shortDiv' d='M 127.55320713028647,33.48067365918736 L 130.99735802157227,25.16575786658578' />\r\n\t\t<path class='longDiv' d='M 149.49747468305833,50.50252531694167 L 157.27564927611036,42.72435072388965' />\r\n\t\t<path class='shortDiv' d='M 153.95048502539885,47.900622215575204 L 158.26652382743075,43.732671992821224' />\r\n\t\t<path class='shortDiv' d='M 154.85152762143778,48.85012299531262 L 159.2396498311528,44.758132834937626' />\r\n\t\t<path class='shortDiv' d='M 155.73586191080457,49.81520452308563 L 160.19473086366895,45.800420884932485' />\r\n\t\t<path class='shortDiv' d='M 156.6032185167079,50.79557282571196 L 161.13147599804455,46.85921865176891' />\r\n\t\t<path class='shortDiv' d='M 157.45333323392336,51.79092927350955 L 162.04959989263722,47.93420361539031' />\r\n\t\t<path class='shortDiv' d='M 158.28594710927283,52.800970671262185 L 162.94882287801465,49.025048324963166' />\r\n\t\t<path class='shortDiv' d='M 159.10080652050414,53.82538935057563 L 163.82887104214447,50.13142049862168' />\r\n\t\t<path class='shortDiv' d='M 159.89766325354697,54.86387326359638 L 164.6894763138307,51.25298312468409' />\r\n\t\t<path class='shortDiv' d='M 160.67627457812105,55.916106078064516 L 165.53037654437074,52.389394564309676' />\r\n\t\t<path class='shortDiv' d='M 161.4364033216744,56.981767273671544 L 166.35131558740835,53.54030865556527' />\r\n\t\t<path class='shortDiv' d='M 162.17781794162812,58.06053223969399 L 167.15204337695837,54.70537481886951' />\r\n\t\t<path class='shortDiv' d='M 162.90029259590682,59.15207237387296 L 167.93231600357933,55.8842381637828' />\r\n\t\t<path class='shortDiv' d='M 163.60360721173197,60.256055182509634 L 168.6918957886705,57.076539597110404' />\r\n\t\t<path class='shortDiv' d='M 164.2875475526584,61.37214438174592 L 169.4305513568711,58.28191593228559' />\r\n\t\t<path class='shortDiv' d='M 164.9519052838329,62.49999999999999 L 170.14805770653953,59.49999999999999' />\r\n\t\t<path class='shortDiv' d='M 165.59647803545468,63.63927848152472 L 170.84419627829107,60.73042076004669' />\r\n\t\t<path class='shortDiv' d='M 166.22106946441951,64.78963279105818 L 171.51875502157307,61.97280341434284' />\r\n\t\t<path class='shortDiv' d='M 166.8254893141276,65.950712519534 L 172.1715284592578,63.226769521096706' />\r\n\t\t<path class='shortDiv' d='M 167.40955347243752,67.12216399081919 L 172.80231775023253,64.49193711008473' />\r\n\t\t<path class='shortDiv' d='M 167.97308402774874,68.30363036944755 L 173.41093074996866,65.76792079900335' />\r\n\t\t<path class='shortDiv' d='M 168.51590932319505,69.49475176931499 L 173.99718206905067,67.05433191086018' />\r\n\t\t<path class='shortDiv' d='M 169.037864008933,70.69516536330447 L 174.56089312964767,68.35077859236883' />\r\n\t\t<path class='shortDiv' d='M 169.53878909250906,71.90450549380658 L 175.1018922199098,69.65686593331111' />\r\n\t\t<path class='shortDiv' d='M 170.01853198729015,73.12240378410247 L 175.62001454627335,70.97219608683068' />\r\n\t\t<path class='shortDiv' d='M 170.47694655894313,74.34848925057484 L 176.1151022836586,72.29636839062083' />\r\n\t\t<path class='shortDiv' d='M 170.91389316994875,75.58238841571324 L 176.58700462354466,73.6289794889703' />\r\n\t\t<path class='shortDiv' d='M 171.3292387221365,76.82372542187895 L 177.03557781990742,74.96962345562926' />\r\n\t\t<path class='shortDiv' d='M 171.72285669722766,78.07212214579474 L 177.46068523300588,76.31789191745833' />\r\n\t\t<path class='shortDiv' d='M 172.0946271953739,79.32719831372506 L 177.86219737100384,77.67337417882307' />\r\n\t\t<path class='shortDiv' d='M 172.44443697168012,80.58857161731093 L 178.23999192941454,79.0356573466958' />\r\n\t\t<path class='shortDiv' d='M 172.77217947069974,81.85585783002492 L 178.59395382835572,80.40432645642692' />\r\n\t\t<path class='shortDiv' d='M 173.07775485889266,83.12867092421011 L 178.92397524760406,81.77896459814693' />\r\n\t\t<path class='shortDiv' d='M 173.36107005503544,84.40662318866805 L 179.22995565943825,83.1591530437615' />\r\n\t\t<path class='shortDiv' d='M 173.6220387585748,85.68932534675913 L 179.5118018592608,84.54447137449986' />\r\n\t\t<path class='shortDiv' d='M 173.86058147591558,86.97638667498022 L 179.76942799398887,85.93449760897863' />\r\n\t\t<path class='shortDiv' d='M 174.07662554463533,88.26741512198268 L 180.00275558820616,87.3288083317413' />\r\n\t\t<path class='shortDiv' d='M 174.27010515561778,89.56201742799509 L 180.21171356806718,88.7269788222347' />\r\n\t\t<path class='shortDiv' d='M 174.44096137309913,90.85979924461394 L 180.39623828294708,90.12858318418306' />\r\n\t\t<path class='shortDiv' d='M 174.5891421526205,92.16036525492598 L 180.55627352483015,91.53319447532004' />\r\n\t\t<path class='shortDiv' d='M 174.7146023568809,93.46331929392564 L 180.69177054543138,92.9403848374397' />\r\n\t\t<path class='shortDiv' d='M 174.8173037694868,94.7682644691906 L 180.80268807104576,94.34972562672584' />\r\n\t\t<path class='shortDiv' d='M 174.89721510659302,96.07480328177923 L 180.88899231512048,95.76078754432156' />\r\n\t\t<path class='shortDiv' d='M 174.95431202643218,97.38253774731243 L 180.95065698854677,97.17314076709741' />\r\n\t\t<path class='shortDiv' d='M 174.98857713672936,98.69106951720373 L 180.98766330766767,98.58635507858003' />\r\n\t\t<path class='shortDiv' d='M 166.51932634081265,72.44679286971353 L 174.83424213341422,69.00264197842772' />\r\n\t\t<path class='longDiv' d='M 170,100 L 181,100' />\r\n\t\t<path class='shortDiv' d='M 174.98857713672936,101.30893048279626 L 180.98766330766767,101.41364492141996' />\r\n\t\t<path class='shortDiv' d='M 174.95431202643218,102.61746225268757 L 180.95065698854677,102.82685923290258' />\r\n\t\t<path class='shortDiv' d='M 174.89721510659302,103.92519671822079 L 180.88899231512048,104.23921245567846' />\r\n\t\t<path class='shortDiv' d='M 174.8173037694868,105.2317355308094 L 180.80268807104576,105.65027437327416' />\r\n\t\t<path class='shortDiv' d='M 174.7146023568809,106.53668070607435 L 180.69177054543138,107.0596151625603' />\r\n\t\t<path class='shortDiv' d='M 174.58914215262052,107.839634745074 L 180.55627352483015,108.46680552467993' />\r\n\t\t<path class='shortDiv' d='M 174.44096137309916,109.14020075538605 L 180.39623828294708,109.87141681581693' />\r\n\t\t<path class='shortDiv' d='M 174.27010515561778,110.4379825720049 L 180.21171356806718,111.27302117776529' />\r\n\t\t<path class='shortDiv' d='M 174.07662554463533,111.7325848780173 L 180.00275558820616,112.6711916682587' />\r\n\t\t<path class='shortDiv' d='M 173.86058147591558,113.02361332501977 L 179.76942799398887,114.06550239102135' />\r\n\t\t<path class='shortDiv' d='M 173.6220387585748,114.31067465324087 L 179.5118018592608,115.45552862550014' />\r\n\t\t<path class='shortDiv' d='M 173.36107005503544,115.59337681133195 L 179.22995565943825,116.84084695623851' />\r\n\t\t<path class='shortDiv' d='M 173.07775485889266,116.87132907578987 L 178.92397524760406,118.22103540185307' />\r\n\t\t<path class='shortDiv' d='M 172.77217947069974,118.14414216997507 L 178.59395382835572,119.59567354357307' />\r\n\t\t<path class='shortDiv' d='M 172.44443697168012,119.41142838268905 L 178.23999192941454,120.96434265330417' />\r\n\t\t<path class='shortDiv' d='M 172.0946271953739,120.67280168627494 L 177.86219737100384,122.32662582117692' />\r\n\t\t<path class='shortDiv' d='M 171.72285669722766,121.92787785420525 L 177.46068523300588,123.68210808254167' />\r\n\t\t<path class='shortDiv' d='M 171.32923872213652,123.17627457812105 L 177.03557781990745,125.03037654437074' />\r\n\t\t<path class='shortDiv' d='M 170.91389316994878,124.41761158428675 L 176.58700462354466,126.37102051102968' />\r\n\t\t<path class='shortDiv' d='M 170.47694655894313,125.65151074942516 L 176.1151022836586,127.70363160937916' />\r\n\t\t<path class='shortDiv' d='M 170.01853198729015,126.87759621589751 L 175.62001454627335,129.02780391316932' />\r\n\t\t<path class='shortDiv' d='M 169.53878909250906,128.0954945061934 L 175.1018922199098,130.3431340666889' />\r\n\t\t<path class='shortDiv' d='M 169.037864008933,129.30483463669552 L 174.56089312964767,131.64922140763116' />\r\n\t\t<path class='shortDiv' d='M 168.51590932319507,130.505248230685 L 173.99718206905067,132.94566808913982' />\r\n\t\t<path class='shortDiv' d='M 167.97308402774877,131.69636963055245 L 173.41093074996866,134.23207920099665' />\r\n\t\t<path class='shortDiv' d='M 167.40955347243752,132.8778360091808 L 172.80231775023253,135.50806288991527' />\r\n\t\t<path class='shortDiv' d='M 166.8254893141276,134.049287480466 L 172.1715284592578,136.7732304789033' />\r\n\t\t<path class='shortDiv' d='M 166.22106946441954,135.2103672089418 L 171.5187550215731,138.02719658565712' />\r\n\t\t<path class='shortDiv' d='M 165.5964780354547,136.36072151847526 L 170.84419627829107,139.2695792399533' />\r\n\t\t<path class='shortDiv' d='M 164.9519052838329,137.5 L 170.14805770653953,140.49999999999997' />\r\n\t\t<path class='shortDiv' d='M 164.28754755265842,138.62785561825407 L 169.4305513568711,141.7180840677144' />\r\n\t\t<path class='shortDiv' d='M 163.60360721173197,139.74394481749036 L 168.6918957886705,142.9234604028896' />\r\n\t\t<path class='shortDiv' d='M 162.90029259590682,140.84792762612705 L 167.93231600357933,144.1157618362172' />\r\n\t\t<path class='shortDiv' d='M 162.17781794162812,141.939467760306 L 167.15204337695837,145.29462518113047' />\r\n\t\t<path class='shortDiv' d='M 161.4364033216744,143.01823272632845 L 166.35131558740832,146.45969134443473' />\r\n\t\t<path class='shortDiv' d='M 160.67627457812105,144.08389392193547 L 165.53037654437074,147.61060543569033' />\r\n\t\t<path class='shortDiv' d='M 159.89766325354697,145.1361267364036 L 164.68947631383074,148.7470168753159' />\r\n\t\t<path class='shortDiv' d='M 159.10080652050414,146.17461064942438 L 163.8288710421445,149.86857950137832' />\r\n\t\t<path class='shortDiv' d='M 158.28594710927283,147.1990293287378 L 162.94882287801465,150.97495167503683' />\r\n\t\t<path class='shortDiv' d='M 157.45333323392336,148.20907072649044 L 162.04959989263722,152.06579638460968' />\r\n\t\t<path class='shortDiv' d='M 156.6032185167079,149.20442717428804 L 161.13147599804455,153.1407813482311' />\r\n\t\t<path class='shortDiv' d='M 155.73586191080457,150.18479547691436 L 160.19473086366895,154.1995791150675' />\r\n\t\t<path class='shortDiv' d='M 154.8515276214378,151.14987700468737 L 159.2396498311528,155.24186716506236' />\r\n\t\t<path class='shortDiv' d='M 153.95048502539885,152.0993777844248 L 158.26652382743075,156.26732800717878' />\r\n\t\t<path class='shortDiv' d='M 166.51932634081265,127.55320713028647 L 174.83424213341422,130.99735802157227' />\r\n\t\t<path class='longDiv' d='M 149.49747468305833,149.49747468305833 L 157.27564927611036,157.27564927611036' />\r\n\t\t<path class='shortDiv' d='M 152.0993777844248,153.95048502539882 L 156.2673280071788,158.26652382743072' />\r\n\t\t<path class='shortDiv' d='M 151.1498770046874,154.85152762143778 L 155.2418671650624,159.2396498311528' />\r\n\t\t<path class='shortDiv' d='M 150.18479547691436,155.73586191080454 L 154.19957911506754,160.19473086366892' />\r\n\t\t<path class='shortDiv' d='M 149.20442717428804,156.6032185167079 L 153.1407813482311,161.13147599804455' />\r\n\t\t<path class='shortDiv' d='M 148.20907072649047,157.45333323392333 L 152.0657963846097,162.04959989263722' />\r\n\t\t<path class='shortDiv' d='M 147.1990293287378,158.28594710927283 L 150.97495167503683,162.94882287801465' />\r\n\t\t<path class='shortDiv' d='M 146.17461064942438,159.10080652050414 L 149.86857950137832,163.82887104214447' />\r\n\t\t<path class='shortDiv' d='M 145.1361267364036,159.89766325354697 L 148.7470168753159,164.6894763138307' />\r\n\t\t<path class='shortDiv' d='M 144.0838939219355,160.67627457812105 L 147.61060543569033,165.53037654437074' />\r\n\t\t<path class='shortDiv' d='M 143.01823272632848,161.4364033216744 L 146.45969134443476,166.35131558740832' />\r\n\t\t<path class='shortDiv' d='M 141.939467760306,162.17781794162812 L 145.2946251811305,167.15204337695837' />\r\n\t\t<path class='shortDiv' d='M 140.84792762612705,162.9002925959068 L 144.11576183621722,167.93231600357933' />\r\n\t\t<path class='shortDiv' d='M 139.74394481749036,163.60360721173197 L 142.9234604028896,168.6918957886705' />\r\n\t\t<path class='shortDiv' d='M 138.62785561825407,164.2875475526584 L 141.71808406771441,169.4305513568711' />\r\n\t\t<path class='shortDiv' d='M 137.5,164.9519052838329 L 140.5,170.14805770653953' />\r\n\t\t<path class='shortDiv' d='M 136.3607215184753,165.59647803545468 L 139.26957923995332,170.84419627829107' />\r\n\t\t<path class='shortDiv' d='M 135.21036720894182,166.22106946441954 L 138.02719658565715,171.5187550215731' />\r\n\t\t<path class='shortDiv' d='M 134.049287480466,166.8254893141276 L 136.7732304789033,172.1715284592578' />\r\n\t\t<path class='shortDiv' d='M 132.87783600918084,167.4095534724375 L 135.5080628899153,172.80231775023253' />\r\n\t\t<path class='shortDiv' d='M 131.69636963055245,167.97308402774874 L 134.23207920099665,173.41093074996866' />\r\n\t\t<path class='shortDiv' d='M 130.50524823068503,168.51590932319505 L 132.94566808913984,173.99718206905067' />\r\n\t\t<path class='shortDiv' d='M 129.30483463669555,169.037864008933 L 131.64922140763116,174.56089312964767' />\r\n\t\t<path class='shortDiv' d='M 128.0954945061934,169.53878909250903 L 130.3431340666889,175.10189221990976' />\r\n\t\t<path class='shortDiv' d='M 126.87759621589751,170.01853198729015 L 129.02780391316932,175.62001454627335' />\r\n\t\t<path class='shortDiv' d='M 125.65151074942517,170.47694655894313 L 127.70363160937919,176.1151022836586' />\r\n\t\t<path class='shortDiv' d='M 124.41761158428675,170.91389316994878 L 126.37102051102968,176.58700462354466' />\r\n\t\t<path class='shortDiv' d='M 123.17627457812107,171.3292387221365 L 125.03037654437075,177.03557781990742' />\r\n\t\t<path class='shortDiv' d='M 121.92787785420528,171.72285669722766 L 123.6821080825417,177.46068523300588' />\r\n\t\t<path class='shortDiv' d='M 120.67280168627494,172.0946271953739 L 122.32662582117693,177.86219737100384' />\r\n\t\t<path class='shortDiv' d='M 119.41142838268908,172.44443697168012 L 120.9643426533042,178.23999192941454' />\r\n\t\t<path class='shortDiv' d='M 118.14414216997508,172.77217947069974 L 119.59567354357308,178.59395382835572' />\r\n\t\t<path class='shortDiv' d='M 116.87132907578989,173.07775485889263 L 118.22103540185307,178.92397524760406' />\r\n\t\t<path class='shortDiv' d='M 115.59337681133195,173.36107005503544 L 116.84084695623851,179.22995565943825' />\r\n\t\t<path class='shortDiv' d='M 114.31067465324088,173.6220387585748 L 115.45552862550014,179.5118018592608' />\r\n\t\t<path class='shortDiv' d='M 113.02361332501977,173.86058147591558 L 114.06550239102135,179.76942799398887' />\r\n\t\t<path class='shortDiv' d='M 111.73258487801732,174.0766255446353 L 112.67119166825871,180.00275558820616' />\r\n\t\t<path class='shortDiv' d='M 110.43798257200493,174.27010515561778 L 111.27302117776533,180.21171356806718' />\r\n\t\t<path class='shortDiv' d='M 109.14020075538606,174.44096137309913 L 109.87141681581696,180.39623828294708' />\r\n\t\t<path class='shortDiv' d='M 107.83963474507404,174.5891421526205 L 108.46680552467996,180.55627352483015' />\r\n\t\t<path class='shortDiv' d='M 106.53668070607436,174.7146023568809 L 107.05961516256032,180.69177054543138' />\r\n\t\t<path class='shortDiv' d='M 105.23173553080942,174.8173037694868 L 105.65027437327417,180.80268807104576' />\r\n\t\t<path class='shortDiv' d='M 103.92519671822079,174.89721510659302 L 104.23921245567846,180.88899231512048' />\r\n\t\t<path class='shortDiv' d='M 102.61746225268759,174.95431202643218 L 102.82685923290259,180.95065698854677' />\r\n\t\t<path class='shortDiv' d='M 101.30893048279626,174.98857713672936 L 101.41364492141996,180.98766330766767' />\r\n\t\t<path class='shortDiv' d='M 127.55320713028647,166.51932634081265 L 130.99735802157227,174.83424213341422' />\r\n\t\t<path class='longDiv' d='M 100.00000000000001,170 L 100.00000000000001,181' />\r\n\t\t<path class='shortDiv' d='M 98.69106951720376,174.98857713672936 L 98.58635507858006,180.98766330766767' />\r\n\t\t<path class='shortDiv' d='M 97.38253774731243,174.95431202643218 L 97.17314076709742,180.95065698854677' />\r\n\t\t<path class='shortDiv' d='M 96.07480328177924,174.89721510659302 L 95.76078754432157,180.88899231512048' />\r\n\t\t<path class='shortDiv' d='M 94.7682644691906,174.8173037694868 L 94.34972562672586,180.80268807104576' />\r\n\t\t<path class='shortDiv' d='M 93.46331929392565,174.7146023568809 L 92.94038483743971,180.69177054543138' />\r\n\t\t<path class='shortDiv' d='M 92.16036525492599,174.5891421526205 L 91.53319447532007,180.55627352483015' />\r\n\t\t<path class='shortDiv' d='M 90.85979924461395,174.44096137309916 L 90.12858318418307,180.39623828294708' />\r\n\t\t<path class='shortDiv' d='M 89.56201742799509,174.27010515561778 L 88.7269788222347,180.21171356806718' />\r\n\t\t<path class='shortDiv' d='M 88.2674151219827,174.07662554463533 L 87.32880833174131,180.00275558820616' />\r\n\t\t<path class='shortDiv' d='M 86.97638667498025,173.8605814759156 L 85.93449760897867,179.76942799398887' />\r\n\t\t<path class='shortDiv' d='M 85.68932534675915,173.6220387585748 L 84.54447137449988,179.5118018592608' />\r\n\t\t<path class='shortDiv' d='M 84.40662318866806,173.36107005503544 L 83.15915304376152,179.22995565943825' />\r\n\t\t<path class='shortDiv' d='M 83.12867092421013,173.07775485889266 L 81.77896459814694,178.92397524760406' />\r\n\t\t<path class='shortDiv' d='M 81.85585783002495,172.77217947069974 L 80.40432645642693,178.59395382835572' />\r\n\t\t<path class='shortDiv' d='M 80.58857161731095,172.44443697168012 L 79.03565734669581,178.23999192941454' />\r\n\t\t<path class='shortDiv' d='M 79.32719831372508,172.0946271953739 L 77.67337417882308,177.86219737100384' />\r\n\t\t<path class='shortDiv' d='M 78.07212214579474,171.72285669722766 L 76.31789191745833,177.46068523300588' />\r\n\t\t<path class='shortDiv' d='M 76.82372542187895,171.32923872213652 L 74.96962345562928,177.03557781990745' />\r\n\t\t<path class='shortDiv' d='M 75.58238841571327,170.91389316994878 L 73.62897948897033,176.58700462354466' />\r\n\t\t<path class='shortDiv' d='M 74.34848925057486,170.47694655894313 L 72.29636839062084,176.1151022836586' />\r\n\t\t<path class='shortDiv' d='M 73.1224037841025,170.01853198729015 L 70.9721960868307,175.62001454627335' />\r\n\t\t<path class='shortDiv' d='M 71.9045054938066,169.53878909250906 L 69.65686593331112,175.1018922199098' />\r\n\t\t<path class='shortDiv' d='M 70.69516536330448,169.037864008933 L 68.35077859236884,174.56089312964767' />\r\n\t\t<path class='shortDiv' d='M 69.49475176931499,168.51590932319505 L 67.05433191086018,173.99718206905067' />\r\n\t\t<path class='shortDiv' d='M 68.30363036944755,167.97308402774877 L 65.76792079900335,173.41093074996866' />\r\n\t\t<path class='shortDiv' d='M 67.12216399081919,167.40955347243752 L 64.49193711008473,172.80231775023253' />\r\n\t\t<path class='shortDiv' d='M 65.950712519534,166.8254893141276 L 63.22676952109672,172.1715284592578' />\r\n\t\t<path class='shortDiv' d='M 64.78963279105821,166.22106946441954 L 61.97280341434287,171.5187550215731' />\r\n\t\t<path class='shortDiv' d='M 63.63927848152473,165.5964780354547 L 60.730420760046705,170.84419627829107' />\r\n\t\t<path class='shortDiv' d='M 62.50000000000002,164.9519052838329 L 59.50000000000002,170.14805770653953' />\r\n\t\t<path class='shortDiv' d='M 61.37214438174594,164.28754755265842 L 58.281915932285614,169.4305513568711' />\r\n\t\t<path class='shortDiv' d='M 60.25605518250964,163.60360721173197 L 57.07653959711041,168.6918957886705' />\r\n\t\t<path class='shortDiv' d='M 59.15207237387297,162.90029259590682 L 55.884238163782804,167.93231600357933' />\r\n\t\t<path class='shortDiv' d='M 58.060532239694,162.17781794162815 L 54.705374818869515,167.15204337695837' />\r\n\t\t<path class='shortDiv' d='M 56.98176727367154,161.4364033216744 L 53.54030865556526,166.35131558740835' />\r\n\t\t<path class='shortDiv' d='M 55.91610607806452,160.67627457812105 L 52.38939456430968,165.53037654437074' />\r\n\t\t<path class='shortDiv' d='M 54.863873263596396,159.89766325354697 L 51.25298312468411,164.68947631383074' />\r\n\t\t<path class='shortDiv' d='M 53.825389350575634,159.10080652050414 L 50.13142049862169,163.8288710421445' />\r\n\t\t<path class='shortDiv' d='M 52.800970671262206,158.28594710927283 L 49.02504832496318,162.94882287801465' />\r\n\t\t<path class='shortDiv' d='M 51.790929273509555,157.45333323392336 L 47.934203615390324,162.04959989263722' />\r\n\t\t<path class='shortDiv' d='M 50.79557282571197,156.6032185167079 L 46.85921865176893,161.13147599804455' />\r\n\t\t<path class='shortDiv' d='M 49.81520452308563,155.73586191080457 L 45.800420884932485,160.19473086366895' />\r\n\t\t<path class='shortDiv' d='M 48.850122995312624,154.8515276214378 L 44.75813283493763,159.2396498311528' />\r\n\t\t<path class='shortDiv' d='M 47.9006222155752,153.95048502539885 L 43.73267199282121,158.26652382743075' />\r\n\t\t<path class='shortDiv' d='M 72.44679286971355,166.51932634081265 L 69.00264197842773,174.83424213341425' />\r\n\t\t<path class='longDiv' d='M 50.50252531694168,149.49747468305833 L 42.72435072388966,157.27564927611036' />\r\n\t\t<path class='shortDiv' d='M 46.04951497460119,152.0993777844248 L 41.73347617256928,156.2673280071788' />\r\n\t\t<path class='shortDiv' d='M 45.14847237856222,151.1498770046874 L 40.76035016884719,155.2418671650624' />\r\n\t\t<path class='shortDiv' d='M 44.26413808919545,150.1847954769144 L 39.805269136331084,154.19957911506754' />\r\n\t\t<path class='shortDiv' d='M 43.39678148329211,149.20442717428804 L 38.86852400195548,153.1407813482311' />\r\n\t\t<path class='shortDiv' d='M 42.546666766076655,148.20907072649047 L 37.95040010736279,152.0657963846097' />\r\n\t\t<path class='shortDiv' d='M 41.71405289072721,147.19902932873782 L 37.05117712198538,150.97495167503686' />\r\n\t\t<path class='shortDiv' d='M 40.89919347949584,146.17461064942435 L 36.17112895785551,149.8685795013783' />\r\n\t\t<path class='shortDiv' d='M 40.10233674645304,145.1361267364036 L 35.310523686169276,148.74701687531592' />\r\n\t\t<path class='shortDiv' d='M 39.32372542187895,144.0838939219355 L 34.46962345562926,147.61060543569033' />\r\n\t\t<path class='shortDiv' d='M 38.56359667832563,143.01823272632848 L 33.64868441259168,146.45969134443476' />\r\n\t\t<path class='shortDiv' d='M 37.822182058371894,141.93946776030606 L 32.84795662304164,145.29462518113053' />\r\n\t\t<path class='shortDiv' d='M 37.099707404093195,140.84792762612702 L 32.067683996420655,144.1157618362172' />\r\n\t\t<path class='shortDiv' d='M 36.39639278826806,139.7439448174904 L 31.308104211329507,142.9234604028896' />\r\n\t\t<path class='shortDiv' d='M 35.71245244734159,138.6278556182541 L 30.569448643128922,141.71808406771441' />\r\n\t\t<path class='shortDiv' d='M 35.04809471616713,137.50000000000003 L 29.851942293460496,140.50000000000003' />\r\n\t\t<path class='shortDiv' d='M 34.403521964545305,136.36072151847526 L 29.155803721708935,139.2695792399533' />\r\n\t\t<path class='shortDiv' d='M 33.77893053558047,135.21036720894182 L 28.481244978426915,138.02719658565715' />\r\n\t\t<path class='shortDiv' d='M 33.17451068587242,134.04928748046603 L 27.828471540742214,136.77323047890332' />\r\n\t\t<path class='shortDiv' d='M 32.59044652756249,132.87783600918084 L 27.19768224976748,135.5080628899153' />\r\n\t\t<path class='shortDiv' d='M 32.026915972251274,131.6963696305525 L 26.589069250031372,134.23207920099668' />\r\n\t\t<path class='shortDiv' d='M 31.484090676804925,130.505248230685 L 26.00281793094932,132.94566808913982' />\r\n\t\t<path class='shortDiv' d='M 30.962135991066987,129.30483463669555 L 25.439106870352333,131.6492214076312' />\r\n\t\t<path class='shortDiv' d='M 30.46121090749095,128.09549450619343 L 24.89810778009023,130.3431340666889' />\r\n\t\t<path class='shortDiv' d='M 29.981468012709882,126.87759621589755 L 24.37998545372666,129.02780391316935' />\r\n\t\t<path class='shortDiv' d='M 29.523053441056874,125.65151074942514 L 23.884897716341413,127.70363160937916' />\r\n\t\t<path class='shortDiv' d='M 29.086106830051236,124.41761158428675 L 23.412995376455342,126.37102051102968' />\r\n\t\t<path class='shortDiv' d='M 28.67076127786349,123.17627457812107 L 22.96442218009257,125.03037654437075' />\r\n\t\t<path class='shortDiv' d='M 28.277143302772345,121.92787785420528 L 22.53931476699414,123.6821080825417' />\r\n\t\t<path class='shortDiv' d='M 27.905372804626097,120.67280168627498 L 22.137802628996184,122.32662582117698' />\r\n\t\t<path class='shortDiv' d='M 27.55556302831988,119.41142838268905 L 21.76000807058547,120.96434265330417' />\r\n\t\t<path class='shortDiv' d='M 27.22782052930026,118.14414216997508 L 21.40604617164429,119.5956735435731' />\r\n\t\t<path class='shortDiv' d='M 26.922245141107368,116.8713290757899 L 21.076024752395952,118.22103540185309' />\r\n\t\t<path class='shortDiv' d='M 26.638929944964588,115.59337681133198 L 20.770044340561753,116.84084695623855' />\r\n\t\t<path class='shortDiv' d='M 26.377961241425197,114.31067465324085 L 20.488198140739215,115.45552862550011' />\r\n\t\t<path class='shortDiv' d='M 26.139418524084405,113.02361332501978 L 20.230572006011144,114.06550239102135' />\r\n\t\t<path class='shortDiv' d='M 25.92337445536468,111.73258487801732 L 19.997244411793844,112.67119166825871' />\r\n\t\t<path class='shortDiv' d='M 25.72989484438223,110.43798257200494 L 19.788286431932804,111.27302117776533' />\r\n\t\t<path class='shortDiv' d='M 25.559038626900858,109.1402007553861 L 19.60376171705292,109.87141681581699' />\r\n\t\t<path class='shortDiv' d='M 25.41085784737949,107.83963474507401 L 19.443726475169854,108.46680552467993' />\r\n\t\t<path class='shortDiv' d='M 25.285397643119083,106.53668070607436 L 19.308229454568604,107.05961516256032' />\r\n\t\t<path class='shortDiv' d='M 25.182696230513187,105.23173553080942 L 19.197311928954235,105.65027437327417' />\r\n\t\t<path class='shortDiv' d='M 25.102784893406962,103.92519671822082 L 19.111007684879525,104.23921245567848' />\r\n\t\t<path class='shortDiv' d='M 25.045687973567823,102.61746225268756 L 19.049343011453246,102.82685923290256' />\r\n\t\t<path class='shortDiv' d='M 25.011422863270653,101.30893048279626 L 19.012336692332312,101.41364492141996' />\r\n\t\t<path class='shortDiv' d='M 33.480673659187374,127.55320713028651 L 25.165757866585793,130.99735802157232' />\r\n\t\t<path class='longDiv' d='M 30,100.00000000000001 L 19,100.00000000000001' />\r\n\t\t<path class='shortDiv' d='M 25.011422863270653,98.69106951720377 L 19.012336692332312,98.58635507858007' />\r\n\t\t<path class='shortDiv' d='M 25.045687973567823,97.38253774731247 L 19.049343011453246,97.17314076709746' />\r\n\t\t<path class='shortDiv' d='M 25.102784893406962,96.07480328177921 L 19.111007684879525,95.76078754432154' />\r\n\t\t<path class='shortDiv' d='M 25.182696230513173,94.76826446919061 L 19.197311928954235,94.34972562672586' />\r\n\t\t<path class='shortDiv' d='M 25.285397643119083,93.46331929392566 L 19.308229454568604,92.94038483743971' />\r\n\t\t<path class='shortDiv' d='M 25.41085784737949,92.16036525492602 L 19.443726475169854,91.5331944753201' />\r\n\t\t<path class='shortDiv' d='M 25.559038626900858,90.85979924461392 L 19.60376171705292,90.12858318418304' />\r\n\t\t<path class='shortDiv' d='M 25.72989484438223,89.56201742799509 L 19.788286431932804,88.7269788222347' />\r\n\t\t<path class='shortDiv' d='M 25.923374455364666,88.2674151219827 L 19.997244411793844,87.32880833174131' />\r\n\t\t<path class='shortDiv' d='M 26.13941852408439,86.97638667498025 L 20.230572006011144,85.93449760897867' />\r\n\t\t<path class='shortDiv' d='M 26.377961241425197,85.68932534675918 L 20.488198140739215,84.54447137449992' />\r\n\t\t<path class='shortDiv' d='M 26.638929944964588,84.40662318866805 L 20.770044340561753,83.15915304376148' />\r\n\t\t<path class='shortDiv' d='M 26.922245141107354,83.12867092421013 L 21.076024752395952,81.77896459814694' />\r\n\t\t<path class='shortDiv' d='M 27.22782052930026,81.85585783002495 L 21.406046171644277,80.40432645642693' />\r\n\t\t<path class='shortDiv' d='M 27.555563028319867,80.58857161731098 L 21.760008070585457,79.03565734669586' />\r\n\t\t<path class='shortDiv' d='M 27.905372804626097,79.32719831372505 L 22.137802628996184,77.67337417882305' />\r\n\t\t<path class='shortDiv' d='M 28.277143302772345,78.07212214579475 L 22.539314766994124,76.31789191745833' />\r\n\t\t<path class='shortDiv' d='M 28.670761277863477,76.82372542187896 L 22.964422180092555,74.96962345562928' />\r\n\t\t<path class='shortDiv' d='M 29.08610683005122,75.58238841571327 L 23.412995376455328,73.62897948897034' />\r\n\t\t<path class='shortDiv' d='M 29.52305344105686,74.34848925057489 L 23.884897716341413,72.29636839062088' />\r\n\t\t<path class='shortDiv' d='M 29.98146801270987,73.12240378410247 L 24.37998545372666,70.97219608683068' />\r\n\t\t<path class='shortDiv' d='M 30.461210907490937,71.9045054938066 L 24.898107780090214,69.65686593331114' />\r\n\t\t<path class='shortDiv' d='M 30.96213599106696,70.69516536330448 L 25.43910687035232,68.35077859236884' />\r\n\t\t<path class='shortDiv' d='M 31.484090676804925,69.49475176931502 L 26.002817930949305,67.05433191086021' />\r\n\t\t<path class='shortDiv' d='M 32.02691597225126,68.30363036944753 L 26.589069250031358,65.76792079900333' />\r\n\t\t<path class='shortDiv' d='M 32.59044652756248,67.12216399081919 L 27.197682249767468,64.49193711008473' />\r\n\t\t<path class='shortDiv' d='M 33.174510685872406,65.950712519534 L 27.828471540742186,63.22676952109672' />\r\n\t\t<path class='shortDiv' d='M 33.77893053558047,64.78963279105821 L 28.4812449784269,61.97280341434288' />\r\n\t\t<path class='shortDiv' d='M 34.403521964545334,63.639278481524705 L 29.15580372170895,60.73042076004668' />\r\n\t\t<path class='shortDiv' d='M 35.0480947161671,62.49999999999999 L 29.851942293460468,59.49999999999999' />\r\n\t\t<path class='shortDiv' d='M 35.712452447341576,61.37214438174594 L 30.569448643128908,58.281915932285614' />\r\n\t\t<path class='shortDiv' d='M 36.396392788268045,60.25605518250965 L 31.308104211329493,57.07653959711042' />\r\n\t\t<path class='shortDiv' d='M 37.09970740409318,59.152072373873004 L 32.06768399642064,55.88423816378284' />\r\n\t\t<path class='shortDiv' d='M 37.82218205837188,58.06053223969398 L 32.847956623041625,54.705374818869494' />\r\n\t\t<path class='shortDiv' d='M 38.56359667832562,56.981767273671544 L 33.64868441259166,53.54030865556527' />\r\n\t\t<path class='shortDiv' d='M 39.32372542187893,55.91610607806453 L 34.46962345562925,52.3893945643097' />\r\n\t\t<path class='shortDiv' d='M 40.10233674645302,54.8638732635964 L 35.31052368616926,51.252983124684114' />\r\n\t\t<path class='shortDiv' d='M 40.89919347949582,53.82538935057566 L 36.17112895785549,50.131420498621715' />\r\n\t\t<path class='shortDiv' d='M 41.71405289072719,52.800970671262185 L 37.05117712198537,49.025048324963166' />\r\n\t\t<path class='shortDiv' d='M 42.54666676607664,51.790929273509555 L 37.950400107362775,47.934203615390324' />\r\n\t\t<path class='shortDiv' d='M 43.39678148329209,50.79557282571197 L 38.86852400195546,46.85921865176893' />\r\n\t\t<path class='shortDiv' d='M 44.264138089195406,49.81520452308567 L 39.80526913633104,45.80042088493252' />\r\n\t\t<path class='shortDiv' d='M 45.148472378562175,48.85012299531265 L 40.76035016884715,44.75813283493767' />\r\n\t\t<path class='shortDiv' d='M 46.049514974601166,47.900622215575204 L 41.73347617256926,43.732671992821224' />\r\n\t\t<path class='shortDiv' d='M 33.48067365918736,72.44679286971352 L 25.16575786658578,69.0026419784277' />\r\n\t\t<path class='longDiv' d='M 50.502525316941664,50.502525316941686 L 42.724350723889636,42.724350723889664' />\r\n\t\t<path class='shortDiv' d='M 47.90062221557518,46.04951497460119 L 43.732671992821196,41.73347617256928' />\r\n\t\t<path class='shortDiv' d='M 48.85012299531258,45.148472378562246 L 44.75813283493759,40.76035016884723' />\r\n\t\t<path class='shortDiv' d='M 49.81520452308564,44.264138089195434 L 45.80042088493249,39.80526913633106' />\r\n\t\t<path class='shortDiv' d='M 50.79557282571194,43.39678148329211 L 46.8592186517689,38.86852400195548' />\r\n\t\t<path class='shortDiv' d='M 51.79092927350953,42.546666766076655 L 47.934203615390295,37.95040010736279' />\r\n\t\t<path class='shortDiv' d='M 52.800970671262164,41.71405289072722 L 49.02504832496314,37.05117712198539' />\r\n\t\t<path class='shortDiv' d='M 53.825389350575634,40.89919347949585 L 50.13142049862169,36.171128957855515' />\r\n\t\t<path class='shortDiv' d='M 54.86387326359638,40.10233674645304 L 51.25298312468409,35.310523686169276' />\r\n\t\t<path class='shortDiv' d='M 55.9161060780645,39.323725421878954 L 52.389394564309654,34.469623455629275' />\r\n\t\t<path class='shortDiv' d='M 56.981767273671515,38.56359667832563 L 53.540308655565234,33.64868441259168' />\r\n\t\t<path class='shortDiv' d='M 58.06053223969395,37.822182058371894 L 54.705374818869466,32.84795662304164' />\r\n\t\t<path class='shortDiv' d='M 59.152072373872976,37.099707404093195 L 55.88423816378282,32.067683996420655' />\r\n\t\t<path class='shortDiv' d='M 60.25605518250963,36.39639278826806 L 57.0765395971104,31.308104211329507' />\r\n\t\t<path class='shortDiv' d='M 61.37214438174591,35.71245244734159 L 58.281915932285585,30.569448643128922' />\r\n\t\t<path class='shortDiv' d='M 62.499999999999964,35.04809471616713 L 59.499999999999964,29.851942293460496' />\r\n\t\t<path class='shortDiv' d='M 63.639278481524734,34.403521964545305 L 60.73042076004671,29.155803721708935' />\r\n\t\t<path class='shortDiv' d='M 64.78963279105818,33.77893053558047 L 61.97280341434284,28.481244978426915' />\r\n\t\t<path class='shortDiv' d='M 65.95071251953398,33.17451068587242 L 63.22676952109669,27.828471540742214' />\r\n\t\t<path class='shortDiv' d='M 67.12216399081916,32.59044652756249 L 64.4919371100847,27.19768224976748' />\r\n\t\t<path class='shortDiv' d='M 68.3036303694475,32.026915972251274 L 65.76792079900329,26.589069250031372' />\r\n\t\t<path class='shortDiv' d='M 69.49475176931499,31.484090676804925 L 67.05433191086018,26.00281793094932' />\r\n\t\t<path class='shortDiv' d='M 70.69516536330445,30.962135991066987 L 68.35077859236881,25.439106870352333' />\r\n\t\t<path class='shortDiv' d='M 71.90450549380657,30.46121090749095 L 69.6568659333111,24.89810778009023' />\r\n\t\t<path class='shortDiv' d='M 73.12240378410245,29.981468012709882 L 70.97219608683064,24.37998545372666' />\r\n\t\t<path class='shortDiv' d='M 74.34848925057486,29.523053441056874 L 72.29636839062084,23.884897716341413' />\r\n\t\t<path class='shortDiv' d='M 75.58238841571324,29.086106830051236 L 73.62897948897032,23.412995376455342' />\r\n\t\t<path class='shortDiv' d='M 76.82372542187893,28.67076127786349 L 74.96962345562925,22.96442218009257' />\r\n\t\t<path class='shortDiv' d='M 78.07212214579471,28.277143302772345 L 76.3178919174583,22.53931476699414' />\r\n\t\t<path class='shortDiv' d='M 79.32719831372502,27.905372804626097 L 77.67337417882302,22.137802628996184' />\r\n\t\t<path class='shortDiv' d='M 80.58857161731095,27.55556302831988 L 79.03565734669583,21.76000807058547' />\r\n\t\t<path class='shortDiv' d='M 81.85585783002492,27.22782052930026 L 80.4043264564269,21.40604617164429' />\r\n\t\t<path class='shortDiv' d='M 83.1286709242101,26.922245141107368 L 81.7789645981469,21.076024752395952' />\r\n\t\t<path class='shortDiv' d='M 84.40662318866801,26.638929944964588 L 83.15915304376145,20.770044340561753' />\r\n\t\t<path class='shortDiv' d='M 85.68932534675915,26.377961241425197 L 84.54447137449988,20.488198140739215' />\r\n\t\t<path class='shortDiv' d='M 86.97638667498022,26.139418524084405 L 85.93449760897863,20.230572006011144' />\r\n\t\t<path class='shortDiv' d='M 88.26741512198267,25.92337445536468 L 87.32880833174129,19.997244411793844' />\r\n\t\t<path class='shortDiv' d='M 89.56201742799506,25.72989484438223 L 88.72697882223466,19.788286431932804' />\r\n\t\t<path class='shortDiv' d='M 90.8597992446139,25.559038626900858 L 90.128583184183,19.60376171705292' />\r\n\t\t<path class='shortDiv' d='M 92.16036525492599,25.410857847379503 L 91.53319447532007,19.443726475169868' />\r\n\t\t<path class='shortDiv' d='M 93.46331929392562,25.285397643119083 L 92.94038483743968,19.308229454568604' />\r\n\t\t<path class='shortDiv' d='M 94.76826446919058,25.182696230513187 L 94.34972562672583,19.197311928954235' />\r\n\t\t<path class='shortDiv' d='M 96.07480328177917,25.102784893406962 L 95.7607875443215,19.111007684879525' />\r\n\t\t<path class='shortDiv' d='M 97.38253774731244,25.045687973567823 L 97.17314076709744,19.049343011453246' />\r\n\t\t<path class='shortDiv' d='M 98.69106951720373,25.011422863270653 L 98.58635507858003,19.012336692332312' />\r\n\t\t<path class='shortDiv' d='M 72.44679286971349,33.480673659187374 L 69.00264197842768,25.165757866585793' />\r\n\t\t<path class='longDiv' d='M 99.99999999999999,30 L 99.99999999999999,19' />\r\n\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcN\"  class=\"scale\">N</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcE\"  transform=\"rotate(90,100,100)\"  class=\"scale\">E</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcS\"  transform=\"rotate(180,100,100)\" class=\"scale\">S</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcW\"  transform=\"rotate(270,100,100)\" class=\"scale\">W</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcNE\" transform=\"rotate(45,100,100)\"  class=\"scale\">NE</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcSE\" transform=\"rotate(135,100,100)\" class=\"scale\">SE</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcSW\" transform=\"rotate(225,100,100)\" class=\"scale\">SW</text>\r\n        <text x=\"100\" y=\"40\" id=\"pcNW\" transform=\"rotate(315,100,100)\" class=\"scale\">NW</text>\t      \t\t\r\n    </g>\r\n    \r\n\t<!-- text fields -->\r\n\t<g class=\"compass\" style=\"z-index: 1000;\">\r\n\t\t<text x=\"100\" y=\"95\"  #headingtext id=\"headingtext\" class=\"value\">0&#186;</text>\r\n        <text x=\"100\" y=\"115\"  #speedtext id=\"speedtext\" class=\"value\" ></text>\t  \r\n        <text x=\"100\" y=\"130\"  #speedunitstext class=\"speedunits\"></text>\t\r\n\t</g>\r\n\r\n   <!-- Apparent wind direction pointer -->\r\n   <g id=\"gLoPointer\" class=\"compass\" [ngClass]=\"{'hide': windapparent==null || windapparent==undefined}\">\r\n\t    <g transform=\"rotate(0 100 100)\" #needlelo id=\"needlelo\">\r\n\t\t    <!--<path d=\"M 100,79 l 5,-69 -10,0 5,69 z\" id=\"loPointer\" />-->\r\n            <path d=\"M 100,79 l 6,-49 -6,-20 -6,20 6,49 z\" id=\"loPointer\" />\r\n\t    </g>\r\n   </g>\r\n   \r\n   <!-- True Wind direction pointer -->\r\n   <g id=\"gHiPointer\" class=\"compass\" [ngClass]=\"{'hide': windtrue==null || windtrue==undefined}\">\r\n\t    <g transform=\"rotate(0 100 100)\" #needlehi id=\"needlehi\">\r\n\t\t    <!--<path d=\"M 100,79 l 5,-69 -10,0 5,69 z\" id=\"hiPointer\" />-->\r\n            <path d=\"M 100,79 l 5,-49 -5,-10 -5,10 5,49 z\" id=\"hiPointer\" />\r\n\t    </g>\r\n   </g>   \r\n   \r\n   <!-- Pointer --> \r\n   <g class=\"compass\" #pointer id=\"pointer\" [ngClass]=\"{'hide': needle==null || needle==undefined}\">\r\n\t    <g transform=\"rotate(0 100 100)\" id=\"needle\">\r\n\t\t\t<path d=\"M 95,70 l 5,-30 5,30 -10,0 z\" id=\"pointerShaftInner\" />\r\n\t    </g>\r\n   </g>\r\n\r\n   <!-- top marker -->\r\n   <g class=\"compass\">\r\n\t\t<g transform=\"rotate(0 100 100)\">\r\n\t\t\t<path d=\"M 100,20 l 8,-10 -16,0 8,10 z\" id=\"topMark\" />\r\n\t\t</g>\r\n\t</g>   \r\n \r\n</svg>\r\n","<!--<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>-->\r\n<svg \r\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\r\n   xmlns=\"http://www.w3.org/2000/svg\"\r\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\" \r\n   version=\"1.1\"\r\n   encoding=\"UTF-8\"\r\n   viewBox=\"0 0 200 200\">\r\n   \r\n\t<defs>\r\n\t\t<filter\r\n\t\t\tx=\"-0.5\"\r\n\t\t\ty=\"-0.5\"\r\n\t\t\twidth=\"2\"\r\n\t\t\theight=\"2\"\r\n\t\t\tcolor-interpolation-filters=\"sRGB\"\r\n\t\t\tid=\"shadow\">\r\n\t\t\t<feGaussianBlur stdDeviation=\"5\" />\r\n\t\t</filter>\r\n\t\t<filter\r\n\t\t\tx=\"-0.5\"\r\n\t\t\ty=\"-0.5\"\r\n\t\t\twidth=\"3\"\r\n\t\t\theight=\"3\"\r\n\t\t\tcolor-interpolation-filters=\"sRGB\"\r\n\t\t\tid=\"shadow2\">\r\n\t\t\t<feGaussianBlur stdDeviation=\"1\" />\r\n\t\t</filter>\r\n\t</defs>\r\n  \r\n\t<style type=\"text/css\" >\r\n\t\t.hide {\r\n\t\t\tdisplay:none;\r\n\t\t}\r\n\r\n\t\ttext  {\r\n\t\t\tfont-style:normal;\r\n\t\t\tfont-variant:normal;\r\n\t\t\tfont-weight:normal;\r\n\t\t\tfont-stretch:normal;\r\n\t\t\tfont-family:Arial;\r\n\t\t\ttext-align:center;\r\n\t\t\ttext-anchor:middle;\r\n\t\t\tstroke:none;\r\n\t\t\tfill-opacity:1;\t\t\r\n\t\t}\r\n\t\t\r\n\t\t.compass_nup text.label {           /** label **/\r\n\t\t\tfont-size:12px;\r\n\t\t\tfill: black;\t\t  \r\n\t\t}\r\n\t\t.compass_nup text.value,\r\n\t\t.compass_nup text.unit {\t\t\t\t/** units **/\r\n\t\t\tfont-size:12px;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfill: black;\r\n\t\t\tfill-opacity:0.9;\r\n\t\t}\r\n\t\t.compass_nup text.value {\t\t\t/** Heading Value **/\r\n\t\t\tfont-size:20px;\r\n\t\t}\r\n\r\n\t\t.compass_nup text.cardinal_point {\t/** scale 12,3,6,9 oclock positions **/\r\n\t\t\tfont-size:20px;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfill: black;\r\n\t\t}\r\n\t\t\r\n\t\t.compass_nup text.intermediate_point {\t/** scale remainder **/\r\n\t\t\tfont-size:16px;\r\n\t\t\tfill: black;\r\n\t\t\tfont-weight:  bold;\r\n\t\t}   \r\n\t\t\r\n\t\t.compass_nup text.scale {\r\n\t\t\tfont-size:   12px;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfill: black;\r\n\t\t}\t\r\n\t\t\r\n\t\t.compass_nup path.shortDiv  {\r\n\t\t\tfill:none;\r\n\t\t\tfill-rule:evenodd;\r\n\t\t\tstroke: gray;\r\n\t\t\tstroke-width:0.5;\r\n\t\t\tstroke-linecap:butt;\r\n\t\t\tstroke-linejoin:miter;\r\n\t\t\tstroke-miterlimit:4;\r\n\t\t\tstroke-dasharray:none;\r\n\t\t\tstroke-opacity:1;\r\n\t\t}\r\n\t\t\r\n\t\t.compass_nup path.longDiv  {\r\n\t\t\tfill:none;\r\n\t\t\tfill-rule:evenodd;\r\n\t\t\tstroke: black;\r\n\t\t\tstroke-width:2;\r\n\t\t\tstroke-linecap:butt;\r\n\t\t\tstroke-linejoin:miter;\r\n\t\t\tstroke-miterlimit:4;\r\n\t\t\tstroke-dasharray:none;\r\n\t\t\tstroke-opacity:1;\r\n\t\t}\r\n\t\t\r\n\t\trect.compass_nup.bgRect {\r\n\t\t\tfill:transparent;\r\n\t\t\tstroke: none; \r\n\t\t}\r\n\t\t\r\n\t\t.compass_nup .bgDial {\r\n\t\t\tfill: lightgray;\r\n\t\t\tstroke: black;\r\n\t\t\tstroke-width: 2px;\r\n\t\t}    \r\n\t\t\r\n\t\t.compass_nup #pointerShaftInner {\r\n\t\t\tfill: #9d4626;\r\n\t\t\tstroke: #9d4626;\r\n\t\t\tstroke-width: 0.3;\r\n\t\t\tstroke-opacity: 1;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t\t\t\t\r\n\t\t.compass_nup #hiPointer {\r\n\t\t\tfill:olive;\r\n\t\t\tfill-opacity:1;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t\t\r\n\t\t.compass_nup #loPointer {\r\n\t\t\tfill: rgb(16, 75, 16);\r\n\t\t\tfill-opacity:1;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\r\n\t\t.dark-theme {\r\n\t\t\t.compass_nup text.label {           /** label **/\r\n\t\t\t\tfill: #dcff85;\t\t  \r\n\t\t\t}\r\n\t\t\t.compass_nup text.value,\r\n\t\t\t.compass_nup text.unit {\t\t\t/** units **/\r\n\t\t\t\tfill: #00ff00;\r\n\t\t\t}\r\n\t\t\t.compass_nup .bgDial {\r\n\t\t\t\tfill: transparent;\r\n\t\t\t\tstroke: #deff8b;\r\n\t\t\t}\r\n\t\t\t.compass_nup text.scale {\r\n\t\t\t\tfill: #dcff85;\r\n\t\t\t}\t\r\n\r\n\t\t\t.compass_nup text.cardinal_point {\t/** scale 12,3,6,9 oclock positions **/\r\n\t\t\t\tfill: #dcff85;\r\n\t\t\t}\r\n\t\t\t.compass_nup text.intermediate_point {\t/** scale remainder **/\r\n\t\t\t\tfill: #dcff85;\r\n\t\t\t}  \r\n\r\n\t\t\t.compass_nup path.shortDiv  {\r\n\t\t\t\tstroke: red;\r\n\t\t\t}\r\n\t\t\t.compass_nup path.longDiv  {\r\n\t\t\t\tstroke: #dcff85;\r\n\t\t\t}\r\n\t\t}      \r\n\t</style>\r\n\r\n    <rect x=\"0\" width=\"200\" y=\"0\" height=\"200\" class=\"compass_nup bgRect\" />\r\n    <g class=\"compass_nup\">\r\n        <circle cx=\"100\" cy=\"100\" r=\"90\" class=\"bgDial\"/>\r\n    </g>\r\n  \r\n   <g #dial id=\"dial\" class=\"compass_nup\">\r\n\t\t<path class='longDiv' d='M 100,45 L 100,65' />\r\n\t\t<path class='longDiv' d='M 100,155 L 100,135' />\r\n\t\t<path class='longDiv' d='M 45,100 L 65,100' />\r\n\t\t<path class='longDiv' d='M 155,100 L 135,100' />\r\n\r\n\t\t<path class='longDiv' d='M 100,30 L 100,19' />\r\n\t\t<path class='shortDiv' d='M 101.30893048279626,25.011422863270653 L 101.41364492141996,19.012336692332312' />\r\n\t\t<path class='shortDiv' d='M 102.61746225268757,25.045687973567823 L 102.82685923290258,19.049343011453246' />\r\n\t\t<path class='shortDiv' d='M 103.92519671822079,25.102784893406962 L 104.23921245567846,19.111007684879525' />\r\n\t\t<path class='shortDiv' d='M 105.2317355308094,25.182696230513187 L 105.65027437327414,19.197311928954235' />\r\n\t\t<path class='shortDiv' d='M 106.53668070607436,25.285397643119083 L 107.0596151625603,19.308229454568604' />\r\n\t\t<path class='shortDiv' d='M 107.83963474507401,25.410857847379503 L 108.46680552467993,19.443726475169868' />\r\n\t\t<path class='shortDiv' d='M 109.14020075538606,25.559038626900858 L 109.87141681581694,19.60376171705292' />\r\n\t\t<path class='shortDiv' d='M 110.43798257200491,25.72989484438223 L 111.2730211777653,19.788286431932804' />\r\n\t\t<path class='shortDiv' d='M 111.73258487801732,25.923374455364666 L 112.6711916682587,19.997244411793844' />\r\n\t\t<path class='shortDiv' d='M 113.02361332501978,26.139418524084405 L 114.06550239102135,20.230572006011144' />\r\n\t\t<path class='shortDiv' d='M 114.31067465324087,26.377961241425197 L 115.45552862550014,20.488198140739215' />\r\n\t\t<path class='shortDiv' d='M 115.59337681133195,26.638929944964573 L 116.84084695623851,20.77004434056174' />\r\n\t\t<path class='shortDiv' d='M 116.87132907578987,26.922245141107354 L 118.22103540185307,21.076024752395952' />\r\n\t\t<path class='shortDiv' d='M 118.14414216997508,27.22782052930026 L 119.59567354357308,21.40604617164429' />\r\n\t\t<path class='shortDiv' d='M 119.41142838268905,27.55556302831988 L 120.96434265330419,21.76000807058547' />\r\n\t\t<path class='shortDiv' d='M 120.67280168627494,27.905372804626083 L 122.32662582117693,22.13780262899617' />\r\n\t\t<path class='shortDiv' d='M 121.92787785420526,28.277143302772345 L 123.68210808254167,22.539314766994124' />\r\n\t\t<path class='shortDiv' d='M 123.17627457812105,28.67076127786349 L 125.03037654437074,22.96442218009257' />\r\n\t\t<path class='shortDiv' d='M 124.41761158428675,29.086106830051236 L 126.37102051102968,23.412995376455342' />\r\n\t\t<path class='shortDiv' d='M 125.65151074942516,29.523053441056874 L 127.70363160937916,23.884897716341413' />\r\n\t\t<path class='shortDiv' d='M 126.87759621589751,29.98146801270987 L 129.02780391316932,24.37998545372666' />\r\n\t\t<path class='shortDiv' d='M 128.0954945061934,30.461210907490937 L 130.34313406668886,24.898107780090214' />\r\n\t\t<path class='shortDiv' d='M 129.30483463669552,30.962135991066972 L 131.64922140763116,25.439106870352333' />\r\n\t\t<path class='shortDiv' d='M 130.50524823068503,31.48409067680494 L 132.94566808913982,26.002817930949334' />\r\n\t\t<path class='shortDiv' d='M 131.69636963055245,32.02691597225126 L 134.23207920099665,26.589069250031358' />\r\n\t\t<path class='shortDiv' d='M 132.8778360091808,32.59044652756248 L 135.50806288991527,27.197682249767468' />\r\n\t\t<path class='shortDiv' d='M 134.049287480466,33.174510685872406 L 136.7732304789033,27.8284715407422' />\r\n\t\t<path class='shortDiv' d='M 135.21036720894182,33.77893053558047 L 138.02719658565715,28.481244978426915' />\r\n\t\t<path class='shortDiv' d='M 136.3607215184753,34.40352196454532 L 139.26957923995332,29.15580372170895' />\r\n\t\t<path class='shortDiv' d='M 137.5,35.0480947161671 L 140.5,29.851942293460468' />\r\n\t\t<path class='shortDiv' d='M 138.62785561825405,35.712452447341576 L 141.7180840677144,30.569448643128908' />\r\n\t\t<path class='shortDiv' d='M 139.74394481749036,36.39639278826805 L 142.9234604028896,31.308104211329493' />\r\n\t\t<path class='shortDiv' d='M 140.84792762612705,37.099707404093195 L 144.1157618362172,32.067683996420655' />\r\n\t\t<path class='shortDiv' d='M 141.939467760306,37.82218205837188 L 145.2946251811305,32.847956623041625' />\r\n\t\t<path class='shortDiv' d='M 143.01823272632845,38.56359667832562 L 146.45969134443473,33.64868441259166' />\r\n\t\t<path class='shortDiv' d='M 144.0838939219355,39.32372542187894 L 147.61060543569033,34.46962345562926' />\r\n\t\t<path class='shortDiv' d='M 145.1361267364036,40.10233674645304 L 148.74701687531592,35.310523686169276' />\r\n\t\t<path class='shortDiv' d='M 146.17461064942438,40.89919347949585 L 149.86857950137832,36.171128957855515' />\r\n\t\t<path class='shortDiv' d='M 147.1990293287378,41.71405289072718 L 150.97495167503683,37.051177121985354' />\r\n\t\t<path class='shortDiv' d='M 148.20907072649044,42.54666676607665 L 152.06579638460968,37.95040010736278' />\r\n\t\t<path class='shortDiv' d='M 149.20442717428804,43.3967814832921 L 153.1407813482311,38.868524001955464' />\r\n\t\t<path class='shortDiv' d='M 150.18479547691436,44.264138089195434 L 154.1995791150675,39.80526913633106' />\r\n\t\t<path class='shortDiv' d='M 151.14987700468737,45.148472378562204 L 155.2418671650624,40.76035016884718' />\r\n\t\t<path class='shortDiv' d='M 152.0993777844248,46.04951497460116 L 156.26732800717878,41.733476172569254' />\r\n\t\t<path class='shortDiv' d='M 127.55320713028647,33.48067365918736 L 130.99735802157227,25.16575786658578' />\r\n\t\t<path class='longDiv' d='M 149.49747468305833,50.50252531694167 L 157.27564927611036,42.72435072388965' />\r\n\t\t<path class='shortDiv' d='M 153.95048502539885,47.900622215575204 L 158.26652382743075,43.732671992821224' />\r\n\t\t<path class='shortDiv' d='M 154.85152762143778,48.85012299531262 L 159.2396498311528,44.758132834937626' />\r\n\t\t<path class='shortDiv' d='M 155.73586191080457,49.81520452308563 L 160.19473086366895,45.800420884932485' />\r\n\t\t<path class='shortDiv' d='M 156.6032185167079,50.79557282571196 L 161.13147599804455,46.85921865176891' />\r\n\t\t<path class='shortDiv' d='M 157.45333323392336,51.79092927350955 L 162.04959989263722,47.93420361539031' />\r\n\t\t<path class='shortDiv' d='M 158.28594710927283,52.800970671262185 L 162.94882287801465,49.025048324963166' />\r\n\t\t<path class='shortDiv' d='M 159.10080652050414,53.82538935057563 L 163.82887104214447,50.13142049862168' />\r\n\t\t<path class='shortDiv' d='M 159.89766325354697,54.86387326359638 L 164.6894763138307,51.25298312468409' />\r\n\t\t<path class='shortDiv' d='M 160.67627457812105,55.916106078064516 L 165.53037654437074,52.389394564309676' />\r\n\t\t<path class='shortDiv' d='M 161.4364033216744,56.981767273671544 L 166.35131558740835,53.54030865556527' />\r\n\t\t<path class='shortDiv' d='M 162.17781794162812,58.06053223969399 L 167.15204337695837,54.70537481886951' />\r\n\t\t<path class='shortDiv' d='M 162.90029259590682,59.15207237387296 L 167.93231600357933,55.8842381637828' />\r\n\t\t<path class='shortDiv' d='M 163.60360721173197,60.256055182509634 L 168.6918957886705,57.076539597110404' />\r\n\t\t<path class='shortDiv' d='M 164.2875475526584,61.37214438174592 L 169.4305513568711,58.28191593228559' />\r\n\t\t<path class='shortDiv' d='M 164.9519052838329,62.49999999999999 L 170.14805770653953,59.49999999999999' />\r\n\t\t<path class='shortDiv' d='M 165.59647803545468,63.63927848152472 L 170.84419627829107,60.73042076004669' />\r\n\t\t<path class='shortDiv' d='M 166.22106946441951,64.78963279105818 L 171.51875502157307,61.97280341434284' />\r\n\t\t<path class='shortDiv' d='M 166.8254893141276,65.950712519534 L 172.1715284592578,63.226769521096706' />\r\n\t\t<path class='shortDiv' d='M 167.40955347243752,67.12216399081919 L 172.80231775023253,64.49193711008473' />\r\n\t\t<path class='shortDiv' d='M 167.97308402774874,68.30363036944755 L 173.41093074996866,65.76792079900335' />\r\n\t\t<path class='shortDiv' d='M 168.51590932319505,69.49475176931499 L 173.99718206905067,67.05433191086018' />\r\n\t\t<path class='shortDiv' d='M 169.037864008933,70.69516536330447 L 174.56089312964767,68.35077859236883' />\r\n\t\t<path class='shortDiv' d='M 169.53878909250906,71.90450549380658 L 175.1018922199098,69.65686593331111' />\r\n\t\t<path class='shortDiv' d='M 170.01853198729015,73.12240378410247 L 175.62001454627335,70.97219608683068' />\r\n\t\t<path class='shortDiv' d='M 170.47694655894313,74.34848925057484 L 176.1151022836586,72.29636839062083' />\r\n\t\t<path class='shortDiv' d='M 170.91389316994875,75.58238841571324 L 176.58700462354466,73.6289794889703' />\r\n\t\t<path class='shortDiv' d='M 171.3292387221365,76.82372542187895 L 177.03557781990742,74.96962345562926' />\r\n\t\t<path class='shortDiv' d='M 171.72285669722766,78.07212214579474 L 177.46068523300588,76.31789191745833' />\r\n\t\t<path class='shortDiv' d='M 172.0946271953739,79.32719831372506 L 177.86219737100384,77.67337417882307' />\r\n\t\t<path class='shortDiv' d='M 172.44443697168012,80.58857161731093 L 178.23999192941454,79.0356573466958' />\r\n\t\t<path class='shortDiv' d='M 172.77217947069974,81.85585783002492 L 178.59395382835572,80.40432645642692' />\r\n\t\t<path class='shortDiv' d='M 173.07775485889266,83.12867092421011 L 178.92397524760406,81.77896459814693' />\r\n\t\t<path class='shortDiv' d='M 173.36107005503544,84.40662318866805 L 179.22995565943825,83.1591530437615' />\r\n\t\t<path class='shortDiv' d='M 173.6220387585748,85.68932534675913 L 179.5118018592608,84.54447137449986' />\r\n\t\t<path class='shortDiv' d='M 173.86058147591558,86.97638667498022 L 179.76942799398887,85.93449760897863' />\r\n\t\t<path class='shortDiv' d='M 174.07662554463533,88.26741512198268 L 180.00275558820616,87.3288083317413' />\r\n\t\t<path class='shortDiv' d='M 174.27010515561778,89.56201742799509 L 180.21171356806718,88.7269788222347' />\r\n\t\t<path class='shortDiv' d='M 174.44096137309913,90.85979924461394 L 180.39623828294708,90.12858318418306' />\r\n\t\t<path class='shortDiv' d='M 174.5891421526205,92.16036525492598 L 180.55627352483015,91.53319447532004' />\r\n\t\t<path class='shortDiv' d='M 174.7146023568809,93.46331929392564 L 180.69177054543138,92.9403848374397' />\r\n\t\t<path class='shortDiv' d='M 174.8173037694868,94.7682644691906 L 180.80268807104576,94.34972562672584' />\r\n\t\t<path class='shortDiv' d='M 174.89721510659302,96.07480328177923 L 180.88899231512048,95.76078754432156' />\r\n\t\t<path class='shortDiv' d='M 174.95431202643218,97.38253774731243 L 180.95065698854677,97.17314076709741' />\r\n\t\t<path class='shortDiv' d='M 174.98857713672936,98.69106951720373 L 180.98766330766767,98.58635507858003' />\r\n\t\t<path class='shortDiv' d='M 166.51932634081265,72.44679286971353 L 174.83424213341422,69.00264197842772' />\r\n\t\t<path class='longDiv' d='M 170,100 L 181,100' />\r\n\t\t<path class='shortDiv' d='M 174.98857713672936,101.30893048279626 L 180.98766330766767,101.41364492141996' />\r\n\t\t<path class='shortDiv' d='M 174.95431202643218,102.61746225268757 L 180.95065698854677,102.82685923290258' />\r\n\t\t<path class='shortDiv' d='M 174.89721510659302,103.92519671822079 L 180.88899231512048,104.23921245567846' />\r\n\t\t<path class='shortDiv' d='M 174.8173037694868,105.2317355308094 L 180.80268807104576,105.65027437327416' />\r\n\t\t<path class='shortDiv' d='M 174.7146023568809,106.53668070607435 L 180.69177054543138,107.0596151625603' />\r\n\t\t<path class='shortDiv' d='M 174.58914215262052,107.839634745074 L 180.55627352483015,108.46680552467993' />\r\n\t\t<path class='shortDiv' d='M 174.44096137309916,109.14020075538605 L 180.39623828294708,109.87141681581693' />\r\n\t\t<path class='shortDiv' d='M 174.27010515561778,110.4379825720049 L 180.21171356806718,111.27302117776529' />\r\n\t\t<path class='shortDiv' d='M 174.07662554463533,111.7325848780173 L 180.00275558820616,112.6711916682587' />\r\n\t\t<path class='shortDiv' d='M 173.86058147591558,113.02361332501977 L 179.76942799398887,114.06550239102135' />\r\n\t\t<path class='shortDiv' d='M 173.6220387585748,114.31067465324087 L 179.5118018592608,115.45552862550014' />\r\n\t\t<path class='shortDiv' d='M 173.36107005503544,115.59337681133195 L 179.22995565943825,116.84084695623851' />\r\n\t\t<path class='shortDiv' d='M 173.07775485889266,116.87132907578987 L 178.92397524760406,118.22103540185307' />\r\n\t\t<path class='shortDiv' d='M 172.77217947069974,118.14414216997507 L 178.59395382835572,119.59567354357307' />\r\n\t\t<path class='shortDiv' d='M 172.44443697168012,119.41142838268905 L 178.23999192941454,120.96434265330417' />\r\n\t\t<path class='shortDiv' d='M 172.0946271953739,120.67280168627494 L 177.86219737100384,122.32662582117692' />\r\n\t\t<path class='shortDiv' d='M 171.72285669722766,121.92787785420525 L 177.46068523300588,123.68210808254167' />\r\n\t\t<path class='shortDiv' d='M 171.32923872213652,123.17627457812105 L 177.03557781990745,125.03037654437074' />\r\n\t\t<path class='shortDiv' d='M 170.91389316994878,124.41761158428675 L 176.58700462354466,126.37102051102968' />\r\n\t\t<path class='shortDiv' d='M 170.47694655894313,125.65151074942516 L 176.1151022836586,127.70363160937916' />\r\n\t\t<path class='shortDiv' d='M 170.01853198729015,126.87759621589751 L 175.62001454627335,129.02780391316932' />\r\n\t\t<path class='shortDiv' d='M 169.53878909250906,128.0954945061934 L 175.1018922199098,130.3431340666889' />\r\n\t\t<path class='shortDiv' d='M 169.037864008933,129.30483463669552 L 174.56089312964767,131.64922140763116' />\r\n\t\t<path class='shortDiv' d='M 168.51590932319507,130.505248230685 L 173.99718206905067,132.94566808913982' />\r\n\t\t<path class='shortDiv' d='M 167.97308402774877,131.69636963055245 L 173.41093074996866,134.23207920099665' />\r\n\t\t<path class='shortDiv' d='M 167.40955347243752,132.8778360091808 L 172.80231775023253,135.50806288991527' />\r\n\t\t<path class='shortDiv' d='M 166.8254893141276,134.049287480466 L 172.1715284592578,136.7732304789033' />\r\n\t\t<path class='shortDiv' d='M 166.22106946441954,135.2103672089418 L 171.5187550215731,138.02719658565712' />\r\n\t\t<path class='shortDiv' d='M 165.5964780354547,136.36072151847526 L 170.84419627829107,139.2695792399533' />\r\n\t\t<path class='shortDiv' d='M 164.9519052838329,137.5 L 170.14805770653953,140.49999999999997' />\r\n\t\t<path class='shortDiv' d='M 164.28754755265842,138.62785561825407 L 169.4305513568711,141.7180840677144' />\r\n\t\t<path class='shortDiv' d='M 163.60360721173197,139.74394481749036 L 168.6918957886705,142.9234604028896' />\r\n\t\t<path class='shortDiv' d='M 162.90029259590682,140.84792762612705 L 167.93231600357933,144.1157618362172' />\r\n\t\t<path class='shortDiv' d='M 162.17781794162812,141.939467760306 L 167.15204337695837,145.29462518113047' />\r\n\t\t<path class='shortDiv' d='M 161.4364033216744,143.01823272632845 L 166.35131558740832,146.45969134443473' />\r\n\t\t<path class='shortDiv' d='M 160.67627457812105,144.08389392193547 L 165.53037654437074,147.61060543569033' />\r\n\t\t<path class='shortDiv' d='M 159.89766325354697,145.1361267364036 L 164.68947631383074,148.7470168753159' />\r\n\t\t<path class='shortDiv' d='M 159.10080652050414,146.17461064942438 L 163.8288710421445,149.86857950137832' />\r\n\t\t<path class='shortDiv' d='M 158.28594710927283,147.1990293287378 L 162.94882287801465,150.97495167503683' />\r\n\t\t<path class='shortDiv' d='M 157.45333323392336,148.20907072649044 L 162.04959989263722,152.06579638460968' />\r\n\t\t<path class='shortDiv' d='M 156.6032185167079,149.20442717428804 L 161.13147599804455,153.1407813482311' />\r\n\t\t<path class='shortDiv' d='M 155.73586191080457,150.18479547691436 L 160.19473086366895,154.1995791150675' />\r\n\t\t<path class='shortDiv' d='M 154.8515276214378,151.14987700468737 L 159.2396498311528,155.24186716506236' />\r\n\t\t<path class='shortDiv' d='M 153.95048502539885,152.0993777844248 L 158.26652382743075,156.26732800717878' />\r\n\t\t<path class='shortDiv' d='M 166.51932634081265,127.55320713028647 L 174.83424213341422,130.99735802157227' />\r\n\t\t<path class='longDiv' d='M 149.49747468305833,149.49747468305833 L 157.27564927611036,157.27564927611036' />\r\n\t\t<path class='shortDiv' d='M 152.0993777844248,153.95048502539882 L 156.2673280071788,158.26652382743072' />\r\n\t\t<path class='shortDiv' d='M 151.1498770046874,154.85152762143778 L 155.2418671650624,159.2396498311528' />\r\n\t\t<path class='shortDiv' d='M 150.18479547691436,155.73586191080454 L 154.19957911506754,160.19473086366892' />\r\n\t\t<path class='shortDiv' d='M 149.20442717428804,156.6032185167079 L 153.1407813482311,161.13147599804455' />\r\n\t\t<path class='shortDiv' d='M 148.20907072649047,157.45333323392333 L 152.0657963846097,162.04959989263722' />\r\n\t\t<path class='shortDiv' d='M 147.1990293287378,158.28594710927283 L 150.97495167503683,162.94882287801465' />\r\n\t\t<path class='shortDiv' d='M 146.17461064942438,159.10080652050414 L 149.86857950137832,163.82887104214447' />\r\n\t\t<path class='shortDiv' d='M 145.1361267364036,159.89766325354697 L 148.7470168753159,164.6894763138307' />\r\n\t\t<path class='shortDiv' d='M 144.0838939219355,160.67627457812105 L 147.61060543569033,165.53037654437074' />\r\n\t\t<path class='shortDiv' d='M 143.01823272632848,161.4364033216744 L 146.45969134443476,166.35131558740832' />\r\n\t\t<path class='shortDiv' d='M 141.939467760306,162.17781794162812 L 145.2946251811305,167.15204337695837' />\r\n\t\t<path class='shortDiv' d='M 140.84792762612705,162.9002925959068 L 144.11576183621722,167.93231600357933' />\r\n\t\t<path class='shortDiv' d='M 139.74394481749036,163.60360721173197 L 142.9234604028896,168.6918957886705' />\r\n\t\t<path class='shortDiv' d='M 138.62785561825407,164.2875475526584 L 141.71808406771441,169.4305513568711' />\r\n\t\t<path class='shortDiv' d='M 137.5,164.9519052838329 L 140.5,170.14805770653953' />\r\n\t\t<path class='shortDiv' d='M 136.3607215184753,165.59647803545468 L 139.26957923995332,170.84419627829107' />\r\n\t\t<path class='shortDiv' d='M 135.21036720894182,166.22106946441954 L 138.02719658565715,171.5187550215731' />\r\n\t\t<path class='shortDiv' d='M 134.049287480466,166.8254893141276 L 136.7732304789033,172.1715284592578' />\r\n\t\t<path class='shortDiv' d='M 132.87783600918084,167.4095534724375 L 135.5080628899153,172.80231775023253' />\r\n\t\t<path class='shortDiv' d='M 131.69636963055245,167.97308402774874 L 134.23207920099665,173.41093074996866' />\r\n\t\t<path class='shortDiv' d='M 130.50524823068503,168.51590932319505 L 132.94566808913984,173.99718206905067' />\r\n\t\t<path class='shortDiv' d='M 129.30483463669555,169.037864008933 L 131.64922140763116,174.56089312964767' />\r\n\t\t<path class='shortDiv' d='M 128.0954945061934,169.53878909250903 L 130.3431340666889,175.10189221990976' />\r\n\t\t<path class='shortDiv' d='M 126.87759621589751,170.01853198729015 L 129.02780391316932,175.62001454627335' />\r\n\t\t<path class='shortDiv' d='M 125.65151074942517,170.47694655894313 L 127.70363160937919,176.1151022836586' />\r\n\t\t<path class='shortDiv' d='M 124.41761158428675,170.91389316994878 L 126.37102051102968,176.58700462354466' />\r\n\t\t<path class='shortDiv' d='M 123.17627457812107,171.3292387221365 L 125.03037654437075,177.03557781990742' />\r\n\t\t<path class='shortDiv' d='M 121.92787785420528,171.72285669722766 L 123.6821080825417,177.46068523300588' />\r\n\t\t<path class='shortDiv' d='M 120.67280168627494,172.0946271953739 L 122.32662582117693,177.86219737100384' />\r\n\t\t<path class='shortDiv' d='M 119.41142838268908,172.44443697168012 L 120.9643426533042,178.23999192941454' />\r\n\t\t<path class='shortDiv' d='M 118.14414216997508,172.77217947069974 L 119.59567354357308,178.59395382835572' />\r\n\t\t<path class='shortDiv' d='M 116.87132907578989,173.07775485889263 L 118.22103540185307,178.92397524760406' />\r\n\t\t<path class='shortDiv' d='M 115.59337681133195,173.36107005503544 L 116.84084695623851,179.22995565943825' />\r\n\t\t<path class='shortDiv' d='M 114.31067465324088,173.6220387585748 L 115.45552862550014,179.5118018592608' />\r\n\t\t<path class='shortDiv' d='M 113.02361332501977,173.86058147591558 L 114.06550239102135,179.76942799398887' />\r\n\t\t<path class='shortDiv' d='M 111.73258487801732,174.0766255446353 L 112.67119166825871,180.00275558820616' />\r\n\t\t<path class='shortDiv' d='M 110.43798257200493,174.27010515561778 L 111.27302117776533,180.21171356806718' />\r\n\t\t<path class='shortDiv' d='M 109.14020075538606,174.44096137309913 L 109.87141681581696,180.39623828294708' />\r\n\t\t<path class='shortDiv' d='M 107.83963474507404,174.5891421526205 L 108.46680552467996,180.55627352483015' />\r\n\t\t<path class='shortDiv' d='M 106.53668070607436,174.7146023568809 L 107.05961516256032,180.69177054543138' />\r\n\t\t<path class='shortDiv' d='M 105.23173553080942,174.8173037694868 L 105.65027437327417,180.80268807104576' />\r\n\t\t<path class='shortDiv' d='M 103.92519671822079,174.89721510659302 L 104.23921245567846,180.88899231512048' />\r\n\t\t<path class='shortDiv' d='M 102.61746225268759,174.95431202643218 L 102.82685923290259,180.95065698854677' />\r\n\t\t<path class='shortDiv' d='M 101.30893048279626,174.98857713672936 L 101.41364492141996,180.98766330766767' />\r\n\t\t<path class='shortDiv' d='M 127.55320713028647,166.51932634081265 L 130.99735802157227,174.83424213341422' />\r\n\t\t<path class='longDiv' d='M 100.00000000000001,170 L 100.00000000000001,181' />\r\n\t\t<path class='shortDiv' d='M 98.69106951720376,174.98857713672936 L 98.58635507858006,180.98766330766767' />\r\n\t\t<path class='shortDiv' d='M 97.38253774731243,174.95431202643218 L 97.17314076709742,180.95065698854677' />\r\n\t\t<path class='shortDiv' d='M 96.07480328177924,174.89721510659302 L 95.76078754432157,180.88899231512048' />\r\n\t\t<path class='shortDiv' d='M 94.7682644691906,174.8173037694868 L 94.34972562672586,180.80268807104576' />\r\n\t\t<path class='shortDiv' d='M 93.46331929392565,174.7146023568809 L 92.94038483743971,180.69177054543138' />\r\n\t\t<path class='shortDiv' d='M 92.16036525492599,174.5891421526205 L 91.53319447532007,180.55627352483015' />\r\n\t\t<path class='shortDiv' d='M 90.85979924461395,174.44096137309916 L 90.12858318418307,180.39623828294708' />\r\n\t\t<path class='shortDiv' d='M 89.56201742799509,174.27010515561778 L 88.7269788222347,180.21171356806718' />\r\n\t\t<path class='shortDiv' d='M 88.2674151219827,174.07662554463533 L 87.32880833174131,180.00275558820616' />\r\n\t\t<path class='shortDiv' d='M 86.97638667498025,173.8605814759156 L 85.93449760897867,179.76942799398887' />\r\n\t\t<path class='shortDiv' d='M 85.68932534675915,173.6220387585748 L 84.54447137449988,179.5118018592608' />\r\n\t\t<path class='shortDiv' d='M 84.40662318866806,173.36107005503544 L 83.15915304376152,179.22995565943825' />\r\n\t\t<path class='shortDiv' d='M 83.12867092421013,173.07775485889266 L 81.77896459814694,178.92397524760406' />\r\n\t\t<path class='shortDiv' d='M 81.85585783002495,172.77217947069974 L 80.40432645642693,178.59395382835572' />\r\n\t\t<path class='shortDiv' d='M 80.58857161731095,172.44443697168012 L 79.03565734669581,178.23999192941454' />\r\n\t\t<path class='shortDiv' d='M 79.32719831372508,172.0946271953739 L 77.67337417882308,177.86219737100384' />\r\n\t\t<path class='shortDiv' d='M 78.07212214579474,171.72285669722766 L 76.31789191745833,177.46068523300588' />\r\n\t\t<path class='shortDiv' d='M 76.82372542187895,171.32923872213652 L 74.96962345562928,177.03557781990745' />\r\n\t\t<path class='shortDiv' d='M 75.58238841571327,170.91389316994878 L 73.62897948897033,176.58700462354466' />\r\n\t\t<path class='shortDiv' d='M 74.34848925057486,170.47694655894313 L 72.29636839062084,176.1151022836586' />\r\n\t\t<path class='shortDiv' d='M 73.1224037841025,170.01853198729015 L 70.9721960868307,175.62001454627335' />\r\n\t\t<path class='shortDiv' d='M 71.9045054938066,169.53878909250906 L 69.65686593331112,175.1018922199098' />\r\n\t\t<path class='shortDiv' d='M 70.69516536330448,169.037864008933 L 68.35077859236884,174.56089312964767' />\r\n\t\t<path class='shortDiv' d='M 69.49475176931499,168.51590932319505 L 67.05433191086018,173.99718206905067' />\r\n\t\t<path class='shortDiv' d='M 68.30363036944755,167.97308402774877 L 65.76792079900335,173.41093074996866' />\r\n\t\t<path class='shortDiv' d='M 67.12216399081919,167.40955347243752 L 64.49193711008473,172.80231775023253' />\r\n\t\t<path class='shortDiv' d='M 65.950712519534,166.8254893141276 L 63.22676952109672,172.1715284592578' />\r\n\t\t<path class='shortDiv' d='M 64.78963279105821,166.22106946441954 L 61.97280341434287,171.5187550215731' />\r\n\t\t<path class='shortDiv' d='M 63.63927848152473,165.5964780354547 L 60.730420760046705,170.84419627829107' />\r\n\t\t<path class='shortDiv' d='M 62.50000000000002,164.9519052838329 L 59.50000000000002,170.14805770653953' />\r\n\t\t<path class='shortDiv' d='M 61.37214438174594,164.28754755265842 L 58.281915932285614,169.4305513568711' />\r\n\t\t<path class='shortDiv' d='M 60.25605518250964,163.60360721173197 L 57.07653959711041,168.6918957886705' />\r\n\t\t<path class='shortDiv' d='M 59.15207237387297,162.90029259590682 L 55.884238163782804,167.93231600357933' />\r\n\t\t<path class='shortDiv' d='M 58.060532239694,162.17781794162815 L 54.705374818869515,167.15204337695837' />\r\n\t\t<path class='shortDiv' d='M 56.98176727367154,161.4364033216744 L 53.54030865556526,166.35131558740835' />\r\n\t\t<path class='shortDiv' d='M 55.91610607806452,160.67627457812105 L 52.38939456430968,165.53037654437074' />\r\n\t\t<path class='shortDiv' d='M 54.863873263596396,159.89766325354697 L 51.25298312468411,164.68947631383074' />\r\n\t\t<path class='shortDiv' d='M 53.825389350575634,159.10080652050414 L 50.13142049862169,163.8288710421445' />\r\n\t\t<path class='shortDiv' d='M 52.800970671262206,158.28594710927283 L 49.02504832496318,162.94882287801465' />\r\n\t\t<path class='shortDiv' d='M 51.790929273509555,157.45333323392336 L 47.934203615390324,162.04959989263722' />\r\n\t\t<path class='shortDiv' d='M 50.79557282571197,156.6032185167079 L 46.85921865176893,161.13147599804455' />\r\n\t\t<path class='shortDiv' d='M 49.81520452308563,155.73586191080457 L 45.800420884932485,160.19473086366895' />\r\n\t\t<path class='shortDiv' d='M 48.850122995312624,154.8515276214378 L 44.75813283493763,159.2396498311528' />\r\n\t\t<path class='shortDiv' d='M 47.9006222155752,153.95048502539885 L 43.73267199282121,158.26652382743075' />\r\n\t\t<path class='shortDiv' d='M 72.44679286971355,166.51932634081265 L 69.00264197842773,174.83424213341425' />\r\n\t\t<path class='longDiv' d='M 50.50252531694168,149.49747468305833 L 42.72435072388966,157.27564927611036' />\r\n\t\t<path class='shortDiv' d='M 46.04951497460119,152.0993777844248 L 41.73347617256928,156.2673280071788' />\r\n\t\t<path class='shortDiv' d='M 45.14847237856222,151.1498770046874 L 40.76035016884719,155.2418671650624' />\r\n\t\t<path class='shortDiv' d='M 44.26413808919545,150.1847954769144 L 39.805269136331084,154.19957911506754' />\r\n\t\t<path class='shortDiv' d='M 43.39678148329211,149.20442717428804 L 38.86852400195548,153.1407813482311' />\r\n\t\t<path class='shortDiv' d='M 42.546666766076655,148.20907072649047 L 37.95040010736279,152.0657963846097' />\r\n\t\t<path class='shortDiv' d='M 41.71405289072721,147.19902932873782 L 37.05117712198538,150.97495167503686' />\r\n\t\t<path class='shortDiv' d='M 40.89919347949584,146.17461064942435 L 36.17112895785551,149.8685795013783' />\r\n\t\t<path class='shortDiv' d='M 40.10233674645304,145.1361267364036 L 35.310523686169276,148.74701687531592' />\r\n\t\t<path class='shortDiv' d='M 39.32372542187895,144.0838939219355 L 34.46962345562926,147.61060543569033' />\r\n\t\t<path class='shortDiv' d='M 38.56359667832563,143.01823272632848 L 33.64868441259168,146.45969134443476' />\r\n\t\t<path class='shortDiv' d='M 37.822182058371894,141.93946776030606 L 32.84795662304164,145.29462518113053' />\r\n\t\t<path class='shortDiv' d='M 37.099707404093195,140.84792762612702 L 32.067683996420655,144.1157618362172' />\r\n\t\t<path class='shortDiv' d='M 36.39639278826806,139.7439448174904 L 31.308104211329507,142.9234604028896' />\r\n\t\t<path class='shortDiv' d='M 35.71245244734159,138.6278556182541 L 30.569448643128922,141.71808406771441' />\r\n\t\t<path class='shortDiv' d='M 35.04809471616713,137.50000000000003 L 29.851942293460496,140.50000000000003' />\r\n\t\t<path class='shortDiv' d='M 34.403521964545305,136.36072151847526 L 29.155803721708935,139.2695792399533' />\r\n\t\t<path class='shortDiv' d='M 33.77893053558047,135.21036720894182 L 28.481244978426915,138.02719658565715' />\r\n\t\t<path class='shortDiv' d='M 33.17451068587242,134.04928748046603 L 27.828471540742214,136.77323047890332' />\r\n\t\t<path class='shortDiv' d='M 32.59044652756249,132.87783600918084 L 27.19768224976748,135.5080628899153' />\r\n\t\t<path class='shortDiv' d='M 32.026915972251274,131.6963696305525 L 26.589069250031372,134.23207920099668' />\r\n\t\t<path class='shortDiv' d='M 31.484090676804925,130.505248230685 L 26.00281793094932,132.94566808913982' />\r\n\t\t<path class='shortDiv' d='M 30.962135991066987,129.30483463669555 L 25.439106870352333,131.6492214076312' />\r\n\t\t<path class='shortDiv' d='M 30.46121090749095,128.09549450619343 L 24.89810778009023,130.3431340666889' />\r\n\t\t<path class='shortDiv' d='M 29.981468012709882,126.87759621589755 L 24.37998545372666,129.02780391316935' />\r\n\t\t<path class='shortDiv' d='M 29.523053441056874,125.65151074942514 L 23.884897716341413,127.70363160937916' />\r\n\t\t<path class='shortDiv' d='M 29.086106830051236,124.41761158428675 L 23.412995376455342,126.37102051102968' />\r\n\t\t<path class='shortDiv' d='M 28.67076127786349,123.17627457812107 L 22.96442218009257,125.03037654437075' />\r\n\t\t<path class='shortDiv' d='M 28.277143302772345,121.92787785420528 L 22.53931476699414,123.6821080825417' />\r\n\t\t<path class='shortDiv' d='M 27.905372804626097,120.67280168627498 L 22.137802628996184,122.32662582117698' />\r\n\t\t<path class='shortDiv' d='M 27.55556302831988,119.41142838268905 L 21.76000807058547,120.96434265330417' />\r\n\t\t<path class='shortDiv' d='M 27.22782052930026,118.14414216997508 L 21.40604617164429,119.5956735435731' />\r\n\t\t<path class='shortDiv' d='M 26.922245141107368,116.8713290757899 L 21.076024752395952,118.22103540185309' />\r\n\t\t<path class='shortDiv' d='M 26.638929944964588,115.59337681133198 L 20.770044340561753,116.84084695623855' />\r\n\t\t<path class='shortDiv' d='M 26.377961241425197,114.31067465324085 L 20.488198140739215,115.45552862550011' />\r\n\t\t<path class='shortDiv' d='M 26.139418524084405,113.02361332501978 L 20.230572006011144,114.06550239102135' />\r\n\t\t<path class='shortDiv' d='M 25.92337445536468,111.73258487801732 L 19.997244411793844,112.67119166825871' />\r\n\t\t<path class='shortDiv' d='M 25.72989484438223,110.43798257200494 L 19.788286431932804,111.27302117776533' />\r\n\t\t<path class='shortDiv' d='M 25.559038626900858,109.1402007553861 L 19.60376171705292,109.87141681581699' />\r\n\t\t<path class='shortDiv' d='M 25.41085784737949,107.83963474507401 L 19.443726475169854,108.46680552467993' />\r\n\t\t<path class='shortDiv' d='M 25.285397643119083,106.53668070607436 L 19.308229454568604,107.05961516256032' />\r\n\t\t<path class='shortDiv' d='M 25.182696230513187,105.23173553080942 L 19.197311928954235,105.65027437327417' />\r\n\t\t<path class='shortDiv' d='M 25.102784893406962,103.92519671822082 L 19.111007684879525,104.23921245567848' />\r\n\t\t<path class='shortDiv' d='M 25.045687973567823,102.61746225268756 L 19.049343011453246,102.82685923290256' />\r\n\t\t<path class='shortDiv' d='M 25.011422863270653,101.30893048279626 L 19.012336692332312,101.41364492141996' />\r\n\t\t<path class='shortDiv' d='M 33.480673659187374,127.55320713028651 L 25.165757866585793,130.99735802157232' />\r\n\t\t<path class='longDiv' d='M 30,100.00000000000001 L 19,100.00000000000001' />\r\n\t\t<path class='shortDiv' d='M 25.011422863270653,98.69106951720377 L 19.012336692332312,98.58635507858007' />\r\n\t\t<path class='shortDiv' d='M 25.045687973567823,97.38253774731247 L 19.049343011453246,97.17314076709746' />\r\n\t\t<path class='shortDiv' d='M 25.102784893406962,96.07480328177921 L 19.111007684879525,95.76078754432154' />\r\n\t\t<path class='shortDiv' d='M 25.182696230513173,94.76826446919061 L 19.197311928954235,94.34972562672586' />\r\n\t\t<path class='shortDiv' d='M 25.285397643119083,93.46331929392566 L 19.308229454568604,92.94038483743971' />\r\n\t\t<path class='shortDiv' d='M 25.41085784737949,92.16036525492602 L 19.443726475169854,91.5331944753201' />\r\n\t\t<path class='shortDiv' d='M 25.559038626900858,90.85979924461392 L 19.60376171705292,90.12858318418304' />\r\n\t\t<path class='shortDiv' d='M 25.72989484438223,89.56201742799509 L 19.788286431932804,88.7269788222347' />\r\n\t\t<path class='shortDiv' d='M 25.923374455364666,88.2674151219827 L 19.997244411793844,87.32880833174131' />\r\n\t\t<path class='shortDiv' d='M 26.13941852408439,86.97638667498025 L 20.230572006011144,85.93449760897867' />\r\n\t\t<path class='shortDiv' d='M 26.377961241425197,85.68932534675918 L 20.488198140739215,84.54447137449992' />\r\n\t\t<path class='shortDiv' d='M 26.638929944964588,84.40662318866805 L 20.770044340561753,83.15915304376148' />\r\n\t\t<path class='shortDiv' d='M 26.922245141107354,83.12867092421013 L 21.076024752395952,81.77896459814694' />\r\n\t\t<path class='shortDiv' d='M 27.22782052930026,81.85585783002495 L 21.406046171644277,80.40432645642693' />\r\n\t\t<path class='shortDiv' d='M 27.555563028319867,80.58857161731098 L 21.760008070585457,79.03565734669586' />\r\n\t\t<path class='shortDiv' d='M 27.905372804626097,79.32719831372505 L 22.137802628996184,77.67337417882305' />\r\n\t\t<path class='shortDiv' d='M 28.277143302772345,78.07212214579475 L 22.539314766994124,76.31789191745833' />\r\n\t\t<path class='shortDiv' d='M 28.670761277863477,76.82372542187896 L 22.964422180092555,74.96962345562928' />\r\n\t\t<path class='shortDiv' d='M 29.08610683005122,75.58238841571327 L 23.412995376455328,73.62897948897034' />\r\n\t\t<path class='shortDiv' d='M 29.52305344105686,74.34848925057489 L 23.884897716341413,72.29636839062088' />\r\n\t\t<path class='shortDiv' d='M 29.98146801270987,73.12240378410247 L 24.37998545372666,70.97219608683068' />\r\n\t\t<path class='shortDiv' d='M 30.461210907490937,71.9045054938066 L 24.898107780090214,69.65686593331114' />\r\n\t\t<path class='shortDiv' d='M 30.96213599106696,70.69516536330448 L 25.43910687035232,68.35077859236884' />\r\n\t\t<path class='shortDiv' d='M 31.484090676804925,69.49475176931502 L 26.002817930949305,67.05433191086021' />\r\n\t\t<path class='shortDiv' d='M 32.02691597225126,68.30363036944753 L 26.589069250031358,65.76792079900333' />\r\n\t\t<path class='shortDiv' d='M 32.59044652756248,67.12216399081919 L 27.197682249767468,64.49193711008473' />\r\n\t\t<path class='shortDiv' d='M 33.174510685872406,65.950712519534 L 27.828471540742186,63.22676952109672' />\r\n\t\t<path class='shortDiv' d='M 33.77893053558047,64.78963279105821 L 28.4812449784269,61.97280341434288' />\r\n\t\t<path class='shortDiv' d='M 34.403521964545334,63.639278481524705 L 29.15580372170895,60.73042076004668' />\r\n\t\t<path class='shortDiv' d='M 35.0480947161671,62.49999999999999 L 29.851942293460468,59.49999999999999' />\r\n\t\t<path class='shortDiv' d='M 35.712452447341576,61.37214438174594 L 30.569448643128908,58.281915932285614' />\r\n\t\t<path class='shortDiv' d='M 36.396392788268045,60.25605518250965 L 31.308104211329493,57.07653959711042' />\r\n\t\t<path class='shortDiv' d='M 37.09970740409318,59.152072373873004 L 32.06768399642064,55.88423816378284' />\r\n\t\t<path class='shortDiv' d='M 37.82218205837188,58.06053223969398 L 32.847956623041625,54.705374818869494' />\r\n\t\t<path class='shortDiv' d='M 38.56359667832562,56.981767273671544 L 33.64868441259166,53.54030865556527' />\r\n\t\t<path class='shortDiv' d='M 39.32372542187893,55.91610607806453 L 34.46962345562925,52.3893945643097' />\r\n\t\t<path class='shortDiv' d='M 40.10233674645302,54.8638732635964 L 35.31052368616926,51.252983124684114' />\r\n\t\t<path class='shortDiv' d='M 40.89919347949582,53.82538935057566 L 36.17112895785549,50.131420498621715' />\r\n\t\t<path class='shortDiv' d='M 41.71405289072719,52.800970671262185 L 37.05117712198537,49.025048324963166' />\r\n\t\t<path class='shortDiv' d='M 42.54666676607664,51.790929273509555 L 37.950400107362775,47.934203615390324' />\r\n\t\t<path class='shortDiv' d='M 43.39678148329209,50.79557282571197 L 38.86852400195546,46.85921865176893' />\r\n\t\t<path class='shortDiv' d='M 44.264138089195406,49.81520452308567 L 39.80526913633104,45.80042088493252' />\r\n\t\t<path class='shortDiv' d='M 45.148472378562175,48.85012299531265 L 40.76035016884715,44.75813283493767' />\r\n\t\t<path class='shortDiv' d='M 46.049514974601166,47.900622215575204 L 41.73347617256926,43.732671992821224' />\r\n\t\t<path class='shortDiv' d='M 33.48067365918736,72.44679286971352 L 25.16575786658578,69.0026419784277' />\r\n\t\t<path class='longDiv' d='M 50.502525316941664,50.502525316941686 L 42.724350723889636,42.724350723889664' />\r\n\t\t<path class='shortDiv' d='M 47.90062221557518,46.04951497460119 L 43.732671992821196,41.73347617256928' />\r\n\t\t<path class='shortDiv' d='M 48.85012299531258,45.148472378562246 L 44.75813283493759,40.76035016884723' />\r\n\t\t<path class='shortDiv' d='M 49.81520452308564,44.264138089195434 L 45.80042088493249,39.80526913633106' />\r\n\t\t<path class='shortDiv' d='M 50.79557282571194,43.39678148329211 L 46.8592186517689,38.86852400195548' />\r\n\t\t<path class='shortDiv' d='M 51.79092927350953,42.546666766076655 L 47.934203615390295,37.95040010736279' />\r\n\t\t<path class='shortDiv' d='M 52.800970671262164,41.71405289072722 L 49.02504832496314,37.05117712198539' />\r\n\t\t<path class='shortDiv' d='M 53.825389350575634,40.89919347949585 L 50.13142049862169,36.171128957855515' />\r\n\t\t<path class='shortDiv' d='M 54.86387326359638,40.10233674645304 L 51.25298312468409,35.310523686169276' />\r\n\t\t<path class='shortDiv' d='M 55.9161060780645,39.323725421878954 L 52.389394564309654,34.469623455629275' />\r\n\t\t<path class='shortDiv' d='M 56.981767273671515,38.56359667832563 L 53.540308655565234,33.64868441259168' />\r\n\t\t<path class='shortDiv' d='M 58.06053223969395,37.822182058371894 L 54.705374818869466,32.84795662304164' />\r\n\t\t<path class='shortDiv' d='M 59.152072373872976,37.099707404093195 L 55.88423816378282,32.067683996420655' />\r\n\t\t<path class='shortDiv' d='M 60.25605518250963,36.39639278826806 L 57.0765395971104,31.308104211329507' />\r\n\t\t<path class='shortDiv' d='M 61.37214438174591,35.71245244734159 L 58.281915932285585,30.569448643128922' />\r\n\t\t<path class='shortDiv' d='M 62.499999999999964,35.04809471616713 L 59.499999999999964,29.851942293460496' />\r\n\t\t<path class='shortDiv' d='M 63.639278481524734,34.403521964545305 L 60.73042076004671,29.155803721708935' />\r\n\t\t<path class='shortDiv' d='M 64.78963279105818,33.77893053558047 L 61.97280341434284,28.481244978426915' />\r\n\t\t<path class='shortDiv' d='M 65.95071251953398,33.17451068587242 L 63.22676952109669,27.828471540742214' />\r\n\t\t<path class='shortDiv' d='M 67.12216399081916,32.59044652756249 L 64.4919371100847,27.19768224976748' />\r\n\t\t<path class='shortDiv' d='M 68.3036303694475,32.026915972251274 L 65.76792079900329,26.589069250031372' />\r\n\t\t<path class='shortDiv' d='M 69.49475176931499,31.484090676804925 L 67.05433191086018,26.00281793094932' />\r\n\t\t<path class='shortDiv' d='M 70.69516536330445,30.962135991066987 L 68.35077859236881,25.439106870352333' />\r\n\t\t<path class='shortDiv' d='M 71.90450549380657,30.46121090749095 L 69.6568659333111,24.89810778009023' />\r\n\t\t<path class='shortDiv' d='M 73.12240378410245,29.981468012709882 L 70.97219608683064,24.37998545372666' />\r\n\t\t<path class='shortDiv' d='M 74.34848925057486,29.523053441056874 L 72.29636839062084,23.884897716341413' />\r\n\t\t<path class='shortDiv' d='M 75.58238841571324,29.086106830051236 L 73.62897948897032,23.412995376455342' />\r\n\t\t<path class='shortDiv' d='M 76.82372542187893,28.67076127786349 L 74.96962345562925,22.96442218009257' />\r\n\t\t<path class='shortDiv' d='M 78.07212214579471,28.277143302772345 L 76.3178919174583,22.53931476699414' />\r\n\t\t<path class='shortDiv' d='M 79.32719831372502,27.905372804626097 L 77.67337417882302,22.137802628996184' />\r\n\t\t<path class='shortDiv' d='M 80.58857161731095,27.55556302831988 L 79.03565734669583,21.76000807058547' />\r\n\t\t<path class='shortDiv' d='M 81.85585783002492,27.22782052930026 L 80.4043264564269,21.40604617164429' />\r\n\t\t<path class='shortDiv' d='M 83.1286709242101,26.922245141107368 L 81.7789645981469,21.076024752395952' />\r\n\t\t<path class='shortDiv' d='M 84.40662318866801,26.638929944964588 L 83.15915304376145,20.770044340561753' />\r\n\t\t<path class='shortDiv' d='M 85.68932534675915,26.377961241425197 L 84.54447137449988,20.488198140739215' />\r\n\t\t<path class='shortDiv' d='M 86.97638667498022,26.139418524084405 L 85.93449760897863,20.230572006011144' />\r\n\t\t<path class='shortDiv' d='M 88.26741512198267,25.92337445536468 L 87.32880833174129,19.997244411793844' />\r\n\t\t<path class='shortDiv' d='M 89.56201742799506,25.72989484438223 L 88.72697882223466,19.788286431932804' />\r\n\t\t<path class='shortDiv' d='M 90.8597992446139,25.559038626900858 L 90.128583184183,19.60376171705292' />\r\n\t\t<path class='shortDiv' d='M 92.16036525492599,25.410857847379503 L 91.53319447532007,19.443726475169868' />\r\n\t\t<path class='shortDiv' d='M 93.46331929392562,25.285397643119083 L 92.94038483743968,19.308229454568604' />\r\n\t\t<path class='shortDiv' d='M 94.76826446919058,25.182696230513187 L 94.34972562672583,19.197311928954235' />\r\n\t\t<path class='shortDiv' d='M 96.07480328177917,25.102784893406962 L 95.7607875443215,19.111007684879525' />\r\n\t\t<path class='shortDiv' d='M 97.38253774731244,25.045687973567823 L 97.17314076709744,19.049343011453246' />\r\n\t\t<path class='shortDiv' d='M 98.69106951720373,25.011422863270653 L 98.58635507858003,19.012336692332312' />\r\n\t\t<path class='shortDiv' d='M 72.44679286971349,33.480673659187374 L 69.00264197842768,25.165757866585793' />\r\n\t\t<path class='longDiv' d='M 99.99999999999999,30 L 99.99999999999999,19' />\r\n\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcN\"  class=\"scale\">N</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcE\"  transform=\"rotate(90,100,100)\"  class=\"scale\">E</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcS\"  transform=\"rotate(180,100,100)\" class=\"scale\">S</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcW\"  transform=\"rotate(270,100,100)\" class=\"scale\">W</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcNE\" transform=\"rotate(45,100,100)\"  class=\"scale\">NE</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcSE\" transform=\"rotate(135,100,100)\" class=\"scale\">SE</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcSW\" transform=\"rotate(225,100,100)\" class=\"scale\">SW</text>\r\n\t\t<text x=\"100\" y=\"40\" id=\"pcNW\" transform=\"rotate(315,100,100)\" class=\"scale\">NW</text>\t\t\t\r\n\t</g>\r\n\r\n\t<!-- text fields -->\r\n\t<g class=\"compass_nup\" style=\"z-index: 1000;\">\r\n\t\t<text x=\"100\" y=\"95\"  #headingtext id=\"headingtext\"  class=\"value\">0&#186;</text>\r\n\t\t<text x=\"100\" y=\"115\"  id=\"speedtext\"  class=\"value\" #speedtext>0</text>\r\n\t\t<text x=\"100\" y=\"130\"  id=\"labeltext\"  class=\"label\" #labeltext>Heading</text>\t  \r\n\t</g>\r\n\r\n\t<!-- apparent wind direction pointer -->\r\n\t<g id=\"gLoPointer\" class=\"compass_nup\" [ngClass]=\"{'hide': !showWindApparent}\">\r\n\t\t<g transform=\"rotate(0 100 100)\" #needlelo id=\"needlelo\">\r\n\t\t\t<path d=\"M 100,79 l 5,-69 -10,0 5,69 z\" id=\"loPointer\" />\r\n\t\t</g>\r\n\t</g>\r\n\t\r\n\t<!-- True wind direction pointer -->\r\n\t<g id=\"gHiPointer\" class=\"compass_nup\" [ngClass]=\"{'hide': !showWindTrue}\">\r\n\t\t<g transform=\"rotate(0 100 100)\" #needlehi id=\"needlehi\">\r\n\t\t\t<path d=\"M 100,79 l 5,-69 -10,0 5,69 z\" id=\"hiPointer\" />\r\n\t\t</g>\r\n\t</g>\r\n\t\r\n\t<!-- Heading --> \r\n\t<g class=\"compass_nup\" #pointer id=\"pointer\" [ngClass]=\"{'hide': !showPointer}\">\r\n\t\t<g transform=\"rotate(0 100 100)\" id=\"needle\">\r\n\t\t\t<path d=\"M 95,70 l 5,-30 5,30 -10,0 z\" id=\"pointerShaftInner\" />\r\n\t\t</g>\r\n\t</g>\r\n \r\n</svg>\r\n","const WHATS_NEW = [\n  {\n    type: 'signalk-server-node',\n    title: 'Deprecated PyPilot Settings',\n    message: `\n        This release removes the Pypilot settings from the Plugin Config\n        and only uses the Signal K Autopilot API.\n        <br>&nbsp;<br>\n        <i>Note: To continue Pypilot operation in Freeboard-SK\n          install and configure the <a href=\"https://github.com/panaaj/pypilot-autopilot-provider\" target=\"blank\">\n          pypilot autopilot provider plugin</a>  on your Signal K server.\n        </i>\n        <br>&nbsp;<br>\n        See Signal K server help for more details.\n      `\n  }\n];\n\nexport const WELCOME_MESSAGES = {\n  welcome: {\n    title: 'Welcome to Freeboard',\n    message: `Freeboard is your Signal K chartplotter WebApp from which\n                  you can manage routes, waypoints, notes, alarms, \n                  notifications and more.`\n  },\n  'signalk-server-node': {\n    title: 'Server Plugins',\n    message: `Some Freeboard features require that certain plugins are installed to service the \n                  required Signal K API paths.\n                  <br>&nbsp;<br>\n                  See <a href=\"assets/help/index.html\" target=\"help\">HELP</a> \n                  for more details.`\n  },\n  experiments: {\n    title: 'Experiments',\n    message: `\n                  Experiments are a means for testing out potential new features\n                  in Freeboard.\n                  <br>&nbsp;<br>\n                  You can enable Experiments in <b><i>Settings</i></b>.\n                  <br>&nbsp;<br>\n                  Check out <a href=\"assets/help/index.html#experiments\" target=\"help\">HELP</a> \n                  for more details.`\n  },\n  'whats-new': WHATS_NEW\n};\n","import { Injectable } from '@angular/core';\nimport { Map } from 'ol';\nimport BaseLayer from 'ol/layer/Base';\nimport { get as getProj } from 'ol/proj';\nimport { register } from 'ol/proj/proj4.js';\nimport proj4 from 'proj4';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService {\n  maps: Map[];\n\n  constructor() {\n    this.maps = [];\n  }\n\n  /**\n   * Retrieves all the maps\n   */\n  getMaps(): Map[] {\n    return this.maps;\n  }\n\n  /**\n   * Returns a map object from the maps array\n   */\n  getMapById(id: string): Map {\n    let map: Map = null;\n    for (let i = 0; i < this.maps.length; i++) {\n      if (this.maps[i].getTarget() === id) {\n        map = this.maps[i];\n        break;\n      }\n    }\n    return map;\n  }\n\n  getLayerByKey(key: string, value: string): BaseLayer {\n    let tl: BaseLayer;\n    this.maps.forEach((map) => {\n      map.getLayers().forEach((layer) => {\n        if (layer.get(key) === value) {\n          tl = layer;\n        }\n      });\n    });\n    return tl;\n  }\n\n  addMap(map: Map): void {\n    this.maps.push(map);\n  }\n\n  updateSize() {\n    this.maps.forEach((map) => {\n      map.updateSize();\n    });\n  }\n\n  addProj4(epsg: string, proj4Def: string, extent?) {\n    let projection = getProj(epsg);\n    if (!projection) {\n      proj4.defs(epsg, proj4Def);\n      register(proj4);\n      projection = getProj(epsg);\n      if (extent) {\n        projection.setExtent(extent);\n      }\n    }\n    if (!projection) {\n      console.error(`Failed to register ${epsg} projection in OpenLayers`);\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChanges,\n  SimpleChange\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, Stroke, Text, Fill, Circle, RegularShape } from 'ol/style';\nimport { Geometry, LineString, Point } from 'ol/geom';\nimport { toLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { getRhumbLineBearing } from 'geolib';\nimport { GeolibInputCoordinates } from 'geolib/es/types';\nimport { StyleLike } from 'ol/style/Style';\nimport { FBFeatureLayerComponent } from '../sk-feature.component';\nimport { FBRoutes, Routes } from 'src/app/types';\n\n@Component({\n  selector: 'ol-map > sk-routes-base',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class RoutesBaseComponent extends FBFeatureLayerComponent {\n  @Input() routeStyles: { [key: string]: Style };\n  @Input() activeRoute: string;\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.labelPrefixes = ['route'];\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (this.source && ('routes' in changes || 'activeRoute' in changes)) {\n      this.source.clear();\n      if ('routes' in changes) {\n        this.parseRoutes(changes['routes']);\n      } else if ('activeRoute' in changes) {\n        this.onActivateRoute();\n      }\n    }\n  }\n\n  onActivateRoute() {\n    // overridable function\n  }\n\n  parseRoutes(change: SimpleChange) {\n    // overridable function\n  }\n\n  // Route style function\n  buildStyle(feature: Feature) {\n    const geometry = feature.getGeometry() as LineString;\n    const styles = [];\n    const id = (feature.getId() as string).split('.').slice(-1)[0];\n    const isActive = id === this.activeRoute;\n    let ptFill: Fill;\n\n    if (typeof this.routeStyles === 'undefined') {\n      if (this.layerProperties && this.layerProperties.style) {\n        return this.layerProperties.style;\n      } else {\n        return styles;\n      }\n    }\n\n    // line style\n    if (isActive && typeof this.routeStyles.active !== 'undefined') {\n      styles.push(this.routeStyles.active);\n      ptFill = new Fill({\n        color: this.routeStyles.active.getStroke().getColor()\n      });\n    } else {\n      styles.push(this.routeStyles.default.clone());\n      ptFill = new Fill({\n        color: this.routeStyles.default.getStroke().getColor()\n      });\n    }\n\n    // point styles\n    let idx = 0;\n    const l = geometry.getCoordinates().length;\n    geometry.forEachSegment((start, end) => {\n      // start point\n      if (idx === 0) {\n        styles.push(\n          new Style({\n            geometry: new Point(start),\n            image: new Circle({\n              radius: 5,\n              stroke: new Stroke({\n                width: 1,\n                color: 'white'\n              }),\n              fill: ptFill\n            })\n          })\n        );\n      } else {\n        if (isActive) {\n          styles.push(\n            new Style({\n              geometry: new Point(start),\n              image: new Circle({\n                radius: 4,\n                stroke: new Stroke({\n                  width: 1,\n                  color: 'white'\n                }),\n                fill: ptFill\n              })\n            })\n          );\n        } else {\n          const d = getRhumbLineBearing(\n            toLonLat(start) as GeolibInputCoordinates,\n            toLonLat(end) as GeolibInputCoordinates\n          );\n          const rotation = (d * Math.PI) / 180;\n          styles.push(\n            new Style({\n              geometry: new Point(start),\n              image: new RegularShape({\n                radius: 6,\n                stroke: new Stroke({\n                  width: 1,\n                  color: 'white'\n                }),\n                fill: ptFill,\n                points: 3,\n                angle: 0,\n                rotateWithView: true,\n                rotation: rotation\n              })\n            })\n          );\n        }\n      }\n      // last point\n      if (idx === l - 2) {\n        styles.push(\n          new Style({\n            geometry: new Point(end),\n            image: new RegularShape({\n              radius: 6,\n              stroke: new Stroke({\n                width: 1,\n                color: 'white'\n              }),\n              fill: ptFill,\n              points: 4,\n              angle: Math.PI / 4\n            })\n          })\n        );\n      }\n      idx++;\n    });\n    return styles;\n  }\n}\n\n// ** Signal K resource collection format **\n@Component({\n  selector: 'ol-map > sk-routes',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class RouteLayerComponent extends RoutesBaseComponent {\n  @Input() routes: Routes;\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseSKRoutes(this.routes);\n  }\n\n  override parseRoutes(change: SimpleChange) {\n    this.parseSKRoutes(change.currentValue);\n  }\n\n  override onActivateRoute() {\n    this.parseSKRoutes(this.routes);\n  }\n\n  parseSKRoutes(routes: Routes = this.routes) {\n    const fa: Feature[] = [];\n    for (const r in routes) {\n      const c = fromLonLatArray(\n        mapifyCoords(routes[r].feature.geometry.coordinates)\n      );\n      const f = new Feature({\n        geometry: new LineString(c),\n        name: routes[r].name\n      });\n      f.setId('route.' + r);\n      f.set(\n        'pointMetadata',\n        routes[r].feature.properties.coordinatesMeta ?? null\n      );\n      f.setStyle(this.buildStyle(f));\n      fa.push(f);\n    }\n    this.source.addFeatures(fa);\n    this.updateLabels();\n  }\n}\n\n// ** Freeboard resource collection format **\n@Component({\n  selector: 'ol-map > fb-routes',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class FreeboardRouteLayerComponent extends RoutesBaseComponent {\n  @Input() routes: FBRoutes = [];\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseFBRoutes(this.routes);\n  }\n\n  override parseRoutes(change: SimpleChange) {\n    this.parseFBRoutes(change.currentValue);\n  }\n\n  override onActivateRoute() {\n    this.parseFBRoutes(this.routes);\n  }\n\n  parseFBRoutes(routes: FBRoutes = this.routes) {\n    const fa: Feature[] = [];\n    for (const r of routes) {\n      if (r[2]) {\n        // selected\n        const mc = mapifyCoords(r[1].feature.geometry.coordinates);\n        const c = fromLonLatArray(mc);\n        const f = new Feature({\n          geometry: new LineString(c),\n          name: r[1].name\n        });\n        f.setId('route.' + r[0]);\n        f.set('pointMetadata', r[1].feature.properties.coordinatesMeta ?? null);\n        f.setStyle(this.buildStyle(f));\n        fa.push(f);\n      }\n    }\n    this.source.addFeatures(fa);\n    this.updateLabels();\n  }\n}\n","import { Component, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'ol-map > ol-content',\n  template: '<ng-content></ng-content>',\n  standalone: false\n})\nexport class ContentComponent {\n  constructor(public elementRef: ElementRef) {}\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, Stroke, Fill } from 'ol/style';\nimport { Circle } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { mapifyRadius } from '../util';\nimport { AsyncSubject } from 'rxjs';\n\n// ** Freeboard Arrival Circle component **\n@Component({\n  selector: 'ol-map > fb-arrival-circle',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class ArrivalCircleComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature>;\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() position: Coordinate;\n  @Input() radius: number;\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  public mapifiedLine: Array<Coordinate> = [];\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseValues();\n    this.source = new VectorSource({ features: this.features });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (key === 'position' || key === 'radius') {\n          this.parseValues();\n          if (this.source) {\n            this.source.clear();\n            this.source.addFeatures(this.features);\n          }\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseValues() {\n    const fa: Feature[] = [];\n    const f = new Feature({\n      geometry: new Circle(\n        fromLonLat(this.position),\n        mapifyRadius(this.radius, this.position)\n      )\n    });\n    f.setStyle(this.buildStyle());\n    fa.push(f);\n    this.features = fa;\n  }\n\n  // build target style\n  buildStyle(): Style {\n    let cs: Style;\n    if (this.layerProperties && this.layerProperties.style) {\n      cs = this.layerProperties.style;\n    } else {\n      // default style\n      cs = new Style({\n        fill: new Fill({ color: 'rgba(255, 255, 255, .1)' }),\n        stroke: new Stroke({\n          color: 'rgba(242, 153, 10, 1)',\n          width: 2,\n          lineDash: [5, 5]\n        })\n      });\n    }\n    return cs;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import {\n  Component,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  signal\n} from '@angular/core';\n\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatButtonModule } from '@angular/material/button';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKResources } from 'src/app/modules/skresources';\nimport { SKTrack } from 'src/app/modules/skresources/resource-classes';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { Position, UpdateMessage } from 'src/app/types';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Subscription } from 'rxjs';\nimport { SKStreamFacade } from 'src/app/modules';\n\n@Component({\n  selector: 'track-list',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './tracklist.html',\n  styleUrls: ['../resourcelist.css'],\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatButtonModule,\n    FormsModule,\n    MatInputModule,\n    ScrollingModule,\n    MatProgressBarModule\n  ]\n})\nexport class TrackListComponent {\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  @Output() center: EventEmitter<Position> = new EventEmitter();\n\n  protected trackList: Array<[string, SKTrack, boolean]> = [];\n  protected filterText = '';\n  protected someSel = false;\n  protected allSel = false;\n  protected filteredList = signal([]);\n  private obsList: Array<Subscription> = [];\n\n  constructor(\n    protected app: AppFacade,\n    private signalk: SignalKClient,\n    private skres: SKResources,\n    private stream: SKStreamFacade\n  ) {\n    this.obsList.push(\n      this.stream\n        .delta$()\n        .subscribe((msg: UpdateMessage) => this.onDeltaMessage(msg))\n    );\n  }\n\n  ngOnDestroy() {\n    this.obsList.forEach((i) => i.unsubscribe());\n  }\n\n  ngAfterViewInit() {\n    this.initItems();\n  }\n\n  close() {\n    this.closed.emit();\n  }\n\n  // resource delta event handler\n  private onDeltaMessage(msg: UpdateMessage) {\n    if (msg.result?.self?.resourceUpdates.length !== 0) {\n      const trkDelta = msg.result?.self?.resourceUpdates.find((i) =>\n        i.path.includes('resources.tracks')\n      );\n      if (trkDelta) {\n        this.initItems(true);\n      }\n    }\n  }\n\n  // fetch resources from server and align selections\n  initItems(silent?: boolean) {\n    this.app.sIsFetching.set(!(silent ?? false));\n    this.signalk.api.get(this.app.skApiVersion, '/resources/tracks').subscribe(\n      (trks) => {\n        this.trackList = Object.entries(trks).map((trk: [string, SKTrack]) => {\n          trk[1]['feature']['id'] = trk[0].toString();\n          delete trk[1]['$source'];\n          delete trk[1]['timestamp'];\n          return [\n            trk[0],\n            trk[1],\n            this.skres.trackCacheIsUnfiltered() ||\n              this.app.config.selections.tracks?.includes(trk[0])\n          ];\n        });\n        this.app.sIsFetching.set(false);\n        this.doFilter();\n      },\n      () => {\n        this.app.sIsFetching.set(false);\n        this.trackList = [];\n      }\n    );\n  }\n\n  alignSelections() {\n    let c = false;\n    let u = false;\n    this.filteredList().forEach((trk: [string, SKTrack, boolean]) => {\n      c = trk[2] ? true : c;\n      u = !trk[2] ? true : u;\n    });\n    this.allSel = c && !u ? true : false;\n    this.someSel = c && u ? true : false;\n  }\n\n  toggleAll(checked: boolean) {\n    this.filteredList.update((fl: [string, SKTrack, boolean]) => {\n      fl.forEach((item) => (item[2] = checked));\n      return fl;\n    });\n    const allItems = this.filteredList().length === this.trackList.length;\n    if (checked) {\n      if (allItems) {\n        this.skres.trackCacheUnfilter(true);\n      } else {\n        const tracks = this.filteredList().map((item) => item[1]);\n        this.skres.trackCacheAdd(tracks);\n      }\n    } else {\n      if (allItems) {\n        this.skres.trackCacheUnfilter(false);\n        this.skres.trackCacheClear();\n      } else {\n        const ids = this.filteredList().map((item) => item[0]);\n        this.skres.trackCacheRemove(ids);\n      }\n    }\n    this.someSel = false;\n    this.allSel = checked ? true : false;\n  }\n\n  itemSelect(checked: boolean, id: string) {\n    let idx: number;\n    this.filteredList.update((fl) => {\n      idx = fl.findIndex((item) => item[0] === id);\n      if (idx !== -1) {\n        fl[idx][2] = checked;\n      }\n      return fl;\n    });\n    this.alignSelections();\n\n    if (idx !== -1) {\n      if (checked) {\n        this.skres.trackCacheAdd(this.filteredList()[idx][1]);\n      } else {\n        if (!this.allSel && this.skres.trackCacheIsUnfiltered()) {\n          // unfilter and preset\n          const selIds = this.filteredList()\n            .filter((i) => i[2] === true)\n            .map((i) => i[0]);\n          this.skres.trackCacheUnfilter(false, selIds);\n        } else {\n          this.skres.trackCacheRemove(id);\n        }\n      }\n    }\n  }\n\n  itemProperties(id: string) {\n    const track = this.trackList.find(\n      (trk: [string, SKTrack, boolean]) => trk[1].feature?.id === id\n    );\n    if (track) {\n      this.skres.showTrackInfo(track[1]);\n    }\n  }\n\n  itemDelete(id: string) {\n    this.app\n      .showConfirm(\n        'Do you want to delete this Track?\\n',\n        'Delete Track:',\n        'YES',\n        'NO'\n      )\n      .subscribe((result: { ok: boolean; checked: boolean }) => {\n        if (result?.ok) {\n          this.skres\n            .deleteFromServer('tracks', id)\n            .then(() => {\n              this.skres.trackCacheRemove(id);\n              // refresh cache\n            })\n            .catch((err: HttpErrorResponse) =>\n              this.app.parseHttpErrorResponse(err)\n            );\n        }\n      });\n  }\n\n  itemRefresh() {\n    this.initItems();\n  }\n\n  emitCenter(position: Position) {\n    this.center.emit(position);\n  }\n\n  filterKeyUp(value: string) {\n    this.filterText = value ?? '';\n    this.doFilter();\n  }\n\n  // filter & sort list entries\n  doFilter() {\n    const sortList = () => {\n      fl.sort((a, b) => {\n        const x = a[1].feature?.properties?.name?.toLowerCase();\n        const y = b[1].feature?.properties?.name?.toLowerCase();\n        return x > y ? 1 : -1;\n      });\n    };\n    let fl: Array<[string, SKTrack, boolean]>;\n    if (this.filterText.length === 0) {\n      fl = [].concat(this.trackList);\n    } else {\n      fl = this.trackList.filter((item: [string, SKTrack, boolean]) => {\n        return item[1].feature.properties?.name\n          ?.toLowerCase()\n          .includes(this.filterText?.toLowerCase());\n      });\n    }\n    sortList();\n    this.filteredList.update(() => [].concat(fl));\n    this.alignSelections();\n  }\n}\n","<div class=\"resourcelist\">\n  <mat-card style=\"border-radius: unset\">\n    <mat-card-title>\n      <div class=\"title-block\">\n        <div style=\"width: 50px\">\n          <button\n            mat-icon-button\n            (click)=\"close()\"\n            matTooltip=\"Close Track List\"\n            matTooltipPosition=\"right\"\n          >\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div style=\"flex: 1 1 auto; padding-top: 7px\">Tracks</div>\n      </div>\n    </mat-card-title>\n    <mat-card-content>\n      <div style=\"display: flex\">\n        <div style=\"flex: 1 1 auto; padding-left: 3px\">\n          <mat-form-field floatLabel=\"always\" style=\"width: 180px\">\n            <mat-label>Type to filter list</mat-label>\n            <input\n              #ftext\n              type=\"text\"\n              matInput\n              [(ngModel)]=\"filterText\"\n              (keyup)=\"filterKeyUp(ftext.value)\"\n            />\n            @if(filterText) {\n            <button matSuffix mat-icon-button (click)=\"filterKeyUp('')\">\n              <mat-icon>close</mat-icon>\n            </button>\n            }\n          </mat-form-field>\n        </div>\n        <div>\n          <button\n            mat-icon-button\n            (click)=\"itemRefresh()\"\n            matTooltip=\"Reload Tracks\"\n            matTooltipPosition=\"left\"\n          >\n            <mat-icon>refresh</mat-icon>\n          </button>\n        </div>\n        <div>\n          <mat-checkbox\n            #selall\n            [disabled]=\"trackList.length === 0\"\n            [checked]=\"allSel\"\n            [indeterminate]=\"someSel\"\n            (change)=\"toggleAll($event.checked)\"\n            [matTooltip]=\"(!selall.checked || someSel) ? 'Select All' : 'Deselect All'\"\n            matTooltipPosition=\"right\"\n          >\n          </mat-checkbox>\n        </div>\n      </div>\n    </mat-card-content>\n  </mat-card>\n\n  <div class=\"resources\">\n    @if(!this.app.sIsFetching() && trackList.length === 0) {\n    <div style=\"text-align: center\"><br /><i>No Tracks available.</i></div>\n    } @if(this.app.sIsFetching()) {\n    <mat-progress-bar mode=\"query\"></mat-progress-bar>\n    }\n    <cdk-virtual-scroll-viewport class=\"vscroller\" itemSize=\"120\">\n      <mat-card\n        *cdkVirtualFor=\"let r of filteredList(); let i= index;\"\n        style=\"border-bottom: silver 1px outset; border-radius: unset\"\n      >\n        <mat-card-content>\n          <div style=\"display: flex; padding-left: 5px\">\n            <div style=\"flex: 1 1 auto; width: 215px\">\n              <div\n                style=\"\n                  padding-top: 11px;\n                  text-overflow: ellipsis;\n                  overflow-x: hidden;\n                  white-space: pre;\n                \"\n              >\n                <b>{{r[1].feature.properties?.name || i}}</b>\n              </div>\n              <div\n                style=\"\n                  text-overflow: ellipsis;\n                  overflow-x: hidden;\n                  white-space: pre;\n                \"\n              >\n                {{r[1].feature.properties?.description}}\n              </div>\n            </div>\n            <div style=\"text-align: right\">\n              <mat-checkbox\n                [checked]=\"r[2]\"\n                (change)=\"itemSelect($event.checked, r[0])\"\n                matTooltip=\"Show on Map\"\n                matTooltipPosition=\"left\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n        </mat-card-content>\n        <mat-card-actions>\n          <div style=\"display: flex\">\n            <div style=\"flex: 1 1 auto\">\n              <button\n                mat-icon-button\n                (click)=\"itemDelete(r[0])\"\n                matTooltip=\"Delete Track\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>delete</mat-icon>\n              </button>\n            </div>\n            <div>\n              <button\n                mat-icon-button\n                (click)=\"itemProperties(r[0])\"\n                matTooltip=\"Track Properties\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>edit</mat-icon>\n              </button>\n            </div>\n            <div>\n              <button\n                mat-icon-button\n                [disabled]=\"app.config.map.moveMap\"\n                (click)=\"emitCenter(r[1].feature.geometry.coordinates[0][0])\"\n                matTooltip=\"Center Track\"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon>center_focus_strong</mat-icon>\n              </button>\n            </div>\n          </div>\n        </mat-card-actions>\n      </mat-card>\n    </cdk-virtual-scroll-viewport>\n  </div>\n</div>\n","// POI Icons\n\nimport { AppIconSet } from './app.icons';\n\nconst DefaultNoteIcon = {\n  path: './assets/img/note.png',\n  scale: 1,\n  anchor: [5, 3]\n};\n\nexport const PoiIcons: AppIconSet = {\n  path: './assets/img/poi',\n  scale: 0.65,\n  anchor: [1, 37],\n  files: [\n    'anchorage.svg',\n    'boatramp.svg',\n    'bridge.svg',\n    'business.svg',\n    'dam.svg',\n    'ferry.svg',\n    'hazard.svg',\n    'inlet.svg',\n    'lock.svg',\n    'marina.svg',\n    'dock.svg',\n    'turning-basin.svg',\n    'radio-call-point.svg',\n    'transhipment-dock.svg',\n    'notice-to-mariners.svg',\n    'navigation-structure.svg',\n    'fuel.svg',\n    'tunnel.svg',\n    'waterway-guage.svg'\n  ]\n};\n\n/**\n * @description Build MapIcon definitions for use by MapImageRegistry\n */\nexport const getPoiDefs = () => {\n  const poiList = {};\n\n  const addToList = (list: AppIconSet) => {\n    list.files.forEach((file: string) => {\n      const id = file.slice(0, file.indexOf('.'));\n      poiList[id] = {\n        path: `${list.path}/${file}`,\n        scale: list.scale,\n        anchor: list.anchor\n      };\n    });\n  };\n  poiList['default'] = DefaultNoteIcon;\n  addToList(PoiIcons);\n\n  return poiList;\n};\n","/** Resource Dialog Components **\n ********************************/\n\nimport { Component, OnInit, Inject, ChangeDetectorRef } from '@angular/core';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport {\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKResourceSet } from '../../resourceset-class';\n\n/********* ResourceSetFeatureModal **********\n * Displays information about a ResourceSet feature\n\tdata: {\n    id: string\n    skres: SKResourceSet;\n  }\n***********************************/\n@Component({\n  selector: 'ap-resourceset-feature-modal',\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatCheckboxModule\n  ],\n  template: `\n    <div class=\"_ap-resource-set-feature\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span> </span>\n        <span style=\"flex: 1 1 auto; padding-left:20px;text-align:center;\">\n          {{ title }}\n        </span>\n        <span>\n          <button\n            mat-icon-button\n            (click)=\"closeModal()\"\n            matTooltip=\"Close\"\n            matTooltipPosition=\"left\"\n          >\n            <mat-icon>keyboard_arrow_down</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n\n      <mat-card>\n        <mat-card-content>\n          <div style=\"padding-bottom: 5px; display: flex\">\n            <div style=\"font-weight: bold; vertical-align: top\">Name:</div>\n            <div style=\"padding-left: 10px\">{{ properties.name }}</div>\n          </div>\n          <div style=\"font-weight: bold; vertical-align: top\">Description:</div>\n          <div style=\"overflow-y: auto; height: 60px\" target=\"notelink\">\n            {{ properties.description }}\n          </div>\n          <div style=\"padding-bottom: 5px; display: flex\">\n            <div style=\"font-weight: bold; vertical-align: top\">\n              Resource Set:\n            </div>\n            <div style=\"padding-left: 10px\">\n              {{ properties['resourceset.name'] }}\n            </div>\n          </div>\n          <div style=\"padding-bottom: 5px; display: flex\">\n            <div style=\"font-weight: bold; vertical-align: top\">\n              Collection:\n            </div>\n            <div style=\"padding-left: 10px\">\n              {{ properties['resourceset.collection'] }}\n            </div>\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-resource-set-feature {\n        font-family: arial;\n        min-width: 300px;\n      }\n      ._ap-resource-set-feature .key-label {\n        font-weight: 500;\n      }\n      ._ap-resource-set-feature .key-desc {\n        font-style: italic;\n      }\n    `\n  ]\n})\nexport class ResourceSetFeatureModal implements OnInit {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  protected properties: any = {};\n  protected title = 'ResourceSet Feature: ';\n\n  constructor(\n    public app: AppFacade,\n    private cdr: ChangeDetectorRef,\n    public modalRef: MatBottomSheetRef<ResourceSetFeatureModal>,\n    @Inject(MAT_BOTTOM_SHEET_DATA)\n    public data: {\n      id: string;\n      skres: SKResourceSet;\n    }\n  ) {}\n\n  ngOnInit() {\n    this.parse();\n  }\n\n  closeModal() {\n    this.modalRef.dismiss();\n  }\n\n  parse() {\n    const t = this.data.id.split('.');\n    const fIndex = Number(t[t.length - 1]);\n    const features = this.data.skres.values.features;\n    const feature = fIndex < features.length ? features[fIndex] : features[0];\n\n    this.title = feature.properties.name ?? 'Feature';\n    this.properties = {\n      name: feature.properties.name ?? '',\n      description: feature.properties.description ?? '',\n      'position.latitude': feature.geometry.coordinates[1],\n      'position.longitude': feature.geometry.coordinates[0],\n      'resourceset.name': this.data.skres.name,\n      'resourceset.description': this.data.skres.description,\n      'resourceset.collection': t[1]\n    };\n  }\n}\n","//*************************************\n//** Application Information Service **\n//*************************************\nimport { Injectable, isDevMode } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\n\nimport { State } from './state.service';\nimport { FBAppData, AppUpdateMessage } from '../../types';\nimport { IAppConfig } from '../../app.settings';\n\nexport interface SettingsSignals {\n  fetchNotes?: boolean;\n  suppressTrailFetch?: boolean;\n}\nexport interface SettingsMessage {\n  action: 'save' | 'load';\n  setting: 'data' | 'config';\n  signals?: SettingsSignals;\n}\n\n@Injectable()\nexport class Info {\n  public id = '';\n  public name = '';\n  public shortName = '';\n  public description = ``;\n  public version = '';\n  public url = '';\n  public logo = './assets/img/app_logo.png';\n\n  protected devMode: boolean;\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public config!: IAppConfig; //** holds app configuration settings **\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public data: FBAppData; //** holds app data **\n  public state: State;\n\n  // Observables\n  private upgradedSource: Subject<AppUpdateMessage>;\n  public upgraded$: Observable<AppUpdateMessage>;\n  private settings: Subject<SettingsMessage>;\n  public settings$: Observable<SettingsMessage>;\n\n  constructor() {\n    this.state = new State();\n    this.devMode = isDevMode();\n    //** default configuration and data **\n    //this.config = {};\n    //this.data = {};\n    this.state.appId = this.id;\n    // ** initialise events\n    this.upgradedSource = new Subject<AppUpdateMessage>();\n    this.upgraded$ = this.upgradedSource.asObservable();\n    this.settings = new Subject<SettingsMessage>();\n    this.settings$ = this.settings.asObservable();\n  }\n\n  // ** initialise.. set state.appId **\n  init(appId = this.id) {\n    this.state.appId = appId;\n  }\n\n  //** write debug information to console in devMode only **\n  debug(...e: Array<unknown>) {\n    e.unshift('debug:');\n    if (this.devMode) {\n      console.info(...e);\n    }\n  }\n\n  /** Check versions to detect application update\n   * emits:  observable event app.upgraded$\n   * returns: {result: [null || new || update], previous: [null || prev version], new: info.version} **/\n  checkVersion() {\n    const cv = this.loadInfo();\n    const value: AppUpdateMessage = {\n      result: null,\n      previous: cv.version || null,\n      new: this.version\n    };\n    if (cv.version) {\n      // ** check for newer version **\n      if (this.version.indexOf(cv.version) === -1) {\n        value.result = 'update';\n        this.debug(\n          `AppFacade: Version update detected.. (${cv.version} -> ${this.version})`,\n          'info'\n        );\n        this.upgradedSource.next(value);\n      }\n    } else {\n      // **  new install **\n      value.result = 'new';\n      this.saveInfo();\n      this.debug(`AppFacade: New Install detected.. (${this.version})`, 'info');\n      this.upgradedSource.next(value);\n    }\n    return value;\n  }\n\n  //** load app version Info **\n  loadInfo() {\n    return this.state.loadInfo();\n  }\n\n  //** persist version info **\n  saveInfo() {\n    this.state.saveInfo({\n      name: this.shortName,\n      version: this.version\n    });\n  }\n\n  //** load app config **\n  loadConfig() {\n    this.config = this.state.loadConfig(this.config);\n    this.settings.next({ action: 'load', setting: 'config' });\n  }\n\n  //** load app data **\n  loadData() {\n    this.data = this.state.loadData(this.data);\n    this.settings.next({ action: 'load', setting: 'data' });\n  }\n\n  //** persist app config **\n  saveConfig(signals?: SettingsSignals) {\n    this.state.saveConfig(this.config);\n    this.settings.next({ action: 'save', setting: 'config', signals: signals });\n  }\n\n  //** persist app data **\n  saveData() {\n    this.state.saveData(this.data);\n    this.settings.next({ action: 'save', setting: 'data' });\n  }\n}\n","/** Region Details Dialog Component **\n ********************************/\n\nimport { Component, OnInit, Inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { SKRegion } from '../../resource-classes';\n\n/********* RegionDialog **********\n\tdata: {\n    region: SKRegion\n  }\n***********************************/\n@Component({\n  selector: 'ap-regiondialog',\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatInputModule,\n    MatIconModule,\n    MatButtonModule,\n    MatDialogModule\n  ],\n  template: `\n    <div class=\"_ap-region\">\n      <div style=\"display:flex;\">\n        <div style=\"padding: 15px 0 0 10px;\">\n          <mat-icon class=\"icon-region\">tab_unselected</mat-icon>\n        </div>\n        <div>\n          <h1 mat-dialog-title>Region Details</h1>\n        </div>\n      </div>\n\n      <mat-dialog-content>\n        <div>\n          <div style=\"padding-left: 10px;\">\n            <div>\n              <mat-form-field floatLabel=\"always\">\n                <mat-label>Name</mat-label>\n                <input\n                  matInput\n                  #inpname=\"ngModel\"\n                  type=\"text\"\n                  required\n                  [readonly]=\"readOnly\"\n                  [(ngModel)]=\"name\"\n                />\n                @if(inpname.invalid && (inpname.dirty || inpname.touched)) {\n                <mat-error> Please enter a name.</mat-error>\n                }\n              </mat-form-field>\n            </div>\n            <div>\n              <mat-form-field floatLabel=\"always\">\n                <mat-label>Description</mat-label>\n                <textarea\n                  matInput\n                  rows=\"3\"\n                  #inpcmt=\"ngModel\"\n                  [readonly]=\"readOnly\"\n                  [(ngModel)]=\"description\"\n                >\n                </textarea>\n              </mat-form-field>\n            </div>\n          </div>\n        </div>\n      </mat-dialog-content>\n      <mat-dialog-actions>\n        <div style=\"text-align:center;width:100%;\">\n          @if(!readOnly) {\n          <button\n            mat-raised-button\n            [disabled]=\"inpname.invalid || readOnly\"\n            (click)=\"handleClose(true)\"\n          >\n            SAVE\n          </button>\n          }\n          <button mat-raised-button (click)=\"handleClose(false)\">CANCEL</button>\n        </div>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-region {\n        min-width: 300px;\n      }\n    `\n  ]\n})\nexport class RegionDialog implements OnInit {\n  protected name: string;\n  protected description: string;\n  protected readOnly = false;\n\n  constructor(\n    private dialogRef: MatDialogRef<RegionDialog>,\n    @Inject(MAT_DIALOG_DATA)\n    protected data: {\n      region: SKRegion;\n    }\n  ) {}\n\n  ngOnInit() {\n    this.name = this.data.region.name ?? '';\n    this.description = this.data.region.description ?? '';\n    this.readOnly =\n      (this.data.region.feature as any)?.properties?.readOnly ?? false;\n  }\n\n  handleClose(save: boolean) {\n    if (save) {\n      this.data.region.name = this.name;\n      this.data.region.description = this.description;\n    }\n    this.dialogRef.close({ save: save, region: this.data.region });\n  }\n}\n","// OpenBridge Icons\n\nimport { AppIconSet } from './app.icons';\n\nexport const OpenBridgeIcons: AppIconSet = {\n  path: './assets/img/ob',\n  files: [\n    'cent-iec.svg',\n    'cent-off-iec.svg',\n    'chart-display-settings-iec.svg',\n    'heading-h-up.svg',\n    'heading-n-up.svg',\n    'navigation-route.svg',\n    'route.svg',\n    'route-export.svg',\n    'route-import.svg',\n    'route-planning.svg',\n    'sound-high-fill.svg',\n    'sound-off-fill.svg',\n    'sound-unavailable-fill.svg',\n    'whale.svg',\n    'alert-list.svg',\n    'alerts-active.svg',\n    'alarm-mob.svg',\n    'alarm-abandon.svg',\n    'alarm-aground.svg',\n    'alarm-arrival.svg',\n    'alarm-depth.svg',\n    'alarm-fire.svg',\n    'alarm-cpa.svg',\n    'alarm-silenced.svg',\n    'alarm-unack-iec.svg',\n    'alarm-acknowledged-iec.svg',\n    'alarm-emergency-iec.svg',\n    'warning-acknowledged-iec.svg',\n    'warning-unack-iec.svg',\n    'warning-silenced-iec.svg',\n    'warning-unack-iec.svg',\n    'remote_control.svg',\n    'autonomous_control.svg'\n  ]\n};\n","// ** app state services **\nexport * from './info.service';\nexport * from './state.service';\n\n// ** app storage services **\nexport * from './localstorage.service';\nexport * from './indexeddb';\n","import { Component, Inject } from '@angular/core';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatInputModule } from '@angular/material/input';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKChart } from 'src/app/modules/skresources/resource-classes';\nimport { ChartProvider } from 'src/app/types';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\ninterface MapboxStyle {\n  version: string;\n  name?: string;\n  sources: Array<{\n    [index: string]: {\n      type: string;\n      url: string;\n    };\n  }>;\n  layers: Array<{\n    id: string;\n    source: string;\n    'source-layer': string;\n  }>;\n}\n\ninterface TileJson {\n  tilejson: string;\n  name: string;\n  description: string;\n  vector_layers?: Array<{\n    id: string;\n    description: string;\n  }>;\n}\n\n/********* JsonMapSourceDialog **********\n\tdata: \n***********************************/\n@Component({\n  selector: 'json-mapsource-dialog',\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatDialogModule,\n    MatProgressBarModule,\n    MatInputModule,\n    PipesModule\n  ],\n  template: `\n    <div class=\"_ap-mapbox\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span class=\"dialog-icon\"><mat-icon>public</mat-icon></span>\n        <span style=\"flex: 1 1 auto; text-align: center\"\n          >Add JSON Map Source</span\n        >\n        <span style=\"text-align: right\">\n          <button mat-icon-button (click)=\"dialogRef.close()\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n      <mat-dialog-content>\n        <mat-form-field floatLabel=\"always\" style=\"width:100%\">\n          <mat-label> Map Server host. </mat-label>\n          <input matInput #txturl type=\"url\" required [(value)]=\"hostUrl\" />\n          @if (txturl) {\n          <button\n            matSuffix\n            mat-icon-button\n            [disabled]=\"txturl.value.length === 0\"\n            (click)=\"getJsonFile(txturl.value)\"\n          >\n            <mat-icon>arrow_forward</mat-icon>\n          </button>\n          }\n          <mat-hint> Enter url of the Map Server. </mat-hint>\n          @if (txturl.invalid) {\n          <mat-error>Map server host url is required!</mat-error>\n          }\n        </mat-form-field>\n        @if (isFetching) {\n        <mat-progress-bar mode=\"query\"></mat-progress-bar>\n        } @else { @if (errorMsg) {\n        <mat-error>Error retrieving data from server!</mat-error>\n        } @else {\n        <div>\n          @if (provider) {\n          <br />\n          <div style=\"height: 200px;overflow-x: hidden;overflow-y: auto;\">\n            <div class=\"row\">\n              <div class=\"label\">Source:</div>\n              <div class=\"value\">{{ details.type }}</div>\n            </div>\n            <div class=\"row\">\n              <div class=\"label\">Name:</div>\n              <div class=\"value\">{{ details.name }}</div>\n            </div>\n            <div class=\"row\">\n              <div class=\"label\">Version:</div>\n              <div class=\"value\">{{ details.version }}</div>\n            </div>\n            <div class=\"row\">\n              <div class=\"label\">Layers:</div>\n              <div class=\"value\">\n                @for (l of details.layers; track l) {\n                <div>{{ l }}</div>\n                }\n              </div>\n            </div>\n          </div>\n          }\n        </div>\n        } }\n      </mat-dialog-content>\n      <mat-dialog-actions>\n        <button mat-raised-button [disabled]=\"!provider\" (click)=\"handleSave()\">\n          Save\n        </button>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-mapbox {\n      }\n      ._ap-mapbox .row {\n        display: flex;\n      }\n      ._ap-mapbox .label {\n        width: 70px;\n        font-weight: 500;\n      }\n      ._ap-mapbox .value {\n        flex: 1 1 auto;\n      }\n    `\n  ]\n})\nexport class JsonMapSourceDialog {\n  protected isFetching = false;\n  protected fetchError = false;\n  protected errorMsg = '';\n  protected hostUrl = '';\n  protected provider!: ChartProvider;\n  protected details: {\n    type: string;\n    name: string;\n    version: string;\n    layers: string[];\n  };\n\n  constructor(\n    public app: AppFacade,\n    public dialogRef: MatDialogRef<JsonMapSourceDialog>,\n    private http: HttpClient,\n    @Inject(MAT_DIALOG_DATA) public data: SKChart\n  ) {}\n\n  handleSave() {\n    this.dialogRef.close([this.provider]);\n  }\n\n  /** Fetch the mapbox JSON file contents */\n  getJsonFile(uri: string) {\n    this.errorMsg = '';\n    this.fetchError = false;\n    this.isFetching = true;\n    this.provider = undefined;\n    this.http.get(uri).subscribe(\n      (res: TileJson | MapboxStyle) => {\n        this.isFetching = false;\n        if (!res.name) {\n          this.errorMsg = 'Invalid response received!';\n        } else {\n          const c = this.parseFileContents(res, uri);\n          if (c) {\n            this.provider = c as ChartProvider;\n            this.details = {\n              type: (res as TileJson).tilejson ? 'TileJSON' : 'Mapbox Style',\n              name: res.name,\n              version: (res as MapboxStyle).version\n                ? (res as MapboxStyle).version\n                : (res as TileJson).tilejson,\n              layers: (res as MapboxStyle).layers\n                ? (res as MapboxStyle).layers.map((l) => l.id)\n                : (res as TileJson).vector_layers\n                ? (res as TileJson).vector_layers.map((l) => l.id)\n                : []\n            };\n          } else {\n            this.fetchError = true;\n            this.errorMsg = 'Invalid file contents!';\n          }\n        }\n      },\n      (err: HttpErrorResponse) => {\n        this.isFetching = false;\n        this.fetchError = true;\n        this.errorMsg = err.message;\n      }\n    );\n  }\n\n  parseFileContents(json: TileJson | MapboxStyle, uri: string) {\n    if ('tilejson' in json) {\n      return {\n        name: json.name ?? '',\n        description: json.description ?? '',\n        type: 'tilejson',\n        url: uri\n      };\n    } else if ('version' in json && 'sources' in json && 'layers' in json) {\n      return {\n        name: json.name ?? '',\n        description: '',\n        type: 'mapboxstyle',\n        url: uri\n      };\n    } else {\n      return undefined;\n    }\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { PopoverComponent } from './popover.component';\nimport { AppFacade } from 'src/app/app.facade';\nimport { Position } from 'src/app/types';\nimport { AlertData } from '../../alarms';\n/*********** Alarm Popover ***************\n  title: string -  title text,\n  alarm: AlertData - alarm data\n  *************************************************/\n@Component({\n  selector: 'alarm-popover',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    PipesModule,\n    PopoverComponent\n  ],\n  template: `\n    <ap-popover\n      [title]=\"_title\"\n      [canClose]=\"canClose\"\n      [icon]=\"alarm.icon\"\n      (closed)=\"handleClose()\"\n    >\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Message:</div>\n        <div\n          style=\"flex: 1 1 auto;\n                    text-align:left;\n                    padding-left: 5px;\n                    overflow: hidden;\n                    display: -webkit-box;\n                    -webkit-box-orient: vertical;\n                    -webkit-line-clamp: 2;\n                    line-clamp: 2;\n                    text-overflow:ellipsis;\"\n        >\n          {{ alarm.message }}\n        </div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Type:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">{{ alarm.type }}</div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Latitude:</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"\n            alarm.properties.position.latitude\n              | coords : app.config.selections.positionFormat : true\n          \"\n        ></div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Longitude:</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"\n            alarm.properties.position.longitude\n              | coords : app.config.selections.positionFormat : false\n          \"\n        ></div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"flex:1 1 auto;\">&nbsp;</div>\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"handleGoto()\"\n            matTooltip=\"Navigate to here\"\n          >\n            <mat-icon>near_me</mat-icon>\n            GO TO\n          </button>\n        </div>\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"handleInfo()\"\n            matTooltip=\"Show Properties\"\n          >\n            <mat-icon>info_outline</mat-icon>\n            INFO\n          </button>\n        </div>\n      </div>\n    </ap-popover>\n  `,\n  styleUrls: []\n})\nexport class AlarmPopoverComponent {\n  @Input() title: string;\n  @Input() id: string;\n  @Input() alarm: AlertData;\n  @Input() canClose: boolean;\n  @Output() info: EventEmitter<string> = new EventEmitter();\n  @Output() goto: EventEmitter<Position> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  _title: string;\n  constructor(public app: AppFacade) {}\n  ngOnInit() {\n    if (!this.alarm) {\n      this.handleClose();\n    } else {\n      this._title = this.title || 'Alarm:';\n    }\n  }\n  ngOnChanges() {\n    if (!this.alarm) {\n      this.handleClose();\n      return;\n    }\n  }\n  handleInfo() {\n    this.info.emit(this.alarm.path);\n  }\n  handleGoto() {\n    this.goto.emit([\n      this.alarm.properties.position.longitude,\n      this.alarm.properties.position.latitude\n    ]);\n  }\n  handleClose() {\n    this.closed.emit();\n  }\n}\n","/** Settings abstraction Facade\n * ************************************/\nimport { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\nimport { SK2GPX } from './sk2gpx';\nimport { SKTrack } from 'src/app/modules';\nimport { SignalKClient } from 'signalk-client-angular';\n\n@Injectable({ providedIn: 'root' })\nexport class GPXSaveFacade {\n  // **************** ATTRIBUTES ***************************\n  private resultSource: Subject<number>;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public result$: Observable<any>;\n  private sk2gpx: SK2GPX;\n  public hasFSA: boolean;\n\n  // *******************************************************\n\n  constructor(private signalk: SignalKClient) {\n    this.resultSource = new Subject<number>();\n    this.result$ = this.resultSource.asObservable();\n    this.hasFSA = 'showOpenFilePicker' in window;\n  }\n\n  // ** delete GPX object data **\n  clear() {\n    this.sk2gpx = null;\n  }\n\n  // ** prepare resource data\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  prepData(data: { [key: string]: any }) {\n    const resData = {\n      routes: [],\n      waypoints: [],\n      tracks: []\n    };\n\n    let idx = 1;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    resData.routes = data.routes.map((r: any[]) => {\n      const rte = r[1];\n      rte.feature.id = r[0];\n      return rte;\n    });\n    idx = 1;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    resData.waypoints = data.waypoints.map((w: any[]) => {\n      const wpt = w[1];\n      wpt.feature.id = w[0];\n      wpt.name = wpt.name ?? `Wpt: ${idx}`;\n      idx++;\n      return wpt;\n    });\n    resData.tracks = data.tracks;\n    return resData;\n  }\n\n  // ** save selected resources to GPX file **\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  saveToFile(res: any, selections: any) {\n    this.sk2gpx = new SK2GPX();\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const skroutes: { [key: string]: any } = {};\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const skwaypoints: { [key: string]: any } = {};\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const sktracks: { [key: string]: any } = {};\n\n    for (let i = 0; i < selections.rte.selected.length; i++) {\n      if (selections.rte.selected[i]) {\n        skroutes[res.routes[i].feature.id] = res.routes[i];\n      }\n    }\n    this.sk2gpx.setRoutes(skroutes);\n\n    for (let i = 0; i < selections.wpt.selected.length; i++) {\n      if (selections.wpt.selected[i]) {\n        skwaypoints[res.waypoints[i].feature.id] = res.waypoints[i];\n      }\n    }\n    this.sk2gpx.setWaypoints(skwaypoints);\n\n    for (let i = 0; i < selections.trk.selected.length; i++) {\n      if (selections.trk.selected[i]) {\n        const uuid = this.signalk.uuid;\n        sktracks[uuid] = new SKTrack();\n        sktracks[uuid].feature.id = uuid;\n        sktracks[\n          uuid\n        ].feature.properties.name = `Vessel trail: ${Date().toString()}`;\n        sktracks[uuid].feature.geometry.coordinates.push(res.tracks[i]);\n      }\n    }\n    this.sk2gpx.setTracks(sktracks);\n\n    if (this.hasFSA) {\n      this.fsaSaveFile();\n    } else {\n      this.legacySaveToFile();\n    }\n  }\n\n  // Using legacy download\n  legacySaveToFile() {\n    const file = new Blob([this.sk2gpx.toXML()], { type: 'text/xml' });\n\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(file);\n    a.download = 'fb_export.gpx';\n    a.click();\n    URL.revokeObjectURL(a.href);\n    a.remove();\n    this.resultSource.next(-1); //mimic cancelled as no result available\n  }\n\n  // Using fileSystem Access API (https)\n  fsaSaveFile() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (window as any)\n      .showSaveFilePicker({\n        types: [\n          {\n            description: 'GPX file',\n            accept: { 'text/xml': ['.gpx'] }\n          }\n        ]\n      })\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      .then((h: any) => {\n        h.createWritable()\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          .then((writable: any) => {\n            const blob = new Blob([this.sk2gpx.toXML()]);\n            writable.write(blob).then(() => {\n              writable.close();\n              this.resultSource.next(0); // ** success\n            });\n          })\n          .catch((err: Error) => {\n            // ** save error\n            console.warn(err);\n            this.resultSource.next(1);\n          });\n      })\n      .catch(() => {\n        // save cancelled by user\n        this.resultSource.next(-1);\n      });\n  }\n}\n","// **** RESOURCE CLASSES **********\n\nimport {\n  LineStringFeature,\n  PointFeature,\n  PolygonFeature,\n  MultiPolygonFeature,\n  MultiLineStringFeature,\n  Position,\n  TrackResource,\n  SKPosition,\n  RouteResource,\n  WaypointResource,\n  RegionResource,\n  NoteResource,\n  ChartResource\n} from 'src/app/types';\n\n// ** Signal K route class\nexport class SKRoute {\n  name: string;\n  description: string;\n  distance = 0;\n  feature: LineStringFeature;\n\n  constructor(route?: RouteResource) {\n    this.name = route?.name ? route.name : '';\n    this.description = route?.description ? route.description : '';\n    this.distance = route?.distance ? route.distance : 0;\n    this.feature = route?.feature ?? {\n      type: 'Feature',\n      geometry: {\n        type: 'LineString',\n        coordinates: []\n      },\n      properties: {},\n      id: ''\n    };\n  }\n}\n\n// ** Signal K waypoint\nexport class SKWaypoint {\n  name: string;\n  description: string;\n  feature: PointFeature;\n  type: string;\n\n  constructor(wpt?: WaypointResource) {\n    this.name = wpt?.name ? wpt.name : '';\n    this.description = wpt?.description ? wpt.description : '';\n    this.type = wpt?.type ? wpt.type : '';\n    this.feature = wpt?.feature ?? {\n      type: 'Feature',\n      geometry: {\n        type: 'Point',\n        coordinates: [0, 0]\n      },\n      properties: {},\n      id: ''\n    };\n  }\n}\n\n// ** Signal K Note\nexport class SKNote {\n  name: string;\n  description: string;\n  position: SKPosition;\n  href: string;\n  mimeType: string;\n  url: string;\n  group: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  authors: Array<any>;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  properties: { [key: string]: any };\n\n  constructor(note?: NoteResource) {\n    this.name = note?.name ?? '';\n    this.description = note?.description ?? '';\n    this.position = note?.position ?? null;\n    this.href = note?.href ?? null;\n    this.mimeType = note?.mimeType ?? '';\n    this.url = note?.url ?? '';\n    // ca reports\n    this.group = note?.group ?? null;\n    this.authors =\n      note?.authors && Array.isArray(note?.authors) ? note.authors : [];\n    this.properties =\n      note?.properties && typeof note?.properties === 'object'\n        ? note.properties\n        : {};\n  }\n}\n\n// ** Signal K Region **\nexport class SKRegion {\n  name: string;\n  description: string;\n  feature: PolygonFeature | MultiPolygonFeature;\n\n  constructor(region?: RegionResource) {\n    this.name = region?.name ? region.name : '';\n    this.description = region?.description ? region.description : '';\n    this.feature = region?.feature ?? {\n      type: 'Feature',\n      geometry: {\n        type: 'Polygon',\n        coordinates: []\n      },\n      properties: {},\n      id: ''\n    };\n  }\n}\n\n// ** Signal K chart\nexport class SKChart {\n  identifier: string;\n  name: string;\n  description: string;\n  region: string;\n  scale = 250000;\n  layers: Array<string>;\n  bounds: Array<number>;\n  format: string;\n  minZoom = 0;\n  maxZoom = 24;\n  type: string;\n  url: string;\n  source: string;\n\n  constructor(chart?: ChartResource) {\n    this.identifier = chart?.identifier ? chart.identifier : undefined;\n    this.name = chart?.name ? chart.name : undefined;\n    this.description = chart?.description ? chart.description : undefined;\n    this.layers = chart?.layers ? chart.layers : [];\n    this.bounds = chart?.bounds ? chart.bounds : undefined;\n    this.format = chart?.format ? chart.format : undefined;\n    this.minZoom =\n      typeof chart?.minzoom !== 'undefined' ? chart.minzoom : this.minZoom;\n    this.maxZoom =\n      typeof chart?.maxzoom !== 'undefined' ? chart.maxzoom : this.maxZoom;\n    this.type = chart?.type ? chart.type : undefined;\n    this.url = chart?.url ? chart.url : undefined;\n    this.scale =\n      typeof chart?.scale !== 'undefined' && !isNaN(chart?.scale)\n        ? chart.scale\n        : this.scale;\n    this.source = chart?.$source ?? undefined;\n  }\n}\n\n// ** Signal K Track\nexport class SKTrack {\n  feature: MultiLineStringFeature;\n\n  constructor(trk?: TrackResource) {\n    this.feature = trk?.feature ?? {\n      type: 'Feature',\n      geometry: {\n        type: 'MultiLineString',\n        coordinates: []\n      },\n      properties: {},\n      id: ''\n    };\n  }\n}\n\n// ** SK Target Base class **\nclass SKTargetBase {\n  id: string;\n  name: string;\n  mmsi: string;\n  position: Position = [0, 0];\n  state: string;\n  type: { id: number; name: string } = { id: -1, name: '' };\n  virtual?: boolean;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  properties: { [key: string]: any } = {};\n  lastUpdated = new Date();\n  callsignVhf: string;\n  callsignHf: string;\n  orientation = 0;\n}\n\n// ** Vessel Data **\nexport class SKVessel extends SKTargetBase {\n  heading: number;\n  headingTrue: number = null;\n  headingMagnetic: number = null;\n  cog: number;\n  cogTrue: number = null;\n  cogMagnetic: number = null;\n  sog: number;\n  registrations: { [key: string]: string } = {};\n  type: { id: number; name: string } = { id: -1, name: '' };\n  wind = {\n    direction: null,\n    mwd: null,\n    twd: null,\n    tws: null,\n    speedTrue: null,\n    sog: null,\n    awa: null,\n    aws: null\n  };\n  buddy = false;\n  distanceToSelf: number;\n  mode = 'day';\n  anchor = { maxRadius: null, radius: null, position: null };\n  resourceUpdates = [];\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  autopilot: { [key: string]: any } = {};\n  track: Array<Position[]> = [];\n  courseApi = {\n    arrivalCircle: 0,\n    activeRoute: {},\n    nextPoint: {},\n    previousPoint: {}\n  };\n  performance = {\n    beatAngle: null,\n    gybeAngle: null\n  };\n  racing: { [key: string]: string };\n  vectors = {\n    cog: [] // cog vector\n  };\n}\n\n// ** AtoN class **\nexport class SKAtoN extends SKTargetBase {\n  constructor() {\n    super();\n  }\n}\n\n// ** SaR class **\nexport class SKSaR extends SKTargetBase {\n  constructor() {\n    super();\n  }\n}\n\n// ** Aircraft Data **\nexport class SKAircraft extends SKTargetBase {\n  sog = 0;\n  track: Array<Position[]> = [];\n  constructor() {\n    super();\n  }\n}\n\n// ** Meteo / weather class **\nexport class SKMeteo extends SKAtoN {\n  twd: number;\n  tws: number;\n  temperature: number;\n  constructor() {\n    super();\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {\n  provideHttpClient,\n  withInterceptorsFromDi\n} from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule } from '@angular/forms';\n\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatListModule } from '@angular/material/list';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatCardModule } from '@angular/material/card';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\n\n\n// ***\nimport { AppComponent } from './app.component';\nimport {\n  FBMapComponent,\n  ExperimentsComponent,\n  AnchorWatchComponent,\n  AlertComponent,\n  AlertListComponent,\n  AutopilotComponent,\n  RouteNextPointComponent,\n  RouteListComponent,\n  WaypointListComponent,\n  ChartListComponent,\n  NoteListComponent,\n  TrackListComponent,\n  AISListComponent,\n  BuildRouteComponent,\n  RemoteControlComponent\n} from './modules';\n\nimport {\n  TextDialComponent,\n  TTGDialComponent,\n  ETADialComponent,\n  FileInputComponent,\n  PiPVideoComponent,\n  WakeLockComponent,\n  Measurements\n} from './lib/components';\n\n@NgModule({\n  declarations: [AppComponent],\n  exports: [],\n  bootstrap: [AppComponent],\n  imports: [\n    MatMenuModule,\n    MatSidenavModule,\n    MatBadgeModule,\n    MatButtonModule,\n    MatListModule,\n    MatIconModule,\n    MatTooltipModule,\n    MatProgressBarModule,\n    MatSliderModule,\n    MatCardModule,\n    DragDropModule,\n    FormsModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n    FBMapComponent,\n    TextDialComponent,\n    TTGDialComponent,\n    ETADialComponent,\n    FileInputComponent,\n    PiPVideoComponent,\n    WakeLockComponent,\n    AutopilotComponent,\n    BuildRouteComponent,\n    Measurements,\n    RouteListComponent,\n    WaypointListComponent,\n    ChartListComponent,\n    NoteListComponent,\n    TrackListComponent,\n    AISListComponent,\n    BuildRouteComponent,\n    ExperimentsComponent,\n    AnchorWatchComponent,\n    AlertComponent,\n    AlertListComponent,\n    RouteNextPointComponent,\n    RemoteControlComponent\n  ],\n  providers: [provideHttpClient(withInterceptorsFromDi())]\n})\nexport class AppModule {}\n","import { Component, OnInit, Inject } from '@angular/core';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\nimport { GeoJSONLoadFacade } from './geojson-dialog.facade';\nimport { AppFacade } from 'src/app/app.facade';\n\n//** GeoJSON import dialog **\n@Component({\n  selector: 'geojson-dialog',\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatDialogModule,\n    MatIconModule,\n    MatButtonModule,\n    MatCardModule,\n    MatExpansionModule,\n    MatCheckboxModule,\n    MatTooltipModule,\n    MatToolbarModule,\n    MatFormFieldModule,\n    MatInputModule\n  ],\n  templateUrl: './geojson-dialog.html',\n  styleUrls: ['./geojson-dialog.css']\n})\nexport class GeoJSONImportDialog implements OnInit {\n  public geoData = {\n    name: '',\n    routes: [],\n    waypoints: [],\n    tracks: [],\n    regions: [],\n    value: null\n  };\n\n  public display = {\n    notValid: false\n  };\n\n  private unsubscribe = [];\n\n  constructor(\n    public app: AppFacade,\n    public facade: GeoJSONLoadFacade,\n    public dialogRef: MatDialogRef<GeoJSONImportDialog>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  ngOnInit() {\n    this.data.fileData = this.data.fileData || null;\n    this.parseFileData(this.data.fileData);\n\n    // ** close dialog returning error count **\n    this.unsubscribe.push(\n      this.facade.uploaded$.subscribe((errCount) => {\n        this.dialogRef.close(errCount);\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.forEach((i) => i.unsubscribe());\n  }\n\n  // ** upload features to server **\n  load() {\n    this.facade.uploadToServer(this.geoData.value);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseFileData(fileData: any) {\n    this.geoData.value = this.facade.validate(fileData);\n    if (!this.geoData.value) {\n      console.warn('Error:', 'Invalid GeoJSON file!');\n      this.display.notValid = true;\n      return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.geoData.value.features.forEach((f: any) => {\n      if (f.type && f.type === 'Feature' && f.geometry && f.geometry.type) {\n        switch (f.geometry.type) {\n          case 'LineString': // route\n            this.geoData.routes.push(f);\n            break;\n          case 'Point': // waypoint\n            this.geoData.waypoints.push(f);\n            break;\n          case 'MultiLineString': // track\n            this.geoData.tracks.push(f);\n            break;\n          case 'Polygon': // region\n          case 'MultiPolygon':\n            this.geoData.regions.push(f);\n            break;\n        }\n      }\n    });\n  }\n}\n","<div class=\"geojsonload-dialog\">\n  <mat-toolbar style=\"background-color: transparent\">\n    <span class=\"dialog-icon\"><mat-icon>public</mat-icon></span>\n    <span style=\"flex: 1 1 auto; text-align: center\">Load GeoJSON</span>\n    <span style=\"text-align: right\">\n      <button mat-icon-button (click)=\"this.dialogRef.close(-1);\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </span>\n  </mat-toolbar>\n\n  @if(display.notValid) {\n  <div>\n    <div mat-dialog-content>\n      <b>Invalid GeoJSON Data:</b><br /><br />\n      <i\n        >Selected file does not contain valid GeoJSON data or<br />\n        does not define a valid FeatureCollection. </i\n      ><br />\n    </div>\n    <div mat-dialog-actions align=\"center\">\n      <button mat-raised-button (click)=\"app.showHelp('geojson')\">\n        <mat-icon>help</mat-icon>\n        Help\n      </button>\n    </div>\n  </div>\n  } @else {\n  <div mat-dialog-content>\n    <!--valid GeoJSON file-->\n    <div class=\"card-group\">\n      <div class=\"card-group-title\">\n        <div style=\"display: flex; flex-wrap: wrap\">\n          <div style=\"flex: 1 1 auto\">{{data.fileName}}</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Waypoints -->\n    @if(geoData.waypoints.length !== 0) {\n    <div class=\"card-group\">\n      <mat-card>\n        <mat-card-content>\n          <div class=\"pnlRow\">\n            <div class=\"pnlGeoType\">\n              <b>Point:</b>\n              &nbsp;\n            </div>\n            <div class=\"pnlArrow\">\n              <mat-icon>arrow_forward</mat-icon>\n            </div>\n            <div class=\"pnlSKType\">\n              <mat-icon class=\"icon-waypoint\">place</mat-icon>\n              <b>Waypoints:</b>\n              &nbsp;({{geoData?.waypoints.length}})\n            </div>\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n    }\n\n    <!-- Routes -->\n    @if(geoData.routes.length !== 0) {\n    <div class=\"card-group\">\n      <mat-card>\n        <mat-card-content>\n          <div class=\"pnlRow\">\n            <div class=\"pnlGeoType\">\n              <b>LineString:</b>\n              &nbsp;\n            </div>\n            <div class=\"pnlArrow\">\n              <mat-icon>arrow_forward</mat-icon>\n            </div>\n            <div class=\"pnlSKType\">\n              <mat-icon class=\"icon-route\">directions</mat-icon>\n              <b>Routes:</b>\n              &nbsp;({{geoData?.routes.length}})\n            </div>\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n    }\n\n    <!-- Tracks -->\n    @if(geoData.tracks.length!=0 &&\n    app.config.resources.paths.includes('tracks')) {\n    <div class=\"card-group\">\n      <mat-card>\n        <mat-card-content>\n          <div class=\"pnlRow\">\n            <div class=\"pnlGeoType\">\n              <b>MultiLineString:</b>\n              &nbsp;\n            </div>\n            <div class=\"pnlArrow\">\n              <mat-icon>arrow_forward</mat-icon>\n            </div>\n            <div class=\"pnlSKType\">\n              <mat-icon class=\"icon-track\">show_chart</mat-icon>\n              <b>Tracks:</b>\n              &nbsp;({{geoData?.tracks.length}})\n            </div>\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n    }\n\n    <!-- Regions -->\n    @if(geoData.regions.length !== 0) {\n    <div class=\"card-group\">\n      <mat-card>\n        <mat-card-content>\n          <div class=\"pnlRow\">\n            <div class=\"pnlGeoType\">\n              <b>Polygon:</b>\n              &nbsp;\n            </div>\n            <div class=\"pnlArrow\">\n              <mat-icon>arrow_forward</mat-icon>\n            </div>\n            <div class=\"pnlSKType\">\n              <mat-icon>tab_unselected</mat-icon>\n              <b>Regions:</b>\n              &nbsp;({{geoData?.regions.length}})\n            </div>\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n    }\n\n    <div mat-dialog-actions align=\"center\">\n      <button\n        mat-raised-button\n        matTooltip=\"Load features\"\n        matTooltipPosition=\"below\"\n        (click)=\"load()\"\n      >\n        <mat-icon>file_upload</mat-icon>\n        &nbsp;Load\n      </button>\n    </div>\n  </div>\n  }\n</div>\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Subject, Observable } from 'rxjs';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKResourceSet } from './resourceset-class';\nimport { ResourceSet, CustomResources } from 'src/app/types';\nimport { processUrlTokens } from 'src/app/app.settings';\n\n// ** Signal K custom / other resource(s) operations\n@Injectable({ providedIn: 'root' })\nexport class SKOtherResources {\n  private updateSource: Subject<{ action: string; mode: string }> =\n    new Subject();\n  public update$(): Observable<{ action: string; mode: string }> {\n    return this.updateSource.asObservable();\n  }\n\n  private ignore = ['tracks', 'buddies'];\n\n  constructor(\n    public dialog: MatDialog,\n    public signalk: SignalKClient,\n    public app: AppFacade\n  ) {}\n\n  // **** ITEMS ****\n\n  // returns true if one or more ResourceSets of any type are selected\n  hasSelections(): boolean {\n    let result = false;\n    Object.entries(this.app.config.selections.resourceSets)\n      .filter((r) => !this.ignore.includes(r[0]))\n      .forEach((r) => {\n        if (r[1].length > 0) {\n          result = true;\n        }\n      });\n    return result;\n  }\n\n  // retrieve items within url params bounds for all active resource-set-types\n  getItemsInBounds() {\n    Object.keys(this.app.config.selections.resourceSets)\n      .filter((r) => !this.ignore.includes(r))\n      .forEach((resType: string) => {\n        if (this.app.config.selections.resourceSets[resType].length !== 0) {\n          console.log(`getItemsInBounds(${resType})`);\n          this.getItems(resType, true);\n        }\n      });\n  }\n\n  /** get items(s) from sk server\n   * selected: true= only include selected items\n   * noUpdate: true= suppress updateSource event\n   */\n  getItems(resType: string, selected = false, noUpdate = false) {\n    if (this.ignore.includes(resType)) {\n      return;\n    }\n    let rf = '';\n    if (\n      this.app.config.resources.fetchRadius !== 0 &&\n      this.app.config.resources.fetchFilter\n    ) {\n      rf = processUrlTokens(\n        this.app.config.resources.fetchFilter,\n        this.app.config\n      );\n      if (rf && rf[0] !== '?') {\n        rf = '?' + rf;\n      }\n    }\n    this.app.debug(`${rf}`);\n    const path = `/resources/${resType}${rf}`;\n    this.signalk.api\n      .get(this.app.skApiVersion, path)\n      .subscribe((res: CustomResources) => {\n        this.app.data.resourceSets[resType] = [];\n        const items = this.processItems(res);\n        if (selected) {\n          if (!this.app.config.selections.resourceSets[resType]) {\n            this.app.config.selections.resourceSets[resType] = [];\n          }\n          this.app.data.resourceSets[resType] = items.filter((i) => {\n            return this.app.config.selections.resourceSets[resType].includes(\n              i.id\n            )\n              ? true\n              : false;\n          });\n        } else {\n          this.app.data.resourceSets[resType] = items;\n        }\n\n        // ** clean up selections\n        /*if (this.app.config.selections.resourceSets[resType]) {\n          const k = Object.keys(res);\n          this.app.config.selections.resourceSets[resType] =\n            this.app.config.selections.resourceSets[resType]\n              .map((i) => {\n                return k.indexOf(i) !== -1 ? i : null;\n              })\n              .filter((i) => {\n                return i;\n              });\n        }*/\n        if (!noUpdate) {\n          this.updateSource.next({ action: 'get', mode: 'resource-set' });\n        }\n      });\n  }\n\n  // ** process data and apply styles\n  private processItems(res: CustomResources) {\n    let resList = [];\n    if (!Array.isArray(res)) {\n      // convert returned object to array\n      resList = Object.entries(res);\n    }\n    // check for ResourceSet\n    if (\n      resList.length !== 0 &&\n      (resList[0].length === 2 ||\n        resList[0][1].type ||\n        resList[0][1].type === 'ResourceSet')\n    ) {\n      return this.processResourceSet(resList);\n    } else {\n      return this.processOther(resList);\n    }\n  }\n\n  private resourceSelected() {\n    this.updateSource.next({ action: 'selected', mode: 'resource-set' });\n  }\n\n  private processResourceSet(resList: Array<[string, ResourceSet]>) {\n    const items = [];\n    // process ResourceSet\n    resList.forEach((r: [string, ResourceSet]) => {\n      const t = new SKResourceSet(r[1]);\n      t.id = r[0].toString();\n      // apply default / styleRefs to features\n      if (t.values?.features) {\n        t.values.features.forEach((f) => {\n          if (f.properties.styleRef) {\n            //styleRef\n            if (t.styles && t.styles[f.properties.styleRef]) {\n              f.properties.style = t.styles[f.properties.styleRef];\n            } else if (t.styles['default']) {\n              f.properties.style = t.styles['default'];\n            }\n          } else if (!f.properties.style) {\n            // no style (use default)\n            if (t.styles && t.styles['default']) {\n              f.properties.style = t.styles['default'];\n            }\n          }\n          // fall through= use defined style\n          // enforce min style\n          if (!f.properties.style.lineDash) {\n            f.properties.style.lineDash = [1];\n          }\n          if (!f.properties.style.width) {\n            f.properties.style.width = f.geometry.type === 'Point' ? 4 : 2;\n          }\n        });\n        items.push(t);\n      }\n    });\n    return items;\n  }\n\n  // ** process Non ResourceSet responses into generic return value\n  private processOther(resList: Array<unknown>) {\n    const items = [];\n    resList.forEach((r) => {\n      const i = {};\n      if (r['id'] || r['urn']) {\n        i['id'] = r['id'] ?? r['urn'];\n        i['type'] = r['type'] ?? 'unknown';\n        i['name'] = r['name'] ?? '';\n        i['description'] = r['description'] ?? '';\n        items.push(i);\n      }\n    });\n    return items;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, Icon, Text } from 'ol/style';\nimport { Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { AISBaseLayerComponent } from './ais-base.component';\n\n// ** Signal K AIS Vessel Flags  **\n@Component({\n  selector: 'ol-map > sk-ais-flags',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class AISFlagsLayerComponent extends AISBaseLayerComponent {\n  @Input() flagged: Array<string>;\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n    if ('flagged' in changes) {\n      this.updateFlags();\n    }\n  }\n\n  updateFlags() {\n    if (!this.flagged) {\n      return;\n    }\n    if (this.source) {\n      this.source.clear();\n    }\n    this.flagged.forEach((id) => {\n      this.addFlagWithId(id);\n    });\n  }\n\n  // add new flag feature\n  addFlagWithId(id: string) {\n    if (!id.includes(this.targetContext) || !this.targets.has(id)) {\n      return;\n    }\n    const target = this.targets.get(id);\n    if (this.okToRenderTarget(id) && target.position) {\n      const label = target.callsignVhf ?? target.callsignHf ?? '......';\n      const f = new Feature({\n        geometry: new Point(fromLonLat(target.position)),\n        name: target.name\n      });\n      f.setId('flag-' + id);\n      f.set('name', label, true);\n      f.setStyle(this.buildStyle(label).clone());\n      this.source.addFeature(f);\n    }\n  }\n\n  private buildStyle(label?: string) {\n    return new Style({\n      image: new Icon({\n        src: './assets/img/ais_flag.svg',\n        rotateWithView: false,\n        scale: 0.2,\n        anchor: [27, 187],\n        anchorXUnits: 'pixels',\n        anchorYUnits: 'pixels'\n      }),\n      text: new Text({\n        text: label ?? '',\n        offsetY: -25,\n        offsetX: 20\n      })\n    });\n  }\n\n  // reload all Features from this.targets\n  override onReloadTargets() {\n    this.flagged.forEach((id) => {\n      this.addFlagWithId(id);\n    });\n  }\n\n  // update flag when target updated\n  override onUpdateTargets(ids: Array<string>) {\n    ids.forEach((id: string) => {\n      if (id.includes(this.targetContext) && this.flagged.includes(id)) {\n        const f = this.source.getFeatureById('flag-' + id) as Feature;\n        if (this.okToRenderTarget(id)) {\n          if (this.targets.has(id)) {\n            if (f) {\n              const position = this.targets.get(id).position;\n              if (position) {\n                f.setGeometry(new Point(fromLonLat(position)));\n              }\n            } else {\n              this.addFlagWithId(id);\n            }\n          }\n        } else {\n          this.source.removeFeature(f);\n        }\n      }\n    });\n  }\n\n  // remove flag when target removed\n  override onRemoveTargets(ids: Array<string>) {\n    ids.forEach((id) => {\n      const f = this.source.getFeatureById('flag-' + id) as Feature;\n      if (f) {\n        this.source.removeFeature(f);\n      }\n    });\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges\n} from '@angular/core';\nimport { Style } from 'ol/style';\nimport { MapComponent } from '../map.component';\nimport { SKAircraft, SKAtoN, SKSaR, SKVessel, SKMeteo } from 'src/app/modules';\nimport { FBFeatureLayerComponent } from '../sk-feature.component';\n\nexport type SKTarget = SKVessel | SKAircraft | SKAtoN | SKSaR | SKMeteo;\n\n// ** Signal K AIS Target Base Compnent  **\n@Component({\n  selector: 'ol-map > sk-ais-target-base',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class AISBaseLayerComponent\n  extends FBFeatureLayerComponent\n  implements OnInit, OnDestroy, OnChanges\n{\n  @Input() targets: Map<string, SKTarget> = new Map();\n  @Input() targetContext: string; // e.g. 'vessels', 'atons', 'aircraft', 'meteo'\n  @Input() targetStyles: { [key: string]: Style };\n  @Input() focusId: string;\n  @Input() inactiveTime = 180000; // in ms (3 mins)\n  @Input() filterByShipType: boolean;\n  @Input() filterShipTypes: Array<number>;\n  @Input() filterIds: Array<string>;\n  @Input() updateIds: Array<string> = [];\n  @Input() staleIds: Array<string> = [];\n  @Input() removeIds: Array<string> = [];\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n    this.labelPrefixes = [];\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.reloadTargets();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (this.layer) {\n      const keys = Object.keys(changes);\n      if (\n        (keys.includes('targets') &&\n          changes['targets'].previousValue.size === 0) ||\n        keys.includes('filterShipTypes') ||\n        keys.includes('filterByShipType')\n      ) {\n        this.reloadTargets();\n      } else {\n        if (keys.includes('removeIds')) {\n          this.removeTargetIds(changes['removeIds'].currentValue);\n        }\n        if (keys.includes('updateIds')) {\n          this.updateTargetIds(changes['updateIds'].currentValue);\n        }\n        if (keys.includes('staleIds')) {\n          this.updateTargetIds(changes['staleIds'].currentValue, true);\n        }\n        if (\n          (keys.includes('targetStyles') &&\n            !changes['targetStyles'].firstChange) ||\n          keys.some((k) => ['focusId', 'filterIds', 'inactiveTime'].includes(k))\n        ) {\n          this.updateTargetIds(this.extractKeys(this.targets));\n        }\n      }\n    }\n  }\n\n  /** Extract target ids\n   * @param m Map object containing AIS targets of targetContext\n   * @returns array of target ids\n   */\n  protected extractKeys(m: Map<string, SKTarget>): Array<string> {\n    const keys = [];\n    m.forEach((v, k) => {\n      if (k.includes(this.targetContext)) {\n        keys.push(k);\n      }\n    });\n    return keys;\n  }\n\n  /** Determine if target with id should be rendered\n   * @params id target identifier\n   * @returns true if target should be rendered\n   */\n  protected okToRenderTarget(id: string): boolean {\n    // IMO only\n    const checkImo = (id: string) => {\n      const imo =\n        Array.isArray(this.filterShipTypes) &&\n        this.filterShipTypes.includes(-999);\n      if (imo) {\n        const t = this.targets.get(id);\n        if ('imo' in (t as SKVessel).registrations) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        return true;\n      }\n    };\n\n    if (this.filterByShipType && Array.isArray(this.filterShipTypes)) {\n      const st = Math.floor(this.targets.get(id).type.id / 10) * 10;\n      return this.filterShipTypes.includes(st) && checkImo(id);\n    }\n    if (!this.filterIds) {\n      return checkImo(id);\n    }\n    if (Array.isArray(this.filterIds)) {\n      return this.filterIds.includes(id) && checkImo(id);\n    } else {\n      return checkImo(id);\n    }\n  }\n\n  /** Determine if target is stale\n   * @params target AIS target\n   * @returns true if target is stale\n   */\n  protected isStale(target: SKTarget): boolean {\n    if (isNaN(this.inactiveTime)) {\n      return false;\n    }\n    const now = new Date().valueOf();\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return target.lastUpdated.valueOf() < now - this.inactiveTime;\n  }\n\n  /** Return a feature label */\n  protected buildLabel(target: SKTarget) {\n    return (\n      target.name ??\n      target.callsignVhf ??\n      target.callsignHf ??\n      target.mmsi ??\n      ''\n    );\n  }\n\n  // reload all Features from this.targets\n  private reloadTargets() {\n    if (!this.targets || !this.source) {\n      return;\n    }\n    this.source.clear();\n    this.onReloadTargets();\n  }\n\n  protected onReloadTargets() {\n    // overloadable\n  }\n\n  // update Features with supplied ids\n  private updateTargetIds(ids: Array<string>, areStale = false) {\n    if (!this.source || !Array.isArray(ids)) {\n      return;\n    }\n    this.onUpdateTargets(ids, areStale);\n  }\n\n  protected onUpdateTargets(ids: Array<string>, areStale: boolean) {\n    // overloadable\n  }\n\n  // remove target features\n  private removeTargetIds(ids: Array<string>) {\n    if (!this.source || !Array.isArray(ids)) {\n      return;\n    }\n    this.onRemoveTargets(ids);\n  }\n\n  protected onRemoveTargets(ids: Array<string>) {\n    // overloadable\n  }\n}\n","/** Related Notes Dialog Component **\n ********************************/\n\nimport { Component, OnInit, Inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\nimport { AddTargetPipe } from './safe.pipe';\n\nimport { AppFacade } from 'src/app/app.facade';\n\n/********* RelatedNotesDialog **********\n\tdata: {\n        notes: [<SKNote>]\n    }\n***********************************/\n@Component({\n  selector: 'ap-relatednotesdialog',\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatDialogModule,\n    MatCardModule,\n    MatButtonModule,\n    MatIconModule,\n    MatTooltipModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatToolbarModule,\n    AddTargetPipe\n  ],\n  templateUrl: `relatednotes-dialog.html`,\n  styleUrls: ['notes.css']\n})\nexport class RelatedNotesDialog implements OnInit {\n  relatedBy: string;\n\n  constructor(\n    public app: AppFacade,\n    public dialogRef: MatDialogRef<RelatedNotesDialog>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  ngOnInit() {\n    this.relatedBy =\n      this.data.relatedBy[0].toUpperCase() + this.data.relatedBy.slice(1);\n  }\n\n  openNoteUrl(url: string) {\n    window.open(url, '_notes');\n  }\n\n  addNote() {\n    this.dialogRef.close({ result: true, data: 'add' });\n  }\n\n  editNote(noteId: string) {\n    this.dialogRef.close({ result: true, data: 'edit', id: noteId });\n  }\n\n  deleteNote(noteId: string) {\n    this.dialogRef.close({ result: true, data: 'delete', id: noteId });\n  }\n}\n","<style>\n  .ap-confirm-icon {\n    min-width: 35px;\n    max-width: 35px;\n    text-align: left;\n  }\n\n  .mat-form-field {\n    width: 100%;\n  }\n  .nosmall {\n    display: none;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px),\n    only screen and (min-width: 800px) {\n    .ap-confirm-icon {\n      min-width: 25%;\n      max-width: 25%;\n    }\n\n    .nosmall {\n      display: flex;\n    }\n  }\n</style>\n\n<div style=\"min-width: 400px\">\n  <mat-toolbar style=\"background-color: transparent\">\n    <span class=\"dialog-icon\"><mat-icon>local_offer</mat-icon></span>\n    <span style=\"flex: 1 1 auto; text-align: center\">{{relatedBy}} Notes</span>\n    <span style=\"text-align: right\">\n      <button mat-icon-button (click)=\"dialogRef.close({result:false})\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </span>\n  </mat-toolbar>\n  <mat-dialog-content>\n    @for(n of data.notes; track n) {\n    <div style=\"padding-bottom: 5px; overflow-y: auto\">\n      <mat-card appearance=\"outlined\">\n        <mat-card-header>\n          <mat-card-title-group>\n            <mat-card-title>{{n[1].name}}</mat-card-title>\n            @if(n[1].properties?.skIcon) {\n            <mat-icon [svgIcon]=\"'sk-' + n[1].properties?.skIcon\"></mat-icon>\n            } @else {\n            <mat-icon class=\"icon-accent\">local_offer</mat-icon>\n            }\n          </mat-card-title-group>\n        </mat-card-header>\n        <mat-card-content style=\"margin-bottom: 0\">\n          @if(n[1].properties.draft) {\n          <p class=\"draft-watermark\">Draft</p>\n          }\n          <div style=\"display: flex; flex-direction: column\">\n            @if(n[1].group) {\n            <div style=\"padding-bottom: 5px; display: flex\">\n              <div style=\"font-weight: bold; vertical-align: top\">Date:</div>\n              <div style=\"padding-left: 10px\">\n                <i>{{n[1].timestamp?.slice(0,10)}}</i>\n              </div>\n            </div>\n            } @if(n[1].group) {\n            <div style=\"padding-bottom: 5px; display: flex\">\n              <div style=\"font-weight: bold; vertical-align: top\">Group:</div>\n              <div style=\"padding-left: 10px\">{{n[1].group}}</div>\n            </div>\n            }\n            <div style=\"padding-bottom: 5px\">\n              <div style=\"font-weight: bold; vertical-align: top\">\n                Description:\n              </div>\n              <div [innerHTML]=\"n[1].description | addTarget: '_notes'\"></div>\n            </div>\n            <div style=\"padding-bottom: 5px; display: flex\">\n              @if(n[1].authors && n[1].authors.length!=0) {\n              <div>\n                <span style=\"font-weight: bold\">Author:</span>\n                &nbsp;{{n[1].authors[0]?.name}} &nbsp;&nbsp;\n              </div>\n              }\n            </div>\n          </div>\n        </mat-card-content>\n        <mat-card-actions>\n          <div style=\"display: flex\">\n            <div style=\"flex: 1 1 auto\">\n              @if(n[1].url) {\n              <div>\n                <button\n                  mat-icon-button\n                  (click)=\"openNoteUrl(n[1].url)\"\n                  matTooltip=\"Open Note link in browser window\"\n                >\n                  <mat-icon>open_in_new</mat-icon>\n                </button>\n              </div>\n              }\n            </div>\n            @if(!n[1].properties.readOnly) {\n            <div style=\"text-align: right\">\n              <button\n                mat-icon-button\n                [disabled]=\"data.readOnly\"\n                (click)=\"editNote(n[0])\"\n                matTooltip=\"Edit Note\"\n              >\n                <mat-icon>edit</mat-icon>\n              </button>\n              &nbsp;\n              <button\n                mat-icon-button\n                [disabled]=\"data.readOnly\"\n                (click)=\"deleteNote(n[0])\"\n                matTooltip=\"Delete Note\"\n              >\n                <mat-icon>delete</mat-icon>\n              </button>\n            </div>\n            }\n          </div>\n        </mat-card-actions>\n      </mat-card>\n    </div>\n    }\n  </mat-dialog-content>\n  <mat-dialog-actions>\n    <div style=\"text-align: center; width: 100%\">\n      <button mat-raised-button [disabled]=\"data.readOnly\" (click)=\"addNote()\">\n        <mat-icon>local_offer</mat-icon>\n        ADD\n      </button>\n    </div>\n  </mat-dialog-actions>\n</div>\n","export * from './notification-manager';\nexport * from './components/alert-list.component';\nexport * from './components/alert.component';\nexport * from './components/alert-properties-modal';\n\nexport * from './components/anchor-watch.component';\nexport * from './anchor.facade';\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport {\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport {\n  CdkDragDrop,\n  moveItemInArray,\n  CdkDrag,\n  CdkDropList\n} from '@angular/cdk/drag-drop';\nimport { Position } from 'src/app/types';\nimport { AppFacade } from 'src/app/app.facade';\n\nimport { SKWaypoint, SKRoute } from '../resource-classes';\nimport { GeoUtils } from 'src/app/lib/geoutils';\nimport { SKResources } from '../resources.service';\n\n/********* ActiveResourcePropertiesModal **********\n\tdata: {\n        title: \"<string>\" title text,\n        type: 'dest' | 'route' resource type,\n        resource: \"<SKWaypoint | SKRoute>\" active resource info\n        skres: pointer to SKResources service\n    }\n***********************************/\n@Component({\n  selector: 'ap-dest-modal',\n  imports: [\n    CommonModule,\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    CdkDrag,\n    CdkDropList\n  ],\n  template: `\n    <div class=\"_ap-dest\" style=\"display:flex;flex-direction:column;\">\n      <div>\n        <mat-toolbar style=\"background-color: transparent\">\n          <span>\n            @if(showClearButton) {\n            <button\n              mat-button\n              (click)=\"deactivate()\"\n              [matTooltip]=\"clearButtonText\"\n            >\n              <mat-icon>clear_all</mat-icon>\n              Clear\n            </button>\n            }\n          </span>\n          <span\n            style=\"flex: 1 1 auto; padding-left:20px;text-align:center;text-overflow: ellipsis;white-space: nowrap; overflow: hidden;\"\n          >\n            {{ data.title }}\n          </span>\n          <span>\n            <button\n              mat-icon-button\n              (click)=\"close()\"\n              matTooltip=\"Close\"\n              matTooltipPosition=\"below\"\n            >\n              <mat-icon>keyboard_arrow_down</mat-icon>\n            </button>\n          </span>\n        </mat-toolbar>\n      </div>\n\n      <div\n        style=\"flex: 1 1 auto;position:relative;overflow:hidden;min-height:200px;\"\n      >\n        <div\n          style=\"top:0;left:0;right:0;bottom:0;position:absolute;\n                    overflow:auto;\"\n          cdkDropList\n          (cdkDropListDropped)=\"drop($event)\"\n        >\n          @for(pt of points; track pt; let i = $index) {\n          <mat-card cdkDrag [cdkDragDisabled]=\"readOnly\">\n            <mat-card-content style=\"padding:3px;\">\n              <div class=\"point-drop-placeholder\" *cdkDragPlaceholder></div>\n\n              <div\n                style=\"display:flex;\"\n                (click)=\"selectPoint(i)\"\n                [style.cursor]=\"\n                  points.length > 1 && selIndex !== -1 ? 'pointer' : 'initial'\n                \"\n              >\n                <div style=\"width:35px;\">\n                  @if(selIndex === i) {\n                  <mat-icon class=\"icon-warn\"> flag </mat-icon>\n                  }\n                </div>\n                <div style=\"flex: 1 1 auto;\">\n                  <div style=\"display:flex;\">\n                    <div class=\"key-label\">\n                      <mat-icon> text_fields </mat-icon>\n                    </div>\n                    <div\n                      style=\"flex: 1 1 auto;\"\n                      [innerText]=\"pointMeta[i].name\"\n                    ></div>\n                  </div>\n\n                  @if(pointMeta[i].description) {\n                  <div style=\"display:flex;\">\n                    <div class=\"key-label\">Desc:</div>\n                    <div\n                      style=\"flex: 1 1 auto;\"\n                      [innerText]=\"pointMeta[i].description\"\n                    ></div>\n                  </div>\n                  }\n\n                  <div style=\"display:flex;\">\n                    <div class=\"key-label\">\n                      <mat-icon [ngClass]=\"{ 'icon-primary': i === 0 }\"\n                        >square_foot</mat-icon\n                      >\n                    </div>\n                    <div style=\"flex: 1 1 auto;\">\n                      <span [innerText]=\"legs[i].bearing\"></span>\n                      &nbsp;\n                      <span [innerText]=\"legs[i].distance\"></span>\n                    </div>\n                  </div>\n                </div>\n                @if(!readOnly && data.type === 'route') {\n                <div cdkDragHandle matTooltip=\"Drag to re-order points\">\n                  <mat-icon>drag_indicator</mat-icon>\n                </div>\n                }\n              </div>\n            </mat-card-content>\n          </mat-card>\n          }\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-dest {\n        font-family: arial;\n        min-width: 300px;\n      }\n      ._ap-dest .key-label {\n        width: 50px;\n        font-weight: bold;\n      }\n      ._ap-dest .selected {\n        background-color: silver;\n      }\n      .point-drop-placeholder {\n        background: #ccc;\n        border: dotted 3px #999;\n        min-height: 60px;\n        transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n      }\n      .cdk-drag-preview {\n        box-sizing: border-box;\n        border-radius: 4px;\n        box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\n          0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\n      }\n    `\n  ]\n})\nexport class ActiveResourcePropertiesModal implements OnInit {\n  protected points: Array<Position> = [];\n  protected pointMeta: Array<{ name: string; description: string }> = [];\n  protected legs: { bearing: string; distance: string }[] = [];\n  protected selIndex = -1;\n  protected clearButtonText = 'Clear';\n  protected showClearButton = false;\n  protected readOnly: boolean;\n\n  constructor(\n    public app: AppFacade,\n    public modalRef: MatBottomSheetRef<ActiveResourcePropertiesModal>,\n    @Inject(MAT_BOTTOM_SHEET_DATA)\n    public data: {\n      title: string;\n      type: string;\n      resource: SKWaypoint | SKRoute;\n      skres: SKResources;\n    }\n  ) {}\n\n  ngOnInit() {\n    if (\n      this.data.resource[1].feature &&\n      this.data.resource[1].feature.geometry.coordinates\n    ) {\n      if (this.data.type === 'route') {\n        this.points = [].concat(\n          this.data.resource[1].feature.geometry.coordinates\n        );\n        this.legs = this.getLegs();\n\n        this.data.title = this.data.resource[1].name\n          ? `${this.data.resource[1].name} Points`\n          : 'Route Points';\n\n        if (this.data.resource[0] === this.app.data.activeRoute) {\n          this.selIndex = this.app.data.navData.pointIndex;\n          this.showClearButton = true;\n        }\n        this.readOnly =\n          this.data.resource[1].feature.properties?.readOnly ?? false;\n        this.pointMeta = this.getPointsMeta();\n      }\n    }\n  }\n\n  getLegs() {\n    const pos = this.app.data.vessels.self.position;\n    return GeoUtils.routeLegs(this.points, pos).map((l) => {\n      return {\n        bearing: this.app.formatValueForDisplay(l.bearing, 'deg'),\n        distance: this.app.formatValueForDisplay(l.distance, 'm')\n      };\n    });\n  }\n\n  getPointsMeta() {\n    if (\n      this.data.resource[1].feature.properties.coordinatesMeta &&\n      Array.isArray(this.data.resource[1].feature.properties.coordinatesMeta)\n    ) {\n      const pointsMeta =\n        this.data.resource[1].feature.properties.coordinatesMeta;\n      let idx = 0;\n      return pointsMeta.map((pt) => {\n        idx++;\n        if (pt.href) {\n          const id = pt.href.split('/').slice(-1);\n          const wpt = this.data.skres.fromCache('waypoints', id[0]);\n          return wpt\n            ? {\n                name: `* ${wpt[1].name}`,\n                description: `* ${wpt[1].description}`\n              }\n            : {\n                name: '!wpt reference!',\n                description: ''\n              };\n        } else {\n          return {\n            name: pt.name ?? `RtePt-${('000' + String(idx)).slice(-3)}`,\n            description: pt.description ?? ``\n          };\n        }\n      });\n    } else {\n      let idx = 0;\n      return this.points.map(() => {\n        return {\n          name: `RtePt-${('000' + String(++idx)).slice(-3)}`,\n          description: ''\n        };\n      });\n    }\n  }\n\n  selectPoint(idx: number) {\n    if (this.points.length < 2 || this.selIndex < 0) {\n      return;\n    }\n    this.selIndex = idx;\n    if (this.data.skres) {\n      this.data.skres.coursePointIndex(this.selIndex);\n    }\n  }\n\n  drop(e: CdkDragDrop<{ previousIndex: number; currentIndex: number }>) {\n    if (this.data.type === 'route') {\n      const selPosition = this.points[this.selIndex];\n      moveItemInArray(this.points, e.previousIndex, e.currentIndex);\n      this.legs = this.getLegs();\n      if (this.data.resource[1].feature.properties.coordinatesMeta) {\n        moveItemInArray(\n          this.data.resource[1].feature.properties.coordinatesMeta,\n          e.previousIndex,\n          e.currentIndex\n        );\n      }\n      moveItemInArray(this.pointMeta, e.previousIndex, e.currentIndex);\n\n      this.updateFlag(selPosition);\n      this.data.skres.updateRouteCoords(\n        this.data.resource[0],\n        this.points,\n        this.data.resource[1].feature.properties.coordinatesMeta\n      );\n    }\n  }\n\n  updateFlag(selPosition: Position) {\n    if (!selPosition) {\n      return;\n    }\n    let idx = 0;\n    this.points.forEach((p: Position) => {\n      if (p[0] === selPosition[0] && p[1] === selPosition[1]) {\n        this.selIndex = idx;\n      }\n      idx++;\n    });\n  }\n\n  close() {\n    this.modalRef.dismiss();\n  }\n\n  // ** deactivate route / clear destination\n  deactivate() {\n    this.modalRef.dismiss(true);\n  }\n}\n","/*****************************\n * GPX to Signal K components\n *****************************/\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\n\n// ** components **\n\nimport { GPXImportDialog } from './gpxload/gpxload-dialog';\nimport { GPXExportDialog } from './gpxsave/gpxsave-dialog';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatDialogModule,\n    MatIconModule,\n    MatButtonModule,\n    MatCardModule,\n    MatExpansionModule,\n    MatCheckboxModule,\n    MatTooltipModule,\n    MatToolbarModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatDividerModule,\n    MatProgressBarModule\n  ],\n  declarations: [GPXImportDialog, GPXExportDialog],\n  exports: [GPXImportDialog, GPXExportDialog],\n  providers: []\n})\nexport class GPXModule {}\n\nexport * from './gpxload/gpxload-dialog';\nexport * from './gpxsave/gpxsave-dialog';\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { PopoverComponent } from './popover.component';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { Convert } from 'src/app/lib/convert';\nimport { SKRoute, SKWaypoint, SKNote, SKRegion } from 'src/app/modules';\nimport { AppIconDef, getResourceIcon } from 'src/app/modules/icons';\n\n/*********** Resource Popover ***************\ntitle: string -  title text,\nresource: resource data\ntype: string - resource type\nid: string - resource id\n*************************************************/\n@Component({\n  selector: 'resource-popover',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    PipesModule,\n    PopoverComponent\n  ],\n  template: `\n    <ap-popover\n      [title]=\"title\"\n      [icon]=\"icon\"\n      [canClose]=\"canClose\"\n      (closed)=\"handleClose()\"\n    >\n      <div\n        style=\"flex: 1 1 auto;text-align:left;font-style: italic; overflow: hidden;\n                                display: -webkit-box;\n                                -webkit-box-orient: vertical;\n                                -webkit-line-clamp: 2;\n                                line-clamp: 2;\n                                text-overflow:ellipsis;\"\n      >\n        {{ resource[1].description ?? '' }}\n      </div>\n      @for(p of properties; track p) {\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">{{ p[0] }}:</div>\n        @if(p[0] !== 'Latitude' && p[0] !== 'Longitude') {\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\n                                  white-space:nowrap;\n                                  overflow-x:hidden;\n                                  text-overflow:ellipsis;\"\n        >\n          {{ p[1] }}\n        </div>\n        } @if(p[0] === 'Latitude') {\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"\n            p[1] | coords : app.config.selections.positionFormat : true\n          \"\n        ></div>\n        } @if(p[0] === 'Longitude') {\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"p[1] | coords : app.config.selections.positionFormat\"\n        ></div>\n        }\n      </div>\n      }\n\n      <div style=\"display:flex;flex-wrap: wrap;\">\n        @if(ctrl.showModifyButton) {\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitModify()\"\n            matTooltip=\"Modify / Move\"\n            matTooltipPosition=\"after\"\n            [disabled]=\"this.ctrl.isReadOnly\"\n          >\n            <mat-icon>touch_app</mat-icon>\n            MOVE\n          </button>\n        </div>\n        } @if(ctrl.showAddNoteButton) {\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitAddNote()\"\n            matTooltip=\"Add Note\"\n            matTooltipPosition=\"after\"\n          >\n            <mat-icon>local_offer</mat-icon>\n            ADD\n          </button>\n        </div>\n        } @if(ctrl.showDeleteButton) {\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitDelete()\"\n            matTooltip=\"Delete\"\n            matTooltipPosition=\"after\"\n            [disabled]=\"this.ctrl.isReadOnly\"\n          >\n            <mat-icon>delete</mat-icon>\n            DELETE\n          </button>\n        </div>\n        } @if(ctrl.canActivate && !ctrl.isActive) {\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitActive(true)\"\n            [matTooltip]=\"\n              type === 'waypoint'\n                ? 'Navigate to Waypoint'\n                : 'Make this the Active Route'\n            \"\n            matTooltipPosition=\"after\"\n          >\n            <mat-icon>near_me</mat-icon>\n            {{ ctrl.activeText }}\n          </button>\n        </div>\n        } @else if (ctrl.canActivate && ctrl.isActive) {\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitActive(false)\"\n            matTooltip=\"Clear Destination\"\n            matTooltipPosition=\"after\"\n          >\n            <mat-icon>clear_all</mat-icon>\n            CLEAR\n          </button>\n        </div>\n        } @if(ctrl.showRelatedButton) {\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitRelated()\"\n            matTooltip=\"Notes in Group\"\n            matTooltipPosition=\"after\"\n          >\n            <mat-icon>style</mat-icon>\n            GROUP\n          </button>\n        </div>\n        } @if(ctrl.showNotesButton) {\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitNotes()\"\n            matTooltipPosition=\"after\"\n            matTooltip=\"Show Notes\"\n          >\n            <mat-icon>local_offer</mat-icon>\n            NOTES\n          </button>\n        </div>\n        } @if(ctrl.showInfoButton) {\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitInfo()\"\n            matTooltip=\"Show Details\"\n            matTooltipPosition=\"after\"\n          >\n            <mat-icon>info_outline</mat-icon>\n            INFO\n          </button>\n        </div>\n        } @if(ctrl.showPointsButton) {\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitPoints()\"\n            matTooltip=\"Route Waypoints\"\n            matTooltipPosition=\"after\"\n          >\n            <mat-icon>flag</mat-icon>\n            POINTS\n          </button>\n        </div>\n        }\n      </div>\n    </ap-popover>\n  `,\n  styleUrls: [`./popover.component.scss`]\n})\nexport class ResourcePopoverComponent {\n  @Input() title: string;\n  @Input() type: string;\n  @Input() resource: SKRoute | SKWaypoint | SKNote | SKRegion;\n  @Input() active: boolean;\n  @Input() featureCount = 0;\n  @Input() units = 'm';\n  @Input() canClose: boolean;\n  @Output() modify: EventEmitter<void> = new EventEmitter();\n  @Output() delete: EventEmitter<void> = new EventEmitter();\n  @Output() addNote: EventEmitter<void> = new EventEmitter();\n  @Output() activated: EventEmitter<void> = new EventEmitter();\n  @Output() deactivated: EventEmitter<void> = new EventEmitter();\n  @Output() related: EventEmitter<string> = new EventEmitter();\n  @Output() info: EventEmitter<string> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  @Output() points: EventEmitter<void> = new EventEmitter();\n  @Output() notes: EventEmitter<void> = new EventEmitter();\n\n  properties: Array<unknown>; // ** resource properties\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ctrl: any = {\n    showInfoButton: false,\n    showModifyButton: false,\n    showDeleteButton: false,\n    showAddNoteButton: false,\n    showRelatedButton: false,\n    showPointsButton: false,\n    showNotesButton: false,\n    canActivate: false,\n    isActive: false,\n    activeText: 'ACTIVE',\n    isReadOnly: false\n  };\n\n  protected icon: AppIconDef;\n\n  constructor(public app: AppFacade) {}\n\n  ngOnChanges() {\n    this.parse();\n    this.ctrl.showModifyButton =\n      this.type !== 'destination' &&\n      this.resource[0] !== 'n2k' &&\n      this.featureCount > 0\n        ? true\n        : false;\n  }\n\n  parse() {\n    if (this.type === 'destination') {\n      this.parseDestination();\n    }\n    if (this.type === 'waypoint') {\n      this.parseWaypoint();\n    }\n    if (this.type === 'route') {\n      this.parseRoute();\n    }\n    if (this.type === 'note') {\n      this.parseNote();\n    }\n    if (this.type === 'region') {\n      this.parseRegion();\n    }\n  }\n\n  parseDestination() {\n    this.icon = undefined;\n    this.ctrl.isActive = this.app.data.activeRoute ? false : true;\n    this.ctrl.activeText = 'GO TO';\n    this.ctrl.canActivate = this.app.data.activeRoute ? false : true;\n    this.ctrl.showInfoButton = false;\n    this.ctrl.showModifyButton = false;\n    this.ctrl.showDeleteButton = false;\n    this.ctrl.showNotesButton = false;\n    this.ctrl.showAddNoteButton = false;\n    this.ctrl.showPointsButton = false;\n    this.ctrl.showRelatedButton = false;\n    this.properties = [];\n    if (this.resource[1].name) {\n      this.properties.push(['Name', this.resource[1].name]);\n    }\n    if (this.resource[1].description) {\n      this.properties.push(['Desc.', this.resource[1].description]);\n    }\n    this.properties.push([\n      'Latitude',\n      this.resource[1].feature.geometry.coordinates[1]\n    ]);\n    this.properties.push([\n      'Longitude',\n      this.resource[1].feature.geometry.coordinates[0]\n    ]);\n  }\n\n  parseWaypoint() {\n    this.ctrl.isActive =\n      this.active && this.active === this.resource[0] ? true : false;\n    this.ctrl.activeText = 'GO TO';\n    this.ctrl.canActivate = true;\n    this.ctrl.showInfoButton = true;\n    this.ctrl.showModifyButton = true;\n    this.ctrl.showDeleteButton = true;\n    this.ctrl.showNotesButton = true;\n    this.ctrl.showAddNoteButton = false;\n    this.ctrl.showPointsButton = false;\n    this.ctrl.showRelatedButton = false;\n    this.ctrl.isReadOnly = this.resource[1].feature.properties?.readOnly;\n    this.properties = [];\n\n    this.icon = getResourceIcon('waypoints', this.resource[1]);\n    this.title = this.resource[1].name ?? '';\n\n    this.properties.push([\n      'Latitude',\n      this.resource[1].feature.geometry.coordinates[1]\n    ]);\n    this.properties.push([\n      'Longitude',\n      this.resource[1].feature.geometry.coordinates[0]\n    ]);\n  }\n\n  parseRoute() {\n    if (this.resource[0] === 'n2k') {\n      this.ctrl.isActive = false;\n      this.ctrl.activeText = '';\n      this.ctrl.canActivate = false;\n      this.ctrl.showInfoButton = false;\n      this.ctrl.showModifyButton = false;\n      this.ctrl.showPointsButton = false;\n      this.ctrl.showNotesButton = false;\n      this.ctrl.showAddNoteButton = false;\n      this.ctrl.showRelatedButton = false;\n      this.ctrl.showDeleteButton = false;\n    } else {\n      this.ctrl.isActive =\n        this.active && this.active === this.resource[0] ? true : false;\n      this.ctrl.activeText = 'ACTIVATE';\n      this.ctrl.canActivate = true;\n      this.ctrl.showInfoButton = true;\n      this.ctrl.showModifyButton = true;\n      this.ctrl.showPointsButton = true;\n      this.ctrl.showNotesButton = true;\n      this.ctrl.showAddNoteButton = false;\n      this.ctrl.showRelatedButton = false;\n      this.ctrl.showDeleteButton = this.ctrl.isActive ? false : true;\n      this.ctrl.isReadOnly = this.resource[1].feature.properties?.readOnly;\n    }\n\n    this.icon = getResourceIcon('routes', this.resource[1]);\n    this.title = this.resource[1].name ?? '';\n    this.properties = [];\n    const d =\n      this.units === 'm'\n        ? [(this.resource[1].distance / 1000).toFixed(1), 'km']\n        : [\n            Convert.kmToNauticalMiles(this.resource[1].distance / 1000).toFixed(\n              1\n            ),\n            'NM'\n          ];\n    this.properties.push(['Distance', `${d[0]} ${d[1]}`]);\n  }\n\n  parseNote() {\n    this.ctrl.isActive = false;\n    this.ctrl.activeText = '';\n    this.ctrl.canActivate = false;\n    this.ctrl.showInfoButton = true;\n    this.ctrl.showModifyButton = true;\n    this.ctrl.showDeleteButton = true;\n    this.ctrl.showAddNoteButton = false;\n    this.ctrl.showNotesButton = false;\n    this.ctrl.showPointsButton = false;\n    this.ctrl.showRelatedButton =\n      this.resource[1].group && this.app.config.resources.notes.groupNameEdit\n        ? true\n        : false;\n\n    this.icon = getResourceIcon('notes', this.resource[1]);\n    this.title = this.resource[1].name ?? '';\n    this.properties = [];\n    this.ctrl.isReadOnly = this.resource[1].properties?.readOnly;\n  }\n\n  parseRegion() {\n    this.ctrl.isActive = false;\n    this.ctrl.activeText = '';\n    this.ctrl.canActivate = false;\n    this.ctrl.showInfoButton = true;\n    this.ctrl.showModifyButton =\n      this.resource[1].feature.geometry.type === 'MultiPolygon' ? false : true;\n    this.ctrl.showDeleteButton = true;\n    this.ctrl.showAddNoteButton = false;\n    this.ctrl.showNotesButton = true;\n    this.ctrl.showPointsButton = false;\n    this.ctrl.showRelatedButton = false;\n    this.ctrl.isReadOnly = this.resource[1].feature.properties?.readOnly;\n    this.properties = [];\n    this.icon = getResourceIcon('regions', this.resource[1]);\n    this.title = this.resource[1].name ?? '';\n  }\n\n  // *** BUTTON actions *******\n\n  emitModify() {\n    this.modify.emit();\n  }\n\n  emitAddNote() {\n    this.addNote.emit();\n  }\n\n  emitDelete() {\n    this.delete.emit();\n  }\n\n  emitActive(activate: boolean) {\n    if (activate) {\n      this.activated.emit();\n    } else {\n      this.deactivated.emit();\n    }\n  }\n\n  emitPoints() {\n    this.points.emit();\n  }\n\n  emitNotes() {\n    this.notes.emit();\n  }\n\n  emitInfo() {\n    this.info.emit();\n  }\n\n  emitRelated() {\n    this.related.emit(this.resource[1].group);\n  }\n\n  handleClose() {\n    this.closed.emit();\n  }\n}\n\n/*********** ResourceSet Popover ***************\ntitle: string -  title text,\nresource: resource data\ntype: string - resource type\nid: string - resource id\n*************************************************/\n@Component({\n  selector: 'resourceset-popover',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    PipesModule,\n    PopoverComponent\n  ],\n  template: `\n    <ap-popover [title]=\"title\" [canClose]=\"canClose\" (closed)=\"handleClose()\">\n      @for(p of properties; track p) { @if(p[0] === 'Description') {\n      <div style=\"font-weight:bold;\">{{ p[0] }}:</div>\n      <div style=\"flex: 1 1 auto;overflow-x:auto;height:60px;\">\n        {{ p[1] }}\n      </div>\n      } @else {\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">{{ p[0] }}:</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;white-space:nowrap;\n            overflow-x:auto;text-overflow:ellipsis;\"\n        >\n          {{ p[1] }}\n        </div>\n      </div>\n      } }\n      <div style=\"display:flex;flex-wrap: wrap;\">\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"emitInfo()\"\n            matTooltip=\"Show Properties\"\n            matTooltipPosition=\"after\"\n          >\n            <mat-icon>info_outline</mat-icon>\n            INFO\n          </button>\n        </div>\n      </div>\n    </ap-popover>\n  `,\n  styleUrls: [`./popover.component.scss`]\n})\nexport class ResourceSetPopoverComponent {\n  @Input() title: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() resource: any;\n  @Input() canClose: boolean;\n  @Output() info: EventEmitter<string> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n\n  properties: Array<unknown>; // ** resource properties\n\n  constructor(public app: AppFacade) {}\n\n  ngOnChanges() {\n    this.parse();\n  }\n\n  parse() {\n    this.properties = [];\n    this.properties.push(['Name', this.resource.properties.name ?? '']);\n    this.properties.push([\n      'Description',\n      this.resource.properties.description ?? ''\n    ]);\n  }\n\n  // *** BUTTON actions *******\n  emitInfo() {\n    this.info.emit();\n  }\n\n  handleClose() {\n    this.closed.emit();\n  }\n}\n","/*******************************\n    GeoUtils Class Module       \n*******************************/\nimport { Convert } from './convert';\nimport {\n  getDistance,\n  getPathLength,\n  getCenter,\n  computeDestinationPoint,\n  isPointInPolygon,\n  getGreatCircleBearing\n} from 'geolib';\nimport { SKPosition, Position } from '../types';\n\nexport type Extent = [number, number, number, number]; // coords [swlon,swlat,nelon,nelat] of a bounding box\n\nexport class GeoUtils {\n  static destCoordinate(\n    src: Position,\n    bearing: number,\n    distance: number\n  ): Position {\n    const pt = computeDestinationPoint(\n      src,\n      distance,\n      Convert.radiansToDegrees(bearing)\n    );\n    return [pt.longitude, pt.latitude];\n  }\n\n  //** Calculate the great circle distance between two points in metres\n  static distanceTo(srcpt: Position, destpt: Position) {\n    return getDistance(srcpt, destpt);\n  }\n\n  //** Calculate the length of an array of points in metres\n  static routeLength(points: Position[]) {\n    return getPathLength(points);\n  }\n\n  /** Calculate distance bearing between each point in an array\n   * @param points Array of points\n   * @returns Array of objects (same length as points) containing bearing & distance.\n   */\n  static routeLegs(\n    points: Position[],\n    vessel?: Position\n  ): { bearing: number; distance: number }[] {\n    if (points.length < 2) {\n      return [];\n    }\n    const legs = [];\n    if (vessel) {\n      legs.push({\n        bearing: getGreatCircleBearing(vessel, points[0]),\n        distance: GeoUtils.distanceTo(vessel, points[0])\n      });\n    } else {\n      legs.push({\n        bearing: 0,\n        distance: 0\n      });\n    }\n    for (let i = 1; i < points.length; ++i) {\n      const l = {\n        bearing: getGreatCircleBearing(points[i - 1], points[i]),\n        distance: GeoUtils.distanceTo(points[i - 1], points[i])\n      };\n      legs.push(l);\n    }\n    return legs;\n  }\n\n  //** Calculate the centre of polygon\n  static centreOfPolygon(coords: Array<Position>): Position {\n    const c = getCenter(coords) as SKPosition;\n    return [c.longitude, c.latitude];\n  }\n\n  /** DateLine Crossing:\n   * returns true if point is in the zone for dateline transition\n   * zoneValue: lower end of 180 to xx range within which Longitude must fall for retun value to be true\n   **/\n  static inDLCrossingZone(coord: Position, zoneValue = 170) {\n    return Math.abs(coord[0]) >= zoneValue ? true : false;\n  }\n\n  // returns true if point is inside the supplied extent\n  static inBounds(point: Position, extent: Extent) {\n    return isPointInPolygon(point, [\n      [extent[0], extent[1]],\n      [extent[0], extent[3]],\n      [extent[2], extent[3]],\n      [extent[2], extent[1]],\n      [extent[0], extent[1]]\n    ]);\n  }\n\n  // returns mapified extent centered at point with boundary radius meters from center\n  static calcMapifiedExtent(point: Position, radius: number): Extent {\n    const latScale = 111111; // 1 deg of lat in meters\n    const lonScale = latScale * Math.cos(Convert.degreesToRadians(point[1]));\n    const ext: Extent = [0, 0, 0, 0];\n\n    // latitude bounds\n    ext[1] = point[1] + (0 - Math.abs(radius)) / latScale;\n    ext[3] = point[1] + Math.abs(radius) / latScale;\n    // longitude bounds\n    ext[0] = point[0] + (0 - Math.abs(radius)) / lonScale;\n    ext[2] = point[0] + Math.abs(radius) / lonScale;\n    return ext;\n  }\n\n  // ensure -180<coords<180\n  static normaliseCoords(coords: Position); // Point\n  static normaliseCoords(coords: Array<Position>); //LineString\n  static normaliseCoords(coords: Array<Array<Position>>); // MultiLineString\n  static normaliseCoords(coords) {\n    if (!Array.isArray(coords)) {\n      return [0, 0];\n    }\n    if (typeof coords[0] === 'number') {\n      if (coords[0] > 180) {\n        while (coords[0] > 180) {\n          coords[0] = coords[0] - 360;\n        }\n      } else if (coords[0] < -180) {\n        while (coords[0] < -180) {\n          coords[0] = 360 + coords[0];\n        }\n      }\n      return coords;\n    } else if (Array.isArray(coords[0])) {\n      coords.forEach((c) => (c = this.normaliseCoords(c)));\n      return coords;\n    }\n  }\n}\n\nexport class Angle {\n  /** difference between two angles (in degrees)\n   * @param h: angle 1 (in degrees)\n   * @param b: angle 2 (in degrees)\n   * @returns angle (-ive = port)\n   */\n  static difference(h: number, b: number): number {\n    const d = 360 - b;\n    const hd = h + d;\n    const a = Angle.normalise(hd);\n    return a < 180 ? 0 - a : 360 - a;\n  }\n\n  /** Add two angles (in degrees)\n   * @param h: angle 1 (in degrees)\n   * @param b: angle 2 (in degrees)\n   * @returns sum angle\n   */\n  static add(h: number, b: number): number {\n    return Angle.normalise(h + b);\n  }\n\n  /** Normalises angle to a value between 0 & 360 degrees\n   * @param a: angle (in degrees)\n   * @returns value between 0-360\n   */\n  static normalise(a: number): number {\n    return a < 0 ? a + 360 : a >= 360 ? a - 360 : a;\n  }\n}\n","export * from './common/dialogs.module';\nexport * from './errorlist-dialog';\nexport * from './playback-dialog';\nexport * from './geojson/geojson-dialog';\nexport * from './trail2route-dialog';\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, RegularShape, Fill, Stroke, Circle } from 'ol/style';\nimport { Geometry, Point, LineString } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { AsyncSubject } from 'rxjs';\n\n// ** Freeboard Vessel component **\n@Component({\n  selector: 'ol-map > fb-vessel',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class VesselComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature>;\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject();\n\n  @Input() id: string;\n  @Input() activeId: string;\n  @Input() position: Coordinate;\n  @Input() heading = 0;\n  @Input() vesselStyles: { [key: string]: Style };\n  @Input() vesselLines: { [key: string]: Array<Coordinate> };\n  @Input() showWind = false;\n  @Input() fixedLocation: boolean;\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  vessel: Feature;\n  twdLine: Feature;\n  awaLine: Feature;\n  headingLine: Feature;\n  cogLine: Feature;\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    const fa = [];\n    this.parseVessel();\n    if (this.vessel) {\n      fa.push(this.vessel);\n    }\n    this.renderVesselLines();\n    if (this.headingLine) {\n      fa.push(this.headingLine);\n    }\n    if (this.twdLine) {\n      fa.push(this.twdLine);\n    }\n    if (this.awaLine) {\n      fa.push(this.awaLine);\n    }\n    if (this.cogLine) {\n      fa.push(this.cogLine);\n    }\n\n    this.source = new VectorSource({ features: fa });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (\n          key === 'id' ||\n          key === 'activeId' ||\n          key === 'position' ||\n          key === 'heading'\n        ) {\n          if (this.source) {\n            this.parseVessel();\n          }\n        } else if (key === 'vesselLines' || key === 'showWind') {\n          if (this.source) {\n            this.renderVesselLines();\n          }\n        } else if (key === 'vesselStyles') {\n          if (this.source) {\n            this.parseVessel();\n          }\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseVessel() {\n    if (!this.vessel) {\n      // create feature\n      this.vessel = new Feature(\n        new Point(fromLonLat([this.position[0] ?? 0, this.position[1] ?? 0]))\n      );\n    }\n    // update feature\n    if (\n      this.position &&\n      Array.isArray(this.position) &&\n      this.position.length > 1\n    ) {\n      const g: Geometry = this.vessel.getGeometry();\n      (g as Point).setCoordinates(\n        fromLonLat([this.position[0], this.position[1]])\n      );\n    }\n    this.vessel.setId(this.id ?? 'self');\n    const s = this.buildStyle();\n    if (s) {\n      const im = (s as Style).getImage();\n      if (im) {\n        if (this.fixedLocation) {\n          im.setRotation(0);\n        } else {\n          im.setRotation(this.heading);\n        }\n      }\n      this.vessel.setStyle(s);\n    }\n  }\n\n  // build target style\n  buildStyle(): Style {\n    let cs = new Style({\n      // default style\n      image: new RegularShape({\n        points: 3,\n        radius: 15,\n        fill: new Fill({ color: 'red' }),\n        stroke: new Stroke({\n          color: 'black',\n          width: 3\n        }),\n        rotateWithView: true,\n        rotation: this.heading ?? 0\n      })\n    });\n\n    if (this.vesselStyles) {\n      if (this.fixedLocation) {\n        if (this.vesselStyles.fixed) {\n          cs = this.vesselStyles.fixed;\n        }\n      } else {\n        if (this.activeId && this.activeId !== this.id) {\n          if (this.vesselStyles.inactive) {\n            cs = this.vesselStyles.inactive;\n          }\n        } else {\n          if (this.vesselStyles.default) {\n            cs = this.vesselStyles.default;\n          }\n        }\n      }\n    } else if (this.layerProperties && this.layerProperties.style) {\n      cs = this.layerProperties.style;\n    }\n\n    return cs;\n  }\n\n  // remove feature from layer\n  removeFeature(f: Feature) {\n    if (this.source) {\n      this.source.removeFeature(f);\n    }\n  }\n\n  renderVesselLines() {\n    if (!this.vesselLines) {\n      return;\n    }\n    if ('heading' in this.vesselLines) {\n      this.headingLine = this.updateLine(\n        this.headingLine,\n        this.vesselLines.heading\n      );\n      this.headingLine.setStyle(\n        new Style({\n          stroke: new Stroke({ color: 'rgba(221, 99, 0, 0.5)', width: 4 })\n        })\n      );\n    } else {\n      this.removeFeature(this.headingLine);\n    }\n    if ('twd' in this.vesselLines) {\n      this.twdLine = this.updateLine(this.twdLine, this.vesselLines.twd);\n      this.twdLine.setStyle(\n        new Style({\n          stroke: new Stroke({\n            color: `rgb(128, 128, 0, ${this.showWind ? 1 : 0})`,\n            width: 2\n          })\n        })\n      );\n    } else {\n      this.removeFeature(this.twdLine);\n    }\n    if ('awa' in this.vesselLines) {\n      this.awaLine = this.updateLine(this.awaLine, this.vesselLines.awa);\n      this.awaLine.setStyle(\n        new Style({\n          stroke: new Stroke({\n            color: `rgb(16, 75, 16, ${this.showWind ? 1 : 0})`,\n            width: 1\n          })\n        })\n      );\n    } else {\n      this.removeFeature(this.awaLine);\n    }\n    if ('cog' in this.vesselLines) {\n      this.cogLine = this.updateLine(this.cogLine, this.vesselLines.cog);\n      this.cogLine.setStyle((feature: Feature) => {\n        const color = 'rgba(204, 12, 225, 0.7)';\n        const geometry = feature.getGeometry() as LineString;\n        const styles = [];\n        styles.push(\n          new Style({\n            stroke: new Stroke({ color: color, width: 1 })\n          })\n        );\n        geometry.forEachSegment((start: Coordinate, end: Coordinate) => {\n          styles.push(\n            new Style({\n              geometry: new Point(end),\n              image: new Circle({\n                radius: 2,\n                stroke: new Stroke({\n                  color: color,\n                  width: 1\n                }),\n                fill: new Fill({ color: 'transparent' })\n              })\n            })\n          );\n        });\n        return styles;\n      });\n    } else {\n      this.removeFeature(this.cogLine);\n    }\n  }\n\n  // ** update line geometry **\n  updateLine(lf: Feature, coords: Array<Coordinate>) {\n    if (!coords || !Array.isArray(coords)) {\n      return;\n    }\n    if (!lf) {\n      // create feature\n      lf = new Feature(new LineString(fromLonLatArray(mapifyCoords(coords))));\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const g: any = lf.getGeometry();\n      g.setCoordinates(fromLonLatArray(mapifyCoords(coords)));\n    }\n    return lf;\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { PopoverComponent } from './popover.component';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKAircraft } from 'src/app/modules';\n/*********** Aircraft Popover ***************\n  title: string -  title text,\n  aircraft: SKAircraft - aircraft data\n  *************************************************/\n@Component({\n  selector: 'aircraft-popover',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    PipesModule,\n    PopoverComponent\n  ],\n  template: `\n    <ap-popover [title]=\"_title\" [canClose]=\"canClose\" (closed)=\"handleClose()\">\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Name:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">{{ aircraft.name }}</div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Call sign VHF:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">\n          {{ aircraft.callsignVhf }}\n        </div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Call sign HF:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">\n          {{ aircraft.callsignHf }}\n        </div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Latitude:</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"\n            aircraft.position[1]\n              | coords : app.config.selections.positionFormat : true\n          \"\n        ></div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Longitude:</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"\n            aircraft.position[0] | coords : app.config.selections.positionFormat\n          \"\n        ></div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Last Update:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">\n          {{ timeLastUpdate }} {{ timeAgo }}\n        </div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"flex:1 1 auto;\">&nbsp;</div>\n        <div class=\"popover-action-button\">\n          <button\n            mat-button\n            (click)=\"handleInfo()\"\n            matTooltip=\"Show Properties\"\n          >\n            <mat-icon>info_outline</mat-icon>\n            INFO\n          </button>\n        </div>\n      </div>\n    </ap-popover>\n  `,\n  styleUrls: []\n})\nexport class AircraftPopoverComponent {\n  @Input() title: string;\n  @Input() aircraft: SKAircraft;\n  @Input() canClose: boolean;\n  @Output() info: EventEmitter<string> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  _title: string;\n  timeLastUpdate: string;\n  timeAgo: string; // last update in minutes ago\n  constructor(public app: AppFacade) {}\n  ngOnInit() {\n    if (!this.aircraft) {\n      this.handleClose();\n    } else {\n      this._title =\n        this.title || this.aircraft.name || this.aircraft.mmsi || 'Aircraft:';\n    }\n  }\n  ngOnChanges() {\n    if (!this.aircraft) {\n      this.handleClose();\n      return;\n    }\n    this.timeLastUpdate = `${this.aircraft.lastUpdated.getHours()}:${(\n      '00' + this.aircraft.lastUpdated.getMinutes()\n    ).slice(-2)}`;\n    const td =\n      (new Date().valueOf() - this.aircraft.lastUpdated.valueOf()) / 1000;\n    this.timeAgo = td < 60 ? '' : `(${Math.floor(td / 60)} min ago)`;\n  }\n  handleInfo() {\n    this.info.emit(this.aircraft.id);\n  }\n  handleClose() {\n    this.closed.emit();\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, Stroke } from 'ol/style';\nimport { Geometry, MultiLineString, LineString } from 'ol/geom';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { AsyncSubject } from 'rxjs';\n\n// ** Freeboard Vessel trail component **\n@Component({\n  selector: 'ol-map > fb-vessel-trail',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class VesselTrailComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature>;\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject();\n\n  @Input() localTrail: Array<Coordinate>;\n  @Input() serverTrail: Array<Array<Coordinate>>;\n  @Input() trailStyles: { [key: string]: Style };\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  trailLocal: Feature;\n  trailServer: Feature;\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    const fa = [];\n    this.parseTrails();\n    if (this.trailLocal) {\n      fa.push(this.trailLocal);\n    }\n    if (this.trailServer) {\n      fa.push(this.trailServer);\n    }\n    this.source = new VectorSource({ features: fa });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (key === 'localTrail') {\n          if (this.source) {\n            this.parseLocalTrail();\n          }\n        }\n        if (key === 'serverTrail') {\n          if (this.source) {\n            this.parseServerTrail();\n          }\n        }\n        if (key === 'trailStyles') {\n          if (this.source) {\n            this.parseTrails();\n          }\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseTrails() {\n    this.parseLocalTrail();\n    this.parseServerTrail();\n  }\n\n  parseLocalTrail() {\n    if (!this.localTrail) {\n      return;\n    }\n    const c = fromLonLatArray(mapifyCoords(this.localTrail));\n    if (!this.trailLocal) {\n      // create feature\n      this.trailLocal = new Feature(new LineString(c));\n      this.trailLocal.setId('trail.self.local');\n      this.trailLocal.setStyle(this.buildStyle('local'));\n    } else {\n      //update feature\n      this.trailLocal = this.source.getFeatureById(\n        'trail.self.local'\n      ) as Feature;\n      if (this.localTrail && Array.isArray(this.localTrail)) {\n        const g: Geometry = this.trailLocal.getGeometry();\n        (g as LineString).setCoordinates(c);\n      }\n    }\n  }\n\n  parseServerTrail() {\n    if (!this.serverTrail) {\n      return;\n    }\n    const ca = this.serverTrail.map((t: Array<Coordinate>) => {\n      return fromLonLatArray(mapifyCoords(t));\n    });\n    if (!this.trailServer) {\n      // create feature\n      this.trailServer = new Feature(new MultiLineString(ca));\n      this.trailServer.setId('trail.self.server');\n      this.trailServer.setStyle(this.buildStyle('server'));\n    } else {\n      //update feature\n      this.trailServer = this.source.getFeatureById(\n        'trail.self.server'\n      ) as Feature;\n      if (this.serverTrail && Array.isArray(this.serverTrail)) {\n        const g: Geometry = this.trailServer.getGeometry();\n        (g as MultiLineString).setCoordinates(ca);\n      }\n    }\n  }\n\n  // build target style\n  buildStyle(type = 'local'): Style {\n    let cs: Style;\n    if (type === 'server') {\n      if (this.trailStyles && this.trailStyles.server) {\n        cs = this.trailStyles.server;\n      } else {\n        cs = new Style({\n          // default server\n          stroke: new Stroke({\n            color: 'rgb(252, 3, 132)',\n            width: 1,\n            lineDash: [4, 4]\n          })\n        });\n      }\n    } else {\n      if (this.trailStyles && this.trailStyles.local) {\n        cs = this.trailStyles.local;\n      } else {\n        cs = new Style({\n          // default local\n          stroke: new Stroke({\n            color: 'rgb(252, 3, 132)',\n            width: 1,\n            lineDash: [2, 2]\n          })\n        });\n      }\n    }\n    return cs;\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { MatTreeModule, MatTreeNestedDataSource } from '@angular/material/tree';\nimport { NestedTreeControl } from '@angular/cdk/tree';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { BehaviorSubject, of as observableOf } from 'rxjs';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatInputModule } from '@angular/material/input';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKChart } from 'src/app/modules/skresources/resource-classes';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { parseString } from 'xml2js';\nimport { ChartProvider } from 'src/app/types';\n\ninterface LayerNode {\n  name: string;\n  title?: string;\n  description: string;\n  children?: LayerNode[];\n  selected: boolean;\n  parent: LayerNode;\n}\n\n/********* WMSDialog **********\n\tdata: <WMSCapabilities.xml>\n***********************************/\n@Component({\n  selector: 'wms-dialog',\n  imports: [\n    MatTreeModule,\n    MatCheckboxModule,\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatDialogModule,\n    MatProgressBarModule,\n    MatInputModule,\n    PipesModule\n  ],\n  template: `\n    <div class=\"_ap-wms\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span class=\"dialog-icon\"><mat-icon>public</mat-icon></span>\n        <span style=\"flex: 1 1 auto; text-align: center\">Add WMS Source</span>\n        <span style=\"text-align: right\">\n          <button mat-icon-button (click)=\"dialogRef.close()\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n      <mat-dialog-content>\n        @if (true) {\n        <mat-form-field floatLabel=\"always\" style=\"width:100%\">\n          <mat-label> WMS host. </mat-label>\n          <input matInput #txturl type=\"url\" required [(value)]=\"hostUrl\" />\n          @if (txturl) {\n          <button\n            matSuffix\n            mat-icon-button\n            [disabled]=\"txturl.value.length === 0\"\n            (click)=\"wmsGetCapabilities(txturl.value)\"\n          >\n            <mat-icon>arrow_forward</mat-icon>\n          </button>\n          }\n          <mat-hint> Enter url of the WMS host. </mat-hint>\n          @if (txturl.invalid) {\n          <mat-error>WMS host is required!</mat-error>\n          }\n        </mat-form-field>\n        } @if (isFetching) {\n        <mat-progress-bar mode=\"query\"></mat-progress-bar>\n        } @else { @if (errorMsg) {\n        <mat-error>Error retrieving capabilities from server!</mat-error>\n        } @else {\n        <div>\n          <mat-tree\n            class=\"wms-tree\"\n            [dataSource]=\"nestedDataSource\"\n            [treeControl]=\"nestedTreeControl\"\n          >\n            <mat-tree-node *matTreeNodeDef=\"let node\">\n              <mat-checkbox\n                [matTooltip]=\"node.description\"\n                [checked]=\"node.selected\"\n                (change)=\"toggleSelection($event.checked, node)\"\n              >\n                {{ node.name }}\n              </mat-checkbox>\n            </mat-tree-node>\n            <mat-nested-tree-node\n              *matTreeNodeDef=\"let node; when: hasNestedChild\"\n            >\n              <div class=\"mat-tree-node\">\n                <button mat-icon-button matTreeNodeToggle>\n                  <mat-icon class=\"mat-icon-rtl-mirror\">\n                    {{\n                      nestedTreeControl.isExpanded(node)\n                        ? 'expand_circle_down'\n                        : 'chevron_right'\n                    }}\n                  </mat-icon>\n                </button>\n                <mat-checkbox\n                  [matTooltip]=\"node.description\"\n                  [checked]=\"node.selected\"\n                  (change)=\"toggleSelection($event.checked, node)\"\n                >\n                  {{ node.name }}\n                </mat-checkbox>\n              </div>\n              <div\n                role=\"group\"\n                [class.tree-invisible]=\"!nestedTreeControl.isExpanded(node)\"\n              >\n                <ng-container matTreeNodeOutlet></ng-container>\n              </div>\n            </mat-nested-tree-node>\n          </mat-tree>\n        </div>\n        } }\n      </mat-dialog-content>\n      <mat-dialog-actions>\n        <button\n          mat-raised-button\n          [disabled]=\"this.selections.length === 0\"\n          (click)=\"handleSave()\"\n        >\n          Save\n        </button>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-wms {\n      }\n      ._ap-wms .key-label {\n        width: 150px;\n        font-weight: 500;\n      }\n      .wms-tree .mat-nested-tree-node div[role='group'] {\n        padding-left: 20px;\n      }\n      .wms-tree div[role='group'] > .mat-tree-node {\n        padding-left: 20px;\n      }\n      .wms-tree .tree-invisible {\n        display: none;\n      }\n    `\n  ]\n})\nexport class WMSDialog {\n  protected isFetching = false;\n  protected fetchError = false;\n  protected errorMsg = '';\n  protected selections: Array<string> = [];\n  protected wmsBase: ChartProvider;\n  protected wmsSources: { [key: string]: ChartProvider } = {};\n  protected hostUrl = '';\n\n  protected layerNodes: LayerNode[] = [];\n  nestedTreeControl: NestedTreeControl<LayerNode>;\n  nestedDataSource: MatTreeNestedDataSource<LayerNode>;\n  dataChange: BehaviorSubject<LayerNode[]> = new BehaviorSubject<LayerNode[]>(\n    []\n  );\n  private _getChildren = (node: LayerNode) => {\n    return observableOf(node.children);\n  };\n  hasNestedChild = (_: number, nodeData: LayerNode) => {\n    return nodeData.children && nodeData.children.length !== 0;\n  };\n\n  constructor(\n    public app: AppFacade,\n    public dialogRef: MatDialogRef<WMSDialog>,\n    private http: HttpClient,\n    @Inject(MAT_DIALOG_DATA) public data: SKChart\n  ) {\n    this.nestedTreeControl = new NestedTreeControl<LayerNode>(\n      this._getChildren\n    );\n    this.nestedDataSource = new MatTreeNestedDataSource();\n\n    this.dataChange.subscribe((data) => (this.nestedDataSource.data = data));\n\n    this.dataChange.next([]);\n  }\n\n  toggleSelection(checked: boolean, node: LayerNode) {\n    this.handleSelection(checked, node);\n    this.parseSelections();\n  }\n\n  private handleSelection(checked: boolean, node: LayerNode) {\n    node.selected = checked;\n    if (node.children) {\n      node.children.forEach((child) => {\n        this.handleSelection(checked, child);\n      });\n    }\n    this.checkAllParents(node);\n  }\n\n  private checkAllParents(node: LayerNode) {\n    if (node.parent) {\n      const descendants = this.nestedTreeControl.getDescendants(node.parent);\n      node.parent.selected = descendants.every((child) => child.selected);\n      this.checkAllParents(node.parent);\n    }\n  }\n\n  private parseSelections() {\n    this.selections = [];\n    this.wmsSources = {};\n    this.layerNodes.forEach((l: LayerNode) => {\n      this.getSelections(l);\n    });\n  }\n\n  private buildSource(l: LayerNode): ChartProvider {\n    const s = Object.assign({}, this.wmsBase);\n    s.name = l.name;\n    s.description = l.description;\n    s.layers = [l.name];\n    return s;\n  }\n\n  private getSelections(node: LayerNode) {\n    const selNode = (n: LayerNode) => {\n      if (n.selected) {\n        if (!this.selections.includes(n.name)) {\n          this.selections.push(n.name);\n          this.wmsSources[n.name] = this.buildSource(n);\n        } else {\n          if (\n            this.wmsSources[n.name].description === this.wmsSources[n.name].name\n          ) {\n            this.wmsSources[n.name].description = n.description;\n          }\n        }\n      }\n    };\n    selNode(node);\n    const descendants = this.nestedTreeControl.getDescendants(node);\n    descendants\n      .filter((l) => l.selected && !this.selections.includes(l.name))\n      .forEach((l) => selNode(l));\n  }\n\n  handleSave() {\n    this.dialogRef.close(Object.values(this.wmsSources));\n  }\n\n  /** Make requests to WMS server */\n  wmsGetCapabilities(wmsHost: string) {\n    this.selections = [];\n    this.errorMsg = '';\n\n    const url = wmsHost + `?request=getcapabilities&service=wms`;\n    this.isFetching = true;\n    this.http.get(url, { responseType: 'text' }).subscribe(\n      (res: string) => {\n        this.isFetching = false;\n        this.layerNodes = [];\n        if (res.indexOf('<Capability') !== -1) {\n          this.parseCapabilities(res, wmsHost);\n        } else {\n          this.errorMsg = 'Invalid response received!';\n        }\n      },\n      (err: HttpErrorResponse) => {\n        this.isFetching = false;\n        this.fetchError = true;\n        this.errorMsg = err.message;\n      }\n    );\n  }\n\n  /** Parse WMSCapabilities.xml */\n  parseCapabilities(xml: string, urlBase: string) {\n    this.wmsBase = {\n      name: '',\n      description: '',\n      type: 'WMS',\n      url: urlBase,\n      layers: []\n    };\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parseString(xml, (err: Error, result: any) => {\n      if (err) {\n        this.errorMsg = 'ERROR parsing XML!';\n        console.log('EROR parsing XML!', err);\n      } else {\n        if (!result.WMS_Capabilities && !result.WMT_MS_Capabilities) {\n          this.errorMsg = 'ERROR Unable to get Capabilities!';\n          console.log('ERROR Unable to get Capabilities!', err);\n        } else {\n          this.getWMSLayers(result);\n        }\n      }\n    });\n  }\n\n  /** Retrieve the available layers from WMS Capabilities metadata */\n  getWMSLayers(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    json: { [key: string]: any }\n  ): ChartProvider[] {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let rootNode: any;\n    if (json.WMS_Capabilities) {\n      rootNode = json.WMS_Capabilities;\n    } else if (json.WMT_MS_Capabilities) {\n      rootNode = json.WMT_MS_Capabilities;\n    }\n\n    if (!rootNode.Capability[0].Layer) {\n      return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    rootNode.Capability[0].Layer.forEach((layer: any) => {\n      this.parselayer(layer, this.layerNodes);\n    });\n    this.layerNodes.sort((a, b) => (a.name < b.name ? -1 : 1));\n    this.dataChange.next(this.layerNodes);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parselayer(layer: any, cList: LayerNode[], parent: LayerNode = null) {\n    const node: LayerNode = {\n      name: layer['Name'] ? layer['Name'][0] : '',\n      description: layer['Abstract'] ? layer['Abstract'][0] : '',\n      selected: false,\n      parent: parent\n    };\n    if (layer['Title']) {\n      node.title = layer['Title'][0];\n    }\n    if (layer.Layer) {\n      node.children = [];\n      layer.Layer.forEach((l) => this.parselayer(l, node.children));\n    }\n    cList.push(node);\n  }\n}\n","export * from './app.icons';\nexport * from './atons';\nexport * from './poi';\n","import { Injectable, signal } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport {\n  PathValue,\n  Notification,\n  ALARM_METHOD,\n  ALARM_STATE\n} from '@signalk/server-api';\nimport { NotificationMessage } from 'src/app/types';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKWorkerService } from '../skstream/skstream.service';\nimport { AlertData } from './components/alert.component';\nimport { getAlertIcon } from '../icons';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { AlertPropertiesModal } from './components/alert-properties-modal';\n\ntype AlertItems = Array<[string, AlertData]>;\n\n@Injectable({ providedIn: 'root' })\nexport class NotificationManager {\n  private alertMap: Map<string, AlertData>;\n\n  // signals\n  private alertsSignal = signal<AlertItems>([]);\n  readonly alerts = this.alertsSignal.asReadonly();\n\n  private mobSignal = signal<AlertItems>([]);\n  readonly mobAlerts = this.mobSignal.asReadonly();\n\n  constructor(\n    private app: AppFacade,\n    private worker: SKWorkerService,\n    private signalk: SignalKClient,\n    private bottomSheet: MatBottomSheet\n  ) {\n    this.alertMap = new Map();\n\n    // ** SIGNAL K STREAM Message**\n    this.worker.notification$().subscribe((msg: NotificationMessage) => {\n      this.processMessage(msg);\n    });\n  }\n\n  /**\n   * @description Emit signals\n   */\n  private emitSignals() {\n    const rankings = {\n      emergency: 1,\n      alarm: 2,\n      warn: 3,\n      alert: 4,\n      normal: 5,\n      nominal: 6\n    };\n    // sort based on priority and time raised\n    const alerts = Array.from(this.alertMap).sort((a, b) => {\n      const ra = rankings[a[1].priority];\n      const rb = rankings[b[1].priority];\n      if (ra === rb) {\n        return b[1].createdAt - a[1].createdAt;\n      } else {\n        return ra - rb;\n      }\n    });\n\n    this.alertsSignal.update(() => {\n      return alerts;\n    });\n\n    this.mobSignal.update(() => {\n      return alerts.filter((i) => i[1].type === 'mob');\n    });\n\n    // update closest vessel ids\n    this.app.data.vessels.closest = alerts\n      .filter((i) => i[1].type === 'cpa')\n      .map((i) => i[1].properties?.vesselId);\n  }\n\n  /**\n   * @description Processes in-scope notification message\n   * @param msg notification message\n   */\n  private processMessage(msg: NotificationMessage) {\n    if (!msg.result) {\n      return;\n    }\n    this.parse(msg.result);\n  }\n\n  /**\n   * @description Parse the notification delta path & value\n   * @param msg Signal K path / value pair\n   */\n  private parse(msg: PathValue) {\n    const alertType = this.getAlertType(msg.path);\n\n    if (alertType === 'notification') {\n      // out-of-scope\n      return;\n    }\n\n    // check enabled in config\n    if (alertType === 'depth' && !this.app.config.depthAlarm.enabled) {\n      return;\n    }\n\n    // test for return to normal state\n    if (!msg.value || (msg.value as Notification)?.state === 'normal') {\n      if (this.alertMap.has(msg.path)) {\n        this.alertMap.delete(msg.path);\n        this.emitSignals();\n      }\n      return;\n    }\n\n    const alert: AlertData = this.alertMap.has(msg.path)\n      ? this.alertMap.get(msg.path)\n      : {\n          path: msg.path,\n          priority: ALARM_STATE.nominal,\n          message: '',\n          sound: false,\n          visual: true,\n          properties: {},\n          acknowledged: false,\n          silenced: false,\n          icon: {},\n          type: undefined,\n          canAcknowledge: true,\n          createdAt: Date.now()\n        };\n\n    alert.priority = (msg.value as Notification).state;\n    alert.message = (msg.value as Notification).message;\n    alert.sound = (msg.value as Notification).method.includes(\n      ALARM_METHOD.sound\n    );\n    alert.visual = (msg.value as Notification).method.includes(\n      ALARM_METHOD.visual\n    );\n    alert.canAcknowledge = ['emergency', 'alarm', 'warn'].includes(\n      alert.priority\n    );\n    alert.type = alertType;\n    alert.icon = getAlertIcon(alert);\n    alert.canCancel = this.isStandardAlarm(alert.type);\n\n    if ((msg.value as any).position) {\n      alert.properties.position = (msg.value as any).position;\n    }\n\n    if (['buddy'].includes(alertType)) {\n      // show toast message\n      this.app.showMessage(\n        alert.message,\n        !this.app.config.muteSound && alert.sound\n      );\n      return;\n    } else {\n      // alert\n      if (alert.type === 'cpa') {\n        alert.properties = this.parseCpa(msg.value);\n      }\n      this.alertMap.set(alert.path, alert);\n      this.emitSignals();\n    }\n  }\n\n  /**\n   * @description Returns the alert type\n   * @param path Alert path\n   */\n  private getAlertType(path: string): string {\n    const seg = path.split('.');\n    if (\n      this.isStandardAlarm(seg[1]) ||\n      path.includes('notifications.buddy') ||\n      path.includes('notifications.meteo.warning')\n    ) {\n      return seg[1];\n    } else if (path.includes('notifications.navigation.closestApproach')) {\n      return 'cpa';\n    } else if (\n      path.includes('notifications.environment.depth.') ||\n      path.includes('notifications.navigation.anchor')\n    ) {\n      return seg[2];\n    } else if (\n      path.includes('notifications.navigation.course.perpendicularPassed')\n    ) {\n      return seg[3];\n    } else if (\n      path.includes('notifications.navigation.course.arrivalCircleEntered')\n    ) {\n      return 'arrival';\n    } else {\n      return 'notification';\n    }\n  }\n\n  /**\n   * @description Test if value is a Signal K standard alarm type\n   * @param value String representing the alarm type\n   * @returns true if value is a standard alarm\n   */\n  private isStandardAlarm(value: string): boolean {\n    return [\n      'mob',\n      'sinking',\n      'fire',\n      'piracy',\n      'flooding',\n      'collision',\n      'grounding',\n      'listing',\n      'adrift',\n      'abandon',\n      'aground'\n    ].includes(value);\n  }\n\n  /**\n   * @description Returns Alert data for supplied path\n   * @param path Path of Alert\n   * @returns AlertData object\n   */\n  public getAlert(path: string): AlertData {\n    const al = this.alerts().find((i) => i[0] === path);\n    return al ? al[1] : undefined;\n  }\n\n  public showAlertInfo(path: string) {\n    if (!this.alertMap.has(path)) {\n      this.app.showAlert('Alert', 'Alert not found!');\n      return;\n    }\n    this.bottomSheet\n      .open(AlertPropertiesModal, {\n        data: { alert: this.getAlert(path) }\n      })\n      .afterDismissed()\n      .subscribe((action) => {\n        // some action\n      });\n  }\n\n  /**\n   * @description Acknowledge alert\n   * @param path Path of the the alert to acknowledge\n   */\n  public acknowledge(path: string) {\n    if (this.alertMap.has(path)) {\n      this.alertMap.get(path).acknowledged = true;\n      this.emitSignals();\n    }\n  }\n\n  /**\n   * @description Silence alert\n   * @param path Path of the the alert to silence\n   */\n  public silence(path: string) {\n    if (this.alertMap.has(path)) {\n      const alert = this.alertMap.get(path);\n      if (this.isStandardAlarm(alert.type)) {\n        // if is standard alarm silence via server\n        const id = alert.path.split('.').slice(-1)[0];\n        this.signalk.api\n          .post(this.app.skApiVersion, `alarms/${alert.type}/${id}/silence`, {})\n          .subscribe(\n            () => {\n              alert.silenced = true;\n              this.emitSignals();\n            },\n            (err: HttpErrorResponse) => {\n              this.app.showAlert(\n                `Error`,\n                `Unable to silence alarm (${path})!`,\n                err.message\n              );\n            }\n          );\n      } else {\n        alert.silenced = true;\n        this.emitSignals();\n      }\n    }\n  }\n\n  /**\n   * @description Clear / Cancel alert\n   * @param path Path of the the alert to cancel\n   */\n  public clear(path: string) {\n    if (this.alertMap.has(path)) {\n      const alert = this.alertMap.get(path);\n\n      if (alert.canCancel) {\n        if (this.isStandardAlarm(alert.type)) {\n          // if is standard alarm remove via server\n          this.cancelServerAlarm(alert).subscribe(\n            () => {\n              this.alertMap.delete(path);\n              this.emitSignals();\n            },\n            (err: HttpErrorResponse) => {\n              this.app.showAlert(\n                `Error`,\n                `Unable to clear alarm (${path})!`,\n                err.message\n              );\n            }\n          );\n        } else {\n          this.alertMap.delete(path);\n          this.emitSignals();\n        }\n      }\n    }\n  }\n\n  /**\n   * @description Raise Alarm on server\n   * @param path Alarm type to raise\n   */\n  public raiseServerAlarm(alarmType: string, message?: string) {\n    this.signalk.api\n      .post(this.app.skApiVersion, `alarms/${alarmType}`, {\n        message: message ?? ''\n      })\n      .subscribe(\n        () => undefined,\n        (err: HttpErrorResponse) => {\n          this.app.showAlert(\n            'Error',\n            `Unable to raise alarm: ${alarmType} \\n ${err.message}`\n          );\n        }\n      );\n  }\n\n  /**\n   * @description Cancel Alarm on server\n   * @param alert Alarm to cancel\n   * @returns Observable\n   */\n  public cancelServerAlarm(alert: AlertData) {\n    const id = alert.path.split('.').slice(-1)[0];\n    return this.signalk.api.delete(\n      this.app.skApiVersion,\n      `alarms/${alert.type}/${id}`\n    );\n  }\n\n  // parse ClosestApproach message data\n  private parseCpa(msg: any) {\n    return {\n      vesselId: msg.other ?? undefined\n    };\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  OnInit,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatButtonModule } from '@angular/material/button';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { MatSlideToggle } from '@angular/material/slide-toggle';\nimport { MatMenuModule } from '@angular/material/menu';\nimport {\n  DragDropModule,\n  CdkDragDrop,\n  moveItemInArray\n} from '@angular/cdk/drag-drop';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { ChartPropertiesDialog } from './chart-properties-dialog';\nimport { FBCharts, FBChart, FBResourceSelect } from 'src/app/types';\nimport { forkJoin, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { WMTSDialog } from './wmts-dialog';\nimport { WMSDialog } from './wms-dialog';\nimport { JsonMapSourceDialog } from './jsonmapsource-dialog';\nimport { SignalKClient } from 'signalk-client-angular';\n\n/********* ChartLayersList***********/\n@Component({\n  selector: 'ap-chartlayers',\n  imports: [MatTooltipModule, MatIconModule, MatCardModule, DragDropModule],\n  template: `\n    <div class=\"_ap-chartlayers\">\n      <mat-card style=\"border-radius: unset;\">\n        <mat-card-content>\n          <div\n            style=\"display:flex; font-style:italic; border-bottom:gray 1px solid;\"\n          >\n            <div style=\"flex: 1 1 auto; \">Top Layer</div>\n            <div\n              style=\"text-align:center;\n              font-size: 10pt;font-style:italic;\"\n            >\n              (drag to re-order)\n            </div>\n          </div>\n        </mat-card-content>\n      </mat-card>\n\n      <div style=\"flex: 1 1 auto;position:relative;\">\n        <div style=\"overflow:hidden;height:100%;\">\n          <div\n            style=\"overflow:auto;\"\n            cdkDropList\n            (cdkDropListDropped)=\"drop($event)\"\n          >\n            @for(ch of chartList; track ch; let i = $index) {\n            <mat-card cdkDrag style=\"border-radius: unset;\">\n              <mat-card-content>\n                <div class=\"point-drop-placeholder\" *cdkDragPlaceholder></div>\n\n                <div\n                  style=\"display:flex;\"\n                  [style.cursor]=\"i > 0 ? 'pointer' : 'initial'\"\n                >\n                  <div style=\"width:35px;\">\n                    <mat-icon color=\"\">{{ isLocal(ch[1].url) }}</mat-icon>\n                  </div>\n                  <div\n                    style=\"flex: 1 1 auto;text-overflow: ellipsis;\n                      white-space: pre;overflow-x: hidden;\"\n                  >\n                    {{ ch[1].name }}\n                  </div>\n                  <div cdkDragHandle matTooltip=\"Drag to re-order charts\">\n                    <mat-icon>drag_indicator</mat-icon>\n                  </div>\n                </div>\n              </mat-card-content>\n            </mat-card>\n            }\n          </div>\n        </div>\n      </div>\n\n      <mat-card style=\"border-radius: unset;\">\n        <mat-card-content>\n          <div\n            style=\"display:flex; font-style:italic; border-top:gray 1px solid;\"\n          >\n            <div style=\"flex: 1 1 auto; \">Base Layer</div>\n            <div\n              style=\"text-align:center;\n              font-size: 10pt;font-style:italic;\"\n            >\n              (e.g. World Map)\n            </div>\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-chartlayers {\n        font-family: roboto;\n        border: red 0px solid;\n        display: flex;\n        flex-direction: column;\n      }\n      .ap-confirm-icon {\n        min-width: 35px;\n        max-width: 35px;\n        color: darkorange;\n        text-align: left;\n      }\n      .ap-confirm-icon .mat-icon {\n        font-size: 25pt;\n      }\n      .point-drop-placeholder {\n        background: #ccc;\n        border: dotted 3px #999;\n        min-height: 80px;\n        transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n      }\n      .cdk-drag-preview {\n        background-color: whitesmoke;\n        box-sizing: border-box;\n        border-radius: 4px;\n        box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\n          0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\n      }\n    `\n  ]\n})\nexport class ChartLayers implements OnInit {\n  @Output() changed: EventEmitter<string[]> = new EventEmitter();\n\n  constructor(public app: AppFacade) {}\n\n  chartList = [];\n\n  //** lifecycle: events **\n  ngOnInit() {\n    this.chartList = this.app.data.charts.slice().reverse();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  drop(e: CdkDragDrop<any>) {\n    moveItemInArray(this.chartList, e.previousIndex, e.currentIndex);\n    // update and save config\n    this.app.data.charts = this.chartList.slice().reverse();\n    this.app.config.selections.chartOrder = this.app.data.charts.map((i) => {\n      return i[0];\n    });\n    this.app.saveConfig();\n    this.changed.emit(this.app.config.selections.chartOrder);\n  }\n\n  isLocal(url: string) {\n    return url && url.indexOf('signalk') !== -1 ? 'map' : 'language';\n  }\n}\n\n@Component({\n  selector: 'chart-list',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './chartlist.html',\n  styleUrls: ['../resourcelist.css'],\n  imports: [\n    CommonModule,\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatButtonModule,\n    FormsModule,\n    MatInputModule,\n    ScrollingModule,\n    MatSlideToggle,\n    MatMenuModule,\n    ChartLayers\n  ]\n})\nexport class ChartListComponent {\n  @Input() charts: FBCharts;\n  @Input() selectedCharts: Array<string>;\n  @Output() select: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() refresh: EventEmitter<void> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  @Output() orderChange: EventEmitter<string[]> = new EventEmitter();\n  @Output() delete: EventEmitter<FBResourceSelect> = new EventEmitter();\n\n  filterList = [];\n  filterText = '';\n  someSel = false;\n  allSel = false;\n\n  displayChartLayers = false;\n\n  constructor(\n    protected app: AppFacade,\n    private dialog: MatDialog,\n    private signalk: SignalKClient\n  ) {}\n\n  ngOnInit() {\n    this.initItems();\n  }\n\n  ngOnChanges() {\n    this.initItems();\n  }\n\n  close() {\n    this.app.data.chartBounds = false;\n    this.closed.emit();\n  }\n\n  initItems() {\n    this.checkSelections();\n    this.buildFilterList();\n  }\n\n  buildFilterList(e?: string) {\n    if (typeof e !== 'undefined' || this.filterText) {\n      if (typeof e !== 'undefined') {\n        this.filterText = e;\n      }\n      this.filterList = this.charts.filter((i: FBChart) => {\n        if (\n          i[1].name.toLowerCase().indexOf(this.filterText.toLowerCase()) !== -1\n        ) {\n          return i;\n        }\n      });\n    } else {\n      this.filterList = this.charts.slice(0);\n    }\n\n    this.checkSelections();\n\n    this.filterList.sort((a, b) => {\n      const x = a[1].name.toUpperCase();\n      const y = b[1].name.toUpperCase();\n      return x <= y ? -1 : 1;\n    });\n  }\n\n  isLocal(url: string) {\n    return url && url.indexOf(this.app.hostName) !== -1 ? 'map' : 'language';\n  }\n\n  toggleChartBoundaries() {\n    this.app.data.chartBounds = !this.app.data.chartBounds;\n  }\n\n  checkSelections() {\n    let c = false;\n    let u = false;\n    this.filterList.forEach((i: FBChart) => {\n      c = i[2] ? true : c;\n      u = !i[2] ? true : u;\n    });\n    this.allSel = c && !u ? true : false;\n    this.someSel = c && u ? true : false;\n  }\n\n  selectAll(value: boolean) {\n    this.filterList.forEach((i: FBChart) => {\n      i[2] = value;\n    });\n    this.buildFilterList();\n    this.someSel = false;\n    this.allSel = value ? true : false;\n    this.select.emit({ id: 'all', value: value });\n  }\n\n  itemSelect(e: boolean, id: string) {\n    this.filterList.forEach((i: FBChart) => {\n      if (i[0] === id) {\n        i[2] = e;\n      }\n    });\n    this.checkSelections();\n    this.buildFilterList();\n    this.select.emit({ id: id, value: e });\n  }\n\n  itemRefresh() {\n    this.refresh.emit();\n  }\n\n  itemProperties(id: string) {\n    const ch = this.charts.filter((c: FBChart) => c[0] === id)[0][1];\n    this.dialog.open(ChartPropertiesDialog, { data: ch });\n  }\n\n  itemDelete(id: string) {\n    this.delete.emit({ id: id });\n  }\n\n  public addChartSource(type: 'wms' | 'wmts' | 'json') {\n    let dref: MatDialogRef<WMTSDialog | WMSDialog | JsonMapSourceDialog>;\n\n    if (type === 'wmts') {\n      dref = this.dialog.open(WMTSDialog, {\n        disableClose: true,\n        data: {}\n      });\n    }\n    if (type === 'wms') {\n      dref = this.dialog.open(WMSDialog, {\n        disableClose: true,\n        data: {}\n      });\n    }\n    if (type === 'json') {\n      dref = this.dialog.open(JsonMapSourceDialog, {\n        disableClose: true,\n        data: {}\n      });\n    }\n    if (!dref) {\n      this.app.showAlert(\n        'Message',\n        `Invalid Chart source type (${type}) provided! `\n      );\n      return;\n    }\n    dref.afterClosed().subscribe((sources) => {\n      if (sources && sources.length !== 0) {\n        const req = [];\n        sources.forEach((cs) => {\n          req.push(\n            this.signalk.api.post(\n              this.app.skApiVersion,\n              `/resources/charts?provider=resources-provider`,\n              cs\n            )\n          );\n        });\n\n        const r = forkJoin(req).pipe(catchError((error) => of(error)));\n        r.subscribe((r) => {\n          if (r.error) {\n            this.app.showAlert(\n              'Add Chart Sources',\n              `Error saving chart source!\\n(${r.error.statusCode}: ${r.error.message})`\n            );\n          } else {\n            this.app.showAlert(\n              'Add Chart Sources',\n              'Chart sources added successfully.'\n            );\n            this.itemRefresh();\n          }\n        });\n      }\n    });\n  }\n\n  showChartLayers(show = false) {\n    this.displayChartLayers = show;\n  }\n\n  handleOrderChange(e: string[]) {\n    this.orderChange.emit(e);\n  }\n}\n","<div class=\"resourcelist\" style=\"width: 320px\">\n  <mat-menu #addchartmenu=\"matMenu\">\n    <button mat-menu-item (click)=\"addChartSource('wmts')\">WMTS</button>\n    <button mat-menu-item (click)=\"addChartSource('wms')\">WMS</button>\n    <button mat-menu-item (click)=\"addChartSource('json')\">\n      JSON Map Source\n    </button>\n  </mat-menu>\n  <mat-card style=\"border-radius: unset\">\n    <mat-card-title>\n      <div class=\"title-block\">\n        <div style=\"width: 50px\">\n          <button\n            mat-icon-button\n            (click)=\"close()\"\n            matTooltip=\"Close Chart List\"\n            matTooltipPosition=\"right\"\n          >\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div style=\"flex: 1 1 auto; padding-top: 7px\">Charts</div>\n      </div>\n    </mat-card-title>\n    <mat-card-content>\n      @if(!displayChartLayers) {\n      <div style=\"display: flex\">\n        <div style=\"flex: 1 1 auto; padding-left: 3px\">\n          <mat-form-field floatLabel=\"always\" style=\"width: 180px\">\n            <mat-label>Type to filter list</mat-label>\n            <input\n              #ftext\n              type=\"text\"\n              matInput\n              [value]=\"filterText\"\n              (keyup)=\"buildFilterList(ftext.value)\"\n            />\n            @if(filterText) {\n            <button\n              mat-icon-button\n              matSuffix\n              mat-icon-button\n              (click)=\"buildFilterList('')\"\n            >\n              <mat-icon>close</mat-icon>\n            </button>\n            }\n          </mat-form-field>\n        </div>\n        <div>\n          <button\n            mat-icon-button\n            (click)=\"itemRefresh()\"\n            matTooltip=\"Reload Charts\"\n            matTooltipPosition=\"below\"\n          >\n            <mat-icon>refresh</mat-icon>\n          </button>\n        </div>\n        <div>\n          <mat-checkbox\n            #selall\n            [checked]=\"allSel\"\n            [indeterminate]=\"someSel\"\n            (change)=\"selectAll($event.checked)\"\n            [matTooltip]=\"(!selall.checked || someSel) ? 'Select All' : 'Deselect All'\"\n            matTooltipPosition=\"below\"\n          >\n          </mat-checkbox>\n        </div>\n      </div>\n      } @else {\n      <div style=\"display: flex\">\n        <div>\n          <button mat-icon-button (click)=\"showChartLayers(false)\">\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div style=\"flex: 1 1 auto; text-align: center; line-height: 2.5em\">\n          Chart Order\n        </div>\n      </div>\n      }\n    </mat-card-content>\n    <mat-card-actions>\n      @if(!displayChartLayers) {\n      <mat-slide-toggle\n        [hideIcon]=\"true\"\n        [checked]=\"app.data.chartBounds\"\n        (change)=\"toggleChartBoundaries()\"\n      >\n        Boundaries\n      </mat-slide-toggle>\n      <button\n        mat-button\n        (click)=\"showChartLayers(true)\"\n        matTooltip=\"Re-order Charts\"\n        matTooltipPosition=\"above\"\n      >\n        <mat-icon>import_export</mat-icon>\n        Re-order\n      </button>\n\n      <button\n        mat-button\n        matTooltip=\"Add Chart\"\n        matTooltipPosition=\"above\"\n        [matMenuTriggerFor]=\"addchartmenu\"\n      >\n        <mat-icon>add</mat-icon>\n      </button>\n      }\n    </mat-card-actions>\n  </mat-card>\n\n  @if(!displayChartLayers) {\n  <div class=\"resources charts\">\n    <cdk-virtual-scroll-viewport class=\"vscroller\" itemSize=\"80\">\n      <mat-card\n        *cdkVirtualFor=\"let r of filterList; let i= index;\"\n        style=\"border-bottom: silver 1px outset; border-radius: unset\"\n      >\n        <mat-card-content>\n          <div style=\"display: flex\">\n            <div style=\"flex: 1 1 auto; width: 215px\">\n              <div\n                style=\"\n                  text-overflow: ellipsis;\n                  overflow-x: hidden;\n                  white-space: pre;\n                \"\n              >\n                <mat-icon>{{isLocal(r[1].url)}}</mat-icon>\n                &nbsp;<b>{{r[1].name}}</b>\n              </div>\n              <div\n                style=\"\n                  text-overflow: ellipsis;\n                  overflow-x: hidden;\n                  white-space: pre;\n                \"\n              >\n                {{r[1].description}}\n              </div>\n            </div>\n            <div style=\"text-align: right\">\n              <mat-checkbox\n                [checked]=\"r[2]\"\n                (change)=\"itemSelect($event.checked, r[0])\"\n                matTooltip=\"Show in Map\"\n                matTooltipPosition=\"left\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n        </mat-card-content>\n        <mat-card-actions>\n          <div style=\"display: flex\">\n            @if(r[1].source && r[1].source === 'resources-provider') {\n            <div style=\"width: 100%; text-align: right\">\n              <button\n                mat-icon-button\n                (click)=\"itemDelete(r[0])\"\n                matTooltip=\"Remove Chart\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>delete</mat-icon>\n              </button>\n            </div>\n            }\n            <div style=\"width: 100%; text-align: right\">\n              <button\n                mat-icon-button\n                (click)=\"itemProperties(r[0])\"\n                matTooltip=\"Chart Properties\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>info_outline</mat-icon>\n              </button>\n            </div>\n          </div>\n        </mat-card-actions>\n      </mat-card>\n    </cdk-virtual-scroll-viewport>\n  </div>\n  } @else {\n  <div class=\"resources\">\n    <ap-chartlayers\n      class=\"vscroller\"\n      (changed)=\"handleOrderChange($event)\"\n      (closed)=\"showChartLayers(false)\"\n    >\n    </ap-chartlayers>\n  </div>\n  }\n</div>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, Stroke, Fill, RegularShape } from 'ol/style';\nimport { Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { AsyncSubject } from 'rxjs';\nimport { AlertData } from 'src/app/modules/alarms';\n\n// ** Freeboard Notification Alarm component **\n@Component({\n  selector: 'ol-map > fb-alarms',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class AlarmComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature>;\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n  @Input() alarms: Array<[string, AlertData]>;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() alarmStyles: { [key: string]: any };\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseValues();\n    this.source = new VectorSource({ features: this.features });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n      for (const key in changes) {\n        if (key === 'alarms') {\n          this.parseValues();\n          if (this.source) {\n            this.source.clear();\n            this.source.addFeatures(this.features);\n          }\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseValues() {\n    const fa: Feature[] = [];\n    this.alarms.forEach((alarm: [string, AlertData]) => {\n      if (!alarm || !alarm[1].properties.position) return;\n      const fp = new Feature({\n        geometry: new Point(\n          fromLonLat([\n            alarm[1].properties.position.longitude,\n            alarm[1].properties.position.latitude\n          ])\n        )\n      });\n      fp.setStyle(this.buildStyle(alarm[1].type));\n      fp.setId(`alarm.${alarm[1].path}`);\n      fp.set('type', alarm[1].type);\n      fa.push(fp);\n    });\n    this.features = fa;\n  }\n\n  // build target style\n  buildStyle(key: string): Style {\n    if (this.alarmStyles && this.alarmStyles[key]) {\n      return this.alarmStyles[key];\n    } else {\n      if (this.layerProperties && this.layerProperties.style) {\n        return this.layerProperties.style;\n      } else {\n        // default style\n        return new Style({\n          image: new RegularShape({\n            points: 3,\n            radius: 7,\n            fill: new Fill({ color: 'red' }),\n            stroke: new Stroke({\n              color: 'white',\n              width: 2\n            }),\n            rotateWithView: false\n          })\n        });\n      }\n    }\n  }\n}\n","/** Settings abstraction Facade\n * ************************************/\nimport { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SettingsMessage, SettingsSignals } from 'src/app/lib/services';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { SKStreamFacade } from 'src/app/modules/skstream/skstream.facade';\nimport { Position } from 'src/app/types';\n\ninterface SKAppsList {\n  author: string;\n  description: string;\n  license: string;\n  location: string;\n  _location: string; //npm linked app\n  name: string;\n  version: string;\n}\n\ninterface ResourceTypeList {\n  [key: string]: {\n    $source: string;\n    description: string;\n  };\n}\n\n@Injectable({ providedIn: 'root' })\nexport class SettingsFacade {\n  // **************** Settings Dialog Support ***************************\n  private symDegree = String.fromCharCode(186);\n  availableUnits = {\n    distance: new Map([\n      ['m', 'Kilometres'],\n      ['ft', 'Nautical Miles']\n    ]),\n    depth: new Map([\n      ['m', 'metres'],\n      ['ft', 'feet']\n    ]),\n    speed: new Map([\n      ['kn', 'knots'],\n      ['msec', 'm/sec'],\n      ['kmh', 'km/h'],\n      ['mph', 'mph']\n    ]),\n    temperature: new Map([\n      ['c', 'Celcius'],\n      ['f', 'Fahrenheit']\n    ])\n  };\n\n  preferredValues = {\n    heading: [\n      ['navigation.headingTrue', 'True'],\n      ['navigation.headingMagnetic', 'Magnetic']\n    ],\n    wind: new Map([\n      [false, 'Wind True'],\n      [true, 'Wind Apparent']\n    ]),\n    coords: [\n      ['XY', '-128.12345'],\n      ['SHDd', `W-128.12345${this.symDegree}`],\n      ['DMdH', `128${this.symDegree} 15.34567' W`],\n      ['HDd', `W 128.12345${this.symDegree}`],\n      ['HDMS', `W 128${this.symDegree}15'46\"123`],\n      ['DHMS', `128W15'46\"123`]\n    ]\n  };\n\n  list = {\n    nextPointTriggers: ['perpendicularPassed', 'arrivalCircleEntered'],\n    minZoom: [8, 9, 10, 11, 12, 13, 14, 15, 16, 17],\n    resourceRadius: [0, 5, 10, 20, 50, 100, 150, 200, 500],\n    noteRadius: [5, 10, 20, 50, 100, 150, 200, 500],\n    applications: [],\n    favourites: [],\n    resourcePaths: [],\n    aisTimeouts: new Map([\n      [60000, '1 min'],\n      [120000, '2 min'],\n      [180000, '3 min'],\n      [360000, '6 min'],\n      [540000, '9 min'],\n      [15 * 60000, '15 min'],\n      [30 * 60000, '30 min'],\n      [60 * 60000, '1 hr'],\n      [24 * 60 * 60000, '24 hrs']\n    ]),\n    aisMaxRadius: new Map([\n      [0, 'None'],\n      [10000, '5 NM (10km)'],\n      [20000, '10 NM (20km)'],\n      [30000, '15 NM (30km)'],\n      [40000, '20 NM (40km)'],\n      [50000, '25 NM (50km)'],\n      [75000, '40 NM (75km)'],\n      [100000, '55 NM (100km)']\n    ]),\n    aisCogLine: new Map([\n      [0, 'Off'],\n      [10, '10 min'],\n      [30, '30 min'],\n      [60, '60 min']\n    ]),\n    aisProfiles: new Map([[0, 'Default']]) //,[1,'Navigation'] ])\n  };\n\n  vesselOptions = {\n    headingLine: new Map([\n      [-1, 'Default'],\n      [1, '1 NM (2km)'],\n      [2, '2 NM (4km)'],\n      [5, '5 NM (10km)'],\n      [10, '10 NM (20km)'],\n      [15, '15 NM (30km)'],\n      [20, '20 NM (40km)'],\n      [50, '50 NM (90km)'],\n      [100, '100 NM (180km)']\n    ]),\n    cogLine: new Map([\n      [0, 'None'],\n      [5, '5 min'],\n      [10, '10 min'],\n      [30, '30 min'],\n      [60, '60 min'],\n      [2 * 60, '2 hrs'],\n      [24 * 60, '24 hrs']\n    ])\n  };\n\n  alarmOptions = {\n    smoothing: new Map([\n      [5000, '5 secs'],\n      [10000, '10 secs'],\n      [20000, '20 secs'],\n      [30000, '30 secs']\n    ])\n  };\n\n  darkModeOptions = new Map([\n    [0, 'Use OS setting'],\n    [1, 'Use Signal K Mode'],\n    [-1, 'On']\n  ]);\n\n  trailOptions = {\n    highResolution: new Map([\n      ['1s', '1 sec'],\n      ['5s', '5 secs'],\n      ['10s', '10 secs'],\n      ['30s', '30 secs'],\n      ['1m', '1 min']\n    ]),\n    mediumResolution: new Map([\n      ['10s', '10 secs'],\n      ['30s', '30 secs'],\n      ['1m', '1 min'],\n      ['2m', '2 mins'],\n      ['5m', '5 mins'],\n      ['10m', '10 mins'],\n      ['15m', '15 mins'],\n      ['30m', '30 mins']\n    ])\n  };\n\n  fixedPosition = [0, 0];\n\n  s57Options = {\n    graphicsStyle: new Map([\n      ['Simplified', 'Simplified'],\n      ['Paper', 'Paper chart']\n    ]),\n    boundaries: new Map([\n      ['Symbolized', 'Symbolized'],\n      ['Plain', 'Plain']\n    ]),\n    colors: [2, 4],\n    shallowDepth: 2,\n    safetyDepth: 3,\n    deepDepth: 6\n  };\n\n  // *****************************************************\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public settings!: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public data!: any;\n\n  update$() {\n    return this.app.settings$;\n  }\n  saved$() {\n    return this.configSavedSource.asObservable();\n  }\n  loaded$() {\n    return this.configLoadedSource.asObservable();\n  }\n\n  // ******************************************************\n  private configSavedSource = new Subject<SettingsMessage>();\n  private configLoadedSource = new Subject<SettingsMessage>();\n  // *******************************************************\n\n  constructor(\n    private app: AppFacade,\n    public signalk: SignalKClient,\n    private stream: SKStreamFacade\n  ) {\n    this.data = this.app.data;\n    this.settings = this.app.config;\n    this.fixedPosition = this.settings.fixedPosition.slice();\n\n    if (!this.app.config.chartApi) {\n      this.app.config.chartApi = 1;\n    }\n    this.app.settings$.subscribe((r: SettingsMessage) => {\n      if (r.setting === 'config') {\n        if (r.action === 'load') {\n          this.configLoadedSource.next(r);\n        }\n        if (r.action === 'save') {\n          this.configSavedSource.next(r);\n        }\n      }\n    });\n  }\n\n  // delete auth token\n  clearToken() {\n    this.app.persistToken(null);\n  }\n\n  // refresh dynamic data from sources\n  refresh() {\n    this.settings = this.app.config;\n    this.fixedPosition = this.settings.fixedPosition.slice();\n    this.getApps();\n    this.getResourcePaths();\n  }\n\n  // ** populate list of available non-standard resource paths\n  private getResourcePaths() {\n    this.signalk.api.get(this.app.skApiVersion, 'resources').subscribe(\n      (r: ResourceTypeList) => {\n        this.list.resourcePaths = Object.keys(r)\n          .filter((i: string) => {\n            return ![\n              'routes',\n              'waypoints',\n              'notes',\n              'regions',\n              'charts'\n            ].includes(i);\n          })\n          .sort();\n      },\n      () => (this.list.resourcePaths = [])\n    );\n  }\n\n  // ** populate applications list **\n  private getApps() {\n    // apps list - default an entry to stored config value\n    if (this.app.config.plugins.instruments) {\n      this.list.applications.push(this.app.config.plugins.instruments);\n    }\n\n    this.signalk.apps.list().subscribe(\n      (a: Array<SKAppsList>) => {\n        this.list.applications = a\n          .map((i) => {\n            if (i.name === '@signalk/freeboard-sk') {\n              return null;\n            }\n            if (!i._location && !i.location) {\n              // npm linked app\n              return {\n                name: i.name,\n                description: i.description,\n                url: `/${i.name}`\n              };\n            }\n            if (typeof i._location !== 'undefined') {\n              // legacywebapps list\n              const x = i._location.indexOf('/signalk-server/');\n              return {\n                name: i.name,\n                description: i.description,\n                url: x === -1 ? i._location : i._location.slice(15)\n              };\n            } else if (typeof i.location !== 'undefined') {\n              return {\n                name: i.name,\n                description: i.description,\n                url: i.location\n              };\n            }\n          })\n          .filter((e) => {\n            return e;\n          });\n\n        this.list.applications.unshift({\n          name: 'None',\n          description: '',\n          url: null\n        });\n\n        this.buildFavouritesList();\n      },\n      () => {\n        this.app.debug('ERROR retrieving AppList!');\n      }\n    );\n  }\n\n  // ** favourites **\n  buildFavouritesList() {\n    this.list.favourites = this.list.applications.slice(1);\n    const i = this.app.config.selections.pluginFavourites.indexOf(\n      this.app.config.plugins.instruments\n    );\n    if (i !== -1) {\n      this.app.config.selections.pluginFavourites.splice(i, 1);\n    }\n  }\n\n  applySettings(signals?: SettingsSignals) {\n    this.app.debug('Saving Settings..');\n    if (!this.app.config.selections.vessel.trail) {\n      this.app.config.selections.trailFromServer = false;\n    }\n    if (\n      typeof this.fixedPosition[0] === 'number' &&\n      typeof this.fixedPosition[1] === 'number'\n    ) {\n      this.settings.fixedPosition = this.fixedPosition.slice();\n      if (this.settings.fixedLocationMode) {\n        this.app.data.vessels.self.position =\n          this.fixedPosition.slice() as Position;\n      }\n    }\n    this.app.saveConfig(signals ?? {});\n  }\n}\n","export * from './alarms';\nexport * from './autopilot';\nexport * from './buddies/buddy.service';\nexport * from './course';\nexport * from './gpx/gpx.module';\nexport * from './map';\nexport * from './remote-control';\nexport * from './settings';\nexport * from './skresources';\nexport * from './weather';\n\nexport * from './skstream/skstream.service';\nexport * from './skstream/skstream.facade';\n\nexport * from './experiments';\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { SKResources } from 'src/app/modules';\nimport {\n  GPX,\n  GPXRoute,\n  GPXWaypoint,\n  GPXTrack,\n  GPXTrackSegment\n} from '../gpxlib';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { ErrorList } from 'src/app/types';\n\n//** GPXLoad dialog **\n@Component({\n  selector: 'gpxload-dialog',\n  templateUrl: './gpxload-dialog.html',\n  styleUrls: ['./gpxload-dialog.css'],\n  standalone: false\n})\nexport class GPXImportDialog implements OnInit {\n  public gpxData = {\n    name: '',\n    routes: [],\n    waypoints: [],\n    tracks: []\n  };\n\n  public selRoutes = [];\n  public selectedRoute = null;\n  public selWaypoints = [];\n  public selTracks = [];\n\n  public display = {\n    notValid: false,\n    allRoutesChecked: false,\n    allWaypointsChecked: false,\n    allTracksChecked: false,\n    someWptChecked: false,\n    someRteChecked: false,\n    someTrkChecked: false,\n    loadRoutesOK: false,\n    loadWaypointsOK: false,\n    loadTracksOK: false,\n    routeViewer: false,\n    selCount: { routes: 0, waypoints: 0, tracks: 0 },\n    expand: { routes: false, waypoints: false, tracks: false }\n  };\n\n  private errorCount = 0;\n  private subCount = 0;\n  private gpx: GPX;\n\n  constructor(\n    public app: AppFacade,\n    private skres: SKResources,\n    private signalk: SignalKClient,\n    protected dialogRef: MatDialogRef<GPXImportDialog>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  ngOnInit() {\n    this.data.fileData = this.data.fileData || null;\n    this.parseGPXData(this.data.fileData);\n  }\n\n  ngOnDestroy() {\n    this.clear();\n  }\n\n  // ** load selected resources **\n  load() {\n    this.uploadToServer({\n      rte: { selected: this.selRoutes },\n      wpt: { selected: this.selWaypoints },\n      trk: { selected: this.selTracks }\n    });\n  }\n\n  async parseGPXData(data) {\n    this.display.allRoutesChecked = false;\n    this.display.loadRoutesOK = false;\n    this.selRoutes = [];\n    this.display.allWaypointsChecked = false;\n    this.display.loadWaypointsOK = false;\n    this.selWaypoints = [];\n    this.display.allTracksChecked = false;\n    this.display.loadTracksOK = false;\n    this.selTracks = [];\n    this.display.selCount = { routes: 0, waypoints: 0, tracks: 0 };\n    this.display.expand = { routes: false, waypoints: false, tracks: false };\n    this.display.notValid = false;\n\n    this.gpxData = await this.parseFileData(data);\n    if (!this.gpxData) {\n      console.warn(\n        'Selected file does not contain GPX data or\\ndoes not correctly implement namespaced <extensions> attributes',\n        'Invalid GPX Data:'\n      );\n      this.display.notValid = true;\n      return;\n    }\n\n    this.gpxData.routes.forEach(() => {\n      this.selRoutes.push(false);\n    });\n    if (this.selRoutes.length === 1) {\n      this.selRoutes[0] = true;\n      this.display.allRoutesChecked = true;\n      this.display.expand.routes = true;\n      this.display.loadRoutesOK = true;\n      this.display.selCount.routes = 1;\n    }\n\n    this.gpxData.waypoints.forEach(() => {\n      this.selWaypoints.push(false);\n    });\n    if (this.selWaypoints.length === 1) {\n      this.selWaypoints[0] = true;\n      this.display.allWaypointsChecked = true;\n      this.display.expand.waypoints = true;\n      this.display.loadWaypointsOK = true;\n      this.display.selCount.waypoints = 1;\n    }\n\n    this.gpxData.tracks.forEach(() => {\n      this.selTracks.push(false);\n    });\n    if (this.selTracks.length === 1) {\n      this.selTracks[0] = true;\n      this.display.allTracksChecked = true;\n      this.display.expand.tracks = true;\n      this.display.loadTracksOK = true;\n      this.display.selCount.tracks = 1;\n    }\n  }\n\n  // ** select Route idx=-1 -> check all\n  checkRte(checked: boolean, idx = -1) {\n    let selcount = 0;\n    if (idx !== -1) {\n      this.selRoutes[idx] = checked;\n      this.display.loadRoutesOK = checked;\n      for (const c of this.selRoutes) {\n        if (c) {\n          selcount++;\n        }\n      }\n      this.display.loadRoutesOK = selcount !== 0 ? true : false;\n      this.display.selCount.routes = selcount;\n      this.display.allRoutesChecked = selcount === this.selRoutes.length;\n    } else {\n      for (let i = 0; i < this.selRoutes.length; i++) {\n        this.selRoutes[i] = checked;\n        this.display.loadRoutesOK = checked;\n        this.display.allRoutesChecked = checked;\n      }\n      this.display.selCount.routes = checked ? this.selRoutes.length : 0;\n    }\n    this.display.someRteChecked =\n      this.display.allRoutesChecked || selcount === 0 ? false : true;\n  }\n\n  // ** select Waypoint idx=-1 -> check all\n  checkWpt(checked: boolean, idx = -1) {\n    let selcount = 0;\n    if (idx !== -1) {\n      this.selWaypoints[idx] = checked;\n      this.display.loadWaypointsOK = checked;\n      for (const c of this.selWaypoints) {\n        if (c) {\n          selcount++;\n        }\n      }\n      this.display.loadWaypointsOK = selcount !== 0 ? true : false;\n      this.display.selCount.waypoints = selcount;\n      this.display.allWaypointsChecked = selcount === this.selWaypoints.length;\n    } else {\n      for (let i = 0; i < this.selWaypoints.length; i++) {\n        this.selWaypoints[i] = checked;\n        this.display.loadWaypointsOK = checked;\n        this.display.allWaypointsChecked = checked;\n      }\n      this.display.selCount.waypoints = checked ? this.selWaypoints.length : 0;\n    }\n    this.display.someWptChecked =\n      this.display.allWaypointsChecked || selcount === 0 ? false : true;\n  }\n\n  // ** select Track idx=-1 -> check all\n  checkTrk(checked: boolean, idx = -1) {\n    let selcount = 0;\n    if (idx !== -1) {\n      this.selTracks[idx] = checked;\n      this.display.loadTracksOK = checked;\n      for (const c of this.selTracks) {\n        if (c) {\n          selcount++;\n        }\n      }\n      this.display.loadTracksOK = selcount !== 0 ? true : false;\n      this.display.selCount.tracks = selcount;\n      this.display.allTracksChecked = selcount === this.selTracks.length;\n    } else {\n      for (let i = 0; i < this.selTracks.length; i++) {\n        this.selTracks[i] = checked;\n        this.display.loadTracksOK = checked;\n        this.display.allTracksChecked = checked;\n      }\n      this.display.selCount.tracks = checked ? this.selTracks.length : 0;\n    }\n    this.display.someTrkChecked =\n      this.display.allTracksChecked || selcount === 0 ? false : true;\n  }\n\n  // ** delete GPX object data **\n  public clear() {\n    this.gpx = null;\n  }\n\n  // ** parse GPX file\n  public async parseFileData(data: string) {\n    const gpxData = {\n      name: '',\n      routes: [],\n      waypoints: [],\n      tracks: []\n    };\n    this.gpx = new GPX();\n\n    if (!(await this.gpx.parse(data))) {\n      return null;\n    }\n\n    let idx = 1;\n    this.gpx.rte.forEach((r) => {\n      gpxData.routes.push({\n        name: r['name'] !== '' ? r['name'] : `Rte: ${idx}`,\n        description: r['desc'] ? r['desc'] : r['cmt'] ? r['cmt'] : '',\n        wptcount: r['rtept'].length\n      });\n      idx++;\n    });\n    idx = 1;\n    this.gpx.wpt.forEach((w) => {\n      gpxData.waypoints.push({\n        name: w['name'] ? w['name'] : `Wpt: ${idx}`,\n        description: w['desc'] ? w['desc'] : w['cmt'] ? w['cmt'] : ''\n      });\n      idx++;\n    });\n    idx = 1;\n    this.gpx.trk.forEach((t) => {\n      gpxData.tracks.push({\n        name: t['name'] ? t['name'] : `Trk: ${idx}`,\n        description: t['desc'] ? t['desc'] : t['cmt'] ? t['cmt'] : ''\n      });\n      idx++;\n    });\n    return gpxData;\n  }\n\n  // ** upload selected resources to Signal K server **\n  public async uploadToServer(res) {\n    this.app.sIsFetching.set(true);\n    this.errorCount = 0;\n    this.subCount = 0;\n\n    for (let i = 0; i < res.rte.selected.length; i++) {\n      if (res.rte.selected[i]) {\n        this.transformRoute(this.gpx.rte[i]);\n      }\n    }\n\n    for (let i = 0; i < res.wpt.selected.length; i++) {\n      if (res.wpt.selected[i]) {\n        this.transformWaypoint(this.gpx.wpt[i]);\n      }\n    }\n\n    const trkIds = [];\n    for (let i = 0; i < res.trk.selected.length; i++) {\n      if (res.trk.selected[i]) {\n        const trk = this.transformTrack(this.gpx.trk[i]);\n        this.subCount++;\n        try {\n          const res = await this.skres.postToServer('tracks', trk);\n          this.subCount--;\n          if (Math.floor(res['statusCode'] / 100) === 2) {\n            trkIds.push(res.id);\n            this.app.debug('SUCCESS: Track added.');\n          } else {\n            this.errorCount++;\n          }\n          this.checkComplete();\n        } catch (err) {\n          this.errorCount++;\n          this.subCount--;\n          this.logError(err);\n          this.checkComplete();\n        }\n      }\n    }\n    if (trkIds.length !== 0) {\n      this.skres.trackCacheFetchIds(trkIds);\n    }\n  }\n\n  private errorList: ErrorList = [];\n\n  private logError(err: HttpErrorResponse) {\n    const msg = err.error ? err.error.message : err.message;\n    this.errorList.push({ status: err.status, message: msg });\n  }\n\n  // ** check all submissions are resolved and emit result$\n  private checkComplete() {\n    if (this.subCount === 0) {\n      this.app.sIsFetching.set(false);\n      this.app.saveConfig();\n      this.dialogRef.close({\n        errCount: this.errorCount,\n        errList: this.errorList\n      });\n      this.app.debug(`GPXLoad: complete: ${this.errorCount}`);\n    }\n  }\n\n  // ** transform and upload route\n  private transformRoute(r: GPXRoute) {\n    const skObj = this.skres.buildRoute(\n      r.rtept.map((pt) => {\n        return [pt.lon, pt.lat];\n      })\n    );\n    const rte = skObj[1];\n\n    rte.name = r.name ?? '';\n    rte.description = r.desc ?? '';\n    // ** route properties **\n    if (r.cmt) {\n      rte.feature.properties['cmt'] = r.cmt;\n    }\n    if (r.src) {\n      rte.feature.properties['src'] = r.src;\n    }\n    if (r.number) {\n      rte.feature.properties['number'] = r.number;\n    }\n    if (r.type) {\n      rte.feature.properties['type'] = r.type;\n    }\n    rte.feature.properties['coordinatesMeta'] = [];\n    rte.feature.properties['coordinatesMeta'] = r.rtept.map((pt) => {\n      const ptMeta = { name: pt.name ?? '' };\n      if (pt.cmt) {\n        ptMeta['description'] = pt.cmt;\n      }\n      return ptMeta;\n    });\n\n    this.subCount++;\n    this.signalk.api\n      .put(this.app.skApiVersion, `/resources/routes/${skObj[0]}`, skObj[1])\n      .subscribe(\n        (r) => {\n          this.subCount--;\n          if (Math.floor(r['statusCode'] / 100) === 2) {\n            this.app.debug('SUCCESS: Route added.');\n            this.app.config.selections.routes.push(skObj[0]);\n          } else {\n            this.errorCount++;\n          }\n          this.checkComplete();\n        },\n        (err: HttpErrorResponse) => {\n          this.errorCount++;\n          this.subCount--;\n          this.logError(err);\n          this.checkComplete();\n        }\n      );\n  }\n\n  // ** transform and upload waypoint\n  private transformWaypoint(pt: GPXWaypoint) {\n    const wptObj = this.skres.buildWaypoint([pt.lon, pt.lat]);\n    const wpt = wptObj[1];\n    if (pt.ele) {\n      wpt.feature.geometry.coordinates.push(pt.ele);\n    }\n    if (pt.name && pt.name.length !== 0) {\n      wpt.name = pt.name;\n    }\n    if (pt.desc && pt.desc.length !== 0) {\n      wpt.description = pt.desc;\n    }\n    if (pt.type) {\n      wpt.type = pt.type;\n    }\n    if (pt.cmt) {\n      wpt.feature.properties['cmt'] = pt.cmt;\n    }\n    if (pt.src) {\n      wpt.feature.properties['src'] = pt.src;\n    }\n    if (pt.sym) {\n      wpt.feature.properties['sym'] = pt.sym;\n    }\n\n    this.subCount++;\n    this.signalk.api\n      .put(\n        this.app.skApiVersion,\n        `/resources/waypoints/${wptObj[0]}`,\n        wptObj[1]\n      )\n      .subscribe(\n        (r) => {\n          this.subCount--;\n          if (Math.floor(r['statusCode'] / 100) === 2) {\n            this.app.debug('SUCCESS: Waypoint added.');\n            this.app.config.selections.waypoints.push(wptObj[0]);\n          } else {\n            this.errorCount++;\n          }\n          this.checkComplete();\n        },\n        (err: HttpErrorResponse) => {\n          this.errorCount++;\n          this.subCount--;\n          this.logError(err);\n          this.checkComplete();\n        }\n      );\n  }\n\n  // ** transform and upload track\n  private transformTrack(gpxtrk: GPXTrack) {\n    const trk = {\n      feature: {\n        type: 'Feature',\n        geometry: { type: 'MultiLineString', coordinates: [] },\n        properties: {},\n        id: ''\n      }\n    };\n    if (gpxtrk.trkseg) {\n      gpxtrk.trkseg.forEach((tseg: GPXTrackSegment) => {\n        const line = [];\n        tseg.trkpt.forEach((pt: GPXWaypoint) => {\n          line.push([pt.lon, pt.lat]);\n        });\n        trk.feature.geometry.coordinates.push(line);\n      });\n    }\n    if (gpxtrk.name && gpxtrk.name.length !== 0) {\n      trk.feature.properties['name'] = gpxtrk.name;\n    } else {\n      trk.feature.properties['name'] = `gpxtrk #${Math.random()\n        .toString()\n        .slice(-5)}`;\n    }\n    if (gpxtrk.desc && gpxtrk.desc.length !== 0) {\n      trk.feature.properties['description'] = gpxtrk.desc;\n    }\n    if (gpxtrk.cmt) {\n      trk.feature.properties['cmt'] = gpxtrk.cmt;\n    }\n    if (gpxtrk.src) {\n      trk.feature.properties['src'] = gpxtrk.src;\n    }\n    if (gpxtrk.type) {\n      trk.feature.properties['type'] = gpxtrk.type;\n    }\n    return trk;\n  }\n}\n","<div class=\"gpxload-dialog\">\n  <mat-toolbar style=\"background-color: transparent\">\n    <div style=\"display: flex; width: 100%\">\n      <div>\n        @if(!app.sIsFetching()) {\n        <button\n          style=\"width: 85px\"\n          mat-raised-button\n          matTooltip=\"Load selected resources\"\n          matTooltipPosition=\"right\"\n          [disabled]=\"!display.loadRoutesOK && !display.loadWaypointsOK && !display.loadTracksOK\"\n          (click)=\"load()\"\n        >\n          <mat-icon>file_upload</mat-icon>\n          &nbsp;Load\n        </button>\n        }\n      </div>\n      <div style=\"flex: 1 1 auto; text-align: center\">Import GPX</div>\n      <div style=\"text-align: right\">\n        <button\n          mat-icon-button\n          [disabled]=\"app.sIsFetching()\"\n          (click)=\"this.dialogRef.close(-1);\"\n        >\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </mat-toolbar>\n\n  @if(display.notValid) {\n  <div mat-dialog-content>\n    <div>\n      <b>Invalid GPX Data:</b><br /><br />\n      <i\n        >Selected file does not contain GPX data or<br />\n        does not correctly implement namespaced &lt;extensions&gt;\n        attributes.</i\n      >\n    </div>\n  </div>\n  } @else {\n  <div mat-dialog-content>\n    @if (app.sIsFetching()) {\n    <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\n    } @else{\n    <!--valid GPX file-->\n    <div class=\"card-group\">\n      <div style=\"display: flex\">\n        <div>File:</div>\n        <div\n          style=\"\n            flex: 1 1 auto;\n            padding-left: 10px;\n            overflow: hidden;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 1;\n            line-clamp: 1;\n            text-overflow: ellipsis;\n          \"\n        >\n          {{data.fileName}}\n        </div>\n      </div>\n      <mat-divider></mat-divider>\n    </div>\n    <!-- Waypoints -->\n    @if(gpxData.waypoints.length!=0) {\n    <div class=\"card-group\">\n      <mat-expansion-panel\n        [expanded]=\"display.expand.waypoints\"\n        (opened)=\"display.expand.waypoints=true\"\n        (closed)=\"display.expand.waypoints=false\"\n      >\n        <mat-expansion-panel-header style=\"padding: 0 12px\">\n          <mat-panel-title>\n            <mat-icon class=\"icon-waypoint\">place</mat-icon>\n            &nbsp;&nbsp;\n            <b>Waypoints:</b>\n          </mat-panel-title>\n          <mat-panel-description>\n            <div style=\"display: flex; width: 100%\">\n              <span class=\"pnlSelectedItems\">\n                ({{display.selCount.waypoints}} of\n                {{gpxData?.waypoints.length}})\n              </span>\n              <span class=\"pnlSelect\">\n                <mat-checkbox\n                  [indeterminate]=\"display.someWptChecked\"\n                  [checked]=\"display.allWaypointsChecked\"\n                  [disabled]=\"gpxData.waypoints.length===0\"\n                  (change)=\"checkWpt($event.checked, -1)\"\n                  (click)=\"$event.cancelBubble=true\"\n                  matTooltip=\"Select all Waypoints\"\n                  matTooltipPosition=\"before\"\n                ></mat-checkbox>\n              </span>\n            </div>\n          </mat-panel-description>\n        </mat-expansion-panel-header>\n\n        <div class=\"list-container-scrollable\">\n          @for(w of gpxData.waypoints; track w; let i=$index) {\n          <div class=\"item-row\">\n            <div class=\"name\">{{w.name}}</div>\n            <div class=\"check\">\n              <mat-checkbox\n                [checked]=\"selWaypoints[i]\"\n                #wval\n                (change)=\"checkWpt(wval.checked, i)\"\n                matTooltip=\"Select Waypoint\"\n                matTooltipPosition=\"below\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n          }\n        </div>\n      </mat-expansion-panel>\n    </div>\n    }\n\n    <!-- Routes -->\n    @if(gpxData.routes.length!=0) {\n    <div class=\"card-group\">\n      <mat-expansion-panel\n        [expanded]=\"display.expand.routes\"\n        (opened)=\"display.expand.routes=true\"\n        (closed)=\"display.expand.routes=false\"\n      >\n        <mat-expansion-panel-header style=\"padding: 0 12px\">\n          <mat-panel-title>\n            <mat-icon class=\"icon-route\">directions</mat-icon>\n            &nbsp;&nbsp;\n            <b>Routes:</b>\n          </mat-panel-title>\n          <mat-panel-description>\n            <div style=\"display: flex; width: 100%\">\n              <span class=\"pnlSelectedItems\">\n                ({{display.selCount.routes}} of {{gpxData?.routes.length}})\n              </span>\n              <span class=\"pnlSelect\">\n                <mat-checkbox\n                  [indeterminate]=\"display.someRteChecked\"\n                  [checked]=\"display.allRoutesChecked\"\n                  [disabled]=\"gpxData.routes.length==0\"\n                  (change)=\"checkRte($event.checked, -1)\"\n                  (click)=\"$event.cancelBubble=true\"\n                  matTooltip=\"Select all Routes\"\n                  matTooltipPosition=\"before\"\n                ></mat-checkbox>\n              </span>\n            </div>\n          </mat-panel-description>\n        </mat-expansion-panel-header>\n\n        <div class=\"list-container-scrollable\">\n          @for(r of gpxData.routes; track r; let i=$index) {\n          <div class=\"item-row\">\n            <div class=\"name\">{{r.name}}</div>\n            <div class=\"check\">\n              <mat-checkbox\n                matTooltip=\"Select this Route\"\n                matTooltipPosition=\"below\"\n                [checked]=\"selRoutes[i]\"\n                #rval\n                (change)=\"checkRte(rval.checked, i)\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n          }\n        </div>\n      </mat-expansion-panel>\n    </div>\n    }\n\n    <!-- Tracks -->\n    @if(gpxData.tracks.length!=0 &&\n    app.config.resources.paths.includes('tracks')) {\n    <div class=\"card-group\">\n      <mat-expansion-panel\n        [expanded]=\"display.expand.tracks\"\n        (opened)=\"display.expand.tracks=true\"\n        (closed)=\"display.expand.tracks=false\"\n      >\n        <mat-expansion-panel-header style=\"padding: 0 12px\">\n          <mat-panel-title>\n            <mat-icon class=\"icon-track\">show_chart</mat-icon>\n            &nbsp;&nbsp;\n            <b>Tracks:</b>\n          </mat-panel-title>\n          <mat-panel-description>\n            <div style=\"display: flex; width: 100%\">\n              <span class=\"pnlSelectedItems\">\n                ({{display.selCount.tracks}} of {{gpxData?.tracks.length}})\n              </span>\n              <span class=\"pnlSelect\">\n                <mat-checkbox\n                  [indeterminate]=\"display.someTrkChecked\"\n                  [checked]=\"display.allTracksChecked\"\n                  [disabled]=\"gpxData.tracks.length==0\"\n                  (change)=\"checkTrk($event.checked, -1)\"\n                  (click)=\"$event.cancelBubble=true\"\n                  matTooltip=\"Select all Tracks\"\n                  matTooltipPosition=\"before\"\n                ></mat-checkbox>\n              </span>\n            </div>\n          </mat-panel-description>\n        </mat-expansion-panel-header>\n\n        <div class=\"list-container-scrollable\">\n          @for(t of gpxData.tracks; track t; let i=$index) {\n          <div class=\"item-row\">\n            <div class=\"name\">{{t.name}}</div>\n            <div class=\"check\">\n              <mat-checkbox\n                matTooltip=\"Select this Track\"\n                matTooltipPosition=\"below\"\n                [checked]=\"selTracks[i]\"\n                #tval\n                (change)=\"checkTrk(tval.checked, i)\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n          }\n        </div>\n      </mat-expansion-panel>\n    </div>\n    } }\n  </div>\n  }\n</div>\n","import { Component, OnInit, Inject } from '@angular/core';\n\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\n\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { FileInputComponent } from 'src/app/lib/components';\nimport { AppFacade } from 'src/app/app.facade';\n\n//** Resources upload dialog **\n@Component({\n  selector: 'resource-upload-dialog',\n  templateUrl: './resource-upload-dialog.html',\n  styleUrls: ['./resource-upload-dialog.css'],\n  imports: [\n    FormsModule,\n    MatInputModule,\n    MatSelectModule,\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    PipesModule,\n    FileInputComponent\n  ]\n})\nexport class ResourceImportDialog implements OnInit {\n  public resPaths: Array<string> = [];\n  public targetPath: string = null;\n  public source = { type: null, name: null, data: null };\n\n  public display = {\n    notValid: false\n  };\n\n  private unsubscribe = [];\n\n  constructor(\n    public app: AppFacade,\n    public skclient: SignalKClient,\n    public dialogRef: MatDialogRef<ResourceImportDialog>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(MAT_DIALOG_DATA) public data: { [key: string]: any }\n  ) {}\n\n  ngOnInit() {\n    this.skclient.api.get(this.app.skApiVersion, '/resources').subscribe(\n      (r) => {\n        this.resPaths = [];\n        this.targetPath = null;\n        this.resPaths = Object.keys(r).filter((i) => {\n          return ![\n            'routes',\n            'waypoints',\n            'notes',\n            'regions',\n            'charts',\n            'tracks'\n          ].includes(i);\n        });\n      },\n      () => {\n        this.resPaths = [];\n        this.targetPath = null;\n      }\n    );\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.forEach((i) => i.unsubscribe());\n  }\n\n  // ** send data for load to server **\n  load() {\n    this.dialogRef.close({ path: this.targetPath, data: this.source.data });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseFile(e: any) {\n    this.source = e;\n    this.source.type = 'Unknown';\n    try {\n      const jdata = JSON.parse(e.data);\n      this.source.type = jdata.type ? jdata.type : this.source.type;\n    } catch (error) {\n      console.log(`Error parsing resource file!`);\n    }\n  }\n}\n","<div class=\"resourceload-dialog\">\n  <mat-toolbar style=\"background-color: transparent\">\n    <span><mat-icon>category</mat-icon></span>\n    <span style=\"flex: 1 1 auto; text-align: center\">Load Resource</span>\n    <span style=\"text-align: right\">\n      <button mat-icon-button (click)=\"this.dialogRef.close();\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </span>\n  </mat-toolbar>\n\n  <div mat-dialog-content>\n    @if(!display.notValid) {\n    <div class=\"card-group\">\n      <div>\n        <mat-form-field floatLabel=\"always\" style=\"width: 100%\">\n          <mat-label>Select Destination Path</mat-label>\n          <mat-select\n            id=\"respaths\"\n            #respaths\n            [disabled]=\"!resPaths\"\n            [(value)]=\"targetPath\"\n          >\n            @for(i of resPaths; track i) {\n            <mat-option [value]=\"i\">{{i}}</mat-option>\n            }\n          </mat-select>\n        </mat-form-field>\n      </div>\n\n      @if(!source.name) {\n      <div>\n        <ap-file-input [astext]=\"true\" (chosen)=\"parseFile($event)\">\n          <div style=\"width: 200px\">\n            <div style=\"padding: 25%; border: gray 1px dashed\">\n              Click or Drop file\n            </div>\n          </div>\n        </ap-file-input>\n      </div>\n      } @if(display.notValid) {\n      <div>\n        <div>\n          <b>Invalid Resource Data:</b><br /><br />\n          <i>Selected file does not contain valid data. </i><br />\n        </div>\n        <div style=\"width: 100%; text-align: center\">\n          <button mat-raised-button (click)=\"app.showHelp('resource')\">\n            <mat-icon>help</mat-icon>\n            Help\n          </button>\n        </div>\n      </div>\n      }\n\n      <div>\n        <div style=\"display: flex; flex-wrap: wrap\">\n          <div style=\"flex: 1 1 auto; padding: 5px; font-size: smaller\">\n            <div>\n              <span style=\"font-weight: bold\">Name:</span> {{source.name}}\n            </div>\n            <div>\n              <span style=\"font-weight: bold\">Type:</span>\n              {{source.type}}\n            </div>\n          </div>\n        </div>\n        <div style=\"text-align: center; padding-top: 15px\">\n          <button\n            mat-raised-button\n            [disabled]=\"!targetPath || !source.name\"\n            matTooltip=\"Load features\"\n            matTooltipPosition=\"below\"\n            (click)=\"load()\"\n          >\n            <mat-icon>file_upload</mat-icon>\n            &nbsp;Load&nbsp;\n          </button>\n          <br />&nbsp; @if(targetPath && source.name) {\n          <div\n            style=\"padding: 10px; border: gray 1px dashed; font-style: italic\"\n          >\n            Note: Data will not be validated when uploaded to server!\n          </div>\n          }\n        </div>\n      </div>\n    </div>\n    }\n  </div>\n</div>\n","import {\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Component,\n  Output,\n  Input,\n  EventEmitter\n} from '@angular/core';\nimport { Map, Feature, Collection, MapBrowserEvent } from 'ol';\nimport { Geometry } from 'ol/geom';\nimport { Modify } from 'ol/interaction';\nimport { ModifyEvent } from 'ol/interaction/Modify';\nimport { MapComponent } from '../map.component';\n\n@Component({\n  selector: 'ol-map > ol-modify',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class InteractionModifyComponent {\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  @Input() features: Collection<Feature<Geometry>>;\n\n  @Output() change: EventEmitter<ModifyEvent> = new EventEmitter();\n  @Output() modifyStart: EventEmitter<ModifyEvent> = new EventEmitter();\n  @Output() modifyEnd: EventEmitter<ModifyEvent> = new EventEmitter();\n\n  private map: Map;\n  private interaction: Modify;\n\n  ngAfterViewInit() {\n    this.map = this.mapComponent.getMap();\n    this.addModifyInteraction();\n  }\n\n  ngOnDestroy() {\n    this.map.removeInteraction(this.interaction);\n    this.interaction.un('change', this.emitChangeEvent);\n    this.interaction.un('modifystart', this.emitModifyStartEvent);\n    this.interaction.un('modifyend', this.emitModifyEndEvent);\n    this.interaction = null;\n  }\n\n  addModifyInteraction() {\n    if (undefined !== this.map) {\n      this.interaction = new Modify({\n        features: this.features,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        deleteCondition: (e: MapBrowserEvent<any>) => {\n          if (\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (e.type === 'click' && (e.originalEvent as any).ctrlKey) ||\n            e.type === 'contextmenu'\n          ) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      });\n      this.interaction.on('change', this.emitChangeEvent);\n      this.interaction.on('modifystart', this.emitModifyStartEvent);\n      this.interaction.on('modifyend', this.emitModifyEndEvent);\n      this.map.addInteraction(this.interaction);\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  // ** emit events\n\n  private emitChangeEvent = (event: ModifyEvent) => this.change.emit(event);\n  private emitModifyStartEvent = (event: ModifyEvent) =>\n    this.modifyStart.emit(event);\n  private emitModifyEndEvent = (event: ModifyEvent) =>\n    this.modifyEnd.emit(event);\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, Stroke } from 'ol/style';\nimport { MultiLineString } from 'ol/geom';\nimport { MapComponent } from '../map.component';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { AISBaseLayerComponent } from './ais-base.component';\n\n// ** Signal K AIS targets track  **\n@Component({\n  selector: 'ol-map > ais-targets-track',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class AISTargetsTrackLayerComponent extends AISBaseLayerComponent {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() tracks: Map<string, any> = new Map();\n  @Input() tracksMinZoom = 10;\n  @Input() mapZoom = 10;\n  @Input() showTracks = true;\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.reloadTracks();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (this.layer) {\n      const keys = Object.keys(changes);\n      if (\n        keys.includes('tracks') &&\n        changes['tracks'].previousValue.size === 0\n      ) {\n        this.reloadTracks();\n      } else {\n        if (keys.includes('tracksMinZoom')) {\n          if (typeof this.mapZoom !== 'undefined') {\n            this.reloadTracks();\n          }\n        }\n        if (keys.includes('mapZoom')) {\n          if (typeof this.tracksMinZoom !== 'undefined') {\n            if (\n              changes['mapZoom'].currentValue >= this.tracksMinZoom &&\n              changes['mapZoom'].previousValue < this.tracksMinZoom\n            ) {\n              this.reloadTracks();\n            } else if (\n              changes['mapZoom'].currentValue < this.tracksMinZoom &&\n              changes['mapZoom'].previousValue >= this.tracksMinZoom\n            ) {\n              this.source.clear();\n            }\n          }\n        }\n      }\n    }\n  }\n\n  okToRenderTracks() {\n    return this.mapZoom >= this.tracksMinZoom;\n  }\n\n  reloadTracks() {\n    if (!this.tracks || !this.source) {\n      return;\n    }\n    this.source.clear();\n    if (this.okToRenderTracks) {\n      this.onUpdateTargets(this.extractKeys(this.tracks));\n    }\n  }\n\n  // update track features\n  override onUpdateTargets(ids: Array<string>) {\n    if (this.okToRenderTracks) {\n      ids.forEach((id: string) => {\n        if (id.includes(this.targetContext)) {\n          const f = this.source.getFeatureById('track-' + id) as Feature;\n          if (this.okToRenderTarget(id)) {\n            if (this.tracks.has(id)) {\n              const track = this.tracks.get(id);\n              if (f) {\n                f.setGeometry(\n                  new MultiLineString(this.parseCoordinates(track))\n                );\n                f.setStyle(this.buildStyle(id));\n              } else {\n                this.addTrackWithId(id);\n              }\n            }\n          } else {\n            this.source.removeFeature(f);\n          }\n        }\n      });\n    }\n  }\n\n  // remove track features\n  override onRemoveTargets(ids: Array<string>) {\n    ids.forEach((w) => {\n      const f = this.source.getFeatureById('track-' + w) as Feature;\n      if (f) {\n        this.source.removeFeature(f);\n      }\n    });\n  }\n\n  // add new track feature\n  addTrackWithId(id: string) {\n    if (!id.includes(this.targetContext) || !this.tracks.has(id)) {\n      return;\n    }\n    const track = this.tracks.get(id);\n    const f = new Feature({\n      geometry: new MultiLineString(this.parseCoordinates(track))\n    });\n    f.setId('track-' + id);\n    f.setStyle(this.buildStyle(id));\n    this.source.addFeature(f);\n  }\n\n  // build track style\n  buildStyle(id: string): Style {\n    const rgb = id.indexOf('aircraft') !== -1 ? '0, 0, 255' : '255, 0, 255';\n    let color =\n      this.mapZoom < this.tracksMinZoom ? `rgba(${rgb},0)` : `rgba(${rgb},1)`;\n    color = this.showTracks ? `rgba(${rgb},1)` : `rgba(${rgb},0)`;\n    if (this.layerProperties && this.layerProperties.style) {\n      const cs = this.layerProperties.style.clone();\n      const ls = cs.getStroke();\n      ls.setColor(color);\n      cs.setStroke(ls);\n      return cs;\n    } else {\n      return new Style({\n        stroke: new Stroke({\n          width: 1,\n          color: color,\n          lineDash: [2, 2]\n        })\n      });\n    }\n  }\n\n  // ** mapify and transform MultiLineString coordinates\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseCoordinates(trk: Array<any>) {\n    // ** handle dateline crossing **\n    const tc = trk.map((mls) => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const lines: Array<any> = [];\n      mls.forEach((line) => lines.push(mapifyCoords(line)));\n      return lines;\n    });\n    return fromLonLatArray(tc);\n  }\n}\n","import { Component, OnInit, Inject } from '@angular/core';\nimport {\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { SKAtoN } from 'src/app/modules/skresources/resource-classes';\nimport { SignalKDetailsComponent } from '../../components/signalk-details.component';\n\n/********* AtoNPropertiesModal **********\n\tdata: {\n        title: \"<string>\" title text,\n        target: \"<SKAtoN>\" aid to navigation\n        icon: <string>\n    }\n***********************************/\n@Component({\n  selector: 'ap-aton-modal',\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    SignalKDetailsComponent\n  ],\n  template: `\n    <div class=\"_ap-aton\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span>\n          <mat-icon> {{ data.icon }}</mat-icon>\n        </span>\n        <span style=\"flex: 1 1 auto; padding-left:20px;text-align:center;\">\n          {{ data.title }}\n        </span>\n        <span>\n          <button\n            mat-icon-button\n            (click)=\"modalRef.dismiss()\"\n            matTooltip=\"Close\"\n            matTooltipPosition=\"below\"\n          >\n            <mat-icon>keyboard_arrow_down</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n\n      <mat-card>\n        <mat-card-content>\n          <div style=\"display:flex;flex-direction: column;\">\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Name:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.target.name }}</div>\n            </div>\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">MMSI:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.target.mmsi }}</div>\n            </div>\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Type:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.target.type.name }}</div>\n            </div>\n            <button mat-stroked-button (click)=\"toggleProperties()\">\n              <span>Show {{ showProperties ? 'Less' : 'More' }}</span>\n              <mat-icon>{{\n                showProperties ? 'keyboard_arrow_down' : 'keyboard_arrow_right'\n              }}</mat-icon>\n            </button>\n            @if(showProperties) {\n            <signalk-details-list [details]=\"properties\"></signalk-details-list>\n            }\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-aton {\n        font-family: arial;\n        min-width: 300px;\n      }\n      ._ap-aton .key-label {\n        width: 150px;\n        font-weight: bold;\n      }\n    `\n  ]\n})\nexport class AtoNPropertiesModal implements OnInit {\n  protected showProperties = true;\n  protected properties: { [key: string]: string | number | null };\n\n  constructor(\n    private sk: SignalKClient,\n    private app: AppFacade,\n    public modalRef: MatBottomSheetRef<AtoNPropertiesModal>,\n    @Inject(MAT_BOTTOM_SHEET_DATA)\n    public data: {\n      title: string;\n      target: SKAtoN;\n      id: string;\n      icon: string;\n      type: 'aton' | 'sar' | 'meteo';\n    }\n  ) {}\n\n  ngOnInit() {\n    this.getAtoNInfo();\n  }\n\n  toggleProperties() {\n    this.showProperties = !this.showProperties;\n  }\n\n  // fetch object information\n  private getAtoNInfo() {\n    if (!this.data.id) {\n      return;\n    }\n    const path = this.data.id.split('.').join('/');\n\n    this.sk.api.get(path).subscribe((v) => {\n      if (this.data.type === 'meteo') {\n        this.properties = this.parseMeteo(v);\n      } else {\n        this.properties = this.parseAtoN(v);\n      }\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private parseMeteo(data: any) {\n    const res = {};\n\n    if (data.navigation && data.navigation.position) {\n      res['navigation.position'] = data.navigation.position.value;\n    }\n    const bk = data.environment.observation ?? data.environment;\n    const pk = data.environment.observation\n      ? 'environment.observation'\n      : 'environment';\n    if (bk) {\n      this.processPathObject(res, bk, pk);\n    }\n    return res;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private processPathObject(res: any, bk: any, pk: string) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Object.keys(bk).forEach((k: any) => {\n      const pathRoot = `${pk}.${k}`;\n      const g = bk[k];\n      if (k === 'water') {\n        this.processPathObject(res, g, pathRoot);\n      } else if (g.meta) {\n        res[pathRoot] = this.app.formatValueForDisplay(\n          g.value,\n          g.meta.units ? g.meta.units : '',\n          k.toLowerCase().includes('level') ||\n            k.toLowerCase().includes('height') // depth values\n        );\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        Object.entries(g).forEach((i: any) => {\n          const key = `${pathRoot}.${i[0]}`;\n          res[key] = this.app.formatValueForDisplay(\n            i[1].value,\n            i[1].meta && i[1].meta.units ? i[1].meta.units : '',\n            i[0].toLowerCase().includes('level') ||\n              i[0].toLowerCase().includes('height') // depth values\n          );\n        });\n      }\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private parseAtoN(data: any) {\n    const res = {};\n    if (data.navigation && data.navigation.position) {\n      res['navigation.position'] = data.navigation.position.value;\n    }\n    return Object.assign(res, this.data.target.properties);\n  }\n}\n","/** Settings abstraction Facade\n * ************************************/\nimport { effect, Injectable, signal } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { Position } from 'src/app/types';\nimport { SKStreamFacade } from '../skstream/skstream.facade';\n\n@Injectable({ providedIn: 'root' })\nexport class AnchorFacade {\n  // **************** ATTRIBUTES ***************************\n  private raisedSignal = signal<boolean>(true);\n  readonly raised = this.raisedSignal.asReadonly();\n  private positionSignal = signal<Position>(null);\n  readonly position = this.positionSignal.asReadonly();\n  private radiusSignal = signal<number>(0);\n  readonly radius = this.radiusSignal.asReadonly();\n  // *******************************************************\n\n  constructor(\n    private app: AppFacade,\n    private signalk: SignalKClient,\n    private stream: SKStreamFacade\n  ) {\n    effect(() => {\n      if (this.stream.selfAnchor()) {\n        this.parseAnchorStatus(this.stream.selfAnchor());\n      }\n    });\n  }\n\n  /**\n   * @description Set the value of the raisedSignal\n   * @param value value to set for the signal\n   */\n  public setRaisedSignal(value: boolean) {\n    this.raisedSignal.set(value);\n  }\n\n  /**\n   * @description Set anchor position\n   * @param position\n   * @returns Promise\n   */\n  public setAnchorPosition(position: Position) {\n    if (!position) {\n      return;\n    }\n    return new Promise((resolve, reject) => {\n      this.signalk\n        .post('/plugins/anchoralarm/setAnchorPosition', {\n          position: {\n            latitude: position[1],\n            longitude: position[0]\n          }\n        })\n        .subscribe(\n          () => resolve(true),\n          (err: HttpErrorResponse) => {\n            reject(err);\n          }\n        );\n    });\n  }\n\n  /**\n   * @description Query anchor status from server\n   */\n  public queryAnchorStatus(context: string, position?: Position) {\n    this.app.debug('Retrieving anchor status...');\n    context = !context || context === 'self' ? 'vessels/self' : context;\n    this.signalk.api.get(`/${context}/navigation/anchor`).subscribe(\n      (r: any) => {\n        const pos: Position = r.position?.value\n          ? [r.position.value.longitude, r.position.value.latitude]\n          : null;\n        const data = {\n          position: pos,\n          maxRadius: r.maxRadius?.value ? r.maxRadius.value : null,\n          radius: r.currentRadius?.value ? r.currentRadius.value : null\n        };\n        this.parseAnchorStatus(data, position);\n      },\n      () => {\n        this.positionSignal.set([0, 0]);\n        this.raisedSignal.set(true);\n      }\n    );\n  }\n\n  // ** process anchor status\n  private parseAnchorStatus(\n    r: { maxRadius?: number; position?: Position; radius?: number },\n    position?: Position\n  ) {\n    if (\n      r.position &&\n      typeof r.position[0] === 'number' &&\n      typeof r.position[0] === 'number'\n    ) {\n      this.positionSignal.set(r.position);\n      this.raisedSignal.set(false);\n    } else {\n      if (position) {\n        this.positionSignal.set(position);\n      }\n      this.raisedSignal.set(true);\n    }\n    this.radiusSignal.set(r.maxRadius ?? -1);\n  }\n}\n","// ** Freeboard Map configuration **\n\nimport { Style, Icon, Text, Stroke, Fill, Circle } from 'ol/style';\n\nexport const mapInteractions = [\n  { name: 'dragpan' },\n  { name: 'dragzoom' },\n  { name: 'keyboardpan' },\n  { name: 'keyboardzoom' },\n  { name: 'mousewheelzoom' },\n  { name: 'pinchzoom' }\n];\n\nexport const mapControls = [\n  //{name: 'fullscreen'},\n  //{name: 'rotate'},\n  {\n    name: 'scaleline',\n    options: {\n      className: 'ol-scale-line',\n      bar: true,\n      steps: 2,\n      text: false,\n      minWidth: 64,\n      units: 'nautical'\n    }\n  }\n  //{name: 'zoom'},\n  //{name: 'zoomslider'},\n  //{name: 'zoomtoextent'},\n  //{name: 'attribution'},\n];\n\nexport const vesselStyles = {\n  default: new Style({\n    image: new Icon({\n      src: './assets/img/ship_red.png',\n      anchor: [9.5, 22.5],\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels',\n      size: [50, 50],\n      scale: 0.75,\n      rotateWithView: true\n    })\n  }),\n  inactive: new Style({\n    image: new Icon({\n      src: './assets/img/ship_blur.png',\n      anchor: [9.5, 22.5],\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels',\n      size: [50, 50],\n      scale: 0.75,\n      rotateWithView: true\n    })\n  }),\n  fixed: new Style({\n    image: new Icon({\n      src: './assets/img/fixed_location.png',\n      anchor: [22.5, 50],\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels',\n      size: [50, 50],\n      scale: 0.5,\n      rotateWithView: false\n    })\n  })\n};\n\nexport const raceCourseStyles = {\n  startPin: new Style({\n    image: new Icon({\n      src: './assets/img/startflag.png',\n      rotateWithView: false,\n      scale: 0.5,\n      anchor: [22.5, 45],\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels'\n    }),\n    text: new Text({\n      text: '',\n      offsetY: 10\n    })\n  }),\n  startBoat: new Style({\n    image: new Icon({\n      src: './assets/img/startboat.png',\n      rotateWithView: false,\n      scale: 0.15,\n      anchor: [24, 160],\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels'\n    }),\n    text: new Text({\n      text: '',\n      offsetY: 10\n    })\n  }),\n  startLine: new Style({\n    stroke: new Stroke({\n      color: 'black',\n      width: 1,\n      lineDash: [4, 4]\n    }),\n    text: new Text({\n      text: 'Start',\n      offsetY: 10\n    })\n  }),\n  finishLine: new Style({\n    stroke: new Stroke({\n      color: 'black',\n      width: 1,\n      lineDash: [4, 4]\n    }),\n    text: new Text({\n      text: 'Finish',\n      offsetY: -10\n    })\n  }),\n  finishPin: new Style({\n    image: new Icon({\n      src: './assets/img/finishflag.png',\n      rotateWithView: false,\n      scale: 0.25,\n      anchor: [1, 59],\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels'\n    }),\n    text: new Text({\n      text: '',\n      offsetY: 10\n    })\n  })\n};\n\nexport const routeStyles = {\n  default: new Style({\n    stroke: new Stroke({\n      color: 'green',\n      width: 2,\n      lineDash: [20, 5, 5, 5]\n    }),\n    text: new Text({\n      text: '',\n      offsetY: 10\n    })\n  }),\n  active: new Style({\n    stroke: new Stroke({\n      color: 'blue',\n      width: 4\n    })\n  })\n};\n\n// ***********\n\nconst wptIcon = new Icon({\n  src: './assets/img/waypoints/marker-yellow.png',\n  rotateWithView: false,\n  size: [25, 25],\n  anchor: [10.5, 25],\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\n\nconst wptActiveIcon = new Icon({\n  src: './assets/img/waypoints/marker-blue.png',\n  rotateWithView: false,\n  size: [25, 25],\n  anchor: [10.5, 25],\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\n\nconst pseudoAtoNIcon = new Icon({\n  src: './assets/img/waypoints/marker-red.png',\n  rotateWithView: false,\n  size: [25, 25],\n  anchor: [10.5, 25],\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\n\nconst whaleIcon = new Icon({\n  src: './assets/img/ob/whale.svg',\n  rotateWithView: false\n});\n\nconst pobIcon = new Icon({\n  src: './assets/img/ob/alarm-mob.svg',\n  rotateWithView: false\n});\n\nexport const waypointStyles = {\n  default: new Style({\n    image: wptIcon,\n    text: new Text({\n      text: '',\n      offsetY: -30\n    })\n  }),\n  active: new Style({\n    image: wptActiveIcon,\n    text: new Text({\n      text: '',\n      offsetY: -30\n    })\n  }),\n  pseudoaton: new Style({\n    image: pseudoAtoNIcon,\n    text: new Text({\n      text: '',\n      offsetY: -30\n    })\n  }),\n  whale: new Style({\n    image: whaleIcon,\n    text: new Text({\n      text: '',\n      offsetY: -15\n    })\n  }),\n  'alarm-mob': new Style({\n    image: pobIcon,\n    text: new Text({\n      text: '',\n      offsetY: -15\n    })\n  }),\n  mob: new Style({\n    image: pobIcon,\n    text: new Text({\n      text: '',\n      offsetY: -15\n    })\n  })\n};\n\n// ***********\n\nexport const anchorStyles = {\n  line: new Style({\n    fill: new Fill({ color: 'green' }),\n    stroke: new Stroke({\n      color: 'black',\n      width: 2,\n      lineDash: [5, 5]\n    })\n  }),\n  circle: new Style({\n    fill: new Fill({ color: 'rgba(0, 255, 0, .3)' }),\n    stroke: new Stroke({\n      color: 'red',\n      width: 2,\n      lineDash: [5, 5]\n    })\n  }),\n  anchor: new Style({\n    image: new Icon({\n      src: './assets/img/anchor.png',\n      size: [26, 26],\n      scale: 0.75,\n      anchor: [13, 1],\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels',\n      rotateWithView: false\n    })\n  })\n};\n\n// ***********\nexport const regionStyles = {\n  'notice-to-mariners': new Style({\n    stroke: new Stroke({\n      color: 'rgb(206, 107, 132)',\n      lineDash: [5, 5],\n      width: 2\n    }),\n    fill: new Fill({\n      color: 'rgba(206, 107, 132, 0.2)'\n    }),\n    text: new Text({\n      text: '',\n      offsetY: 0\n    })\n  })\n};\n\n// ***********\n\nexport const alarmStyles = {\n  mob: new Style({\n    image: new Icon({\n      src: './assets/img/alarms/mob.svg',\n      rotateWithView: false,\n      rotation: 0,\n      scale: 1,\n      anchor: [12, 12],\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels'\n    })\n  })\n};\n\nexport const destinationStyles = {\n  marker: new Style({\n    image: new Icon({\n      src: './assets/img/waypoints/marker-green.png',\n      anchor: [10.5, 25],\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels',\n      rotateWithView: false\n    }),\n    text: new Text({\n      text: '',\n      offsetY: -30\n    })\n  })\n};\n\n// ***********\nconst aisScale = 1.0;\nconst aisIconAnchor = [17, 16];\n\nconst aisFocus = new Icon({\n  src: './assets/img/ais_self.png',\n  rotateWithView: true,\n  rotation: 0,\n  anchor: [9.5, 22.5],\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels',\n  size: [50, 50],\n  scale: 0.75\n});\nconst aisActive = new Icon({\n  src: './assets/img/ais_active.svg',\n  rotateWithView: true,\n  rotation: 0,\n  scale: aisScale,\n  anchor: aisIconAnchor,\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\nconst aisInactive = new Icon({\n  src: './assets/img/ais_inactive.svg',\n  rotateWithView: true,\n  rotation: 0,\n  scale: aisScale,\n  anchor: aisIconAnchor,\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\nconst ais40 = new Icon({\n  src: './assets/img/ais_highspeed.svg',\n  rotateWithView: true,\n  rotation: 0,\n  scale: aisScale,\n  anchor: aisIconAnchor,\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\nconst ais50 = new Icon({\n  src: './assets/img/ais_special.svg',\n  rotateWithView: true,\n  rotation: 0,\n  scale: aisScale,\n  anchor: aisIconAnchor,\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\nconst ais60 = new Icon({\n  src: './assets/img/ais_passenger.svg',\n  rotateWithView: true,\n  rotation: 0,\n  scale: aisScale,\n  anchor: aisIconAnchor,\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\nconst ais70 = new Icon({\n  src: './assets/img/ais_cargo.svg',\n  rotateWithView: true,\n  rotation: 0,\n  scale: aisScale,\n  anchor: aisIconAnchor,\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\nconst ais80 = new Icon({\n  src: './assets/img/ais_tanker.svg',\n  rotateWithView: true,\n  rotation: 0,\n  scale: aisScale,\n  anchor: aisIconAnchor,\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\nconst ais90 = new Icon({\n  src: './assets/img/ais_other.svg',\n  rotateWithView: true,\n  rotation: 0,\n  scale: aisScale,\n  anchor: aisIconAnchor,\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\nconst aisBuddy = new Icon({\n  src: './assets/img/ais_buddy.svg',\n  rotateWithView: true,\n  rotation: 0,\n  scale: aisScale,\n  anchor: aisIconAnchor,\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels'\n});\n\nconst aisTextOffset = 22;\nconst aisMooredTextOffset = 12;\nexport const aisVesselStyles = {\n  default: new Style({\n    image: aisActive,\n    text: new Text({\n      text: '',\n      offsetY: aisTextOffset\n    })\n  }),\n  inactive: new Style({\n    image: aisInactive,\n    text: new Text({\n      text: '',\n      offsetY: aisTextOffset\n    })\n  }),\n  focus: new Style({\n    image: aisFocus,\n    text: new Text({\n      text: '',\n      offsetY: aisTextOffset\n    }),\n    zIndex: 500\n  }),\n  buddy: new Style({\n    image: aisBuddy,\n    text: new Text({\n      text: '',\n      offsetY: aisTextOffset\n    })\n  }),\n  // vessel state\n  moored: new Style({\n    // moored state\n    image: new Circle({\n      radius: 5,\n      stroke: new Stroke({\n        width: 2,\n        color: 'white'\n      }),\n      fill: new Fill({\n        color: '#FF00FF'\n      })\n    }),\n    text: new Text({\n      text: '',\n      offsetY: aisMooredTextOffset\n    })\n  }),\n  // vessel type & state\n  40: {\n    // high-speed\n    default: new Style({\n      image: ais40,\n      text: new Text({\n        text: '',\n        offsetY: aisTextOffset\n      })\n    }),\n    moored: new Style({\n      // moored state\n      image: new Circle({\n        radius: 5,\n        stroke: new Stroke({\n          width: 2,\n          color: '#7F6A00'\n        }),\n        fill: new Fill({\n          color: '#FFE97F'\n        })\n      }),\n      text: new Text({\n        text: '',\n        offsetY: aisMooredTextOffset\n      })\n    })\n  },\n  50: {\n    // special\n    default: new Style({\n      image: ais50,\n      text: new Text({\n        text: '',\n        offsetY: aisTextOffset\n      })\n    }),\n    moored: new Style({\n      // moored state\n      image: new Circle({\n        radius: 5,\n        stroke: new Stroke({\n          width: 2,\n          color: '#000000'\n        }),\n        fill: new Fill({\n          color: '#00ffff'\n        })\n      }),\n      text: new Text({\n        text: '',\n        offsetY: aisMooredTextOffset\n      })\n    })\n  },\n  60: {\n    // passenger\n    default: new Style({\n      image: ais60,\n      text: new Text({\n        text: '',\n        offsetY: aisTextOffset\n      })\n    }),\n    moored: new Style({\n      // moored state\n      image: new Circle({\n        radius: 5,\n        stroke: new Stroke({\n          width: 2,\n          color: '#0026FF'\n        }),\n        fill: new Fill({\n          color: '#0026FF'\n        })\n      }),\n      text: new Text({\n        text: '',\n        offsetY: aisMooredTextOffset\n      })\n    })\n  },\n  70: {\n    // cargo\n    default: new Style({\n      image: ais70,\n      text: new Text({\n        text: '',\n        offsetY: aisTextOffset\n      })\n    }),\n    moored: new Style({\n      // moored state\n      image: new Circle({\n        radius: 5,\n        stroke: new Stroke({\n          width: 2,\n          color: '#000000'\n        }),\n        fill: new Fill({\n          color: '#009931'\n        })\n      }),\n      text: new Text({\n        text: '',\n        offsetY: aisMooredTextOffset\n      })\n    })\n  },\n  80: {\n    // tanker\n    default: new Style({\n      image: ais80,\n      text: new Text({\n        text: '',\n        offsetY: aisTextOffset\n      })\n    }),\n    moored: new Style({\n      // moored state\n      image: new Circle({\n        radius: 5,\n        stroke: new Stroke({\n          width: 2,\n          color: '#7F0000'\n        }),\n        fill: new Fill({\n          color: '#FF0000'\n        })\n      }),\n      text: new Text({\n        text: '',\n        offsetY: aisMooredTextOffset\n      })\n    })\n  },\n  90: {\n    // other\n    default: new Style({\n      image: ais90,\n      text: new Text({\n        text: '',\n        offsetY: aisTextOffset\n      })\n    }),\n    moored: new Style({\n      // moored state\n      image: new Circle({\n        radius: 5,\n        stroke: new Stroke({\n          width: 2,\n          color: '#000000'\n        }),\n        fill: new Fill({\n          color: '#808080'\n        })\n      }),\n      text: new Text({\n        text: '',\n        offsetY: aisMooredTextOffset\n      })\n    })\n  }\n};\n\n// ***********\n\nconst baseStationIcon = new Icon({\n  src: './assets/img/atons/basestation.svg',\n  scale: 0.4,\n  anchor: [23, 49],\n  anchorXUnits: 'pixels',\n  anchorYUnits: 'pixels',\n  rotateWithView: false,\n  rotation: 0\n});\n\nexport const basestationStyles = {\n  default: new Style({\n    image: baseStationIcon,\n    text: new Text({\n      text: '',\n      offsetX: 0,\n      offsetY: -20\n    })\n  })\n};\n\n// ***********\nconst aircraftActiveIcon = new Icon({\n  src: './assets/img/aircraft_active.png',\n  rotateWithView: true,\n  rotation: 0\n});\n\nconst aircraftInactiveIcon = new Icon({\n  src: './assets/img/aircraft_inactive.png',\n  rotateWithView: true,\n  rotation: 0\n});\n\nexport const aircraftStyles = {\n  default: new Style({\n    image: aircraftActiveIcon,\n    text: new Text({\n      text: '',\n      offsetY: -12\n    })\n  }),\n  inactive: new Style({\n    image: aircraftInactiveIcon,\n    text: new Text({\n      text: '',\n      offsetY: -12\n    })\n  })\n};\n\n// ***********\nconst sarIcon = new Icon({\n  src: './assets/img/sar_active.png',\n  rotateWithView: false,\n  rotation: 0\n});\n\nexport const sarStyles = {\n  default: new Style({\n    image: sarIcon,\n    text: new Text({\n      text: '',\n      offsetY: -18\n    })\n  })\n};\n\n// ***********\nexport const laylineStyles = {\n  port: new Style({\n    fill: new Fill({ color: 'green' }),\n    stroke: new Stroke({\n      color: 'green',\n      width: 1,\n      lineDash: [5, 5]\n    })\n  }),\n  starboard: new Style({\n    fill: new Fill({ color: 'red' }),\n    stroke: new Stroke({\n      color: 'red',\n      width: 1,\n      lineDash: [5, 5]\n    })\n  })\n};\n\nexport const targetAngleStyle = new Style({\n  fill: new Fill({ color: 'green' }),\n  stroke: new Stroke({\n    color: 'gray',\n    width: 1,\n    lineDash: [15, 5, 3, 5]\n  })\n});\n\nexport const drawStyles = {\n  default: undefined,\n  measure: [\n    new Style({\n      stroke: new Stroke({\n        color: 'white',\n        width: 5,\n        lineDash: [5, 5]\n      })\n    }),\n    new Style({\n      image: new Circle({\n        radius: 6,\n        stroke: new Stroke({\n          width: 2,\n          color: 'white'\n        }),\n        fill: new Fill({\n          color: '#3399CC'\n        })\n      }),\n      fill: new Fill({\n        color: '#3399CC'\n      }),\n      stroke: new Stroke({\n        color: '#3399CC',\n        width: 3,\n        lineDash: [5, 5]\n      })\n    })\n  ],\n  route: [\n    new Style({\n      stroke: new Stroke({\n        color: 'white',\n        width: 5\n      })\n    }),\n    new Style({\n      image: new Circle({\n        radius: 6,\n        stroke: new Stroke({\n          width: 2,\n          color: 'white'\n        }),\n        fill: new Fill({\n          color: 'green'\n        })\n      }),\n      stroke: new Stroke({\n        color: 'green',\n        width: 3\n      })\n    })\n  ],\n  region: [\n    new Style({\n      stroke: new Stroke({\n        color: 'rgba(255,255,255,0.4)',\n        width: 5\n      }),\n      fill: new Fill({\n        color: 'rgba(255,255,255,0.4)'\n      })\n    }),\n    new Style({\n      stroke: new Stroke({\n        color: 'purple',\n        width: 2\n      }),\n      image: new Circle({\n        radius: 6,\n        stroke: new Stroke({\n          width: 2,\n          color: 'white'\n        }),\n        fill: new Fill({\n          color: 'purple'\n        })\n      })\n    })\n  ]\n};\n","import { Injectable } from '@angular/core';\nimport { Icon } from 'ol/style';\nimport { getAtoNDefs, getPoiDefs } from 'src/app/modules/icons';\n\ninterface MapImageCollection {\n  [id: string | number]: Icon;\n}\n\ninterface MapImages {\n  atons: MapImageCollection;\n  poi: MapImageCollection;\n}\n\nexport interface MapIconDef {\n  path: string;\n  scale?: number;\n  anchor?: [number, number];\n}\n\nconst ATON_TYPE_IDS = {\n  aton: 'aton',\n  '-1': 'weatherStation',\n  9: 'north',\n  10: 'east',\n  11: 'south',\n  12: 'west',\n  13: 'port',\n  14: 'starboard',\n  20: 'north',\n  21: 'east',\n  22: 'south',\n  23: 'west',\n  24: 'port',\n  25: 'starboard',\n  28: 'danger',\n  29: 'safe',\n  30: 'special'\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapImageRegistry {\n  private icons: MapImages = {\n    atons: {},\n    poi: {}\n  };\n\n  private atonImageDefs: any = {\n    virtual: {},\n    real: {}\n  };\n\n  private poiImageDefs = {};\n\n  constructor() {\n    this.atonImageDefs = getAtoNDefs();\n    this.poiImageDefs = getPoiDefs();\n  }\n\n  /**\n   * @description Returns image for the supplied AtoN identifier\n   * @param id AtoN identifier\n   * @param virtual true = virtual AtoN, false = real AtoN\n   * @returns Icon object\n   */\n  getAtoN(id: number | string, virtual?: boolean): Icon {\n    const vid = ATON_TYPE_IDS[id] ?? 'aton';\n    if (!this.icons.atons[vid]) {\n      this.buildIcon(\n        this.icons.atons,\n        virtual ? this.atonImageDefs.virtual : this.atonImageDefs.real,\n        vid\n      );\n    }\n    return this.icons.atons[vid] ?? this.icons.atons['aton'];\n  }\n\n  /**\n   * @description Returns image for the supplied Point of Interest identifier\n   * @param id Point of Interest identifier\n   * @returns Icon object\n   */\n  getPOI(id: string): Icon {\n    id = id ?? 'default';\n    if (!this.icons.poi[id]) {\n      this.buildIcon(this.icons.poi, this.poiImageDefs, id);\n    }\n    return this.icons.poi[id] ?? this.icons.poi.default;\n  }\n\n  /**\n   * @description Build Icon object into the selected group\n   * @param group Reference to the image group to place the icon.\n   * @param iconDef Icon definitions\n   * @param id Icon identifier\n   * @returns\n   */\n  private buildIcon(\n    group: MapImageCollection,\n    iconDef: { [id: string]: any },\n    id: number | string\n  ) {\n    if (!iconDef[id]) return;\n    group[id] = new Icon({\n      src: iconDef[id].path,\n      scale: iconDef[id].scale,\n      anchor: iconDef[id].anchor,\n      anchorXUnits: 'pixels',\n      anchorYUnits: 'pixels',\n      rotateWithView: false,\n      rotation: 0\n    });\n  }\n}\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  Input,\n  Output,\n  EventEmitter,\n  ViewChild,\n  SimpleChanges,\n  Signal,\n  computed,\n  effect\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatListModule } from '@angular/material/list';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatMenuModule, MatMenuTrigger } from '@angular/material/menu';\n\n// ** OL & popvers **\nimport {\n  PopoverComponent,\n  FeatureListPopoverComponent,\n  AtoNPopoverComponent,\n  AircraftPopoverComponent,\n  AlarmPopoverComponent,\n  ResourcePopoverComponent,\n  ResourceSetPopoverComponent,\n  VesselPopoverComponent\n} from './popovers';\nimport { FreeboardOpenlayersModule } from 'src/app/modules/map/ol';\nimport { PipesModule } from 'src/app/lib/pipes';\n\nimport { computeDestinationPoint, getGreatCircleBearing } from 'geolib';\nimport { toLonLat } from 'ol/proj';\nimport { Style, Stroke, Fill } from 'ol/style';\nimport { Collection, Feature } from 'ol';\nimport { Feature as GeoJsonFeature } from 'geojson';\n\nimport { Convert } from 'src/app/lib/convert';\nimport { GeoUtils, Angle } from 'src/app/lib/geoutils';\nimport {\n  FBChart,\n  FBRoute,\n  FBWaypoint,\n  LineString,\n  Position,\n  ResourceSet\n} from 'src/app/types';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { SettingsMessage } from 'src/app/lib/services';\nimport {\n  SKResources,\n  SKOtherResources,\n  SKChart,\n  SKRoute,\n  SKWaypoint,\n  SKNote,\n  SKRegion,\n  SKVessel,\n  SKAtoN,\n  SKAircraft,\n  SKSaR,\n  SKMeteo,\n  SKStreamFacade,\n  AnchorFacade,\n  SKTrack,\n  NotificationManager,\n  AlertData\n} from 'src/app/modules';\nimport {\n  mapInteractions,\n  mapControls,\n  vesselStyles,\n  aisVesselStyles,\n  basestationStyles,\n  aircraftStyles,\n  sarStyles,\n  waypointStyles,\n  regionStyles,\n  routeStyles,\n  anchorStyles,\n  alarmStyles,\n  destinationStyles,\n  laylineStyles,\n  drawStyles,\n  targetAngleStyle,\n  raceCourseStyles\n} from './mapconfig';\nimport { ModifyEvent } from 'ol/interaction/Modify';\nimport { DrawEvent } from 'ol/interaction/Draw';\nimport { Coordinate } from 'ol/coordinate';\nimport { FBCharts, FBNotes, FBRoutes, FBWaypoints } from 'src/app/types';\nimport { S57Service } from './ol/lib/s57.service';\nimport { Position as SKPosition } from '@signalk/server-api';\nimport { FBMapEvent, FBPointerEvent } from './ol/lib/map.component';\nimport { FeatureLike } from 'ol/Feature';\nimport { HttpErrorResponse } from '@angular/common/http';\n\ninterface IResource {\n  id: string;\n  type: string;\n}\n\ninterface IOverlay {\n  id: string;\n  type: string;\n  icon?: string;\n  position: Coordinate;\n  show: boolean;\n  title: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  content: any[];\n  featureCount: number;\n  resource?:\n    | [string, SKRoute | SKWaypoint | SKNote | SKRegion]\n    | GeoJsonFeature;\n  vessel?: SKVessel;\n  isSelf?: boolean;\n  aton?: SKAtoN;\n  meteo?: SKMeteo;\n  aircraft?: SKAircraft;\n  alarm?: AlertData;\n  readOnly: boolean;\n}\n\ninterface IFeatureData {\n  aircraft: Map<string, SKAircraft>;\n  atons: Map<string, SKAtoN>;\n  sar: Map<string, SKSaR>;\n  meteo: Map<string, SKMeteo>;\n  routes: FBRoutes;\n  waypoints: FBWaypoints;\n  charts: FBCharts;\n  notes: FBNotes;\n  regions: Array<SKRegion>;\n  tracks: Array<Position[]>; // self track(s) from server\n  trail: Array<Position>; // self trail (appended to tracks)\n  self: SKVessel; //self vessel\n  ais: Map<string, SKVessel>; // other vessels\n  active: SKVessel; // focussed vessel\n  navData: { position: Position; startPosition: Position };\n  closest: Array<LineString>;\n  resourceSets: Array<[string, ResourceSet]>;\n}\n\ninterface IDrawInfo {\n  enabled: boolean;\n  style: Style | Style[] | undefined;\n  mode: string | null;\n  type: 'Point' | 'LineString' | 'Polygon';\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  coordinates: any[];\n  modify: boolean;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  features: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  forSave: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  properties: { [key: string]: any };\n}\n\ninterface IMeasureInfo {\n  enabled: boolean;\n  end: boolean;\n  style: Style | Style[];\n  totalDistance: number;\n  coords: Position[];\n}\n\nenum INTERACTION_MODE {\n  MEASURE,\n  DRAW,\n  MODIFY\n}\n\n@Component({\n  selector: 'fb-map',\n  imports: [\n    CommonModule,\n    MatTooltipModule,\n    MatListModule,\n    MatIconModule,\n    MatButtonModule,\n    MatTooltipModule,\n    PipesModule,\n    MatCardModule,\n    MatMenuModule,\n    FreeboardOpenlayersModule,\n    PopoverComponent,\n    FeatureListPopoverComponent,\n    AtoNPopoverComponent,\n    AircraftPopoverComponent,\n    AlarmPopoverComponent,\n    ResourcePopoverComponent,\n    ResourceSetPopoverComponent,\n    VesselPopoverComponent\n  ],\n  templateUrl: './fb-map.component.html',\n  styleUrls: ['./fb-map.component.css']\n})\nexport class FBMapComponent implements OnInit, OnDestroy {\n  @Input() setFocus: boolean;\n  @Input() mapCenter: Position = [0, 0];\n  @Input() mapZoom = 1;\n  @Input() movingMap = false;\n  @Input() northUp = true;\n  @Input() measureMode = false;\n  @Input() drawMode: string = null;\n  @Input() modifyMode = false;\n  @Input() activeRoute: string;\n  @Input() vesselTrail: Array<Position> = [];\n  @Input() dblClickZoom = false;\n  @Output() measureStart: EventEmitter<boolean> = new EventEmitter();\n  @Output() measureEnd: EventEmitter<boolean> = new EventEmitter();\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Output() drawEnd: EventEmitter<any> = new EventEmitter();\n  @Output() modifyStart: EventEmitter<{ id: string; type: string }> =\n    new EventEmitter();\n  @Output() modifyEnd: EventEmitter<Array<Position>> = new EventEmitter();\n  @Output() activate: EventEmitter<string> = new EventEmitter();\n  @Output() deactivate: EventEmitter<string> = new EventEmitter();\n  @Output() info: EventEmitter<IResource> = new EventEmitter();\n  @Output() exitedMovingMap: EventEmitter<boolean> = new EventEmitter();\n  @Output() focusVessel: EventEmitter<string> = new EventEmitter();\n  @Output() menuItemSelected: EventEmitter<string> = new EventEmitter();\n\n  @ViewChild(MatMenuTrigger, { static: true }) contextMenu: MatMenuTrigger;\n\n  // ** draw interaction data\n  protected draw: IDrawInfo = {\n    enabled: false,\n    style: drawStyles.default,\n    mode: null,\n    type: 'Point',\n    coordinates: null,\n    modify: false,\n    features: null,\n    forSave: null,\n    properties: {}\n  };\n\n  // ** measure interaction data\n  protected measure: IMeasureInfo = {\n    enabled: false,\n    end: false,\n    style: drawStyles.measure,\n    totalDistance: 0,\n    coords: []\n  };\n\n  protected vesselLines = {\n    twd: [],\n    awa: [],\n    bearing: [],\n    heading: [],\n    anchor: [],\n    trail: [],\n    xtePath: [],\n    laylines: { port: [], starboard: [] },\n    targetAngle: []\n  };\n\n  protected overlay: IOverlay = {\n    id: null,\n    type: null,\n    icon: null,\n    position: [0, 0],\n    show: false,\n    title: '',\n    content: null,\n    featureCount: 0,\n    readOnly: false\n  };\n\n  private zoomOffsetLevel = [\n    1, 1000000, 550000, 290000, 140000, 70000, 38000, 17000, 7600, 3900, 1900,\n    950, 470, 250, 120, 60, 30, 15.5, 8.1, 4, 2, 1, 0.5, 0.25, 0.12, 0.06, 0.03,\n    0.015, 0.008, 1\n  ];\n\n  // ** map ctrl **\n  protected fbMap = {\n    rotation: 0,\n    center: [0, 0],\n    zoomLevel: 1,\n    movingMap: false,\n    northUp: true,\n    extent: null,\n    interactions: mapInteractions,\n    controls: mapControls,\n    focus: false\n  };\n\n  // ** map feature styles\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  protected featureStyles: any = {\n    vessel: vesselStyles,\n    aisVessel: aisVesselStyles,\n    route: routeStyles,\n    waypoint: waypointStyles,\n    region: regionStyles,\n    anchor: anchorStyles,\n    alarm: alarmStyles,\n    destination: destinationStyles,\n    basestation: basestationStyles,\n    aircraft: aircraftStyles,\n    sar: sarStyles,\n    layline: laylineStyles,\n    targetAngle: targetAngleStyle,\n    raceCourse: raceCourseStyles\n  };\n\n  // ** map feature data\n  protected dfeat: IFeatureData = {\n    aircraft: new Map(),\n    atons: new Map(),\n    sar: new Map(),\n    meteo: new Map(),\n    routes: [],\n    waypoints: [],\n    charts: [],\n    notes: [],\n    regions: [],\n    tracks: [], // self track(s) from server\n    trail: [], // self trail (appended to tracks)\n    self: new SKVessel(), //self vessel\n    ais: new Map(), // other vessels\n    active: new SKVessel(), // focussed vessel\n    navData: { position: null, startPosition: null },\n    closest: [],\n    resourceSets: []\n  };\n\n  // ** AIS target management\n  protected aisMgr = {\n    updateList: [],\n    staleList: [],\n    removeList: []\n  };\n\n  // ** map layer display\n  protected display = {\n    layer: {\n      notes: false,\n      wind: false,\n      colormap: false,\n      heatmap: false\n    }\n  };\n  private saveTimer;\n  private isDirty = false;\n\n  protected mouse = {\n    pixel: null,\n    coords: [0, 0],\n    xy: null\n  };\n  contextMenuPosition = { x: '0px', y: '0px' };\n\n  private obsList = [];\n\n  constructor(\n    protected app: AppFacade,\n    protected s57Service: S57Service,\n    protected skres: SKResources,\n    protected skresOther: SKOtherResources,\n    protected skstream: SKStreamFacade,\n    protected anchor: AnchorFacade,\n    protected notiMgr: NotificationManager\n  ) {}\n\n  ngAfterViewInit() {\n    // ** set map focus **\n    setTimeout(() => {\n      this.fbMap.focus = true;\n      setTimeout(() => (this.fbMap.focus = false), 500);\n    }, 500);\n  }\n\n  ngOnInit() {\n    // ** STREAM VESSELS update event\n    this.obsList.push(\n      this.skstream.vessels$().subscribe(() => this.onVessels())\n    );\n    this.obsList.push(\n      this.skstream.trail$().subscribe((value) => this.onResourceUpdate(value))\n    );\n    // ** RESOURCES update event\n    this.obsList.push(\n      this.skres.update$().subscribe((value) => this.onResourceUpdate(value))\n    );\n    this.obsList.push(\n      this.skresOther\n        .update$()\n        .subscribe((value) => this.onResourceUpdate(value))\n    );\n    // ** SETTINGS **\n    this.obsList.push(\n      this.app.settings$.subscribe((r: SettingsMessage) => {\n        if (r.action === 'save' && r.setting === 'config') {\n          this.fbMap.movingMap = this.app.config.map.moveMap;\n          this.s57Service.SetOptions(this.app.config.selections.s57Options);\n          this.renderMapContents(r.signals?.fetchNotes);\n          if (!this.app.config.selections.trailFromServer) {\n            this.dfeat.trail = [];\n          }\n        }\n      })\n    );\n    // Initialise charts\n    this.dfeat.charts = [].concat(this.app.data.charts);\n  }\n\n  ngOnDestroy() {\n    this.stopSaveTimer();\n    this.obsList.forEach((i) => i.unsubscribe());\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.vesselTrail) {\n      this.drawVesselLines();\n    }\n    if (changes.setFocus) {\n      this.fbMap.focus = changes.setFocus.currentValue;\n    }\n    if (changes && changes.mapCenter) {\n      this.fbMap.center = changes.mapCenter.currentValue\n        ? changes.mapCenter.currentValue\n        : this.fbMap.center;\n    }\n    if (changes && changes.mapZoom) {\n      this.fbMap.zoomLevel = changes.mapZoom.currentValue\n        ? changes.mapZoom.currentValue\n        : this.fbMap.zoomLevel;\n      this.renderMapContents(true);\n    }\n    if (changes && changes.movingMap && !changes.movingMap.firstChange) {\n      this.fbMap.movingMap = changes.movingMap.currentValue;\n      if (this.fbMap.movingMap) {\n        this.startSaveTimer();\n      } else {\n        this.stopSaveTimer();\n      }\n      this.centerVessel();\n    }\n    if (changes && changes.northUp) {\n      this.fbMap.northUp = changes.northUp.currentValue;\n      this.rotateMap();\n    }\n    if (changes && changes.measureMode && !changes.measureMode.firstChange) {\n      this.interactionMode(\n        INTERACTION_MODE.MEASURE,\n        changes.measureMode.currentValue\n      );\n    }\n    if (changes && changes.drawMode && !changes.drawMode.firstChange) {\n      this.interactionMode(\n        INTERACTION_MODE.DRAW,\n        changes.drawMode.currentValue\n      );\n    }\n    if (changes && changes.modifyMode && !changes.modifyMode.firstChange) {\n      this.interactionMode(\n        INTERACTION_MODE.MODIFY,\n        changes.modifyMode.currentValue\n      );\n    }\n    if (changes && changes.measureMode) {\n      if (changes.measureMode.currentValue) {\n        this.overlay.type = 'measure';\n      }\n    }\n    if (changes && changes.dblClickZoom) {\n      this.toggleDblClickZoom(changes.dblClickZoom.currentValue);\n    }\n  }\n\n  // format WMS parameters\n  wmsParams(chart: SKChart) {\n    return {\n      LAYERS: chart.layers ? chart.layers.join(',') : ''\n    };\n  }\n\n  // ** periodically persist state (used in movingMap mode)\n  private startSaveTimer() {\n    if (!this.saveTimer) {\n      this.saveTimer = setInterval(() => {\n        if (this.isDirty) {\n          this.app.saveConfig({ suppressTrailFetch: true });\n          this.isDirty = false;\n        }\n      }, 30000);\n    }\n  }\n\n  private stopSaveTimer() {\n    if (this.saveTimer) {\n      clearInterval(this.saveTimer);\n      this.saveTimer = null;\n    }\n  }\n\n  // ********** EVENT HANDLERS *****************\n\n  private onVessels() {\n    //store last position incase new position is null\n    const lastPos = this.dfeat.self.position;\n    this.dfeat.self = this.app.data.vessels.self;\n    if (!this.dfeat.self.position || !Array.isArray(this.dfeat.self.position)) {\n      this.dfeat.self.position = lastPos;\n    }\n    this.dfeat.ais = this.app.data.vessels.aisTargets;\n    this.dfeat.aircraft = this.app.data.aircraft;\n    this.dfeat.sar = this.app.data.sar;\n    this.dfeat.meteo = this.app.data.meteo;\n    this.dfeat.atons = this.app.data.atons;\n    this.dfeat.active = this.app.data.vessels.active;\n    this.dfeat.navData.position = this.app.data.navData.position;\n    this.dfeat.navData.startPosition = this.app.data.navData.startPosition;\n    // calculate CPA lines\n    const parseClosest = () => {\n      const v = [];\n      if (this.app.data.vessels.self.position) {\n        this.app.data.vessels.closest.forEach((id: string) => {\n          if (this.app.data.vessels.aisTargets.has(id)) {\n            const a = this.app.data.vessels.aisTargets.get(id);\n            v.push([a.position, this.app.data.vessels.self.position]);\n          }\n        });\n      }\n      return v;\n    };\n\n    this.dfeat.closest = parseClosest();\n    this.aisMgr = this.app.data.aisMgr;\n\n    // ** update vessel on map **\n    if (this.dfeat.self['positionReceived']) {\n      this.app.data.vessels.showSelf = true;\n    }\n    // ** locate vessel popover\n    if (\n      this.overlay.show &&\n      ['ais', 'aton', 'aircraft'].includes(this.overlay.type)\n    ) {\n      if (this.overlay['isSelf']) {\n        this.overlay.position = this.dfeat.self.position;\n        this.overlay['vessel'] = this.dfeat.self;\n      } else {\n        if (\n          (this.overlay.type === 'ais' &&\n            !this.dfeat.ais.has(this.overlay.id)) ||\n          (this.overlay.type === 'atons' &&\n            !this.dfeat.atons.has(this.overlay.id)) ||\n          (this.overlay.type === 'aircraft' &&\n            !this.dfeat.aircraft.has(this.overlay.id))\n        ) {\n          this.overlay.show = false;\n        } else {\n          if (this.overlay.type === 'ais') {\n            this.overlay['vessel'] = this.dfeat.ais.get(this.overlay.id);\n            this.overlay.position = this.overlay['vessel'].position;\n          }\n        }\n      }\n      if (this.fbMap.extent[0] < 180 && this.fbMap.extent[2] > 180) {\n        // if dateline is in view adjust overlay position to stay with vessel\n        if (this.overlay.position[0] < 0 && this.overlay.position[0] > -180) {\n          this.overlay.position[0] = this.overlay.position[0] + 360;\n        }\n      }\n    }\n    this.drawVesselLines(true);\n    this.rotateMap();\n    if (this.fbMap.movingMap) {\n      this.centerVessel();\n    }\n  }\n\n  private onResourceUpdate(value) {\n    this.app.debug('skres.update$ -> map.onResourceUpdate()');\n    this.app.debug(value);\n    if (value.action === 'get' || value.action === 'selected') {\n      if (value.mode === 'route') {\n        this.dfeat.routes = [].concat(this.app.data.routes);\n        if (this.app.data.n2kRoute) {\n          this.dfeat.routes.push(this.app.data.n2kRoute);\n        }\n      }\n      if (value.mode === 'waypoint') {\n        this.dfeat.waypoints = [].concat(this.app.data.waypoints);\n      }\n      if (value.mode === 'chart') {\n        this.dfeat.charts = [].concat(this.app.data.charts);\n      }\n      if (value.mode === 'note') {\n        this.dfeat.notes = [].concat(this.app.data.notes);\n      }\n      if (value.mode === 'trail') {\n        // vessel trail\n        if (this.app.config.selections.trailFromServer) {\n          this.dfeat.trail = value.data;\n        }\n      }\n      if (value.mode === 'resource-set') {\n        this.dfeat.resourceSets = Object.entries(this.app.data.resourceSets);\n      }\n    }\n  }\n\n  // ********** MAP EVENT HANDLERS *****************\n\n  toggleDblClickZoom(set?: boolean) {\n    if (set) {\n      this.fbMap.interactions = [{ name: 'doubleclickzoom' }].concat(\n        mapInteractions\n      );\n    } else {\n      this.fbMap.interactions = [].concat(mapInteractions);\n    }\n  }\n\n  // ** handle context menu choices **\n  public onContextMenuAction(action: string, e: Position) {\n    switch (action) {\n      case 'add_wpt':\n        this.skres.showWaypointEditor({ position: e });\n        break;\n      case 'add_note':\n        this.skres.showNoteEditor({ position: e });\n        break;\n      case 'nav_to':\n        this.app.data.activeWaypoint = null;\n        this.app.data.navData.pointNames = [];\n        this.skres.setDestination({\n          latitude: e[1],\n          longitude: e[0]\n        });\n        break;\n      case 'measure':\n        this.measureStart.emit(true);\n        break;\n      default:\n        this.menuItemSelected.emit(action);\n        break;\n    }\n  }\n\n  // handle map move / zoom\n  public onMapMoveEnd(e: FBMapEvent) {\n    this.app.config.map.zoomLevel = e.zoom;\n\n    this.fbMap.extent = e.extent;\n    this.app.config.map.center = e.lonlat as Position;\n\n    this.drawVesselLines();\n    if (!this.fbMap.movingMap) {\n      this.app.saveConfig({ suppressTrailFetch: true });\n      this.isDirty = false;\n    } else {\n      this.isDirty = true;\n    }\n\n    // render map features\n    this.renderMapContents(e.zoomChanged);\n  }\n\n  // pointer events\n  public onMapPointerMove(e: FBPointerEvent) {\n    this.mouse.pixel = e.pixel;\n    this.mouse.xy = e.coordinate;\n    this.mouse.coords = GeoUtils.normaliseCoords(e.lonlat as Position);\n    if (this.measure.enabled && this.measure.coords.length !== 0) {\n      const c = e.lonlat;\n      this.overlay.position = c;\n      const lm = this.measureDistanceToAdd(c as Position);\n      const b = getGreatCircleBearing(\n        this.measure.coords.slice(-1)[0],\n        c as Position\n      );\n      this.overlay.title =\n        this.app.formatValueForDisplay(lm, 'm') +\n        ' ' +\n        this.app.formatValueForDisplay(b, 'deg');\n    }\n  }\n\n  public onMapPointerDrag() {\n    if (!this.app.config.map.lockMoveMap) {\n      this.fbMap.movingMap = false;\n      this.exitedMovingMap.emit(true);\n    }\n  }\n\n  public onMapPointerDown(e: FBPointerEvent) {\n    this.mouse.coords = GeoUtils.normaliseCoords(e.lonlat as Position);\n    this.contextMenuPosition.x = (e as any).clientX + 'px';\n    this.contextMenuPosition.y = (e as any).clientY + 'px';\n  }\n\n  public onMapSingleClick(e) {\n    this.app.data.map.atClick = {\n      features: e.features,\n      lonlat: e.lonlat\n    };\n    if (this.measure.enabled && this.measure.coords.length !== 0) {\n      this.onMeasureClick(e.lonlat);\n    } else if (this.draw.enabled && this.draw.mode === 'route') {\n      this.onDrawClick(e.features);\n    } else if (!this.draw.enabled && !this.draw.modify) {\n      if (!this.app.config.popoverMulti) {\n        this.overlay.show = false;\n      }\n      const flist = new Map();\n      const fa = [];\n      let maskPopover = false;\n      // process list of features at click location\n      e.features.forEach((feature: Feature) => {\n        const id = feature.getId();\n        let addToFeatureList = false;\n        let aton: SKAtoN;\n        let sar: SKSaR;\n        let meteo: SKMeteo;\n        let aircraft: SKAircraft;\n        let vessel: SKVessel;\n        if (id && typeof id === 'string') {\n          const t = id.split('.');\n          let icon: string;\n          let text: string;\n\n          if (t[0] === 'chart-backdrop') {\n            maskPopover = true;\n            return;\n          }\n          if (t[0] === 'chart-bound') {\n            this.toggleFeatureSelection(t[1], 'charts');\n            return;\n          }\n          switch (t[0]) {\n            case 'rset':\n              addToFeatureList = true;\n              icon = 'star';\n              text = feature.get('name');\n              break;\n            case 'alarm':\n              addToFeatureList = true;\n              icon = 'notification_important';\n              text = `Alarm: ${feature.get('type')}`;\n              break;\n            case 'anchor':\n              addToFeatureList = true;\n              icon = 'anchor';\n              text = `${t[0]}`;\n              break;\n            case 'dest':\n              addToFeatureList = true;\n              icon = 'flag';\n              text = 'Destination';\n              break;\n            case 'note':\n              icon = feature.get('icon');\n              addToFeatureList = true;\n              text = this.app.data.notes.filter((i) => {\n                return i[0] === t[1] ? i[1].name : null;\n              })[0][1].name;\n              break;\n            case 'route':\n              icon = 'route'; //'directions';\n              addToFeatureList = true;\n              if (t[1] === 'n2k') {\n                text = this.app.data.n2kRoute\n                  ? this.app.data.n2kRoute[1].name\n                  : '';\n              } else {\n                text = this.app.data.routes.filter((i) => {\n                  return i[0] === t[1] ? i[1].name : null;\n                })[0][1].name;\n              }\n              break;\n            case 'waypoint':\n              icon = 'location_on';\n              addToFeatureList = true;\n              text = this.app.data.waypoints.filter((i) => {\n                return i[0] === t[1] ? i[1].name : null;\n              })[0][1].name;\n              break;\n            case 'atons':\n            case 'aton':\n            case 'shore':\n              icon = 'beenhere';\n              addToFeatureList = true;\n              aton = this.app.data.atons.get(id);\n              text = aton ? aton.name || aton.mmsi : '';\n              break;\n            case 'sar':\n              icon = 'tour';\n              addToFeatureList = true;\n              sar = this.app.data.sar.get(id);\n              text = sar ? sar.name || sar.mmsi : 'SaR Beacon';\n              break;\n            case 'meteo':\n              icon = 'air';\n              addToFeatureList = true;\n              meteo = this.app.data.meteo.get(id);\n              text = meteo ? meteo.name || meteo.mmsi : 'Weather Station';\n              break;\n            case 'ais-vessels':\n              icon = 'directions_boat';\n              addToFeatureList = true;\n              vessel = this.dfeat.ais.get(`vessels.${t[1]}`);\n              text = vessel ? vessel.name || vessel.mmsi : '';\n              break;\n            case 'vessels':\n              icon = 'directions_boat';\n              addToFeatureList = true;\n              text = this.dfeat.self.name\n                ? this.dfeat.self.name + ' (self)'\n                : 'self';\n              break;\n            case 'region':\n              addToFeatureList = true;\n              icon = 'tab_unselected';\n              text = feature.get('name');\n              break;\n            case 'aircraft':\n              icon = 'airplanemode_active';\n              addToFeatureList = true;\n              aircraft = this.app.data.aircraft.get(id);\n              text = aircraft ? aircraft.name || aircraft.mmsi : '';\n              break;\n          }\n          if (addToFeatureList && !flist.has(id)) {\n            flist.set(id, {\n              id: id,\n              coord: e.lonlat,\n              icon: icon,\n              text: text\n            });\n            fa.push(feature);\n          }\n        }\n      });\n      if (maskPopover) {\n        return;\n      }\n      this.draw.features = new Collection(fa); // features collection for modify interaction\n      if (flist.size === 1) {\n        // only 1 feature\n        const v = flist.values().next().value;\n        this.formatPopover(v['id'], v['coord']);\n      } else if (flist.size > 1) {\n        //show list of features\n        this.formatPopover('list.', e.lonlat, flist);\n      }\n    }\n  }\n\n  // ** handle right click / touch hold**\n  public onMapRightClick(e: { features: FeatureLike[]; lonlat: Position }) {\n    this.app.data.map.atClick = e;\n    this.app.debug(this.app.data.map.atClick);\n  }\n\n  // ** handle Map context menu event **\n  public onMapContextMenu(e: PointerEvent) {\n    this.onContextMenu(e);\n  }\n\n  // ** handle ol-map container context menu event **\n  public onContextMenu(e: PointerEvent) {\n    if (this.app.data.map.suppressContextMenu) {\n      return;\n    }\n    e.preventDefault();\n    this.contextMenuPosition.x = e.clientX + 'px';\n    this.contextMenuPosition.y = e.clientY + 'px';\n    this.contextMenu.menuData = { item: this.mouse.coords };\n    if (this.measureMode && this.measure.coords.length !== 0) {\n      this.onMeasureClick(this.mouse.xy.lonlat);\n    } else if (!this.modifyMode) {\n      if (!this.mouse.xy) {\n        return;\n      }\n      this.contextMenu.openMenu();\n      document\n        .getElementsByClassName('cdk-overlay-backdrop')[0]\n        .addEventListener('contextmenu', (offEvent) => {\n          offEvent.preventDefault(); // prevent default context menu for overlay\n          this.contextMenu.closeMenu();\n        });\n    }\n  }\n\n  // toggle display of resource feature\n  toggleFeatureSelection(\n    id: string,\n    resType: 'charts' | 'routes' | 'waypoints'\n  ) {\n    this.app.data[resType].forEach((r: FBChart | FBRoute | FBWaypoint) => {\n      if (r[0] === id) {\n        r[2] = !r[2];\n      }\n    });\n    switch (resType) {\n      case 'charts':\n        this.skres.chartSelected();\n        break;\n      case 'routes':\n        this.skres.routeSelected();\n        break;\n      case 'waypoints':\n        this.skres.waypointSelected();\n    }\n  }\n\n  // ** Map Interaction events **\n  public onDrawClick(fa: Feature[]) {\n    if (!Array.isArray(fa)) {\n      return;\n    }\n    if (this.draw.mode === 'route') {\n      let rPoints: Position[];\n      fa.forEach((f: Feature) => {\n        if (f.getGeometry().getType() === 'LineString') {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          rPoints = (f.getGeometry() as any)\n            .getCoordinates()\n            .map((c: Position) => toLonLat(c));\n          rPoints = rPoints.slice(0, rPoints.length - 1);\n        }\n      });\n      this.app.data.measurement.coords = rPoints;\n    }\n  }\n\n  public onMeasureStart(e: DrawEvent) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let c = (e.feature.getGeometry() as any)\n      .getCoordinates()\n      .map((c: Position) => toLonLat(c));\n    c = c.slice(0, c.length - 1);\n    this.measure.coords = c;\n    this.formatPopover(null, null);\n    this.overlay.position = c;\n    this.overlay.title = '0';\n    this.overlay.show = true;\n  }\n\n  public onMeasureClick(pt: Position) {\n    if (!Array.isArray(pt)) {\n      return;\n    }\n    const lastPt = this.measure.coords[this.measure.coords.length - 1];\n    if (pt[0] === lastPt[0] && pt[1] === lastPt[1]) {\n      return;\n    }\n    this.measure.coords.push(pt);\n    this.overlay.position = pt;\n\n    const lm = this.measureDistanceToAdd();\n    this.measure.totalDistance += lm;\n    let b = 0;\n    // ** update measurement data\n    const c = this.measure.coords.slice(-2);\n    b = getGreatCircleBearing(c[0], c[1]);\n    this.app.data.measurement.coords = this.measure.coords.slice();\n\n    this.overlay.title =\n      this.app.formatValueForDisplay(lm, 'm') +\n      ' ' +\n      this.app.formatValueForDisplay(b, 'deg');\n  }\n\n  public onMeasureEnd() {\n    this.overlay.show = false;\n    this.measure.enabled = false;\n    this.measureEnd.emit(true);\n  }\n\n  public onDrawEnd(e) {\n    this.draw.enabled = false;\n    let c;\n    let p;\n    let rc;\n    switch (this.draw.type) {\n      case 'Point':\n        this.draw.coordinates = toLonLat(\n          e.feature.getGeometry().getCoordinates()\n        );\n        break;\n      case 'LineString':\n        rc = e.feature.getGeometry().getCoordinates();\n        c = rc.map((i) => {\n          return toLonLat(i);\n        });\n        this.draw.coordinates = c;\n        break;\n      case 'Polygon': // region\n        p = e.feature.getGeometry().getCoordinates();\n        if (p.length === 0) {\n          this.draw.coordinates = [];\n        }\n        c = p[0].map((i) => {\n          return toLonLat(i);\n        });\n        this.draw.coordinates = c;\n        break;\n    }\n    this.drawEnd.emit(this.draw);\n  }\n\n  public onModifyStart(e: ModifyEvent) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const f: any = e.features.getArray()[0];\n    this.draw.coordinates = f.getGeometry().getCoordinates();\n    if (!this.draw.forSave) {\n      // initialise save info\n      this.draw.forSave = { id: null, coords: null };\n      this.draw.forSave.id = f.getId();\n      if (f.getGeometry().getType() === 'LineString') {\n        const meta = f.get('pointMetadata');\n        if (meta) {\n          this.draw.forSave.coordsMetadata = meta;\n        }\n      }\n    }\n  }\n\n  public onModifyEnd(e: ModifyEvent) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const f: any = e.features.getArray()[0];\n    const fid = f.getId();\n    const c = f.getGeometry().getCoordinates();\n    if (f.getGeometry().getType() === 'LineString') {\n      this.updateCoordsMeta(\n        this.draw.coordinates,\n        c,\n        this.draw.forSave.coordsMetadata\n      );\n    }\n    let pc;\n    if (fid.split('.')[0] === 'route') {\n      pc = this.transformCoordsArray(c);\n      this.app.data.measurement.coords = pc;\n    } else if (fid.split('.')[0] === 'region') {\n      for (let e = 0; e < c.length; e++) {\n        if (this.isCoordsArray(c[e])) {\n          c[e] = this.transformCoordsArray(c[e]);\n        } else {\n          for (let p = 0; p < c[e].length; p++) {\n            if (this.isCoordsArray(c[e][p])) {\n              c[e][p] = this.transformCoordsArray(c[e][p]);\n            } else {\n              console.log('Invalid polygon coordinates!');\n            }\n          }\n        }\n      }\n      pc = c;\n    } else {\n      // point feature\n      pc = toLonLat(c);\n      // shift anchor\n      if (fid === 'anchor') {\n        this.anchor.setAnchorPosition(pc).catch((err: HttpErrorResponse) => {\n          this.app.parseHttpErrorResponse(err);\n        });\n      }\n    }\n    this.draw.forSave['coords'] = pc;\n    this.modifyEnd.emit(this.draw.forSave);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private updateCoordsMeta(startCoords: any[], endCoords: any[], meta: any[]) {\n    if (!meta) {\n      return;\n    }\n    const mode =\n      endCoords.length > startCoords.length\n        ? 'ADD'\n        : endCoords.length < startCoords.length\n        ? 'DELETE'\n        : 'MOVE';\n\n    function stringifyCoords(coords: Coordinate[]): string[] {\n      return coords.map((c: Coordinate) => {\n        return `${c[0]} - ${c[1]}`;\n      });\n    }\n\n    if (mode === 'MOVE') {\n      return meta;\n    }\n    startCoords = stringifyCoords(startCoords);\n    endCoords = stringifyCoords(endCoords);\n    if (mode === 'DELETE') {\n      for (let i = 0; i < startCoords.length; i++) {\n        if (!endCoords.includes(startCoords[i])) {\n          meta.splice(i, 1);\n        }\n      }\n      return meta;\n    } else if (mode === 'ADD') {\n      for (let i = 0; i < endCoords.length; i++) {\n        if (startCoords[i] !== endCoords[i]) {\n          meta.splice(i, 0, { name: '' });\n          break;\n        }\n      }\n      return meta;\n    } else {\n      return meta;\n    }\n  }\n\n  // ****** MAP control functions *******\n\n  // handle map zoom controls\n  public zoomMap(zoomIn: boolean) {\n    if (zoomIn) {\n      if (this.app.config.map.zoomLevel < this.app.MAP_ZOOM_EXTENT.max) {\n        ++this.app.config.map.zoomLevel;\n        //this.renderMapContents(true);\n      }\n    } else {\n      if (this.app.config.map.zoomLevel > this.app.MAP_ZOOM_EXTENT.min) {\n        --this.app.config.map.zoomLevel;\n        //this.renderMapContents(true);\n      }\n    }\n  }\n\n  // orient map heading up / north up\n  public rotateMap() {\n    if (this.fbMap.northUp) {\n      this.fbMap.rotation = 0;\n    } else {\n      this.fbMap.rotation = 0 - this.dfeat.active.orientation;\n    }\n  }\n\n  // center map to active vessel position\n  public centerVessel() {\n    const t = this.dfeat.active.position;\n    t[0] += 0.0000000000001;\n    this.fbMap.center = t;\n  }\n\n  public drawVesselLines(vesselUpdate = false) {\n    const z = this.fbMap.zoomLevel;\n    const offset = z < 29 ? this.zoomOffsetLevel[Math.floor(z)] : 60;\n    const wMax = 10; // max line length\n\n    const vl = {\n      trail: [],\n      xtePath: [],\n      bearing: [],\n      anchor: [],\n      heading: [],\n      awa: [],\n      twd: [],\n      cog: [],\n      laylines: { port: [], starboard: [] },\n      targetAngle: []\n    };\n\n    // vessel trail\n    if (this.app.data.trail) {\n      vl.trail = [].concat(this.app.data.trail);\n      if (vesselUpdate) {\n        vl.trail.push(this.dfeat.self.position);\n      }\n    }\n\n    // anchor line (active)\n    if (!this.anchor.raised()) {\n      vl.anchor = [this.anchor.position(), this.dfeat.self.position];\n    }\n\n    // COG line (active)\n    vl.cog = this.dfeat.active.vectors.cog ?? [];\n\n    // heading line (active)\n    const sog = this.dfeat.active.sog || 0;\n    let hl = 0;\n    if (this.app.config.selections.vessel.headingLineSize === -1) {\n      hl = (sog > wMax ? wMax : sog) * offset;\n    } else {\n      hl =\n        Convert.nauticalMilesToKm(\n          this.app.config.selections.vessel.headingLineSize\n        ) * 1000;\n    }\n    vl.heading = [\n      this.dfeat.active.position,\n      GeoUtils.destCoordinate(\n        this.dfeat.active.position,\n        this.dfeat.active.orientation,\n        hl\n      )\n    ];\n\n    // bearing line (active)\n    const bpos =\n      this.dfeat.navData.position &&\n      typeof this.dfeat.navData.position[0] === 'number'\n        ? this.dfeat.navData.position\n        : this.dfeat.active.position;\n    vl.bearing = [this.dfeat.active.position, bpos];\n\n    // xtePath\n    if (\n      this.dfeat.navData.startPosition &&\n      typeof this.dfeat.navData.startPosition[0] === 'number' &&\n      this.dfeat.navData.position &&\n      typeof this.dfeat.navData.position[0] === 'number'\n    ) {\n      vl.xtePath = [\n        this.dfeat.navData.startPosition,\n        this.dfeat.navData.position\n      ];\n    } else {\n      vl.xtePath;\n    }\n\n    // laylines (active)\n    if (\n      this.app.config.selections.vessel.laylines &&\n      Array.isArray(this.dfeat.navData.position) &&\n      typeof this.dfeat.navData.position[0] === 'number' &&\n      typeof this.app.data.vessels.active.heading === 'number'\n    ) {\n      const twd_deg = Convert.radiansToDegrees(\n        this.app.data.vessels.self.wind.direction ?? 0\n      );\n\n      const twd_inv = Angle.add(twd_deg, 180);\n\n      const destUpwind =\n        Math.abs(\n          Angle.difference(this.app.data.navData.bearing.value, twd_deg)\n        ) < 90;\n\n      const ba_deg = Convert.radiansToDegrees(\n        this.app.data.vessels.self.performance.beatAngle ?? Math.PI / 4\n      );\n\n      let ga_deg: number;\n      let ga_diff: number;\n      if (\n        typeof this.app.data.vessels.self.performance.gybeAngle === 'number'\n      ) {\n        ga_deg = Convert.radiansToDegrees(\n          this.app.data.vessels.self.performance.gybeAngle\n        );\n        ga_diff = 180 - Math.abs(ga_deg);\n      }\n\n      const destInTarget = destUpwind\n        ? Math.abs(\n            Angle.difference(this.app.data.navData.bearing.value, twd_deg)\n          ) < ba_deg\n        : Math.abs(\n            Angle.difference(this.app.data.navData.bearing.value, twd_inv)\n          ) < (ga_diff ?? 0);\n\n      const dtg =\n        this.app.config.units.distance === 'm'\n          ? this.app.data.navData.dtg * 1000\n          : Convert.nauticalMilesToKm(this.app.data.navData.dtg * 1000);\n\n      // mark laylines\n      let markLines = [];\n      if (destUpwind) {\n        const bapt1 = computeDestinationPoint(\n          this.dfeat.navData.position,\n          dtg,\n          Angle.add(twd_inv, ba_deg)\n        );\n        const bapt2 = computeDestinationPoint(\n          this.dfeat.navData.position,\n          dtg,\n          Angle.add(twd_inv, 0 - ba_deg)\n        );\n\n        markLines = [\n          [bapt1.longitude, bapt1.latitude],\n          this.dfeat.navData.position,\n          [bapt2.longitude, bapt2.latitude]\n        ];\n      } else if (typeof ga_deg === 'number') {\n        const gapt1 = computeDestinationPoint(\n          this.dfeat.navData.position,\n          dtg,\n          Angle.add(twd_inv, ga_deg)\n        );\n        const gapt2 = computeDestinationPoint(\n          this.dfeat.navData.position,\n          dtg,\n          Angle.add(twd_inv, 0 - ga_deg)\n        );\n\n        markLines = [\n          [gapt1.longitude, gapt1.latitude],\n          this.dfeat.navData.position,\n          [gapt2.longitude, gapt2.latitude]\n        ];\n      }\n\n      vl.targetAngle = markLines;\n\n      // vessel laylines\n      if (destInTarget) {\n        const hbd_deg = Angle.difference(\n          twd_deg,\n          this.app.data.navData.bearing.value\n        );\n        // Vector lengths\n        let b: number;\n        let c: number;\n        // intersection points\n        let ipts: SKPosition;\n        let iptp: SKPosition;\n\n        if (destUpwind) {\n          // Vector angles\n          const C_RAD = Convert.degreesToRadians(ba_deg - hbd_deg);\n          const B_RAD = Convert.degreesToRadians(ba_deg + hbd_deg);\n          const A_RAD = Math.PI - (B_RAD + C_RAD);\n          b = (dtg * Math.sin(B_RAD)) / Math.sin(A_RAD);\n          c = (dtg * Math.sin(C_RAD)) / Math.sin(A_RAD);\n          // intersection points\n          ipts = computeDestinationPoint(\n            this.app.data.vessels.active.position,\n            b,\n            Angle.add(twd_deg, ba_deg)\n          );\n          iptp = computeDestinationPoint(\n            this.app.data.vessels.active.position,\n            c,\n            Angle.add(twd_deg, 0 - ba_deg)\n          );\n        } else {\n          // downwind\n          if (markLines.length !== 0 && typeof ga_diff === 'number') {\n            // Vector angles\n            const C_RAD = Convert.degreesToRadians(ga_diff - hbd_deg);\n            const B_RAD = Convert.degreesToRadians(ga_diff + hbd_deg);\n            const A_RAD = Math.PI - (B_RAD + C_RAD);\n            b = (dtg * Math.sin(B_RAD)) / Math.sin(A_RAD);\n            c = (dtg * Math.sin(C_RAD)) / Math.sin(A_RAD);\n            // intersection points\n            ipts = computeDestinationPoint(\n              this.app.data.vessels.active.position,\n              b,\n              Angle.add(twd_deg, ga_diff)\n            );\n            iptp = computeDestinationPoint(\n              this.app.data.vessels.active.position,\n              c,\n              Angle.add(twd_deg, 0 - ga_diff)\n            );\n          }\n        }\n        vl.laylines = {\n          port: [\n            [\n              [iptp.longitude, iptp.latitude],\n              this.app.data.vessels.active.position\n            ],\n            [\n              [ipts.longitude, ipts.latitude],\n              this.app.data.vessels.active.position\n            ]\n          ],\n          starboard: [\n            [[ipts.longitude, ipts.latitude], markLines[1]],\n            [markLines[1], [iptp.longitude, iptp.latitude]]\n          ]\n        };\n      }\n    }\n\n    // AWA (focused)\n    let aws = this.dfeat.active.wind.aws || 0;\n    if (aws > wMax) {\n      aws = wMax;\n    }\n\n    vl.awa = [\n      this.dfeat.active.position,\n      GeoUtils.destCoordinate(\n        this.dfeat.active.position,\n        this.dfeat.active.wind.awa + this.dfeat.active.orientation,\n        typeof this.dfeat.active.orientation === 'number' ? aws * offset : 0\n      )\n    ];\n\n    // TWD (focused)\n    let tws = this.dfeat.active.wind.tws || 0;\n    if (tws > wMax) {\n      tws = wMax;\n    }\n    vl.twd = [\n      this.dfeat.active.position,\n      GeoUtils.destCoordinate(\n        this.dfeat.active.position,\n        this.dfeat.active.wind.direction || 0,\n        typeof this.dfeat.active.orientation === 'number' ? tws * offset : 0\n      )\n    ];\n\n    this.vesselLines = vl;\n  }\n\n  // ******** OVERLAY ACTIONS ************\n\n  public popoverClosed() {\n    this.overlay.show = false;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public formatPopover(id: string, coord: Position, list?: Map<string, any>) {\n    if (!id) {\n      this.overlay.show = false;\n      return;\n    }\n\n    this.overlay.content = [];\n    this.overlay.id = null;\n    this.overlay.type = null;\n    this.overlay.featureCount = this.draw.features.getLength();\n    this.overlay.position = coord;\n    this.overlay.isSelf = false;\n    this.overlay.readOnly = false;\n    let item = null;\n    const t = id.split('.');\n    let aid: string;\n\n    switch (t[0]) {\n      case 'list':\n        this.overlay.type = 'list';\n        this.overlay.title = 'Features';\n        this.overlay.content = [];\n        list.forEach((f) => this.overlay.content.push(f));\n        this.overlay.show = true;\n        return;\n      case 'alarm':\n        this.overlay.type = 'alarm';\n        aid = id.split('.').slice(1).join('.');\n        this.overlay['alarm'] = this.notiMgr.getAlert(aid) as any;\n        if (!this.overlay['alarm']) {\n          return false;\n        }\n        this.overlay.id = aid;\n        this.overlay.show = true;\n        return;\n      case 'anchor':\n        this.startModify('anchor');\n        return;\n      case 'vessels':\n        this.overlay.type = 'ais';\n        this.overlay.isSelf = true;\n        this.overlay['vessel'] = this.dfeat.self;\n        this.overlay.show = true;\n        return;\n      case 'ais-vessels':\n        this.overlay.type = 'ais';\n        aid = id.slice(4);\n        if (!this.dfeat.ais.has(aid)) {\n          return false;\n        }\n        this.overlay.id = aid;\n        this.overlay.vessel = this.dfeat.ais.get(aid);\n        this.overlay.show = true;\n        return;\n      case 'atons':\n      case 'aton':\n      case 'shore':\n        this.overlay.type = 'aton';\n        if (!this.app.data.atons.has(id)) {\n          return false;\n        }\n        this.overlay.id = id;\n        this.overlay.aton = this.app.data.atons.get(id);\n        this.overlay.show = true;\n        return;\n      case 'sar':\n        this.overlay.type = 'aton';\n        if (!this.app.data.sar.has(id)) {\n          return false;\n        }\n        this.overlay.id = id;\n        this.overlay.aton = this.app.data.sar.get(id);\n        this.overlay.show = true;\n        return;\n      case 'meteo':\n        this.overlay.type = 'meteo';\n        if (!this.app.data.meteo.has(id)) {\n          return false;\n        }\n        this.overlay.id = id;\n        this.overlay.aton = this.app.data.meteo.get(id);\n        this.overlay.show = true;\n        return;\n      case 'aircraft':\n        this.overlay.type = 'aircraft';\n        if (!this.app.data.aircraft.has(id)) {\n          return false;\n        }\n        this.overlay.id = id;\n        this.overlay.aircraft = this.app.data.aircraft.get(id);\n        this.overlay.show = true;\n        return;\n      case 'region':\n        item = [this.skres.fromCache('regions', t[1])];\n        if (!item) {\n          return false;\n        }\n        this.overlay.id = t[1];\n        this.overlay.type = 'region';\n        this.overlay.title = 'Region';\n        this.overlay.resource = item[0];\n        this.overlay.show = true;\n        this.overlay.readOnly =\n          this.overlay.resource[1]?.feature?.properties?.readOnly ?? false;\n        return;\n      case 'note':\n        item = this.skres.fromCache('notes', t[1]);\n        if (!item) {\n          return false;\n        }\n        this.overlay.readOnly = item[1]?.properties?.readOnly ?? false;\n        if (this.overlay.readOnly) {\n          this.overlay.show = false;\n          this.skres.showNoteInfo({ id: item[0] });\n        } else {\n          this.overlay.id = t[1];\n          this.overlay.type = 'note';\n          this.overlay.title = 'Note';\n          this.overlay.resource = item;\n          this.overlay.show = true;\n        }\n        return;\n      case 'route':\n        if (t[1] === 'n2k') {\n          item = [this.app.data.n2kRoute];\n        } else {\n          item = [this.skres.fromCache('routes', t[1])];\n        }\n        if (!item) {\n          return false;\n        }\n        this.overlay.id = t[1];\n        this.overlay.type = 'route';\n        this.overlay.title = 'Route';\n        this.overlay.resource = item[0];\n        this.overlay.show = true;\n        this.overlay.readOnly =\n          this.overlay.resource[1]?.feature?.properties?.readOnly ?? false;\n        return;\n      case 'waypoint':\n        item = [this.skres.fromCache('waypoints', t[1])];\n        if (!item) {\n          return false;\n        }\n        this.overlay.id = t[1];\n        this.overlay.type = 'waypoint';\n        this.overlay.resource = item[0];\n        this.overlay.title = 'Waypoint';\n        this.overlay.show = true;\n        this.overlay.readOnly =\n          this.overlay.resource[1]?.feature?.properties?.readOnly ?? false;\n        return;\n      case 'dest':\n        this.overlay.id = id;\n        this.overlay.type = 'destination';\n        this.overlay.resource = this.skres.buildWaypoint(coord);\n        this.overlay.title =\n          this.app.data.navData.destPointName ?? 'Destination';\n        this.overlay.show = true;\n        return;\n      case 'rset':\n        this.overlay.id = id;\n        this.overlay.type = 'rset';\n        this.overlay.resource = this.skres.resSetFromCache(id, true);\n        this.overlay.title =\n          (this.overlay.resource as GeoJsonFeature).properties.name ??\n          'Resource Set';\n        this.overlay.show = true;\n        return;\n    }\n  }\n\n  // ** handle selection from the FeatureList popover */\n  public featureListSelection(feature) {\n    // trim the draw.features collection to the selected feature.id\n    const sf = new Collection();\n    this.draw.features.forEach((e) => {\n      if (e.getId() === feature.id) {\n        sf.push(e);\n      }\n    });\n    this.draw.features = sf;\n    this.formatPopover(feature.id, feature.coord);\n  }\n\n  // ** delete selected feature **\n  public deleteFeature(id: string, type: string) {\n    switch (type) {\n      case 'waypoint':\n        this.skres.showWaypointDelete({ id: id });\n        break;\n      case 'route':\n        this.skres.showRouteDelete({ id: id });\n        break;\n      case 'note':\n        this.skres.showNoteDelete({ id: id });\n        break;\n      case 'region':\n        this.skres.confirmRegionDelete(id);\n        break;\n    }\n  }\n\n  // ** activate route / waypoint\n  public setActiveFeature() {\n    if (this.overlay.type === 'waypoint') {\n      this.skres.navigateToWaypoint({ id: this.overlay.id });\n    } else {\n      this.activate.emit(this.overlay.id);\n    }\n  }\n\n  // ** deactivate route / waypoint\n  public clearActiveFeature() {\n    this.deactivate.emit(this.overlay.id);\n  }\n\n  // ** emit info event **\n  public itemInfo(id: string, type: string, isSelf = false) {\n    if (type === 'ais' && isSelf) {\n      this.info.emit({ id: id, type: 'self' });\n    } else {\n      this.info.emit({ id: id, type: type });\n    }\n  }\n\n  public setActiveVessel(id: string = null) {\n    this.focusVessel.emit(id);\n  }\n\n  // ******** DRAW / EDIT / MEASURE ************\n\n  // ** Change Interaction mode **\n  private interactionMode(mode: INTERACTION_MODE, value) {\n    if (mode === INTERACTION_MODE.MEASURE) {\n      if (value === this.measure.enabled) {\n        return;\n      } else {\n        this.measure.coords = [];\n        this.measure.totalDistance = 0;\n        this.measure.enabled = value;\n        this.overlay.show = false;\n      }\n    } else if (mode === INTERACTION_MODE.DRAW) {\n      this.overlay.show = false;\n      if (!value) {\n        // end draw mode\n        if (this.draw.enabled) {\n          this.drawEnd.emit({ mode: 'ended' });\n        }\n        this.draw.enabled = false;\n        this.draw.features = null;\n        this.draw.style = drawStyles.default;\n      } else if (value && this.draw.enabled) {\n        return;\n      } else {\n        // enter draw mode\n        this.draw.mode = value;\n        this.draw.enabled = true;\n        this.draw.features = null;\n        this.draw.coordinates = null;\n        switch (value) {\n          case 'waypoint':\n          case 'note':\n            this.draw.type = 'Point';\n            break;\n          case 'route':\n            this.draw.type = 'LineString';\n            this.draw.style = drawStyles.route;\n            break;\n          case 'region':\n            this.draw.type = 'Polygon';\n            this.draw.style = drawStyles.region;\n            break;\n          default:\n            this.draw.type = 'Point';\n        }\n        this.draw.forSave = null;\n        this.draw.properties = {};\n        this.draw.modify = false;\n      }\n    } else if (mode === INTERACTION_MODE.MODIFY) {\n      if (!value) {\n        // end modify mode\n        this.draw.modify = false;\n        this.draw.features = null;\n      } else if (value && this.draw.modify) {\n        return;\n      } else {\n        // enter modify mode\n        this.startModify();\n      }\n    }\n  }\n\n  // ** Enter modify mode **\n  public startModify(type?: string) {\n    if (this.draw.features.getLength() === 0) {\n      return;\n    }\n    this.draw.type = null;\n    this.draw.mode = null;\n    this.draw.forSave = null;\n    this.draw.coordinates = null;\n    this.draw.properties = {};\n    this.draw.enabled = false;\n    this.draw.modify = true;\n    this.modifyStart.emit({ id: this.overlay.id, type: type });\n  }\n\n  // ********************************************************\n\n  // Returns distance from last point\n  private measureDistanceToAdd(pt?: Position) {\n    if (pt && this.measure.coords.length > 0) {\n      // return distance between last point in array and pt\n      return GeoUtils.distanceTo(\n        this.measure.coords[this.measure.coords.length - 1],\n        pt\n      );\n    }\n    if (this.measure.coords.length > 1) {\n      // return distance between last two points in array\n      return GeoUtils.distanceTo(\n        this.measure.coords[this.measure.coords.length - 2],\n        this.measure.coords[this.measure.coords.length - 1]\n      );\n    } else {\n      return 0;\n    }\n  }\n\n  private isCoordsArray(ca: Array<Position>) {\n    if (Array.isArray(ca)) {\n      return Array.isArray(ca[0]) && typeof ca[0][0] === 'number';\n    } else {\n      return false;\n    }\n  }\n\n  private transformCoordsArray(ca: Array<Position>) {\n    return ca.map((i) => {\n      return toLonLat(i);\n    });\n  }\n\n  // apply default chart style (vectortile)\n  applyStyle() {\n    return new Style({\n      fill: new Fill({\n        color: '#e0d10e'\n      }),\n      stroke: new Stroke({\n        color: '#444',\n        width: 1\n      })\n    });\n  }\n\n  // ** called by onMapMoveEnd() to render features within map extent\n  private renderMapContents(zoomChanged?: boolean) {\n    if (this.shouldFetchNotes(zoomChanged)) {\n      this.skres.getNotes();\n      this.app.debug(`fetching Notes...`);\n    }\n    if (this.shouldFetchResourceSets(zoomChanged)) {\n      this.app.debug(`fetching ResourceSets...`);\n      this.skresOther.getItemsInBounds();\n    }\n  }\n\n  // returns true when map center has moved a distance > (threshold / 2)\n  private mapMoveThresholdExceeded(threshold: number): boolean {\n    if (!this.app.data.lastGet) {\n      this.app.data.lastGet = this.app.config.map.center;\n      return true;\n    }\n    // ** calc distance from new map center to lastGet\n    const d = GeoUtils.distanceTo(\n      this.app.data.lastGet,\n      this.app.config.map.center\n    );\n    this.app.debug(`distance map moved: ${d}`);\n    // ** if d is more than half the getRadius\n    const cr =\n      this.app.config.units.distance === 'ft'\n        ? Convert.nauticalMilesToKm(threshold) * 1000\n        : threshold * 1000;\n\n    this.app.debug(`mapMoveThresholdExceeded: ${d >= cr / 2}`);\n    if (d >= cr / 2) {\n      this.app.data.lastGet = this.app.config.map.center;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // ** returns true if skresOther.getItemsInBounds() should be called\n  private shouldFetchResourceSets(zoomChanged: boolean) {\n    if (\n      this.app.config.resources.fetchRadius !== 0 &&\n      this.app.config.resources.fetchFilter\n    ) {\n      if (!this.skresOther.hasSelections()) {\n        return false;\n      }\n      if (zoomChanged) {\n        return true;\n      }\n      return this.mapMoveThresholdExceeded(50);\n    } else {\n      return false;\n    }\n  }\n\n  // ** returns true if skres.getNotes() should be called\n  private shouldFetchNotes(zoomChanged: boolean) {\n    this.display.layer.notes =\n      this.app.config.notes &&\n      this.app.config.map.zoomLevel >= this.app.config.selections.notesMinZoom;\n\n    this.app.debug(`lastGet: ${this.app.data.lastGet}`);\n    this.app.debug(`getRadius: ${this.app.config.resources.notes.getRadius}`);\n\n    if (zoomChanged) {\n      if (this.fbMap.zoomLevel < this.app.config.selections.notesMinZoom) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n    return this.mapMoveThresholdExceeded(\n      this.app.config.resources.notes.getRadius\n    );\n  }\n}\n","<ol-map\n  [style.cursor]=\"draw.enabled || measure.enabled ? 'crosshair' : 'initial'\"\n  [logo]=\"false\"\n  [olInteractions]=\"fbMap.interactions\"\n  [olControls]=\"fbMap.controls\"\n  [setFocus]=\"fbMap.focus\"\n  (mapMoveEnd)=\"onMapMoveEnd($event)\"\n  (mapSingleClick)=\"onMapSingleClick($event)\"\n  (mapRightClick)=\"onMapRightClick($event)\"\n  (mapPointerDown)=\"onMapPointerDown($event)\"\n  (mapPointerMove)=\"onMapPointerMove($event)\"\n  (mapPointerDrag)=\"onMapPointerDrag()\"\n  (mapContextMenu)=\"onMapContextMenu($event)\"\n  (contextmenu)=\"onContextMenu($event)\"\n  olView\n  [zoom]=\"fbMap.zoomLevel\"\n  [center]=\"fbMap.center\"\n  [rotation]=\"fbMap.rotation\"\n  [minZoom]=\"app.MAP_ZOOM_EXTENT.min\"\n  [maxZoom]=\"app.MAP_ZOOM_EXTENT.max\"\n  [enableAnimation]=\"false\"\n>\n  <!-- Draw / modify -->\n  @if(measure.enabled) {\n  <ol-draw\n    [type]=\"'LineString'\"\n    (drawStart)=\"onMeasureStart($event)\"\n    (drawEnd)=\"onMeasureEnd()\"\n    [style]=\"measure.style\"\n    [stopClick]=\"false\"\n  >\n  </ol-draw>\n  } @if(draw.enabled) {\n  <ol-draw\n    [type]=\"draw.type\"\n    [stopClick]=\"draw.mode === 'route' ? false : true\"\n    [style]=\"draw.style\"\n    (drawEnd)=\"onDrawEnd($event)\"\n  >\n  </ol-draw>\n  } @if(draw.modify && draw.features) {\n  <ol-modify\n    [features]=\"draw.features\"\n    (modifyStart)=\"onModifyStart($event)\"\n    (modifyEnd)=\"onModifyEnd($event)\"\n  >\n  </ol-modify>\n  }\n\n  <!-- Zoom control -->\n  <ol-control>\n    <ol-content>\n      <div class=\"ol-zoom\">\n        <button\n          class=\"button-accent\"\n          mat-mini-fab\n          (click)=\"zoomMap(false)\"\n          [disabled]=\"fbMap.zoomLevel <= app.MAP_ZOOM_EXTENT.min\"\n          matTooltip=\"Zoom out\"\n        >\n          <mat-icon>remove</mat-icon>\n        </button>\n        &nbsp;\n        <button\n          class=\"button-accent\"\n          mat-mini-fab\n          (click)=\"zoomMap(true)\"\n          [disabled]=\"fbMap.zoomLevel >= app.MAP_ZOOM_EXTENT.max\"\n          matTooltip=\"Zoom in\"\n        >\n          <mat-icon>add</mat-icon>\n        </button>\n      </div>\n    </ol-content>\n  </ol-control>\n\n  <!-- Cursor position control -->\n  <ol-control>\n    <ol-content>\n      <div class=\"ol-mouse-position\">\n        <span\n          style=\"\n            background-color: rgba(250, 250, 250, 0.7);\n            padding: 0 5px 0 5px;\n          \"\n        >\n          @if(app.config.selections.positionFormat === 'XY') {\n          <span>Lat:&nbsp;</span>\n          }\n          <span\n            [innerText]=\"\n              mouse.coords[1]\n                | coords : app.config.selections.positionFormat : true\n            \"\n          ></span>\n          &nbsp; @if(app.config.selections.positionFormat === 'XY') {\n          <span>Lon:&nbsp;</span>\n          }\n\n          <span\n            [innerText]=\"\n              mouse.coords[0] | coords : app.config.selections.positionFormat\n            \"\n          ></span>\n          &nbsp;\n          <span [innerText]=\"'Zm: ' + fbMap.zoomLevel.toFixed(1)\"></span>\n        </span>\n      </div>\n    </ol-content>\n  </ol-control>\n\n  <!-- Charts -->\n  <fb-charts [zIndex]=\"10\" [charts]=\"dfeat.charts\"> </fb-charts>\n\n  <!-- Tracks -->\n  @if(app.config.resources.paths.includes('tracks')) {\n  <fb-tracks\n    [darkMode]=\"app.config.map.invertColor\"\n    [tracks]=\"skres.tracks()\"\n    [labelMinZoom]=\"0\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [zIndex]=\"100\"\n  >\n  </fb-tracks>\n  }\n\n  <!-- AIS target tracks -->\n  @if(app.config.aisTargets && app.config.selections.aisShowTrack) {\n  <ais-targets-track\n    [tracks]=\"app.data.vessels.aisTracks\"\n    [tracksMinZoom]=\"10\"\n    targetContext=\"vessels\"\n    [updateIds]=\"aisMgr.updateList\"\n    [removeIds]=\"aisMgr.removeList\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    zIndex=\"110\"\n  >\n  </ais-targets-track>\n  }\n\n  <!-- Resource Sets -->\n  @for(resSet of dfeat.resourceSets; track resSet[0]; let idx = $index) {\n  <div>\n    @if(resSet[0] !== 'tracks') {\n    <fb-resource-sets\n      [darkMode]=\"app.config.map.invertColor\"\n      [collection]=\"resSet[0]\"\n      [resourceSets]=\"resSet[1]\"\n      [selected]=\"app.config.selections.resourceSets[resSet[0]]\"\n      [labelMinZoom]=\"app.config.selections.labelsMinZoom\"\n      [mapZoom]=\"fbMap.zoomLevel\"\n      [zIndex]=\"120 + idx\"\n    >\n    </fb-resource-sets>\n    }\n  </div>\n  }\n\n  <!-- Routes -->\n  <fb-routes\n    [routes]=\"dfeat.routes\"\n    [routeStyles]=\"featureStyles.route\"\n    [activeRoute]=\"activeRoute\"\n    [darkMode]=\"app.config.map.invertColor\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [zIndex]=\"500\"\n  >\n  </fb-routes>\n\n  <!-- Routes -->\n  @if(activeRoute && !app.data.activeRouteIsEditing) {\n  <fb-route-direction\n    [points]=\"app.data.navData.activeRoutePoints\"\n    [pointIndex]=\"app.data.navData.pointIndex\"\n    [reverse]=\"app.data.activeRouteReversed\"\n    [zIndex]=\"550\"\n  >\n  </fb-route-direction>\n  }\n\n  <!-- Waypoints -->\n  <fb-waypoints\n    [darkMode]=\"app.config.map.invertColor\"\n    [waypoints]=\"dfeat.waypoints\"\n    [waypointStyles]=\"featureStyles.waypoint\"\n    [activeWaypoint]=\"app.data.activeWaypoint\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [zIndex]=\"600\"\n  >\n  </fb-waypoints>\n\n  <!-- Signal K targets -->\n  <!-- AtoN targets -->\n  <sk-ais-targets\n    [darkMode]=\"app.config.map.invertColor\"\n    [targets]=\"dfeat.atons\"\n    targetContext=\"atons\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [updateIds]=\"aisMgr.updateList\"\n    [staleIds]=\"aisMgr.staleList\"\n    [removeIds]=\"aisMgr.removeList\"\n    [inactiveTime]=\"app.config.selections.aisStaleAge\"\n    [zIndex]=\"200\"\n  >\n  </sk-ais-targets>\n\n  <!-- shore.basestations targets -->\n  <sk-ais-targets\n    [darkMode]=\"app.config.map.invertColor\"\n    [targets]=\"dfeat.atons\"\n    [targetStyles]=\"featureStyles.basestation\"\n    targetContext=\"shore.basestations\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [updateIds]=\"aisMgr.updateList\"\n    [staleIds]=\"aisMgr.staleList\"\n    [removeIds]=\"aisMgr.removeList\"\n    [inactiveTime]=\"app.config.selections.aisStaleAge\"\n    [zIndex]=\"210\"\n  >\n  </sk-ais-targets>\n\n  <!-- Meteo targets -->\n  @if(app.config.aisTargets) {\n  <sk-ais-targets\n    [darkMode]=\"app.config.map.invertColor\"\n    [targets]=\"dfeat.meteo\"\n    targetContext=\"meteo\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [updateIds]=\"aisMgr.updateList\"\n    [staleIds]=\"aisMgr.staleList\"\n    [removeIds]=\"aisMgr.removeList\"\n    [inactiveTime]=\"app.config.selections.aisStaleAge\"\n    [zIndex]=\"220\"\n  >\n  </sk-ais-targets>\n  }\n\n  <!-- AIS Vessel targets -->\n  @if(app.config.aisTargets) {\n  <div>\n    @if(app.config.selections.aisProfile === 0) { @if( fbMap.zoomLevel >=\n    app.config.selections.aisWindMinZoom) {\n    <sk-ais-wind\n      [targetContext]=\"'vessels'\"\n      [targets]=\"dfeat.ais\"\n      [vectorApparent]=\"app.config.selections.aisWindApparent\"\n      [mapZoom]=\"fbMap.zoomLevel\"\n      [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n      [focusId]=\"app.data.vessels.activeId\"\n      [filterIds]=\"app.config.selections.aisTargets\"\n      [filterByShipType]=\"app.config.selections.aisFilterByShipType\"\n      [filterShipTypes]=\"app.config.selections.aisTargetTypes\"\n      [updateIds]=\"aisMgr.updateList\"\n      [staleIds]=\"aisMgr.staleList\"\n      [removeIds]=\"aisMgr.removeList\"\n      [inactiveTime]=\"app.config.selections.aisStaleAge\"\n      [zIndex]=\"900\"\n      [darkMode]=\"app.config.map.invertColor\"\n    >\n    </sk-ais-wind>\n    }\n    <sk-ais-flags\n      [flagged]=\"app.data.vessels.flagged\"\n      [targetContext]=\"'vessels'\"\n      [targets]=\"dfeat.ais\"\n      [mapZoom]=\"fbMap.zoomLevel\"\n      [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n      [focusId]=\"app.data.vessels.activeId\"\n      [filterIds]=\"app.config.selections.aisTargets\"\n      [filterByShipType]=\"app.config.selections.aisFilterByShipType\"\n      [filterShipTypes]=\"app.config.selections.aisTargetTypes\"\n      [updateIds]=\"aisMgr.updateList\"\n      [staleIds]=\"aisMgr.staleList\"\n      [removeIds]=\"aisMgr.removeList\"\n      [inactiveTime]=\"app.config.selections.aisStaleAge\"\n      [zIndex]=\"985\"\n      [darkMode]=\"app.config.map.invertColor\"\n    >\n    </sk-ais-flags>\n    <sk-ais-vessels\n      [darkMode]=\"app.config.map.invertColor\"\n      [targets]=\"dfeat.ais\"\n      [targetStyles]=\"featureStyles.aisVessel\"\n      targetContext=\"vessels\"\n      [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n      [mapZoom]=\"fbMap.zoomLevel\"\n      [updateIds]=\"aisMgr.updateList\"\n      [staleIds]=\"aisMgr.staleList\"\n      [removeIds]=\"aisMgr.removeList\"\n      [inactiveTime]=\"app.config.selections.aisStaleAge\"\n      [zIndex]=\"980\"\n      [focusId]=\"app.data.vessels.activeId\"\n      [filterIds]=\"app.config.selections.aisTargets\"\n      [filterByShipType]=\"app.config.selections.aisFilterByShipType\"\n      [filterShipTypes]=\"app.config.selections.aisTargetTypes\"\n      [cogLineLength]=\"app.config.selections.vessel.aisCogLine\"\n    >\n    </sk-ais-vessels>\n    }\n  </div>\n  }\n\n  <!-- Aircraft targets -->\n  @if(app.config.aisTargets) {\n  <sk-ais-targets\n    [darkMode]=\"app.config.map.invertColor\"\n    [targets]=\"dfeat.aircraft\"\n    [targetStyles]=\"featureStyles.aircraft\"\n    targetContext=\"aircraft\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [updateIds]=\"aisMgr.updateList\"\n    [staleIds]=\"aisMgr.staleList\"\n    [removeIds]=\"aisMgr.removeList\"\n    [inactiveTime]=\"app.config.selections.aisStaleAge\"\n    [zIndex]=\"910\"\n  >\n  </sk-ais-targets>\n  }\n\n  <!-- SAR targets -->\n  @if(app.config.aisTargets) {\n  <sk-ais-targets\n    [darkMode]=\"app.config.map.invertColor\"\n    [targets]=\"dfeat.sar\"\n    [targetStyles]=\"featureStyles.sar\"\n    targetContext=\"sar\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [updateIds]=\"aisMgr.updateList\"\n    [staleIds]=\"aisMgr.staleList\"\n    [removeIds]=\"aisMgr.removeList\"\n    [inactiveTime]=\"app.config.selections.aisStaleAge\"\n    [zIndex]=\"920\"\n  >\n  </sk-ais-targets>\n  }\n  <!-- /Signal K targets -->\n\n  <!-- Racing -->\n  <racing-start-line\n    [startLine]=\"app.data.racing.startLine\"\n    [racecourseStyles]=\"featureStyles.raceCourse\"\n    [darkMode]=\"app.config.map.invertColor\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [zIndex]=\"540\"\n  >\n  </racing-start-line>\n  <!-- /Racing -->\n\n  <!-- Regions -->\n  <fb-regions\n    [regions]=\"skres.regions()\"\n    [regionStyles]=\"featureStyles.region\"\n    [darkMode]=\"app.config.map.invertColor\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [zIndex]=\"400\"\n  >\n  </fb-regions>\n\n  <!-- Notes -->\n  @if(display.layer.notes) {\n  <fb-notes [notes]=\"dfeat.notes\" [zIndex]=\"450\"> </fb-notes>\n  }\n\n  <!-- Popovers -->\n  @if(overlay.show && !draw.modify) {\n  <ol-overlay [position]=\"overlay.position\" [positioning]=\"'top-center'\">\n    @if(measure.enabled) {\n    <ap-popover\n      [title]=\"overlay.title\"\n      [canClose]=\"false\"\n      [measure]=\"true\"\n      (closed)=\"popoverClosed()\"\n    >\n    </ap-popover>\n    } @if(this.overlay.type === 'list') {\n    <feature-list-popover\n      [canClose]=\"app.config.popoverMulti\"\n      [title]=\"overlay.title\"\n      [features]=\"this.overlay.content\"\n      (selected)=\"featureListSelection($event)\"\n      (closed)=\"popoverClosed()\"\n    >\n    </feature-list-popover>\n    } @if(overlay.type === 'destination' || overlay.type === 'waypoint' ||\n    overlay.type === 'route' || overlay.type === 'note' || overlay.type ===\n    'region') {\n    <resource-popover\n      [canClose]=\"app.config.popoverMulti\"\n      [title]=\"overlay.title\"\n      [type]=\"overlay.type\"\n      [resource]=\"overlay.resource\"\n      [active]=\"\n        app.data.activeWaypoint ? app.data.activeWaypoint : app.data.activeRoute\n      \"\n      [featureCount]=\"overlay.featureCount\"\n      [units]=\"this.app.config.units.distance\"\n      (modify)=\"startModify(overlay.type); popoverClosed()\"\n      (delete)=\"deleteFeature(overlay.id, overlay.type); popoverClosed()\"\n      (addNote)=\"\n        skres.showNoteEditor({\n          type: overlay.type,\n          href: { id: overlay.id, exists: true }\n        });\n        popoverClosed()\n      \"\n      (activated)=\"setActiveFeature(); popoverClosed()\"\n      (deactivated)=\"clearActiveFeature(); popoverClosed()\"\n      (related)=\"skres.showRelatedNotes($event, 'group'); popoverClosed()\"\n      (notes)=\"\n        skres.showRelatedNotes(overlay.id, overlay.type, overlay.readOnly);\n        popoverClosed()\n      \"\n      (info)=\"skres.resourceProperties(overlay); popoverClosed()\"\n      (points)=\"itemInfo(overlay.id, overlay.type); popoverClosed()\"\n      (closed)=\"popoverClosed()\"\n    >\n    </resource-popover>\n    } @if(overlay.type === 'rset') {\n    <resourceset-popover\n      [canClose]=\"app.config.popoverMulti\"\n      [title]=\"overlay.title\"\n      [resource]=\"overlay.resource\"\n      (modify)=\"startModify(overlay.type); popoverClosed()\"\n      (delete)=\"deleteFeature(overlay.id, overlay.type); popoverClosed()\"\n      (info)=\"itemInfo(overlay.id, overlay.type); popoverClosed()\"\n      (closed)=\"popoverClosed()\"\n    >\n    </resourceset-popover>\n    } @if(overlay.type === 'ais') {\n    <div>\n      @if(app.config.selections.aisProfile === 0) {\n      <vessel-popover\n        [canClose]=\"app.config.popoverMulti\"\n        [vessel]=\"overlay.vessel\"\n        [useMagnetic]=\"app.useMagnetic\"\n        [isActive]=\"app.data.vessels.activeId === overlay.id\"\n        [isSelf]=\"overlay.isSelf\"\n        (info)=\"\n          itemInfo(overlay.id, overlay.type, overlay.isSelf); popoverClosed()\n        \"\n        (focused)=\"setActiveVessel($event ? overlay.id : null)\"\n        (markPosition)=\"skres.showWaypointEditor(null, $event); popoverClosed()\"\n        (closed)=\"popoverClosed()\"\n      >\n      </vessel-popover>\n      }\n    </div>\n    } @if(overlay.type === 'aton' || overlay.type === 'meteo') {\n    <aton-popover\n      [canClose]=\"app.config.popoverMulti\"\n      [aton]=\"overlay.aton\"\n      (info)=\"itemInfo(overlay.id, overlay.type); popoverClosed()\"\n      (closed)=\"popoverClosed()\"\n    >\n    </aton-popover>\n    } @if(overlay.type === 'aircraft') {\n    <aircraft-popover\n      [canClose]=\"app.config.popoverMulti\"\n      [aircraft]=\"overlay.aircraft\"\n      (info)=\"itemInfo(overlay.id, overlay.type); popoverClosed()\"\n      (closed)=\"popoverClosed()\"\n    >\n    </aircraft-popover>\n    } @if(overlay.type === 'alarm') {\n    <alarm-popover\n      [canClose]=\"app.config.popoverMulti\"\n      [alarm]=\"overlay.alarm\"\n      [id]=\"overlay.id\"\n      (info)=\"itemInfo(overlay.id, overlay.type); popoverClosed()\"\n      (goto)=\"onContextMenuAction('nav_to', $event); popoverClosed()\"\n      (closed)=\"popoverClosed()\"\n    >\n    </alarm-popover>\n    }\n  </ol-overlay>\n  }\n\n  <!-- Alarms -->\n  @if(!anchor.raised()) {\n  <fb-anchor-alarm\n    [radius]=\"anchor.radius()\"\n    [anchorPosition]=\"anchor.position()\"\n    [lineCoords]=\"vesselLines.anchor\"\n    [anchorStyles]=\"featureStyles.anchor\"\n    [zIndex]=\"300\"\n  >\n  </fb-anchor-alarm>\n  } @if(dfeat.closest.length !==0) {\n  <fb-cpa-alarms [cpaLines]=\"dfeat.closest\" [zIndex]=\"350\"> </fb-cpa-alarms>\n  }\n\n  <!-- MOB alarms -->\n  <fb-alarms\n    [alarms]=\"notiMgr.mobAlerts()\"\n    [alarmStyles]=\"featureStyles.alarm\"\n    [zIndex]=\"310\"\n  >\n  </fb-alarms>\n\n  <!-- Vessel / destination -->\n  @if (anchor.raised() && dfeat.navData.position) {\n  @if(dfeat.navData.startPosition) {\n  <fb-xte-path\n    [color]=\"\"\n    [lineCoords]=\"vesselLines.xtePath\"\n    [zIndex]=\"340\"\n    [visible]=\"true\"\n    [layerProperties]=\"\"\n  >\n  </fb-xte-path>\n  } @if(app.config.selections.vessel.laylines) {\n  <fb-target-angle\n    [line]=\"vesselLines.targetAngle\"\n    [lineStyle]=\"featureStyles.targetAngle\"\n    [position]=\"app.data.vessels.active.position\"\n    [twd]=\"app.data.vessels.self.wind.direction\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [zIndex]=\"345\"\n  >\n  </fb-target-angle>\n  <fb-layline\n    [lines]=\"vesselLines.laylines\"\n    [laylineStyles]=\"featureStyles.layline\"\n    [position]=\"app.data.vessels.active.position\"\n    [twd]=\"app.data.vessels.self.wind.direction\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [zIndex]=\"330\"\n  >\n  </fb-layline>\n  }\n  <fb-bearing-line\n    [marker]=\"dfeat.navData.position\"\n    [lineCoords]=\"vesselLines.bearing\"\n    [showMarker]=\"!app.data.activeWaypoint\"\n    [markerName]=\"app.data.navData.destPointName\"\n    [bearingStyles]=\"featureStyles.destination\"\n    [labelMinZoom]=\"this.app.config.selections.labelsMinZoom\"\n    [mapZoom]=\"fbMap.zoomLevel\"\n    [zIndex]=\"335\"\n  >\n  </fb-bearing-line>\n  @if(app.data.navData.arrivalCircle) {\n  <fb-arrival-circle\n    [radius]=\"app.data.navData.arrivalCircle\"\n    [position]=\"dfeat.navData.position\"\n    [zIndex]=\"335\"\n  >\n  </fb-arrival-circle>\n  } }\n\n  <!-- Vessel (self) -->\n  <fb-vessel\n    [position]=\"dfeat.self.position\"\n    [heading]=\"dfeat.self.orientation\"\n    [id]=\"'' + app.data.selfId\"\n    [activeId]=\"app.data.vessels.activeId\"\n    [vesselLines]=\"vesselLines\"\n    [showWind]=\"app.config.selections.vessel.windVectors\"\n    [vesselStyles]=\"featureStyles.vessel\"\n    [fixedLocation]=\"app.config.fixedLocationMode\"\n    [zIndex]=\"999\"\n  >\n  </fb-vessel>\n\n  @if(app.config.selections.vessel.trail && app.data.vessels.showSelf) {\n  <fb-vessel-trail\n    [localTrail]=\"vesselLines.trail\"\n    [serverTrail]=\"dfeat.trail\"\n    [trailStyles]=\"\"\n    [zIndex]=\"990\"\n  >\n  </fb-vessel-trail>\n  }\n\n  <!-- chart boundaries-->\n  @if(app.data.chartBounds) {\n  <fb-chart-bounds [zIndex]=\"250\" [charts]=\"dfeat.charts\"> </fb-chart-bounds>\n  }\n</ol-map>\n\n<!-- context menu -->\n<div\n  style=\"visibility: hidden; position: fixed\"\n  [style.left]=\"contextMenuPosition.x\"\n  [style.top]=\"contextMenuPosition.y\"\n  [matMenuTriggerFor]=\"contextMenu\"\n></div>\n<mat-menu #contextMenu=\"matMenu\" (contextmenu)=\"$event.preventDefault()\">\n  <ng-template matMenuContent let-item=\"item\">\n    <button\n      mat-menu-item\n      (contextmenu)=\"$event.preventDefault()\"\n      (click)=\"onContextMenuAction('nav_to', item)\"\n    >\n      <mat-icon>near_me</mat-icon>\n      Navigate to here\n    </button>\n    @if(app.data.navData.position){\n    <button\n      mat-menu-item\n      (click)=\"onContextMenuAction('cleardestination', item)\"\n    >\n      <mat-icon>clear_all</mat-icon>\n      @if(app.data.activeRoute) {\n      <span>Clear Active Route</span>\n      } @else {\n      <span>Clear Destination</span>\n      }\n    </button>\n    }\n    <mat-divider></mat-divider>\n    <button\n      mat-menu-item\n      (click)=\"onContextMenuAction('add_wpt', item)\"\n      (contextmenu)=\"$event.preventDefault()\"\n    >\n      <mat-icon class=\"icon-waypoint\">add_location</mat-icon>\n      Add Waypoint here\n    </button>\n\n    @if(fbMap.zoomLevel >= app.config.selections.notesMinZoom) {\n    <button\n      mat-menu-item\n      (click)=\"onContextMenuAction('add_note', item)\"\n      (contextmenu)=\"$event.preventDefault()\"\n    >\n      <mat-icon>local_offer</mat-icon>\n      Add Note here\n    </button>\n    }\n\n    <mat-divider></mat-divider>\n    <button\n      mat-menu-item\n      (click)=\"onContextMenuAction('measure', item)\"\n      (contextmenu)=\"$event.preventDefault()\"\n    >\n      <mat-icon>straighten</mat-icon>\n      Measure\n    </button>\n    <mat-divider></mat-divider>\n\n    @if(app.config.selections.vessel.trail && app.data.trail.length !== 0) {\n    <button mat-menu-item (click)=\"onContextMenuAction('cleartrail', item)\">\n      <mat-icon>clear_all</mat-icon>\n      <span>{{ app.data.serverTrail ? 'Refresh' : 'Clear' }} Trail</span>\n    </button>\n    }\n\n    <button\n      mat-menu-item\n      (click)=\"onContextMenuAction('trail2route', item)\"\n      (contextmenu)=\"$event.preventDefault()\"\n    >\n      <mat-icon>insights</mat-icon>\n      Trail to Route\n    </button>\n\n    <mat-divider></mat-divider>\n    <button\n      mat-menu-item\n      (click)=\"onContextMenuAction('anchor', item)\"\n      (contextmenu)=\"$event.preventDefault()\"\n    >\n      <mat-icon>anchor</mat-icon>\n      Anchor Watch\n    </button>\n    <button\n      mat-menu-item\n      (click)=\"onContextMenuAction('weather_forecast', item)\"\n    >\n      <mat-icon>air</mat-icon>\n      <span>Weather Forecast</span>\n    </button>\n  </ng-template>\n</mat-menu>\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatButtonModule } from '@angular/material/button';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { Convert } from 'src/app/lib/convert';\nimport {\n  FBRoutes,\n  FBRoute,\n  FBResourceSelect\n} from 'src/app/types/resources/freeboard';\n\n@Component({\n  selector: 'route-list',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './routelist.html',\n  styleUrls: ['../resourcelist.css'],\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatButtonModule,\n    FormsModule,\n    MatInputModule,\n    ScrollingModule\n  ]\n})\nexport class RouteListComponent {\n  @Input() routes: FBRoutes;\n  @Input() activeRoute: string;\n  @Input() editingRouteId: string;\n  @Output() select: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() delete: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() activate: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() deactivate: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() refresh: EventEmitter<void> = new EventEmitter();\n  @Output() properties: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() points: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() notes: EventEmitter<{ id: string; readOnly: boolean }> =\n    new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n\n  filterList = [];\n  filterText = '';\n  someSel = false;\n  allSel = false;\n  disableRefresh = false;\n\n  constructor(public app: AppFacade) {}\n\n  ngOnInit() {\n    this.initItems();\n  }\n\n  ngOnChanges() {\n    this.initItems();\n    this.disableRefresh =\n      this.editingRouteId && this.editingRouteId.indexOf('route') !== -1;\n  }\n\n  close() {\n    this.closed.emit();\n  }\n\n  initItems() {\n    this.doFilter();\n    this.sortFilter();\n    this.checkSelections();\n  }\n\n  checkSelections() {\n    let c = false;\n    let u = false;\n    this.filterList.forEach((i: FBRoute) => {\n      c = i[2] ? true : c;\n      u = !i[2] ? true : u;\n    });\n    this.allSel = c && !u ? true : false;\n    this.someSel = c && u ? true : false;\n  }\n\n  selectAll(value: boolean) {\n    this.filterList.forEach((i) => {\n      i[2] = value;\n    });\n    this.someSel = false;\n    this.allSel = value ? true : false;\n    this.select.emit({ id: 'all', value: value });\n  }\n\n  itemSelect(e: boolean, id: string) {\n    this.filterList.forEach((i) => {\n      if (i[0] === id) {\n        i[2] = e;\n      }\n    });\n    this.checkSelections();\n    this.select.emit({ id: id, value: e });\n  }\n\n  itemProperties(id: string) {\n    this.properties.emit({ id: id, type: 'route' });\n  }\n  itemViewPoints(id: string) {\n    this.points.emit({ id: id });\n  }\n  itemViewNotes(rte: FBRoute) {\n    this.notes.emit({\n      id: rte[0],\n      readOnly: rte[1].feature?.properties?.readOnly ?? false\n    });\n  }\n\n  itemSetActive(id: string) {\n    this.itemSelect(true, id); // ensure active resource is selected\n    this.activate.emit({ id: id });\n  }\n  itemClearActive(id: string) {\n    this.deactivate.emit({ id: id });\n  }\n\n  itemDelete(id: string) {\n    this.delete.emit({ id: id });\n  }\n\n  itemRefresh() {\n    this.refresh.emit();\n  }\n\n  filterKeyUp(e: string) {\n    this.filterText = e;\n    this.doFilter();\n    this.sortFilter();\n  }\n\n  doFilter() {\n    if (this.filterText.length === 0) {\n      this.filterList = this.routes;\n    } else {\n      this.filterList = this.routes.filter((i: FBRoute) => {\n        if (\n          i[1].name.toLowerCase().indexOf(this.filterText.toLowerCase()) !== -1\n        ) {\n          return i;\n        }\n      });\n    }\n    this.checkSelections();\n  }\n\n  sortFilter() {\n    this.filterList.sort((a, b) => {\n      const x = a[1].name.toUpperCase();\n      const y = b[1].name.toUpperCase();\n      return x <= y ? -1 : 1;\n    });\n  }\n\n  km2Nm(v: number) {\n    return Convert.kmToNauticalMiles(v);\n  }\n}\n","<div class=\"resourcelist\">\n  <mat-card style=\"border-radius: unset\">\n    <mat-card-title>\n      <div class=\"title-block\">\n        <div style=\"width: 50px\">\n          <button\n            mat-icon-button\n            (click)=\"close()\"\n            matTooltip=\"Close Route List\"\n            matTooltipPosition=\"right\"\n          >\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div style=\"flex: 1 1 auto; padding-top: 7px\">Routes</div>\n      </div>\n    </mat-card-title>\n    <mat-card-content>\n      <div style=\"display: flex\">\n        <div style=\"flex: 1 1 auto; padding-left: 3px\">\n          <mat-form-field floatLabel=\"always\" style=\"width: 180px\">\n            <mat-label>Type to filter list</mat-label>\n            <input\n              #ftext\n              type=\"text\"\n              matInput\n              [(ngModel)]=\"filterText\"\n              (keyup)=\"filterKeyUp(ftext.value)\"\n            />\n            @if(filterText) {\n            <button matSuffix mat-icon-button (click)=\"filterKeyUp('')\">\n              <mat-icon>close</mat-icon>\n            </button>\n            }\n          </mat-form-field>\n        </div>\n        <div>\n          <button\n            mat-icon-button\n            [disabled]=\"disableRefresh\"\n            (click)=\"itemRefresh()\"\n            matTooltip=\"Reload Routes\"\n            matTooltipPosition=\"left\"\n          >\n            <mat-icon>refresh</mat-icon>\n          </button>\n        </div>\n        <div>\n          <mat-checkbox\n            #selall\n            [disabled]=\"routes.length === 0 || disableRefresh\"\n            [checked]=\"allSel\"\n            [indeterminate]=\"someSel\"\n            (change)=\"selectAll($event.checked)\"\n            [matTooltip]=\"(!selall.checked || someSel) ? 'Select All' : 'Deselect All'\"\n            matTooltipPosition=\"right\"\n          >\n          </mat-checkbox>\n        </div>\n      </div>\n    </mat-card-content>\n  </mat-card>\n\n  <div class=\"resources\">\n    @if(routes.length === 0) {\n    <div style=\"text-align: center\"><br /><i>No Routes available.</i></div>\n    }\n    <cdk-virtual-scroll-viewport class=\"vscroller\" itemSize=\"120\">\n      <mat-card\n        *cdkVirtualFor=\"let r of filterList; let i= index;\"\n        style=\"border-bottom: silver 1px outset; border-radius: unset\"\n      >\n        <mat-card-content>\n          <div style=\"display: flex; padding-left: 5px\">\n            <div style=\"flex: 1 1 auto; width: 215px\">\n              <div\n                style=\"\n                  padding-top: 11px;\n                  text-overflow: ellipsis;\n                  overflow-x: hidden;\n                  white-space: pre;\n                \"\n              >\n                <b>{{r[1].name}}</b>\n              </div>\n              <div\n                style=\"\n                  text-overflow: ellipsis;\n                  overflow-x: hidden;\n                  white-space: pre;\n                \"\n              >\n                {{r[1].description}}\n              </div>\n              <div>\n                <i\n                  >{{ app.config.units.distance!='m' ?\n                  km2Nm(r[1].distance/1000).toFixed(2) + 'NM' :\n                  (r[1].distance/1000).toFixed(2) + 'km'}}\n                </i>\n              </div>\n            </div>\n            <div style=\"text-align: right\">\n              <mat-checkbox\n                [checked]=\"r[2]\"\n                [disabled]=\"r[0] === activeRoute || disableRefresh\"\n                (change)=\"itemSelect($event.checked, r[0])\"\n                matTooltip=\"Show on Map\"\n                matTooltipPosition=\"left\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n        </mat-card-content>\n        <mat-card-actions>\n          <div style=\"display: flex\">\n            <div style=\"flex: 1 1 auto\">\n              <button\n                mat-icon-button\n                (click)=\"itemDelete(r[0])\"\n                [disabled]=\"r[0] === activeRoute || disableRefresh\"\n                matTooltip=\"Delete Route\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>delete</mat-icon>\n              </button>\n              <button\n                mat-icon-button\n                [disabled]=\"disableRefresh\"\n                (click)=\"itemViewPoints(r[0])\"\n                matTooltip=\"Route points\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>flag</mat-icon>\n              </button>\n              <button\n                mat-icon-button\n                (click)=\"itemViewNotes(r)\"\n                matTooltip=\"Route notes\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>local_offer</mat-icon>\n              </button>\n              @if(r[0] !== activeRoute) {\n              <button\n                mat-icon-button\n                [disabled]=\"disableRefresh\"\n                (click)=\"itemSetActive(r[0])\"\n                matTooltip=\"Set as Active Route\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>near_me</mat-icon>\n              </button>\n              } @else {\n              <button\n                mat-icon-button\n                [disabled]=\"disableRefresh\"\n                (click)=\"itemClearActive(r[0])\"\n                matTooltip=\"Clear Active Route\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>clear_all</mat-icon>\n              </button>\n              }\n            </div>\n            <div>\n              <button\n                mat-icon-button\n                [disabled]=\"disableRefresh\"\n                (click)=\"itemProperties(r[0])\"\n                matTooltip=\"Edit Route Properties\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>edit</mat-icon>\n              </button>\n            </div>\n          </div>\n        </mat-card-actions>\n      </mat-card>\n    </cdk-virtual-scroll-viewport>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Feature } from 'ol';\nimport { Subject } from 'rxjs';\nimport * as xml2js from 'xml2js';\nimport { Style } from 'ol/style';\n\ninterface Symbol {\n  image: HTMLImageElement;\n  width: number;\n  height: number;\n  originX: number;\n  originY: number;\n  pivotX: number;\n  pivotY: number;\n  locationX: number;\n  locationY: number;\n}\n\nexport interface Lookup {\n  name: string;\n  geometryType: GeometryType;\n  lookupTable: LookupTable;\n  instruction: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  attributes: any;\n  id: number;\n  displayPriority: DisplayPriority;\n  displayCategory: DisplayCategory;\n}\n\nexport interface Options {\n  shallowDepth: number;\n  safetyDepth: number;\n  deepDepth: number;\n  graphicsStyle: string;\n  boundaries: string;\n  colors: number;\n}\n\nexport const DefaultOptions: Options = {\n  shallowDepth: 2,\n  safetyDepth: 3,\n  deepDepth: 6,\n  graphicsStyle: 'Paper', //Simplified or Paper\n  boundaries: 'Plain', // Plain or Symbolized\n  colors: 4 // 2 or 4\n};\n\ninterface ColorTable {\n  symbolfile: string;\n  colors: Map<string, string>;\n}\n\nenum GeometryType {\n  POINT = 0,\n  LINES = 1,\n  AREA = 2\n}\n\nexport enum DisplayPriority {\n  PRIO_NODATA = 0, // no data fill area pattern\n  PRIO_GROUP1 = 1, // S57 group 1 filled areas\n  PRIO_AREA_1 = 2, // superimposed areas\n  PRIO_AREA_2 = 3, // superimposed areas also water features\n  PRIO_SYMB_POINT = 4, // point symbol also land features\n  PRIO_SYMB_LINE = 5, // line symbol also restricted areas\n  PRIO_SYMB_AREA = 6, // area symbol also traffic areas\n  PRIO_ROUTEING = 7, // routeing lines\n  PRIO_HAZARDS = 8, // hazards\n  PRIO_MARINERS = 9 // VRM, EBL, own ship\n}\n\nexport enum DisplayCategory {\n  DISPLAYBASE = 0, //\n  STANDARD = 1, //\n  OTHER = 2, // O for OTHER\n  MARINERS_STANDARD = 3, // Mariner specified\n  MARINERS_OTHER = 4, // value not defined\n  DISP_CAT_NUM = 5 // value not defined\n}\n\nenum LookupTable {\n  SIMPLIFIED = 0,\n  PAPER_CHART = 1,\n  LINES = 2,\n  PLAIN = 3,\n  SYMBOLIZED = 4\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class S57Service {\n  private chartSymbols: Map<string, Symbol> = new Map<string, Symbol>();\n  private colorTables: ColorTable[] = [];\n  private selectedColorTable = 0;\n  private chartSymbolsImage: HTMLImageElement;\n  private lookups: Lookup[] = [];\n  private lookupStartIndex: Map<string, number> = new Map<string, number>();\n  private styles: Map<string, Style> = new Map<string, Style>();\n  public refresh: Subject<void> = new Subject<void>();\n\n  //options\n\n  public options: Options = DefaultOptions;\n\n  private attMatch = new RegExp('([A-Za-z0-9]{6})([0-9,\\\\?]*)');\n\n  constructor(private http: HttpClient) {\n    http\n      .get('assets/s57/chartsymbols.xml', { responseType: 'text' })\n      .subscribe((symbolsXml) => {\n        const parser = new xml2js.Parser({ strict: false, trim: true });\n        parser.parseString(symbolsXml, (err, symbolsJs) => {\n          this.processSymbols(symbolsJs);\n          this.processLookup(symbolsJs);\n          this.processColors(symbolsJs);\n        });\n\n        this.refresh.next();\n        const image = new Image();\n        image.onload = () => {\n          this.chartSymbolsImage = image;\n          this.refresh.next();\n        };\n        image.src =\n          'assets/s57/' + this.colorTables[this.selectedColorTable].symbolfile;\n      });\n  }\n\n  public getStyle(key: string): Style {\n    return this.styles[key];\n  }\n\n  public setStyle(key: string, style: Style) {\n    this.styles[key] = style;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private isChanged(currentValue: any, newValue: any): boolean {\n    let changed = false;\n    const keys = Object.keys(newValue);\n    for (let i = 0; i < keys.length; i++) {\n      if (currentValue[keys[i]] !== newValue[keys[i]]) {\n        changed = true;\n        break;\n      }\n    }\n    return changed;\n  }\n\n  public SetOptions(options: Options) {\n    if (this.isChanged(this.options, options)) {\n      this.options = Object.assign({}, options);\n      this.refresh.next();\n    }\n  }\n\n  public getLookup(lookupIndex: number): Lookup {\n    return this.lookups[lookupIndex];\n  }\n\n  public getColor(colorName: string): string {\n    return this.colorTables[this.selectedColorTable].colors.get(colorName);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private processColors(symbolsJson: any) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (\n      symbolsJson['CHARTSYMBOLS']['COLOR-TABLES'][0]['COLOR-TABLE'] as any[]\n    ).forEach((colortable) => {\n      const colorTable: ColorTable = {\n        symbolfile: colortable['GRAPHICS-FILE'][0]['$']['NAME'],\n        colors: new Map<string, string>()\n      };\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const colors = colortable['COLOR'] as any[];\n      colors.forEach((color) => {\n        colorTable.colors.set(\n          color['$']['NAME'],\n          'RGBA(' +\n            color['$']['R'] +\n            ', ' +\n            color['$']['G'] +\n            ', ' +\n            color['$']['B'] +\n            ',1)'\n        );\n      });\n      this.colorTables.push(colorTable);\n    });\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private processSymbols(symbolsJson: any) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (symbolsJson['CHARTSYMBOLS']['SYMBOLS'][0]['SYMBOL'] as any[]).forEach(\n      (symbol) => {\n        const bitmap = symbol['BITMAP'];\n        if (bitmap) {\n          this.chartSymbols.set(symbol['NAME'][0], {\n            image: null,\n            pivotX: parseInt(bitmap[0]['PIVOT'][0]['$']['X']),\n            pivotY: parseInt(bitmap[0]['PIVOT'][0]['$']['Y']),\n            originX: parseInt(bitmap[0]['ORIGIN'][0]['$']['X']),\n            originY: parseInt(bitmap[0]['ORIGIN'][0]['$']['Y']),\n            width: parseInt(bitmap[0]['$']['WIDTH']),\n            height: parseInt(bitmap[0]['$']['HEIGHT']),\n            locationX: parseInt(bitmap[0]['GRAPHICS-LOCATION'][0]['$']['X']),\n            locationY: parseInt(bitmap[0]['GRAPHICS-LOCATION'][0]['$']['Y'])\n          });\n        }\n      }\n    );\n  }\n\n  private compareLookup(a: Lookup, b: Lookup): number {\n    const lt = a.lookupTable - b.lookupTable;\n    if (lt !== 0) return lt;\n    const ir = a.name.localeCompare(b.name, 'en', { sensitivity: 'base' });\n    if (ir !== 0) return ir;\n    const c1 = Object.keys(a.attributes).length;\n    const c2 = Object.keys(a.attributes).length;\n    if (c1 !== c2) return c2 - c1;\n    return a.id - b.id;\n  }\n\n  private getGeometryType(type: string): GeometryType {\n    switch (type) {\n      case 'Line':\n        return GeometryType.LINES;\n        break;\n      case 'Area':\n        return GeometryType.AREA;\n        break;\n      default:\n        return GeometryType.POINT;\n    }\n  }\n\n  private getLookupTable(table: string): LookupTable {\n    switch (table) {\n      case 'Simplified':\n        return LookupTable.SIMPLIFIED;\n        break;\n      case 'Paper':\n        return LookupTable.PAPER_CHART;\n        break;\n      case 'Lines':\n        return LookupTable.LINES;\n        break;\n      case 'Plain':\n        return LookupTable.PLAIN;\n        break;\n      default:\n        return LookupTable.SYMBOLIZED;\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private processLookup(symbolsJson: any) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (symbolsJson['CHARTSYMBOLS']['LOOKUPS'][0]['LOOKUP'] as any[]).forEach(\n      (lookup) => {\n        const lup: Lookup = {\n          name: lookup['$']['NAME'],\n          instruction: lookup['INSTRUCTION'][0],\n          lookupTable: this.getLookupTable(lookup['TABLE-NAME'][0]),\n          geometryType: this.getGeometryType(lookup['TYPE'][0]),\n          displayCategory: this.getDisplayCategory(lookup['DISPLAY-CAT'][0]),\n          attributes: {},\n          id: parseInt(lookup['$']['ID']),\n          displayPriority: this.getDisplayPriority(lookup['DISP-PRIO'][0])\n        };\n        const attributes = lookup['ATTRIB-CODE'];\n        if (attributes) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          (attributes as any[]).forEach((att) => {\n            lup.attributes[att['$']['INDEX']] = att['_'];\n          });\n        }\n        this.lookups.push(lup);\n      }\n    );\n    // sort\n    this.lookups = this.lookups.sort(this.compareLookup);\n    // build index\n    let lastkey = '';\n    this.lookups.forEach((lup, index) => {\n      const key =\n        lup.lookupTable + ',' + lup.name.toUpperCase() + ',' + lup.geometryType;\n      if (key !== lastkey) {\n        this.lookupStartIndex.set(key, index);\n        lastkey = key;\n      }\n    });\n  }\n\n  public getSymbol(key: string): Symbol {\n    const icon = this.chartSymbols.get(key);\n    if (icon && this.chartSymbolsImage) {\n      if (!icon.image) {\n        icon.image = new Image(icon.width, icon.height);\n        createImageBitmap(\n          this.chartSymbolsImage,\n          icon.locationX,\n          icon.locationY,\n          icon.width,\n          icon.height\n        ).then((bitmap) => {\n          const canvas = document.createElement('CANVAS') as HTMLCanvasElement;\n          canvas.height = icon.height;\n          canvas.width = icon.width;\n          const ctx = canvas.getContext('2d');\n          ctx.drawImage(bitmap, 0, 0);\n          icon.image.src = canvas.toDataURL();\n          //this.refresh.next()\n        });\n        return icon;\n      } else {\n        return icon;\n      }\n    } else {\n      return null;\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private propertyCompare(a: any, b: string): number {\n    const t = typeof a;\n    let b1: number;\n    switch (t) {\n      case 'number':\n        b1 = parseInt(b);\n        return a - b1;\n      case 'string':\n        return (a as string).localeCompare(b);\n      default:\n        return -1;\n    }\n  }\n\n  public selectLookup(feature: Feature): number {\n    const props = feature.getProperties();\n    const properties = {};\n    Object.keys(props).forEach((k) => {\n      properties[k.toUpperCase()] = props[k];\n    });\n\n    const geometry = feature.getGeometry();\n    const name = properties['LAYER'];\n    const geomType = geometry.getType();\n\n    let lookupTable = LookupTable.PAPER_CHART;\n    let type = GeometryType.POINT;\n    if (geomType === 'Polygon') {\n      type = GeometryType.AREA;\n    } else if (geomType === 'LineString') {\n      type = GeometryType.LINES;\n    }\n    switch (type) {\n      case GeometryType.POINT:\n        {\n          if (this.options.graphicsStyle === 'Paper') {\n            lookupTable = LookupTable.PAPER_CHART;\n          } else {\n            lookupTable = LookupTable.SIMPLIFIED;\n          }\n        }\n        break;\n      case GeometryType.LINES:\n        lookupTable = LookupTable.LINES;\n        break;\n      case GeometryType.AREA:\n        {\n          if (this.options.boundaries === 'Plain') {\n            lookupTable = LookupTable.PLAIN;\n          } else {\n            lookupTable = LookupTable.SYMBOLIZED;\n          }\n        }\n        break;\n    }\n\n    let best = -1;\n\n    const startIndex = this.lookupStartIndex.get(\n      lookupTable + ',' + name.toUpperCase() + ',' + type\n    );\n    let currentIndex = startIndex;\n    if (currentIndex) {\n      let lup = this.lookups[currentIndex];\n      let lmatch = 0;\n      while (\n        lup.name.localeCompare(name, 'en', { sensitivity: 'base' }) === 0 &&\n        lup.geometryType === type &&\n        lup.lookupTable === lookupTable\n      ) {\n        let nmatch = 0;\n        Object.keys(lup.attributes).forEach((k) => {\n          const v = lup.attributes[k];\n          const parts = this.attMatch.exec(v);\n          const key = parts[1].toUpperCase();\n          const value = parts[2].toUpperCase();\n          if (value === ' ') {\n            nmatch++;\n            return;\n          }\n          if (value === '?') return;\n          if (this.propertyCompare(properties[key], value) === 0) {\n            nmatch++;\n          }\n        });\n        // According to S52 specs, match must be perfect,\n        // and the first 100% match is selected\n        if (Object.keys(lup.attributes).length === nmatch && nmatch > lmatch) {\n          best = currentIndex;\n          lmatch = nmatch;\n        }\n        currentIndex++;\n        lup = this.lookups[currentIndex];\n      }\n      // If no match found, return the first LUP in the list which has no attributes\n      if (best === -1) {\n        let currentIndex = startIndex;\n        let lup = this.lookups[currentIndex];\n        while (\n          lup.name.localeCompare(name, 'en', { sensitivity: 'base' }) === 0 &&\n          lup.geometryType === type &&\n          lup.lookupTable === lookupTable\n        ) {\n          if (Object.keys(lup.attributes).length === 0) {\n            best = currentIndex;\n            break;\n          }\n          currentIndex++;\n          lup = this.lookups[currentIndex];\n        }\n      }\n      return best;\n    }\n    return -1;\n  }\n\n  private getDisplayCategory(dispCategory: string): DisplayCategory {\n    switch (dispCategory) {\n      case 'Displaybase':\n        return DisplayCategory.DISPLAYBASE;\n      case 'Standard':\n        return DisplayCategory.STANDARD;\n      case 'Mariners':\n        return DisplayCategory.MARINERS_STANDARD;\n      default:\n        return DisplayCategory.OTHER;\n    }\n  }\n\n  private getDisplayPriority(dispPrio: string): DisplayPriority {\n    switch (dispPrio) {\n      case 'Group 1':\n        return DisplayPriority.PRIO_GROUP1;\n        break;\n      case 'Area 1':\n        return DisplayPriority.PRIO_AREA_1;\n        break;\n      case 'Area 2':\n        return DisplayPriority.PRIO_AREA_2;\n        break;\n      case 'Point Symbol':\n        return DisplayPriority.PRIO_SYMB_POINT;\n        break;\n      case 'Line Symbol':\n        return DisplayPriority.PRIO_SYMB_LINE;\n        break;\n      case 'Area Symbol':\n        return DisplayPriority.PRIO_SYMB_AREA;\n        break;\n      case 'Routing':\n        return DisplayPriority.PRIO_ROUTEING;\n        break;\n      case 'Hazards':\n        return DisplayPriority.PRIO_HAZARDS;\n        break;\n      case 'Mariners':\n        return DisplayPriority.PRIO_MARINERS;\n        break;\n      default:\n        return DisplayPriority.PRIO_NODATA;\n        break;\n    }\n  }\n\n  // the interface of this service\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style } from 'ol/style';\nimport { LineString } from 'ol/geom';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { AsyncSubject } from 'rxjs';\nimport { Position } from 'src/app/types';\n\n// ** Freeboard Layline component **\n@Component({\n  selector: 'ol-map > fb-layline',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class LaylineComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature> = [];\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() lines: { port: Array<Coordinate[]>; starboard: Array<Coordinate[]> };\n  @Input() mapZoom = 10;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() laylineStyles: { [key: string]: any };\n  @Input() position: Position; //(change trigger)\n  @Input() twd: number; //(change trigger)\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  public mapifiedLine: Array<Coordinate> = [];\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseValues();\n    this.source = new VectorSource({ features: this.features });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (key === 'lines' || key === 'twd' || key === 'position') {\n          this.parseValues();\n          if (this.source) {\n            this.source.clear();\n            this.source.addFeatures(this.features);\n          }\n        } else if (key === 'mapZoom') {\n          //this.handleLabelZoomChange(key, changes[key]);\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseValues() {\n    const fa: Feature[] = [];\n    let idx = 0;\n\n    if (this.lines) {\n      if (this.lines.port && Array.isArray(this.lines.port)) {\n        this.lines.port.forEach((l: Coordinate[]) => {\n          const mapifiedLine = mapifyCoords(l);\n          const f = new Feature({\n            geometry: new LineString(fromLonLatArray(mapifiedLine))\n          });\n          f.setStyle(this.buildStyle(idx === 0 ? 'port' : 'starboard'));\n          fa.push(f);\n          idx++;\n        });\n      }\n      idx = 0;\n      if (this.lines.starboard && Array.isArray(this.lines.starboard)) {\n        this.lines.starboard.forEach((l: Coordinate[]) => {\n          const mapifiedLine = mapifyCoords(l);\n          const f = new Feature({\n            geometry: new LineString(fromLonLatArray(mapifiedLine))\n          });\n          f.setStyle(this.buildStyle(idx === 0 ? 'port' : 'starboard'));\n          fa.push(f);\n          idx++;\n        });\n      }\n    }\n    this.features = fa;\n  }\n\n  // build target style\n  buildStyle(key: string): Style {\n    if (this.laylineStyles && this.laylineStyles[key]) {\n      return this.laylineStyles[key];\n    } else {\n      if (this.layerProperties && this.layerProperties.style) {\n        return this.layerProperties.style;\n      } else {\n        return undefined;\n      }\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {\n  DomSanitizer,\n  SafeHtml,\n  SafeStyle,\n  SafeScript,\n  SafeUrl,\n  SafeResourceUrl\n} from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safe',\n  standalone: true\n})\nexport class SafePipe implements PipeTransform {\n  constructor(protected sanitizer: DomSanitizer) {}\n\n  public transform(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value: any,\n    type: string\n  ): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\n    switch (type) {\n      case 'html':\n        return this.sanitizer.bypassSecurityTrustHtml(value);\n      case 'style':\n        return this.sanitizer.bypassSecurityTrustStyle(value);\n      case 'script':\n        return this.sanitizer.bypassSecurityTrustScript(value);\n      case 'url':\n        return this.sanitizer.bypassSecurityTrustUrl(value);\n      case 'resourceUrl':\n        return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n      default:\n        throw new Error(`Invalid safe type specified: ${type}`);\n    }\n  }\n}\n\n@Pipe({\n  name: 'addTarget',\n  standalone: true\n})\nexport class AddTargetPipe implements PipeTransform {\n  constructor(protected sanitizer: DomSanitizer) {}\n\n  public transform(value: string, target: string): string {\n    if (typeof value === 'string') {\n      const a = value.split('<a ');\n      return a.join(`<a target=\"${target}\" `);\n    } else {\n      return value;\n    }\n  }\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  SimpleChanges,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { AppFacade } from 'src/app/app.facade';\nimport { Position } from 'src/app/types';\nimport { getGreatCircleBearing } from 'geolib';\nimport { GeoUtils } from '../geoutils';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\n// ********* Measurements Component ********\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'fb-measurements',\n  imports: [\n    CommonModule,\n    MatIconModule,\n    MatButtonModule,\n    MatTooltip,\n    MatToolbarModule\n  ],\n  template: `\n    <div class=\"_ap_measurements\">\n      <mat-toolbar class=\"bg-primary\">\n        <div class=\"_ap_row\">\n          <div class=\"_ap_row\">\n            <div class=\"icon-label\">\n              <mat-icon>straighten</mat-icon>\n            </div>\n            <div class=\"value\">{{ totalDistance }}<br /></div>\n          </div>\n          @if(!totalOnly) {\n          <div class=\"_ap_row\">\n            <div class=\"_ap_row\">\n              <div style=\"font-size: 12pt;\">\n                <mat-icon>square_foot</mat-icon><br />\n                {{\n                  this.coords.length < 2\n                    ? '-'\n                    : this.index === -1\n                    ? this.coords.length - 1\n                    : this.index + 1\n                }}\n              </div>\n              <div class=\"value\">\n                {{ legDistance }}<br />\n                {{ legBearing }}\n              </div>\n            </div>\n          </div>\n          }\n          <div>\n            <button\n              matTooltip=\"Cancel\"\n              matTooltipPosition=\"below\"\n              mat-icon-button\n              (click)=\"close()\"\n            >\n              <mat-icon>close</mat-icon>\n            </button>\n          </div>\n        </div>\n      </mat-toolbar>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap_measurements {\n        position: fixed;\n        top: 0;\n        min-width: 200px;\n      }\n\n      ._ap_row {\n        display: flex;\n        flex-wrap: no-wrap;\n        flex: 2;\n      }\n      ._ap_row .icon-label {\n        width: 30px;\n      }\n      ._ap_row .row-label {\n        font-weight: 500;\n        min-width: 60px;\n      }\n      ._ap_measurements .value {\n        padding-right: 10px;\n      }\n\n      @media only screen and (max-width: 500px) {\n        ._ap_measurements {\n          left: 0;\n          width: 100%;\n        }\n      }\n    `\n  ]\n})\nexport class Measurements {\n  @Input() coords: Array<Position> = [];\n  @Input() index = -1;\n  @Input() totalOnly = false;\n  @Output() cancel: EventEmitter<boolean> = new EventEmitter();\n\n  protected totalDistance: string;\n  protected legDistance: string;\n  protected legBearing: string;\n  protected btnDisable = {\n    prev: false,\n    next: false\n  };\n\n  constructor(public app: AppFacade) {\n    this.init();\n  }\n\n  private init(segment?: boolean) {\n    if (!segment) {\n      this.totalDistance = '--';\n    }\n    this.legDistance = '--';\n    this.legBearing = '--';\n    this.btnDisable = {\n      prev: true,\n      next: true\n    };\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (\n      !this.coords ||\n      !Array.isArray(this.coords) ||\n      this.coords.length === 0\n    ) {\n      this.init();\n      return;\n    }\n    if (changes.index) {\n      if (isNaN(changes.index.currentValue)) {\n        return;\n      } else if (\n        changes.index.currentValue < -1 &&\n        changes.index.currentValue >= this.coords.length\n      ) {\n        return;\n      }\n    }\n    this.calc();\n    this.setButtonState();\n  }\n\n  close() {\n    this.cancel.next();\n  }\n\n  private calc() {\n    const td = GeoUtils.routeLength(this.coords);\n    this.totalDistance = this.app.formatValueForDisplay(td, 'm');\n\n    let leg: Position[];\n    if (this.index === -1) {\n      leg = this.coords.slice(-2);\n    } else {\n      const eidx =\n        this.index === this.coords.length - 2 ? undefined : this.index + 2;\n      leg = this.coords.slice(this.index, eidx);\n    }\n    if (leg.length < 2) {\n      this.init(true);\n    } else {\n      const ld = GeoUtils.distanceTo(leg[0], leg[1]);\n      const lb = getGreatCircleBearing(leg[0], leg[1]);\n      this.legDistance = this.app.formatValueForDisplay(ld, 'm');\n      this.legBearing = this.app.formatValueForDisplay(lb, 'deg');\n    }\n  }\n\n  select(prev?: boolean) {\n    console.log(this.index, prev);\n\n    if (prev) {\n      if (this.index === -1) {\n        if (this.coords.length > 2) {\n          this.index = this.coords.length - 3;\n        }\n      } else if (this.index > 0) {\n        this.index--;\n      }\n    } else {\n      if (this.index !== -1 || this.index < this.coords.length - 2) {\n        this.index++;\n      }\n    }\n    this.setButtonState();\n    this.calc();\n  }\n\n  setButtonState() {\n    if (this.index > 0 || (this.index === -1 && this.coords.length > 2)) {\n      this.btnDisable.prev = false;\n    } else {\n      this.btnDisable.prev = true;\n    }\n\n    if (this.index !== -1 && this.index < this.coords.length - 2) {\n      this.btnDisable.next = false;\n    } else {\n      this.btnDisable.next = true;\n    }\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatListModule } from '@angular/material/list';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { PopoverComponent } from './popover.component';\n\n/*********** feature List Popover ***************\n  title: string -  title text,\n  features: Array<any> - list of features\n  *************************************************/\n@Component({\n  selector: 'feature-list-popover',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    CommonModule,\n    MatListModule,\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    PipesModule,\n    PopoverComponent\n  ],\n  template: `\n    <ap-popover [title]=\"title\" [canClose]=\"canClose\" (closed)=\"handleClose()\">\n      <mat-nav-list>\n        @for(f of features; track f) {\n        <mat-list-item (click)=\"handleSelect(f)\">\n          @if(f.icon === 'route') {\n          <mat-icon class=\"ob\" [svgIcon]=\"f.icon\"></mat-icon>\n          } @else if(f.icon.indexOf('sk-') === 0) {\n          <mat-icon [svgIcon]=\"f.icon\"></mat-icon>\n          } @else {\n          <mat-icon\n            [ngClass]=\"{ 'icon-warn': f.text && f.text.indexOf('self') !== -1 }\"\n          >\n            {{ f.icon }}\n          </mat-icon>\n          }\n          {{ f.text }}\n        </mat-list-item>\n        }\n      </mat-nav-list>\n    </ap-popover>\n  `,\n  styleUrls: []\n})\nexport class FeatureListPopoverComponent {\n  @Input() title: string;\n  @Input() features: Array<{ text: string; icon: string }> = [];\n  @Input() canClose: boolean;\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Output() selected: EventEmitter<any> = new EventEmitter();\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handleSelect(item: any) {\n    this.selected.emit(item);\n  }\n  handleClose() {\n    this.closed.emit();\n  }\n}\n","/***********************************\nLocalStorage Service\n************************************\nClass to encapsulate window.localStorage\n\tnamespace: prefixes keys with value supplied \n***********************************/\n\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalStorage {\n  private _ls = null;\n  private _namespace = '';\n\n  constructor() {\n    this._ls = null;\n    try {\n      if ('localStorage' in window && window['localStorage'] !== null) {\n        this._ls = window.localStorage;\n      }\n    } catch (e) {\n      console.warn('window.localStorage is not supported by this browser!');\n    }\n  }\n\n  set namespace(value) {\n    this._namespace = value + '_';\n  }\n  get namespace() {\n    return this._namespace;\n  }\n\n  //** read data and return a JSON object to supplied key\n  read(key) {\n    if (this._ls && key) {\n      try {\n        return JSON.parse(this._ls.getItem(this._namespace + key));\n      } catch (e) {\n        return this._ls.getItem(this._namespace + key);\n      }\n    }\n  }\n\n  //** write data as a JSON object to supplied key\n  write(key, value = '') {\n    value = JSON.stringify(value);\n    if (this._ls && key) {\n      this._ls.setItem(this._namespace + key, value);\n    }\n  }\n\n  //** delete the supplied key\n  delete(key) {\n    if (this._ls && key) {\n      return this._ls.removeItem(this._namespace + key);\n    }\n  }\n\n  //** check supplied key exists **\n  exists(key) {\n    if (this._ls && key) {\n      return this._ls.getItem(this._namespace + key) ? true : false;\n    }\n  }\n}\n","/** popover Component **\n ************************/\n\nimport {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { PipesModule } from 'src/app/lib/pipes';\n\n/*********** Popover ***************\ntitle: string -  title text,\ncanClose: boolean - show close button\nmeasure: boolean= measure mode;\n***********************************/\n@Component({\n  selector: 'ap-popover',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    PipesModule\n  ],\n  template: `\n    <div\n      class=\"popover top in mat-app-background\"\n      [ngClass]=\"{ measure: measure }\"\n    >\n      <div class=\"popover-title\">\n        <div style=\"flex: 1 1 auto;overflow-x: auto;\">\n          @if(icon) {\n          <mat-icon [class]=\"icon.class\" [svgIcon]=\"icon.svgIcon\">{{\n            icon.name\n          }}</mat-icon>\n          } &nbsp;{{ title }}\n        </div>\n        @if(canClose) {\n        <div style=\"\">\n          <button mat-icon-button (click)=\"handleClose()\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </div>\n        }\n      </div>\n      <div class=\"popover-content\">\n        <ng-content></ng-content>\n      </div>\n\n      <div class=\"arrow\" style=\"left:50%;\"></div>\n    </div>\n  `,\n  styleUrls: ['./popover.component.scss']\n})\nexport class PopoverComponent {\n  @Input() title: string;\n  @Input() icon: { class: string; name?: string; svgIcon?: string };\n  @Input() canClose = true;\n  @Input() measure = false;\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  //constructor() {}\n\n  handleClose() {\n    this.closed.emit();\n  }\n}\n","/** Weather Forecast Component **\n ********************************/\n\nimport { Component, OnInit, Inject } from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatProgressBar } from '@angular/material/progress-bar';\nimport {\n  MatBottomSheetModule,\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { Convert } from 'src/app/lib/convert';\nimport { WeatherData, WeatherDataComponent } from './weather-data.component';\n\n/********* WeatherForecastModal **********\n\tdata: {\n        title: \"<string>\" title text\n    }\n***********************************/\n@Component({\n  selector: 'weather-forecast-modal',\n  imports: [\n    MatCardModule,\n    MatListModule,\n    MatButtonModule,\n    MatIconModule,\n    MatTooltipModule,\n    MatBottomSheetModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatToolbarModule,\n    MatStepperModule,\n    MatProgressBar,\n    WeatherDataComponent\n  ],\n  template: `\n    <div class=\"_weather-forecast\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span>\n          <mat-icon>air</mat-icon>\n        </span>\n        <span style=\"flex: 1 1 auto; padding-left:20px;text-align:center;\">\n          {{ data.title }}\n        </span>\n        <span>\n          <button\n            mat-icon-button\n            (click)=\"modalRef.dismiss()\"\n            matTooltip=\"Close\"\n            matTooltipPosition=\"below\"\n          >\n            <mat-icon>keyboard_arrow_down</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n      @if(isFetching) {\n      <mat-progress-bar mode=\"query\"></mat-progress-bar>\n      } @else { @if(!forecasts || forecasts.length === 0) {\n      <div style=\"text-align:center\">{{ errorText }}</div>\n      } @else {\n      <weather-data [data]=\"forecasts.slice(0, 18)\"></weather-data>\n      } }\n    </div>\n  `,\n  styles: [\n    `\n      ._weather-forecast {\n        font-family: arial;\n      }\n      ._weather-forecast .key-label {\n        width: 150px;\n        font-weight: bold;\n      }\n    `\n  ]\n})\nexport class WeatherForecastModal implements OnInit {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public forecasts: any[] = [];\n  protected isFetching = false;\n  protected errorText = 'No weather data found!';\n\n  constructor(\n    public app: AppFacade,\n    private sk: SignalKClient,\n    public modalRef: MatBottomSheetRef<WeatherForecastModal>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(MAT_BOTTOM_SHEET_DATA) public data: any\n  ) {}\n\n  ngOnInit() {\n    this.getForecast();\n  }\n\n  formatTempDegreesC(val: number) {\n    return val\n      ? `${Convert.kelvinToCelcius(val).toFixed(1)} ${String.fromCharCode(186)}`\n      : '0.0';\n  }\n\n  formatDegrees(val: number) {\n    return val\n      ? `${Convert.radiansToDegrees(val).toFixed(1)} ${String.fromCharCode(\n          186\n        )}`\n      : '0.0';\n  }\n\n  formatKnots(val: number) {\n    return val ? `${Convert.msecToKnots(val).toFixed(1)} kn` : '0.0';\n  }\n\n  private dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n  private getForecast() {\n    let path = '/meteo/freeboard-sk/forecasts';\n    if (this.app.data.weather.hasApi && this.app.data.vessels.self.position) {\n      const pos = this.app.data.vessels.self.position;\n      path = `/weather/forecasts?lat=${pos[1]}&lon=${pos[0]}`;\n    }\n    this.isFetching = true;\n    this.sk.api.get(2, path).subscribe(\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (forecasts: any) => {\n        this.isFetching = false;\n        Object.values(forecasts)\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          .forEach((v: any) => {\n            const forecastData: WeatherData = { wind: {} };\n            forecastData.description = v['description'] ?? '';\n            const d = new Date(v['date']);\n            forecastData.time = d\n              ? `${this.dayNames[d.getDay()]} ${d.getHours()}:${(\n                  '00' + d.getMinutes()\n                ).slice(-2)}`\n              : '';\n\n            if (typeof v.outside?.temperature !== 'undefined') {\n              forecastData.temperature =\n                this.app.config.units?.temperature === 'f'\n                  ? Convert.kelvinToFarenheit(v.outside.temperature).toFixed(\n                      1\n                    ) +\n                    String.fromCharCode(186) +\n                    'F'\n                  : Convert.kelvinToCelcius(v.outside.temperature).toFixed(1) +\n                    String.fromCharCode(186) +\n                    'C';\n            }\n            if (typeof v.outside?.minTemperature?.minimum !== 'undefined') {\n              forecastData.temperatureMin =\n                this.app.config.units?.temperature === 'f'\n                  ? Convert.kelvinToFarenheit(v.outside.minTemperature).toFixed(\n                      1\n                    ) +\n                    String.fromCharCode(186) +\n                    'F'\n                  : Convert.kelvinToCelcius(v.outside.minTemperature).toFixed(\n                      1\n                    ) +\n                    String.fromCharCode(186) +\n                    'C';\n            }\n            if (typeof v.outside?.maxTemperature !== 'undefined') {\n              forecastData.temperatureMax =\n                this.app.config.units?.temperature === 'f'\n                  ? Convert.kelvinToFarenheit(v.outside.maxTemperature).toFixed(\n                      1\n                    ) +\n                    String.fromCharCode(186) +\n                    'F'\n                  : Convert.kelvinToCelcius(v.outside.maxTemperature).toFixed(\n                      1\n                    ) +\n                    String.fromCharCode(186) +\n                    'C';\n            }\n            if (typeof v.outside?.dewPointTemperature !== 'undefined') {\n              forecastData.dewPoint =\n                this.app.config.units?.temperature === 'f'\n                  ? Convert.kelvinToFarenheit(\n                      v.outside.dewPointTemperature\n                    ).toFixed(1) +\n                    String.fromCharCode(186) +\n                    'F'\n                  : Convert.kelvinToCelcius(\n                      v.outside.dewPointTemperature\n                    ).toFixed(1) +\n                    String.fromCharCode(186) +\n                    'C';\n            }\n\n            forecastData.humidity =\n              typeof v.outside?.absoluteHumility !== 'undefined'\n                ? `${v.outside?.absoluteHumility} (%)`\n                : '';\n            forecastData.pressure =\n              typeof v.outside?.pressure !== 'undefined'\n                ? `${Math.round(v.outside?.pressure)} (Pa)`\n                : '';\n\n            if (typeof v.outside?.uvIndex !== 'undefined') {\n              forecastData.uvIndex = v.outside?.uvIndex.toFixed(2);\n            }\n            if (typeof v.outside?.clouds !== 'undefined') {\n              forecastData.clouds =\n                v.outside?.clouds.toFixed(1) +\n                `${v.clouds.units ? ' (' + v.clouds.units + ')' : ''}`;\n            }\n            if (typeof v.outside?.visibility !== 'undefined') {\n              forecastData.visibility = v.outside?.visibility;\n            }\n\n            if (typeof v.wind !== 'undefined') {\n              if (typeof v.wind.speedTrue !== 'undefined') {\n                forecastData.wind.speed =\n                  this.app.formatSpeed(v.wind.speedTrue, true) +\n                  ' ' +\n                  this.app.formattedSpeedUnits;\n              }\n              if (typeof v.wind.gust !== 'undefined') {\n                forecastData.wind.gust =\n                  this.app.formatSpeed(v.wind.gust, true) +\n                  ' ' +\n                  this.app.formattedSpeedUnits;\n              }\n              if (typeof v.wind.directionTrue !== 'undefined') {\n                forecastData.wind.direction =\n                  Convert.radiansToDegrees(v.wind.directionTrue).toFixed(0) +\n                  String.fromCharCode(186);\n              }\n            }\n            this.forecasts.push(forecastData);\n          });\n      },\n      () => {\n        this.isFetching = false;\n        this.errorText = 'Error retrieving weather data!';\n      }\n    );\n  }\n}\n","/**************************************\n * form <input type=\"file\"> component\n * <ap-file-input>\n **************************************/\n\nimport { CommonModule } from '@angular/common';\nimport {\n  Component,\n  Input,\n  Output,\n  ChangeDetectorRef,\n  EventEmitter\n} from '@angular/core';\n\n@Component({\n  selector: 'ap-file-input',\n  imports: [CommonModule],\n  templateUrl: './file-input.component.html',\n  styleUrls: ['./file-input.component.css']\n})\nexport class FileInputComponent {\n  @Input() disabled = false;\n  @Input() multiple = false;\n  @Input() maxfilesize = null; //** 1MB default\n  @Input() accept = ''; // ** html input attribute value\n  @Input() astext = false; // ** return text instead of base64\n  @Input() preview = false;\n  @Input() icon = false;\n  @Input() label = 'Upload File'; // ** button text\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Output() chosen: EventEmitter<{ name: string; data: any }> =\n    new EventEmitter();\n  @Output() invalid: EventEmitter<{\n    type: string;\n    value: string;\n    message: string;\n  }> = new EventEmitter();\n  @Output() cleared: EventEmitter<void> = new EventEmitter();\n\n  public avatar = null;\n\n  constructor(private changeDetectorRef: ChangeDetectorRef) {}\n\n  //** detect file change event handler **\n  fileChange(input) {\n    //** read all file in file list array **\n    this.readFiles(input.files);\n  }\n\n  dragOver(e) {\n    e.preventDefault();\n  }\n\n  drop(ev) {\n    ev.preventDefault();\n    if (ev.dataTransfer.files) {\n      if (ev.dataTransfer.files.length > 0) {\n        this.readFiles(ev.dataTransfer.files);\n      }\n    }\n  }\n\n  clear() {\n    this.avatar = null;\n    this.cleared.emit();\n  }\n\n  //** process file list array **\n  readFiles(files, index = 0) {\n    const reader = new FileReader();\n    const errmsg = { type: '', value: '', message: '' };\n\n    //** If there is a file **\n    if (index in files) {\n      // ** Check file size **\n      if (this.maxfilesize && files[index].size > this.maxfilesize) {\n        errmsg.type = 'SIZE';\n        errmsg.value = files[index].size;\n        errmsg.message = `File size exceeds the accepted maximum size of ${this.maxfilesize}`;\n        this.invalid.emit(errmsg); //** fire invalid size event\n        return;\n      }\n      // ** Check file type **\n      if (this.accept.indexOf('/*') !== -1) {\n        // ** if <filetype>/* used in accept attribute\n        const ftype = files[index].type.substring(\n          0,\n          files[index].type.indexOf('/')\n        );\n        if (this.accept.indexOf(ftype) < 0) {\n          errmsg.type = 'TYPE';\n          errmsg.value = files[index].type;\n          errmsg.message = `File type does not match the accepted type (${this.accept}) specified.`;\n          this.invalid.emit(errmsg); //** fire invalid type event\n          return;\n        }\n      }\n\n      // Start reading this file\n      this.readFile(files[index], reader, (result) => {\n        // ** callback function **\n        if (index === 0 && this.preview) {\n          this.avatar = result;\n        }\n        this.chosen.emit({ name: files[index].name, data: result }); //** fire chosen event\n\n        this.readFiles(files, index + 1);\n        // ****** resize image? **\n        /*\n                // Create an img element and add the image file data to it\n                let img = document.createElement(\"img\");\n                img.src = result;\n            \n                // Send this img to the resize function (and wait for callback)\n                this.resize(img, 42, 42, (resized_jpeg, before, after)=> {   \n                    // ** callback function **\n\n                    // Add the resized jpeg img source to a list for preview\n                    // This is also the file you want to upload. (either as a\n                    // base64 string or img.src = resized_jpeg if you prefer a file). \n                    this.file_srcs.push(resized_jpeg);\n            \n                    // Read the next file;\n                    this.readFiles(files, index+1);\n                });\n                */\n      });\n    } else {\n      // When all files are done This forces a change detection\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  // ** read file contents **\n  readFile(file, reader, callback) {\n    reader.onload = () => {\n      callback(reader.result);\n    };\n\n    if (file.type.indexOf('text') !== -1 || this.astext) {\n      reader.readAsText(file);\n    } else {\n      // read as base64\n      reader.readAsDataURL(file);\n    }\n  }\n\n  // ** resize image file **\n  resize(img, MAX_WIDTH: number, MAX_HEIGHT: number, callback) {\n    // This will wait until the img is loaded before calling this function\n    return (img.onload = () => {\n      // Get the images current width and height\n      let width = img.width;\n      let height = img.height;\n\n      // Set the WxH to fit the Max values (but maintain proportions)\n      if (width > height) {\n        if (width > MAX_WIDTH) {\n          height *= MAX_WIDTH / width;\n          width = MAX_WIDTH;\n        }\n      } else {\n        if (height > MAX_HEIGHT) {\n          width *= MAX_HEIGHT / height;\n          height = MAX_HEIGHT;\n        }\n      }\n\n      // create a canvas object\n      const canvas = document.createElement('canvas');\n\n      // Set the canvas to the new calculated dimensions\n      canvas.width = width;\n      canvas.height = height;\n      const ctx = canvas.getContext('2d');\n\n      ctx.drawImage(img, 0, 0, width, height);\n\n      // Get this encoded as a jpeg\n      // IMPORTANT: 'jpeg' NOT 'jpg'\n      const dataUrl = canvas.toDataURL('image/jpeg');\n\n      // callback with the results\n      callback(dataUrl, img.src.length, dataUrl.length);\n    });\n  }\n}\n","<div class=\"ap-file-input\" (dragover)=\"dragOver($event)\" (drop)=\"drop($event)\">\n  <div id=\"ctrl\" [ngClass]=\"{ disabled: disabled }\">\n    <label mat-menu-item>\n      <ng-content></ng-content>\n      @if(icon) {\n      <span>\n        <i class=\"material-icons\">upload</i>\n        &nbsp;<span style=\"font-size: 10pt\">{{ label }}</span>\n      </span>\n      }\n      <input\n        #input\n        type=\"file\"\n        style=\"display: none\"\n        [multiple]=\"multiple\"\n        [disabled]=\"disabled\"\n        [accept]=\"accept\"\n        (change)=\"fileChange(input)\"\n        (click)=\"input.value = null\"\n      />\n    </label>\n  </div>\n  @if(preview && avatar) {\n  <div id=\"avatar\" style=\"display: inline-flex\">\n    <img [attr.src]=\"avatar\" alt=\"\" />\n    @if(avatar) {\n    <button (click)=\"clear()\">Clear</button>\n    }\n  </div>\n  }\n</div>\n","/** ******************************\n * SignalK to GPX resource handler\n * ******************************/\nimport {\n  GPX,\n  GPXRoute,\n  GPXWaypoint,\n  GPXTrack,\n  GPXTrackSegment\n} from '../gpxlib';\n\nexport class SK2GPX {\n  public gpx: GPX;\n\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.gpx = new GPX();\n    this.gpx.metadata.name = 'Signal K Resource Export';\n    this.gpx.metadata.desc = 'Freeboard export of Signal K resources';\n  }\n\n  toXML() {\n    return this.gpx.toXML();\n  }\n\n  /** add GPXRoutes to GPX object from supplied SK resources\n   * add only routes with supplied ids (add all if ids=undefined)\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setRoutes(routes: { [key: string]: any }, ids?: string[]) {\n    if (!ids) {\n      // ** process all\n      for (const i in routes) {\n        this.gpx.rte.push(this.packageRoute(i, routes[i]));\n      }\n    } else {\n      // ** process selected ids\n      ids.forEach((i) => {\n        if (routes[i]) {\n          this.gpx.rte.push(this.packageRoute(i, routes[i]));\n        }\n      });\n    }\n  }\n\n  // ** return GPXRoute from SK Route wpt: waypoints to get start, end details\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  packageRoute(uuid: string, r: any) {\n    const rte = new GPXRoute();\n    rte.extensions = rte.extensions ?? {};\n    rte.extensions['signalk'] = {};\n    rte.extensions['signalk']['uuid'] = uuid;\n    if (r.distance) {\n      rte.extensions['signalk']['distance'] = r.distance;\n    }\n    // ** route properties **\n    rte.name = r.name || null;\n    rte.desc = r.description || null;\n    rte.cmt = r.feature.properties['cmt'] || null;\n    rte.src = r.feature.properties['src'] || null;\n    rte.number = r.feature.properties['number'] || null;\n    rte.type = r.feature.properties['type'] || null;\n    // ** add points **\n    for (const p of r.feature.geometry.coordinates) {\n      const pt = new GPXWaypoint();\n      pt.lon = p[0];\n      pt.lat = p[1];\n      pt.ele = p[2] || null;\n      rte.rtept.push(pt);\n      this.gpx.updateBounds(pt);\n    }\n    return rte;\n  }\n\n  /** add GPXWaypoints to GPX object from supplied SK waypoints\n   * add only waypoints with supplied ids (add all if ids=null)\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setWaypoints(waypoints: { [key: string]: any }, ids?: string[]) {\n    if (!ids) {\n      // ** process all\n      for (const i in waypoints) {\n        this.gpx.wpt.push(this.packageWaypoint(i, waypoints[i]));\n      }\n    } else {\n      // ** process selected ids\n      ids.forEach((i) => {\n        if (waypoints[i]) {\n          this.gpx.wpt.push(this.packageWaypoint(i, waypoints[i]));\n        }\n      });\n    }\n  }\n\n  // ** return GPXWaypoint from SK Waypoint\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  packageWaypoint(uuid: string, w: any) {\n    const wpt = new GPXWaypoint();\n    wpt.extensions = wpt.extensions || {};\n    wpt.extensions['signalk'] = {};\n    wpt.extensions['signalk']['uuid'] = uuid;\n    // ** waypoint properties **\n    wpt.name = w.name || '';\n    wpt.desc = w.description || '';\n    wpt.cmt = w.feature.properties['cmt'] || null;\n    wpt.geoidHeight = w.feature.properties['geoidHeight'] || null;\n    wpt.src = w.feature.properties['src'] || null;\n    wpt.sym = w.feature.properties['sym'] || null;\n    wpt.type = w.feature.properties['type'] || null;\n    wpt.fix = w.feature.properties['fix'] || null;\n    wpt.sat = w.feature.properties['sat'] || null;\n    wpt.hdop = w.feature.properties['hdop'] || null;\n    wpt.vdop = w.feature.properties['vdop'] || null;\n    wpt.pdop = w.feature.properties['pdop'] || null;\n    wpt.ageOfGpsData = w.feature.properties['ageOfGpsData'] || null;\n    wpt.dgpsid = w.feature.properties['dgpsid'] || null;\n    wpt.lat = w.feature.geometry.coordinates[1];\n    wpt.lon = w.feature.geometry.coordinates[0];\n    wpt.ele = w.feature.geometry.coordinates[2] || null;\n    this.gpx.updateBounds(wpt);\n    return wpt;\n  }\n\n  /** add GPXTracks to GPX object from supplied SK tracks\n   * add only tracks with supplied ids (add all if ids=null)\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setTracks(tracks: { [key: string]: any }, ids?: string[]) {\n    if (!ids) {\n      // ** process all\n      for (const i in tracks) {\n        this.gpx.trk.push(this.packageTrack(i, tracks[i]));\n      }\n    } else {\n      // ** process selected ids\n      ids.forEach((i) => {\n        if (tracks[i]) {\n          this.gpx.trk.push(this.packageTrack(i, tracks[i]));\n        }\n      });\n    }\n  }\n\n  // ** return GPXTrack from SK Track\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  packageTrack(uuid: string, t: any) {\n    const trk = new GPXTrack();\n    trk.extensions = trk.extensions || {};\n    trk.extensions['signalk'] = {};\n    trk.extensions['signalk']['uuid'] = uuid;\n    // ** track properties **\n    trk.name = t.feature.properties['name'] || null;\n    trk.desc = t.feature.properties['description'] || null;\n    trk.cmt = t.feature.properties['cmt'] || null;\n    trk.src = t.feature.properties['src'] || null;\n    trk.number = t.feature.properties['number'] || null;\n    trk.type = t.feature.properties['type'] || null;\n\n    // ** add segments **\n    for (const s of t.feature.geometry.coordinates) {\n      const seg = new GPXTrackSegment();\n      for (const p of s) {\n        const pt = new GPXWaypoint();\n        pt.lon = p[0];\n        pt.lat = p[1];\n        pt.ele = p[2] || null;\n        seg.trkpt.push(pt);\n        this.gpx.updateBounds(pt);\n      }\n      trk.trkseg.push(seg);\n    }\n    return trk;\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule, MatSelectionListChange } from '@angular/material/list';\nimport { AppFacade } from 'src/app/app.facade';\nimport { SKChart } from 'src/app/modules/skresources/resource-classes';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { parseString } from 'xml2js';\nimport { ChartProvider } from 'src/app/types';\n\n/********* WMTSDialog **********\n\tdata: <WMTSCapabilities.xml>\n***********************************/\n@Component({\n  selector: 'wmts-dialog',\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatDialogModule,\n    MatProgressBarModule,\n    MatInputModule,\n    MatListModule,\n    PipesModule\n  ],\n  template: `\n    <div class=\"_ap-wmts\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span class=\"dialog-icon\"><mat-icon>public</mat-icon></span>\n        <span style=\"flex: 1 1 auto; text-align: center\">Add WMTS Source</span>\n        <span style=\"text-align: right\">\n          <button mat-icon-button (click)=\"dialogRef.close()\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n      <mat-dialog-content>\n        @if (true) {\n        <mat-form-field floatLabel=\"always\" style=\"width:100%\">\n          <mat-label> WMTS host. </mat-label>\n          <input matInput #txturl type=\"url\" required [(value)]=\"hostUrl\" />\n          @if (txturl) {\n          <button\n            matSuffix\n            mat-icon-button\n            [disabled]=\"txturl.value.length === 0\"\n            (click)=\"wmtsGetCapabilities(txturl.value)\"\n          >\n            <mat-icon>arrow_forward</mat-icon>\n          </button>\n          }\n          <mat-hint> Enter url of the WMTS host. </mat-hint>\n          @if (txturl.invalid) {\n          <mat-error>WMTS host is required!</mat-error>\n          }\n        </mat-form-field>\n        } @if (isFetching) {\n        <mat-progress-bar mode=\"query\"></mat-progress-bar>\n        } @else { @if (errorMsg) {\n        <mat-error>Error retrieving capabilities from server!</mat-error>\n        } @else {\n        <div>\n          @if (wmtsLayers.length > 0) {\n          <div style=\"height: 200px;overflow-x: hidden;overflow-y: auto;\">\n            <mat-selection-list\n              #wlayers\n              (selectionChange)=\"handleSelection($event)\"\n            >\n              @for(layer of wmtsLayers; track layer; let idx = $index) {\n              <mat-list-option [value]=\"idx\">\n                <span matListItemTitle>{{ layer.name }}</span>\n                <span\n                  style=\"flex: 1 1 auto;white-space: pre; overflow:hidden;text-overflow:elipsis;\"\n                  >{{ layer.description }}</span\n                >\n              </mat-list-option>\n              }\n            </mat-selection-list>\n          </div>\n          <p>\n            Selected: {{ wlayers.selectedOptions.selected.length }} of\n            {{ wmtsLayers.length }}\n          </p>\n          }\n        </div>\n        } }\n      </mat-dialog-content>\n      <mat-dialog-actions>\n        <button\n          mat-raised-button\n          [disabled]=\"selections.length === 0\"\n          (click)=\"handleSave()\"\n        >\n          Save\n        </button>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-wmts {\n      }\n      ._ap-wmts .key-label {\n        width: 150px;\n        font-weight: 500;\n      }\n    `\n  ]\n})\nexport class WMTSDialog {\n  protected isFetching = false;\n  protected fetchError = false;\n  protected errorMsg = '';\n  protected wmtsLayers: Array<ChartProvider> = [];\n  protected selections: Array<number> = [];\n  protected selectionInfo: Array<{ name: string; description: string }> = [];\n  protected hostUrl = '';\n\n  constructor(\n    public app: AppFacade,\n    public dialogRef: MatDialogRef<WMTSDialog>,\n    private http: HttpClient,\n    @Inject(MAT_DIALOG_DATA) public data: SKChart\n  ) {}\n\n  handleSelection(e: MatSelectionListChange) {\n    this.selections = e.source.selectedOptions.selected.map((opt) => opt.value);\n  }\n\n  handleSave() {\n    const sources: Array<ChartProvider> = this.selections.map(\n      (layerIdx) => this.wmtsLayers[layerIdx]\n    );\n    this.dialogRef.close(sources);\n  }\n\n  /** Make requests to WMTS server */\n  wmtsGetCapabilities(wmtsHost: string) {\n    this.selections = [];\n    this.selectionInfo = [];\n    this.wmtsLayers = [];\n    this.errorMsg = '';\n\n    const url = wmtsHost + `?request=GetCapabilities&service=wmts`;\n    this.isFetching = true;\n    this.http.get(url, { responseType: 'text' }).subscribe(\n      (res: string) => {\n        this.isFetching = false;\n        if (res.indexOf('<Capabilities') !== -1) {\n          this.parseCapabilities(res, wmtsHost);\n        } else {\n          this.errorMsg = 'Invalid response received!';\n        }\n      },\n      (err: HttpErrorResponse) => {\n        this.isFetching = false;\n        this.fetchError = true;\n        this.errorMsg = err.message;\n      }\n    );\n  }\n\n  /** Parse WMTSCapabilities.xml */\n  parseCapabilities(xml: string, urlBase: string) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parseString(xml, (err: Error, result: any) => {\n      if (err) {\n        this.errorMsg = 'ERROR parsing XML!';\n        console.log('ERROR parsing XML!', err);\n      } else {\n        this.wmtsLayers = this.getWMTSLayers(result, urlBase).sort((a, b) =>\n          a.name < b.name ? -1 : 1\n        );\n      }\n    });\n  }\n\n  /** Retrieve the available layers from WMTS Capabilities metadata */\n  getWMTSLayers(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    json: { [key: string]: any },\n    urlBase: string\n  ): ChartProvider[] {\n    const maps: ChartProvider[] = [];\n    if (!json.Capabilities.Contents[0].Layer) {\n      return maps;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    json.Capabilities.Contents[0].Layer.forEach((layer: any) => {\n      const ch = this.parseLayerEntry(layer, urlBase);\n      if (ch) {\n        maps.push(ch);\n      }\n    });\n    return maps;\n  }\n\n  /** Parse WMTS layer entry */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseLayerEntry(layer: any, urlBase: string): ChartProvider | null {\n    if (\n      layer['ows:Identifier'] &&\n      Array.isArray(layer['ows:Identifier']) &&\n      layer['ows:Identifier'].length > 0\n    ) {\n      const l: ChartProvider = {\n        name: layer['ows:Title'] ? layer['ows:Title'][0] : '',\n        description: layer['ows:Abstract'] ? layer['ows:Abstract'][0] : '',\n        type: 'WMTS',\n        url: `${urlBase}`,\n        layers: [layer['ows:Identifier'][0]]\n      };\n      if (\n        layer['ows:WGS84BoundingBox'] &&\n        layer['ows:WGS84BoundingBox'].length > 0\n      ) {\n        l.bounds = [\n          Number(\n            layer['ows:WGS84BoundingBox'][0]['ows:LowerCorner'][0].split(' ')[0]\n          ),\n          Number(\n            layer['ows:WGS84BoundingBox'][0]['ows:LowerCorner'][0].split(' ')[1]\n          ),\n          Number(\n            layer['ows:WGS84BoundingBox'][0]['ows:UpperCorner'][0].split(' ')[0]\n          ),\n          Number(\n            layer['ows:WGS84BoundingBox'][0]['ows:UpperCorner'][0].split(' ')[1]\n          )\n        ];\n      }\n      if (layer['Format'] && layer['Format'].length > 0) {\n        const f = layer['Format'][0];\n        l.format = f.indexOf('jpg') !== -1 ? 'jpg' : 'png';\n      } else {\n        l.format = 'png';\n      }\n      return l;\n    } else {\n      return null;\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChange,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, RegularShape, Stroke, Fill, Text } from 'ol/style';\nimport { Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { FBFeatureLayerComponent } from '../sk-feature.component';\nimport { FBNotes, NoteResource, Notes } from 'src/app/types';\nimport { MapImageRegistry } from '../map-image-registry.service';\nimport { SKNote } from 'src/app/modules/skresources';\n\n@Component({\n  selector: 'ol-map > sk-notes-base',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class NotesBaseComponent extends FBFeatureLayerComponent {\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapImages: MapImageRegistry\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.labelPrefixes = ['note'];\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (this.source && 'notes' in changes) {\n      this.source.clear();\n      this.parseNotes(changes['notes']);\n    }\n  }\n\n  parseNotes(change: SimpleChange) {\n    // overridable function\n  }\n\n  // build note feature style\n  buildStyle(note: SKNote | NoteResource): Style {\n    const icon = this.mapImages.getPOI(note.properties.skIcon ?? 'default');\n    if (icon) {\n      return new Style({\n        image: icon,\n        text: new Text({\n          text: '',\n          offsetX: 0,\n          offsetY: -12\n        })\n      });\n    } else {\n      return new Style({\n        image: new RegularShape({\n          points: 4,\n          radius: 10,\n          fill: new Fill({ color: 'gold' }),\n          stroke: new Stroke({\n            color: 'black',\n            width: 1\n          }),\n          rotation: (Math.PI / 180) * 45\n        })\n      });\n    }\n  }\n}\n\n// ** Signal K resource collection format **\n@Component({\n  selector: 'ol-map > sk-notes',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class NoteLayerComponent extends NotesBaseComponent {\n  @Input() notes: Notes;\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapImages: MapImageRegistry\n  ) {\n    super(mapComponent, changeDetectorRef, mapImages);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseSKNotes(this.notes);\n  }\n\n  override parseNotes(change: SimpleChange) {\n    this.parseSKNotes(change.currentValue);\n  }\n\n  parseSKNotes(notes: Notes = this.notes) {\n    const fa: Feature[] = [];\n    for (const n in notes) {\n      if (!notes[n].position) {\n        continue;\n      }\n      const f = new Feature({\n        geometry: new Point(\n          fromLonLat([notes[n].position.longitude, notes[n].position.latitude])\n        ),\n        name: notes[n].name\n      });\n      f.setId('note.' + n);\n      f.set('icon', notes[n].properties?.skIcon ?? 'local_offer');\n      f.setStyle(this.buildStyle(notes[n]).clone());\n      fa.push(f);\n    }\n    this.source.addFeatures(fa);\n  }\n}\n\n// ** Freeboard resource collection format **\n@Component({\n  selector: 'ol-map > fb-notes',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class FreeboardNoteLayerComponent extends NotesBaseComponent {\n  @Input() notes: FBNotes = [];\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapImages: MapImageRegistry\n  ) {\n    super(mapComponent, changeDetectorRef, mapImages);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseFBNotes(this.notes);\n  }\n\n  override parseNotes(change: SimpleChange) {\n    this.parseFBNotes(change.currentValue);\n  }\n\n  parseFBNotes(notes: FBNotes = this.notes) {\n    const fa: Feature[] = [];\n    for (const n of notes) {\n      if (!n[1].position) {\n        continue;\n      }\n      const f = new Feature({\n        geometry: new Point(\n          fromLonLat([n[1].position.longitude, n[1].position.latitude])\n        ),\n        name: n[1].name\n      });\n      f.setId('note.' + n[0]);\n      f.set(\n        'icon',\n        n[1].properties?.skIcon\n          ? `sk-${n[1].properties?.skIcon}`\n          : 'local_offer'\n      );\n      f.setStyle(this.buildStyle(n[1]).clone());\n      fa.push(f);\n    }\n    this.source.addFeatures(fa);\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges\n} from '@angular/core';\nimport Overlay, { Options, PanIntoViewOptions } from 'ol/Overlay';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from './map.component';\nimport { Coordinate } from './models';\n\n@Component({\n  selector: 'ol-map > ol-overlay',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class OverlayComponent implements OnInit, OnChanges, OnDestroy {\n  protected overlay: Overlay;\n  public element: HTMLElement;\n\n  @Input() id: number | string;\n  @Input() className: string;\n  @Input() offset: number[];\n  @Input() position: Coordinate;\n  @Input() positioning: string;\n  @Input() stopEvent: boolean;\n  @Input() insertFirst: boolean;\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected elementRef: ElementRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    if (this.elementRef.nativeElement) {\n      this.element = this.elementRef.nativeElement;\n      this.overlay = new Overlay(this as Options);\n      this.mapComponent.getMap().addOverlay(this.overlay);\n      this.overlay.setPosition(fromLonLat(this.position));\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.overlay) {\n      this.mapComponent.getMap().removeOverlay(this.overlay);\n      this.overlay = null;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.overlay && changes.position) {\n      this.overlay.setPosition(fromLonLat(changes.position.currentValue));\n    }\n  }\n\n  panIntoView(panIntoViewOptions: PanIntoViewOptions) {\n    this.overlay.panIntoView(panIntoViewOptions);\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  OnDestroy,\n  OnInit\n} from '@angular/core';\nimport { Control } from 'ol/control';\nimport { MapComponent } from './map.component';\n\n@Component({\n  selector: 'ol-map > ol-control',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class ControlComponent implements OnInit, OnDestroy {\n  protected control: Control;\n  public element: HTMLElement;\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected elementRef: ElementRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    if (this.elementRef.nativeElement) {\n      this.element = this.elementRef.nativeElement;\n      this.control = new Control({ element: this.element });\n      this.mapComponent.getMap().addControl(this.control);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.control) {\n      this.mapComponent.getMap().removeControl(this.control);\n      this.control = null;\n    }\n  }\n}\n","/** Route NextPoint Component **\n ************************/\n\nimport {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n/*********** NextPoint ***************\nindex: number - index of current point,\ntotal: number - total number of points\n***********************************/\n@Component({\n  selector: 'route-nextpoint',\n  imports: [MatButtonModule, MatTooltipModule, MatIconModule],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <div\n      class=\"mat-app-background\"\n      style=\"height: 96px;border: 1px rgba(0,0,0,0) solid;\"\n    >\n      <div style=\"display: flex; flex: auto; flex-wrap: nowrap; width:90px;\">\n        <div style=\"flex: auto\">\n          <button\n            class=\"nav-button\"\n            mat-icon-button\n            matTooltip=\"Previous point\"\n            matTootipPosition=\"top\"\n            [disabled]=\"!circular && index === 0\"\n            (click)=\"changeIndex(-1)\"\n          >\n            <mat-icon>skip_previous</mat-icon>\n          </button>\n        </div>\n        <div style=\"flex: auto\">\n          <button\n            class=\"nav-button\"\n            mat-icon-button\n            matTooltip=\"Next point\"\n            matTootipPosition=\"top\"\n            [disabled]=\"!circular && index >= total - 1\"\n            (click)=\"changeIndex(1)\"\n          >\n            <mat-icon>skip_next</mat-icon>\n          </button>\n        </div>\n      </div>\n      <div style=\"font-family:roboto;line-height: 40px;\">\n        {{ index + 1 }} of {{ total }}\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n      .nav-button {\n        height: 40px;\n      }\n    `\n  ]\n})\nexport class RouteNextPointComponent {\n  @Input() index: number;\n  @Input() total: number;\n  @Input() circular = false;\n  @Output() selected: EventEmitter<number> = new EventEmitter();\n\n  //constructor() {}\n\n  changeIndex(i: number) {\n    if (i === 1) {\n      if (this.circular && this.index === this.total - 1) {\n        this.selected.emit(1);\n      } else {\n        this.selected.emit(this.index + 1);\n      }\n    } else {\n      if (this.circular && this.index === 0) {\n        this.selected.emit(this.total - 2);\n      } else {\n        this.selected.emit(this.index - 1);\n      }\n    }\n  }\n}\n","/** Signal K Stream worker service\n * ************************************/\nimport { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { NotificationMessage } from 'src/app/types';\n\ninterface IWorkerCommand {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  options: any;\n  cmd: string;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class SKWorkerService {\n  private worker: Worker;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private messageSource = new Subject<any>();\n  private notificationSource = new Subject<NotificationMessage>();\n\n  constructor() {\n    this.worker = new Worker(new URL('./skstream.worker', import.meta.url));\n    this.worker.onmessage = ({ data }) => {\n      this.handleMessage(data);\n    };\n  }\n\n  message$() {\n    return this.messageSource.asObservable();\n  }\n\n  notification$() {\n    return this.notificationSource.asObservable();\n  }\n\n  // ************ Worker Functions *********************\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  settings(value: any) {\n    this.worker.postMessage({ cmd: 'settings', options: value });\n  }\n\n  terminate() {\n    if (this.worker) {\n      this.close(true);\n      console.log('Terminating Worker....');\n      this.worker.terminate();\n      this.worker = undefined;\n    }\n  }\n\n  close(terminate = false) {\n    if (this.worker) {\n      console.log('Closing Worker Stream....');\n      this.worker.postMessage({\n        cmd: 'close',\n        options: { terminate: terminate }\n      });\n    }\n  }\n\n  postMessage(msg: IWorkerCommand) {\n    if (this.worker) {\n      this.worker.postMessage(msg);\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private handleMessage(msg: any) {\n    if (msg.action === 'notification') {\n      this.notificationSource.next(msg as NotificationMessage);\n    } else {\n      this.messageSource.next(msg);\n    }\n  }\n\n  // *********************************\n}\n","import {\n  Component,\n  OnInit,\n  ElementRef,\n  ViewChild,\n  Input,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\ninterface PiPVideoElement extends HTMLVideoElement {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  requestPictureInPicture(): any;\n}\n\n//** Picture in Picture video component **\n@Component({\n  selector: 'pip-video',\n  imports: [MatButtonModule, MatTooltipModule, MatIconModule],\n  template: `\n    <div style=\"border: gray 1px solid;border-radius:5px;display:none;\">\n      <video #vid [src]=\"vidUrl\" [muted]=\"muted\" autoplay></video>\n    </div>\n    <div style=\"padding-left: 5px;\">\n      <button\n        class=\"button-toolbar\"\n        mat-mini-fab\n        [style.display]=\"src ? 'block' : 'none'\"\n        matTooltip=\"Show Video\"\n        matTooltipPosition=\"left\"\n        [disabled]=\"pipMode\"\n        (click)=\"initPiP()\"\n      >\n        <mat-icon>videocam</mat-icon>\n      </button>\n      <!--<button mat-mini-fab [style.display]=\"pipMode ? 'block' : 'none'\"\n                matTooltip=\"Mute Audio\"\n                (click)=\"toggleMute()\">\n                <mat-icon>{{muted ? 'volume_off' : 'volume_mute'}}</mat-icon>\n            </button>-->\n    </div>\n  `,\n  styles: [``]\n})\nexport class PiPVideoComponent implements OnInit {\n  private pipVideo: PiPVideoElement;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private pipWindow: any;\n  pipMode = false;\n  vidUrl: string;\n  @Input() src: string;\n  @Input() muted = true;\n  @Output() resize: EventEmitter<[number, number]> = new EventEmitter();\n  @Output() change: EventEmitter<boolean> = new EventEmitter();\n  @Output() click: EventEmitter<boolean> = new EventEmitter();\n  @ViewChild('vid', { static: true }) vid: ElementRef;\n\n  //constructor() {}\n\n  ngOnInit() {\n    if (!('pictureInPictureEnabled' in document)) {\n      //console.log('The Picture-in-Picture Web API is not available.');\n      this.pipMode = true; // disable button by mimicing pipMode\n    }\n\n    this.pipVideo = this.vid.nativeElement;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.pipVideo.addEventListener('enterpictureinpicture', (event: any) => {\n      this.pipMode = true;\n      this.pipWindow = event.pictureInPictureWindow;\n      this.pipWindow.addEventListener(\n        'resize',\n        this.onPipWindowResize.bind(this)\n      );\n      this.change.emit(this.pipMode);\n    });\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.pipVideo.addEventListener('leavepictureinpicture', () => {\n      this.pipMode = false;\n      this.pipVideo.pause();\n      this.pipWindow.removeEventListener('resize', this.onPipWindowResize);\n      this.change.emit(this.pipMode);\n    });\n  }\n\n  ngOnChanges(changes) {\n    if (changes.src && changes.src.currentValue) {\n      this.vidUrl = this.src;\n    }\n  }\n\n  // ** pipWindow resize event handler **\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onPipWindowResize(event: any) {\n    this.resize.emit([event.srcElement.width, event.srcElement.height]);\n  }\n\n  toggleMute() {\n    this.muted = !this.muted;\n  }\n\n  // ** initialise picture in picture mode\n  async initPiP() {\n    try {\n      await this.pipVideo.requestPictureInPicture();\n      this.pipMode = true;\n      this.vid.nativeElement.play();\n      this.click.emit(true);\n    } catch (e) {\n      this.pipMode = false;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SignalKClient } from 'signalk-client-angular';\nimport { AppFacade } from 'src/app/app.facade';\n\ninterface BuddyProperties {\n  urn: string;\n  name: string;\n}\n\nconst BUDDIES_URI = '/resources/buddies';\n\n// ** Signal K Buddies operations\n@Injectable({ providedIn: 'root' })\nexport class Buddies {\n  constructor(public signalk: SignalKClient, public app: AppFacade) {}\n\n  list() {\n    return this.signalk.api.get(this.app.skApiVersion, `${BUDDIES_URI}`);\n  }\n\n  add(urn: string, name: string) {\n    return this.signalk.api.post(this.app.skApiVersion, `${BUDDIES_URI}`, {\n      urn: urn,\n      name: name\n    });\n  }\n\n  update(urn: string, name: string) {\n    return this.signalk.api.put(\n      this.app.skApiVersion,\n      `${BUDDIES_URI}/${urn}`,\n      { name: name }\n    );\n  }\n\n  remove(urn: string) {\n    return this.signalk.api.delete(\n      this.app.skApiVersion,\n      `${BUDDIES_URI}/${urn}`\n    );\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, Stroke, Fill } from 'ol/style';\nimport { Circle, LineString, Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { fromLonLatArray, mapifyCoords, mapifyRadius } from '../util';\nimport { AsyncSubject } from 'rxjs';\n\n// ** Freeboard Anchor Alarm component **\n@Component({\n  selector: 'ol-map > fb-anchor-alarm',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class AnchorAlarmComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature>;\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() radius: number;\n  @Input() anchorPosition: Coordinate;\n  @Input() lineCoords: Array<Coordinate>;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() anchorStyles: { [key: string]: any };\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  public mapifiedRadius = 0;\n  public mapifiedLine: Array<Coordinate> = [];\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseValues();\n    this.source = new VectorSource({ features: this.features });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (\n          key === 'radius' ||\n          key === 'anchorPosition' ||\n          key === 'lineCoords'\n        ) {\n          this.parseValues();\n          if (this.source) {\n            this.source.clear();\n            this.source.addFeatures(this.features);\n          }\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseValues() {\n    this.mapifiedRadius = mapifyRadius(\n      this.radius < 0 ? 0 : this.radius,\n      this.anchorPosition\n    );\n    this.mapifiedLine = mapifyCoords(this.lineCoords);\n    const fa: Feature[] = [];\n    const f = new Feature({\n      geometry: new LineString(fromLonLatArray(this.mapifiedLine))\n    });\n    f.setStyle(this.buildStyle('line'));\n    fa.push(f);\n    const fc = new Feature({\n      geometry: new Circle(fromLonLat(this.anchorPosition), this.mapifiedRadius)\n    });\n    fc.setStyle(this.buildStyle('circle'));\n    fa.push(fc);\n    const fp = new Feature({\n      geometry: new Point(fromLonLat(this.anchorPosition))\n    });\n    fp.setId('anchor');\n    fp.setStyle(this.buildStyle('anchor'));\n    fa.push(fp);\n    this.features = fa;\n  }\n\n  // build target style\n  buildStyle(key: string): Style {\n    if (this.anchorStyles && this.anchorStyles[key]) {\n      return this.anchorStyles[key];\n    } else {\n      if (this.layerProperties && this.layerProperties.style) {\n        return this.layerProperties.style;\n      } else {\n        // default style\n        return new Style({\n          stroke: new Stroke({\n            width: 2,\n            color: 'black',\n            lineDash: [5, 5]\n          }),\n          fill: new Fill({\n            color: 'rgba(0, 255, 0, .3)'\n          })\n        });\n      }\n    }\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { AppFacade } from 'src/app/app.facade';\nimport { TextDialComponent, TTGDialComponent } from 'src/app/lib/components/dial-text';\n\n@Component({\n  selector: 'remote-control',\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatButtonModule,\n    MatCardModule,\n    MatIconModule,\n    MatSliderModule,\n    TextDialComponent,\n    TTGDialComponent\n  ],\n  template: `\n    <div class=\"remote-control-sidebar\">\n      <div class=\"sidebar-header\">\n        <span class=\"title\">Remote Control</span>\n        <button mat-icon-button (click)=\"closePanel()\" matTooltip=\"Close panel\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n      \n      <!-- Navigation Data Section -->\n      <div class=\"nav-data-section\">\n        <div class=\"nav-data-header\">Navigation Data</div>\n        \n        <div class=\"navigation-data\">\n          <!-- Display navigation data similarly to navdataPanel -->\n          <div class=\"nav-data-row\">\n            <!-- Course Over Ground -->\n            @if(navData?.bearing?.value) {\n              <ap-dial-text\n                [title]=\"'COG'\"\n                [value]=\"navData.bearing.value.toFixed(1)\"\n                [units]=\"navData.bearing.type === 'M' ? 'deg (M)' : 'deg (T)'\"\n              ></ap-dial-text>\n            }\n            \n            <!-- Speed Over Ground -->\n            @if(navData?.vmg) {\n              <ap-dial-text\n                [title]=\"'SOG'\"\n                [value]=\"app.formatSpeed(navData.vmg, true)\"\n                [units]=\"app.formattedSpeedUnits\"\n              ></ap-dial-text>\n            }\n          </div>\n          \n          <div class=\"nav-data-row\">\n            <!-- Position -->\n            @if(navData?.position) {\n              <ap-dial-text\n                [title]=\"'Position'\"\n                [value]=\"formatPosition(navData.position)\"\n                [units]=\"''\"\n              ></ap-dial-text>\n            }\n          </div>\n          \n          <div class=\"nav-data-row\">\n            <!-- Distance To Go -->\n            @if(navData?.dtg) {\n              <ap-dial-text\n                [title]=\"'DTG'\"\n                [value]=\"navData.dtg.toFixed(1)\"\n                [units]=\"app.config.units.distance === 'm' ? 'km' : 'NM'\"\n              ></ap-dial-text>\n            }\n            \n            <!-- Time To Go -->\n            @if(navData?.ttg) {\n              <ap-dial-ttg\n                [value]=\"navData.ttg\"\n              ></ap-dial-ttg>\n            }\n          </div>\n        </div>\n      </div>\n      \n      <!-- Remote Control Section -->\n      <div class=\"control-panel\">\n        <div class=\"control-section\">\n          <label>Rudder: {{rudder}}</label>\n          <div class=\"horizontal-slider-container\">\n            <span class=\"limit-label\">-30</span>\n            <input class=\"slider horizontal\" type=\"range\" min=\"-30\" max=\"30\" [(ngModel)]=\"rudder\" (change)=\"sendRudderCommand(rudder)\">\n            <span class=\"limit-label\">30</span>\n          </div>\n        </div>\n        \n        <div class=\"control-section\">\n          <label>Thrust: {{thrust}}%</label>\n          <div class=\"thrust-control-container\">\n            <div class=\"vertical-slider-container\">\n              <span class=\"limit-label\">100%</span>\n              <input class=\"slider vertical\" type=\"range\" min=\"0\" max=\"100\" [(ngModel)]=\"thrust\" (change)=\"sendThrustCommand(thrust)\" orient=\"vertical\">\n              <span class=\"limit-label\">0%</span>\n            </div>\n            <div class=\"thrust-buttons\">\n              <button mat-mini-fab class=\"thrust-button\" (click)=\"increaseThrust()\" [disabled]=\"thrust >= 100\">\n                <mat-icon>add</mat-icon>\n              </button>\n              <button mat-mini-fab class=\"thrust-button\" (click)=\"decreaseThrust()\" [disabled]=\"thrust <= 0\">\n                <mat-icon>remove</mat-icon>\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"control-section\">\n          <label>Gear: {{gear}}</label>\n          <div class=\"button-group\">\n            <button class=\"gear-button\" \n                    mat-raised-button \n                    [ngClass]=\"{'green-gear-button': gear === 'forward'}\" \n                    (click)=\"setGear('forward')\">Forward</button>\n            <button class=\"gear-button\" \n                    mat-raised-button \n                    [ngClass]=\"{'green-gear-button': gear === 'neutral'}\" \n                    (click)=\"setGear('neutral')\">Neutral</button>\n            <button class=\"gear-button\" \n                    mat-raised-button \n                    [ngClass]=\"{'green-gear-button': gear === 'reverse'}\" \n                    (click)=\"setGear('reverse')\">Reverse</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    /* Sidebar layout styles */\n    :host {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      background-color: #2a3f55;\n      color: white;\n    }\n    \n    .remote-control-sidebar {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      background-color: #2a3f55;\n      color: white;\n    }\n    \n    .sidebar-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 15px;\n      background-color: #1e2d3e;\n      border-bottom: 1px solid #3a536c;\n    }\n    \n    .sidebar-header .title {\n      font-size: 16pt;\n      font-weight: 500;\n    }\n    \n    /* Navigation data section */\n    .nav-data-section {\n      padding: 10px;\n      border-bottom: 1px solid #3a536c;\n    }\n    \n    .nav-data-header {\n      font-size: 14pt;\n      font-weight: 500;\n      margin-bottom: 10px;\n      text-align: center;\n    }\n    \n    .navigation-data {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n    \n    .nav-data-row {\n      display: flex;\n      justify-content: space-around;\n      flex-wrap: wrap;\n    }\n    \n    /* Control panel section */\n    .control-panel {\n      flex: 1;\n      padding: 15px;\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n      overflow-y: auto;\n    }\n    \n    .control-section {\n      background-color: #345270;\n      padding: 15px;\n      border-radius: 8px;\n      border: 1px solid #456789;\n    }\n    \n    label {\n      display: block;\n      margin-bottom: 10px;\n      font-weight: bold;\n      color: #ddd;\n      text-transform: uppercase;\n      font-size: 14px;\n      text-align: center;\n    }\n    \n    .horizontal-slider-container {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n    }\n    \n    .thrust-control-container {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      gap: 15px;\n    }\n    \n    .vertical-slider-container {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      height: 150px;\n    }\n    \n    .thrust-buttons {\n      display: flex;\n      flex-direction: column;\n      gap: 15px;\n    }\n    \n    .thrust-button {\n      background-color: #1e2d3e;\n      color: white;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n      width: 36px;\n      height: 36px;\n    }\n    \n    .limit-label {\n      color: #aaa;\n      font-size: 12px;\n    }\n    \n    .slider {\n      -webkit-appearance: none;\n      background: #1e2d3e;\n      outline: none;\n      border-radius: 15px;\n      border: 1px solid #456789;\n    }\n    \n    .slider.horizontal {\n      width: 100%;\n      height: 20px;\n    }\n    \n    .slider.vertical {\n      -webkit-appearance: slider-vertical;\n      width: 20px;\n      height: 100px;\n      margin: 10px 0;\n    }\n    \n    .slider::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      width: 25px;\n      height: 25px;\n      background: #f0f0f0;\n      border-radius: 50%;\n      border: 2px solid #1976d2;\n      cursor: pointer;\n    }\n    \n    .gear-button {\n      margin: 5px;\n      width: 100%;\n    }\n    \n    .button-group {\n      display: flex;\n      flex-direction: column;\n    }\n    \n    /* Green button style for selected gear */\n    .green-gear-button {\n      background-color: #4CAF50 !important;\n      color: white !important;\n      border-color: #4CAF50 !important;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;\n    }\n    \n    .green-gear-button:hover {\n      background-color: #45a049 !important;\n      color: white !important;\n    }\n    \n    /* Override Angular Material styles with higher specificity */\n    .control-section .button-group button.gear-button.green-gear-button {\n      background-color: #4CAF50 !important;\n      color: white !important;\n    }\n  `]\n})\nexport class RemoteControlComponent {\n  @Input() navData: any;\n  @Output() closed = new EventEmitter<void>();\n\n  rudder = 0;   // Degrees, -30 to +30\n  thrust = 0;   // 0% to 100%\n  gear: 'forward' | 'neutral' | 'reverse' = 'neutral';\n\n  constructor(\n    public app: AppFacade\n  ) {}\n\n  sendRudderCommand(value: number) {\n    console.log(`Sending rudder command: ${value}`);\n    if (\n      this.app.data.moosIvPServer &&\n      this.app.data.moosIvPServer.socket &&\n      this.app.data.moosIvPServer.socket.readyState === WebSocket.OPEN\n    ) {\n      this.app.data.moosIvPServer.socket.send(`DESIRED_RUDDER=${value}`);\n    }\n  }\n\n  sendThrustCommand(value: number) {\n    console.log(`Sending thrust command: ${value}`);\n    if (\n      this.app.data.moosIvPServer &&\n      this.app.data.moosIvPServer.socket &&\n      this.app.data.moosIvPServer.socket.readyState === WebSocket.OPEN\n    ) {\n      this.app.data.moosIvPServer.socket.send(`DESIRED_THRUST=${value}`);\n    }\n  }\n\n  setGear(value: 'forward' | 'neutral' | 'reverse') {\n    console.log(`Setting gear to: ${value}`);\n    this.gear = value;\n    \n    // Convert gear to numeric value for MOOS-IvP\n    let gearValue = 0; // neutral\n    if (value === 'forward') gearValue = 1;\n    if (value === 'reverse') gearValue = -1;\n    \n    if (\n      this.app.data.moosIvPServer &&\n      this.app.data.moosIvPServer.socket &&\n      this.app.data.moosIvPServer.socket.readyState === WebSocket.OPEN\n    ) {\n      this.app.data.moosIvPServer.socket.send(`DESIRED_GEAR=${gearValue}`);\n    }\n  }\n\n  increaseThrust() {\n    if (this.thrust < 100) {\n      this.thrust += 1;\n      this.sendThrustCommand(this.thrust);\n    }\n  }\n\n  decreaseThrust() {\n    if (this.thrust > 0) {\n      this.thrust -= 1;\n      this.sendThrustCommand(this.thrust);\n    }\n  }\n\n  // Format position for display\n  formatPosition(position: any): string {\n    if (!position || !position[0] || !position[1]) {\n      return '--';\n    }\n    // Format as simple lat/lon\n    const lat = Math.abs(position[1]).toFixed(4) + (position[1] >= 0 ? 'N' : 'S');\n    const lon = Math.abs(position[0]).toFixed(4) + (position[0] >= 0 ? 'E' : 'W');\n    return `${lat} ${lon}`;\n  }\n\n  closePanel() {\n    console.log(\"Closing remote control panel\");\n    \n    // Send CONTROLE_MANUAL=false when closing the panel\n    if (\n      this.app.data.moosIvPServer &&\n      this.app.data.moosIvPServer.socket &&\n      this.app.data.moosIvPServer.socket.readyState === WebSocket.OPEN\n    ) {\n      console.log(\"Sending CONTROLE_MANUAL=false to MOOS-IvP\");\n      this.app.data.moosIvPServer.socket.send(\"CONTROLE_MANUAL=false\");\n    }\n    \n    // Also update the button state\n    this.app.config.selections.remoteControl = false;\n    this.app.saveConfig();\n    \n    // Emit close event to parent\n    this.closed.emit();\n  }\n}","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, Stroke } from 'ol/style';\nimport { LineString } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { AISBaseLayerComponent } from './ais-base.component';\nimport { GeoUtils } from 'src/app/lib/geoutils';\nimport { SKVessel } from 'src/app/modules/skresources';\n\n// ** Signal K AIS Vessel Wind vector  **\n@Component({\n  selector: 'ol-map > sk-ais-wind',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class AISWindLayerComponent extends AISBaseLayerComponent {\n  @Input() vectorApparent = false;\n\n  protected zoomOffsetLevel = [\n    1, 1000000, 550000, 290000, 140000, 70000, 38000, 17000, 7600, 3900, 1900,\n    950, 470, 250, 120, 60, 30, 15.5, 8.1, 4, 2, 1, 0.5, 0.25, 0.12, 0.06, 0.03,\n    0.015, 0.008, 1\n  ];\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n    if ('vectorApparent' in changes) {\n      this.onUpdateTargets(this.extractKeys(this.targets));\n    }\n  }\n\n  calcVector(target: SKVessel) {\n    const windDirection = this.vectorApparent\n      ? typeof target.wind.awa !== 'undefined'\n        ? target.orientation + target.wind.awa\n        : null\n      : target.wind.direction;\n\n    if (typeof windDirection !== 'number') {\n      return [];\n    }\n\n    const windc = GeoUtils.destCoordinate(\n      target.position,\n      windDirection,\n      this.zoomOffsetLevel[Math.floor(this.mapZoom)]\n    );\n    return [fromLonLat(target.position), fromLonLat(windc)];\n  }\n\n  // add new wind vector feature\n  addWindVectorWithId(id: string) {\n    if (!id.includes(this.targetContext) || !this.targets.has(id)) {\n      return;\n    }\n    const target = this.targets.get(id) as SKVessel;\n    if (this.okToRenderTarget(id) && target.position) {\n      const v = this.calcVector(target);\n      if (v.length !== 2) {\n        return;\n      }\n      const f = new Feature(new LineString(v));\n      f.setId('wind-' + id);\n      f.setStyle(this.buildVectorStyle());\n      this.source?.addFeature(f);\n    }\n  }\n\n  // build wind vector style\n  buildVectorStyle(): Style {\n    const color = this.vectorApparent ? '16, 75, 16' : '128, 128, 0';\n    return new Style({\n      stroke: new Stroke({\n        width: 2,\n        color: `rgba(${color},1)`\n      })\n    });\n  }\n\n  // reload all Features from this.targets\n  override onReloadTargets() {\n    this.extractKeys(this.targets).forEach((id) => {\n      this.addWindVectorWithId(id);\n    });\n  }\n\n  // update wind vector feature when target updated\n  override onUpdateTargets(ids: Array<string>) {\n    ids.forEach((id: string) => {\n      if (id.includes(this.targetContext)) {\n        const f = this.source?.getFeatureById('wind-' + id) as Feature;\n        if (this.okToRenderTarget(id)) {\n          if (this.targets.has(id)) {\n            if (f) {\n              const target = this.targets.get(id) as SKVessel;\n              const position = this.targets.get(id).position;\n              const v = this.calcVector(target);\n              if (position && v.length === 2) {\n                f.setGeometry(new LineString(v));\n              }\n              f.setStyle(this.buildVectorStyle());\n            } else {\n              this.addWindVectorWithId(id);\n            }\n          }\n        } else {\n          this.source.removeFeature(f);\n        }\n      }\n    });\n  }\n\n  // remove flag when target removed\n  override onRemoveTargets(ids: Array<string>) {\n    ids.forEach((id) => {\n      const f = this.source.getFeatureById('wind-' + id) as Feature;\n      if (f) {\n        this.source.removeFeature(f);\n      }\n    });\n  }\n}\n","/** Text Dial Component **\n ************************/\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  SimpleChanges\n} from '@angular/core';\n\n/*********** Text Dial ***************\ntitle: \"<string>\" title text,\nvalue: \"<string>\" display value,\nunits: \"<string>\" dsisplay units,\n***********************************/\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'ap-dial-text',\n  imports: [],\n  template: `\n    <div class=\"dial-text mat-app-background\">\n      <div class=\"dial-text-title\">{{ title }}</div>\n      <div class=\"dial-text-value\">{{ value }}</div>\n      <div class=\"dial-text-units\">{{ units }}</div>\n    </div>\n  `,\n  styleUrls: ['./dial-text.css']\n})\nexport class TextDialComponent {\n  @Input() title: string;\n  @Input() value: string;\n  @Input() units: string;\n}\n\n/*********** TTG Text Dial ***************\nvalue: \"<number>\" TTG value in minutes\n***********************************/\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'ap-dial-ttg',\n  imports: [],\n  template: `\n    <div class=\"dial-text mat-app-background\">\n      <div class=\"dial-text-title\">TTG</div>\n      <div class=\"dial-text-value\">{{ ttg }}</div>\n      <div class=\"dial-text-units\">{{ units }}</div>\n    </div>\n  `,\n  styleUrls: ['./dial-text.css']\n})\nexport class TTGDialComponent {\n  @Input() value: number;\n  protected ttg: string = '--';\n  protected units: string = 'min';\n\n  ngOnChanges(changes: SimpleChanges) {\n    const cv = changes.value.currentValue;\n    if (typeof cv !== 'number') {\n      this.ttg = '--';\n      this.units = 'min';\n    } else if (cv < 60) {\n      this.ttg = Math.floor(cv).toString();\n      this.units = 'min';\n    } else if (cv < 60 * 24) {\n      this.ttg = `${Math.floor(cv / 60)}:${(cv % 60).toFixed(0)}`;\n      this.units = 'hr:min';\n    } else {\n      const minPerDay = 60 * 24;\n      const days = Math.floor(cv / minPerDay);\n      const dm = days * minPerDay;\n      const rhm = cv - dm;\n      const hours = Math.floor(rhm / 60);\n      const minutes = `00${Math.floor(rhm - hours * 60)}`.slice(-2);\n      this.ttg = `${days}:${('00' + hours).slice(-2)}:${minutes}`;\n      this.units = 'day:hr:min';\n    }\n  }\n}\n\n/*********** ETA Text Dial ***************\nvalue: \"<Date>\" ETA date\n***********************************/\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'ap-dial-eta',\n  imports: [],\n  template: `\n    <div class=\"dial-text mat-app-background\">\n      <div class=\"dial-text-title\">ETA</div>\n      <div class=\"dial-text-value\">{{ etaTime }}</div>\n      <div class=\"dial-text-units\">{{ etaDate }}</div>\n    </div>\n  `,\n  styleUrls: ['./dial-text.css']\n})\nexport class ETADialComponent {\n  @Input() value: Date;\n  protected etaTime: string = '--';\n  protected etaDate: string = '--';\n\n  ngOnChanges(changes: SimpleChanges) {\n    const cv = changes.value.currentValue;\n    this.etaTime = cv.toLocaleTimeString().split(':').slice(0, 2).join(':');\n    this.etaDate = cv.toLocaleDateString();\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatListModule } from '@angular/material/list';\nimport { CommonModule } from '@angular/common';\n\n/********* ErrorListDialog ************\n\tdata: {\n      errorList: \"<ErrorList>\" text to display,\n      buttonText\"<string>\" button text,\n  }\n***********************************/\n@Component({\n  selector: 'ap-errorlistdialog',\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    MatIconModule,\n    MatButtonModule,\n    MatListModule\n  ],\n  template: `\n    <div class=\"_ap-errlist\">\n      <div>\n        <h1 mat-dialog-title>\n          <mat-icon style=\"color: orange;\">warning</mat-icon>\n          &nbsp;{{ data.errorList?.length }} Errors Encountered\n        </h1>\n      </div>\n      <mat-dialog-content>\n        <mat-list role=\"list\">\n          @for(err of data.errorList; track err) {\n          <mat-list-item>\n            <span matListItemTitle>{{ err.message }}</span>\n            <span matListItemLine>Status: {{ err.status }}</span>\n          </mat-list-item>\n          }\n        </mat-list>\n      </mat-dialog-content>\n      <mat-dialog-actions align=\"center\">\n        <button mat-raised-button (click)=\"dialogRef.close(true)\">\n          {{ data.buttonText }}\n        </button>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-errlist {\n        min-width: 150px;\n      }\n    `\n  ],\n  standalone: true\n})\nexport class ErrorListDialog {\n  public image = null;\n\n  constructor(\n    public dialogRef: MatDialogRef<ErrorListDialog>,\n    @Inject(MAT_DIALOG_DATA) public data\n  ) {}\n\n  //** lifecycle: events **\n  ngOnInit() {\n    this.data.buttonText = this.data.buttonText || 'OK';\n  }\n}\n","/** Dialog Components **\n ************************/\n\nimport { Component, OnInit, Inject, ViewChild } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MAT_SNACK_BAR_DATA } from '@angular/material/snack-bar';\n\n/*********** MsgBox ***************\n\tdata: {\n        message: \"<string>\" text to display,\n        title: \"<string>\" title text,\n        buttonText\"<string>\" button text\n    }\n***********************************/\n@Component({\n  selector: 'ap-msgbox',\n  template: `\n    <div class=\"_ap-msgbox\">\n      <div>\n        <h1 mat-dialog-title>{{ data.title }}</h1>\n      </div>\n      <mat-dialog-content>\n        @for(line of msglines; track line) {\n        <div>\n          <div>{{ line }}&nbsp;</div>\n        </div>\n        }\n      </mat-dialog-content>\n      <mat-dialog-actions align=\"center\">\n        <button mat-raised-button (click)=\"dialogRef.close(true)\">\n          {{ data.buttonText }}\n        </button>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-msgbox {\n        font-family: Roboto;\n        min-width: 150px;\n      }\n    `\n  ],\n  standalone: false\n})\nexport class MsgBox implements OnInit {\n  public msglines = [];\n\n  constructor(\n    public dialogRef: MatDialogRef<MsgBox>,\n    @Inject(MAT_DIALOG_DATA) public data\n  ) {}\n\n  //** lifecycle: events **\n  ngOnInit() {\n    this.data.buttonText = this.data.buttonText || 'OK';\n    this.msglines = this.data.message.split('\\n');\n  }\n}\n\n/********* AlertDialog ************\n\tdata: {\n      message: \"<string>\" text to display,\n      title: \"<string>\" title text,\n      buttonText\"<string>\" button text,\n  }\n***********************************/\n@Component({\n  selector: 'ap-alertdialog',\n  template: `\n    <div class=\"_ap-alert\">\n      <div>\n        <h1 mat-dialog-title>\n          <mat-icon style=\"color: orange;\">warning</mat-icon>\n          &nbsp;{{ data.title }}\n        </h1>\n      </div>\n      <mat-dialog-content>\n        <div style=\"display:flex;\">\n          <div style=\"padding-left: 10px;\">\n            @for(line of msglines; track line) {\n            <div>\n              <div>{{ line }}&nbsp;</div>\n            </div>\n            }\n          </div>\n        </div>\n      </mat-dialog-content>\n      <mat-dialog-actions align=\"center\">\n        <button mat-raised-button (click)=\"dialogRef.close(true)\">\n          {{ data.buttonText }}\n        </button>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-alert {\n        min-width: 150px;\n      }\n    `\n  ],\n  standalone: false\n})\nexport class AlertDialog implements OnInit {\n  public msglines = [];\n  public image = null;\n\n  constructor(\n    public dialogRef: MatDialogRef<AlertDialog>,\n    @Inject(MAT_DIALOG_DATA) public data\n  ) {}\n\n  //** lifecycle: events **\n  ngOnInit() {\n    this.data.buttonText = this.data.buttonText || 'OK';\n    this.msglines = this.data.message.split('\\n');\n  }\n}\n\n/********* ConfirmDialog **********\n\tdata: {\n        message: \"<string>\" text to display,\n        title: \"<string>\" title text,\n        checkText: string text for check box\n        button1Text\"<string>\" button 1 text,\n        button2Text\"<string>\" button 2 text\n    }\n***********************************/\n@Component({\n  selector: 'ap-confirmdialog',\n  template: `\n    <div class=\"_ap-confirm\">\n      <div>\n        <h1 mat-dialog-title>\n          <mat-icon style=\"color:orange;\">help</mat-icon>\n          &nbsp;{{ data.title }}\n        </h1>\n      </div>\n      <mat-dialog-content style=\"overflow:unset\">\n        <div style=\"display:flex;\">\n          <div style=\"padding-left: 10px;\">\n            @for(line of msglines; track line) {\n            <div>\n              <div>{{ line }}&nbsp;</div>\n            </div>\n            }\n          </div>\n        </div>\n        <div style=\"display:flex;\">\n          @if(data.checkText) {\n          <div style=\"padding-left: 10px;\">\n            <div style=\"font-weight: 500;\">\n              <mat-checkbox (change)=\"checked = $event.checked\">\n                {{ data.checkText }}&nbsp;\n              </mat-checkbox>\n            </div>\n          </div>\n          }\n        </div>\n      </mat-dialog-content>\n      <mat-dialog-actions align=\"center\">\n        <button\n          mat-raised-button\n          (click)=\"dialogRef.close({ ok: true, checked: checked })\"\n        >\n          {{ data.button1Text }}\n        </button>\n        <button mat-raised-button (click)=\"dialogRef.close(null)\">\n          {{ data.button2Text }}\n        </button>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-confirm {\n        font-family: Roboto;\n        min-width: 150px;\n      }\n    `\n  ],\n  standalone: false\n})\nexport class ConfirmDialog implements OnInit {\n  public msglines = [];\n  public checked = false;\n\n  constructor(\n    public dialogRef: MatDialogRef<ConfirmDialog>,\n    @Inject(MAT_DIALOG_DATA) public data\n  ) {}\n\n  //** lifecycle: events **\n  ngOnInit() {\n    this.data.button1Text = this.data.button1Text || 'Yes';\n    this.data.button2Text = this.data.button2Text || 'No';\n    this.msglines = this.data.message.split('\\n');\n  }\n}\n\n/********* AboutDialog ****************\n    data: {\n        name: this.app.name,  \n        version: this.app.version, \n        description: this.app.description, \n        logo: this.app.logo,  \n        url: this.app.url\n    }\n***************************************/\n@Component({\n  selector: 'ap-about-dialog',\n  template: `\n    <div>\n      <h1 mat-dialog-title><mat-icon>info</mat-icon>&nbsp;About</h1>\n      <mat-dialog-content>\n        <div class=\"about-row\">\n          <div class=\"item\"><img [src]=\"data.logo\" /></div>\n          <div class=\"item\">\n            <span style=\"font-weight:bold;\">{{ data.name }}</span\n            >&nbsp;&nbsp;<br />\n            <span class=\"description\">\n              {{ data.description }}\n            </span>\n            <br />\n            <span>Version: {{ data.version }}</span>\n            <br /><br />\n          </div>\n        </div>\n      </mat-dialog-content>\n      <mat-dialog-actions align=\"center\">\n        @if(data.url) {\n        <a mat-button [href]=\"data.url\" target=\"_web\" rel=\"noopener\"\n          >Visit Website</a\n        >\n        &nbsp; }\n        <button mat-raised-button (click)=\"dialogRef.close(false)\">\n          Close\n        </button>\n      </mat-dialog-actions>\n    </div>\n  `,\n  styles: [\n    `\n      .about-row {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        justify-content: flex-start;\n        align-content: stretch;\n        font-family: roboto;\n      }\n      .about-row .item {\n        padding-left: 10px;\n      }\n      .about-row img {\n        width: 42px;\n      }\n      .about-row .description {\n        font-size: 12pt;\n      }\n    `\n  ],\n  standalone: false\n})\nexport class AboutDialog {\n  constructor(\n    public dialogRef: MatDialogRef<AboutDialog>,\n    @Inject(MAT_DIALOG_DATA) public data\n  ) {}\n}\n\n/********* LoginDialog ****************\n    data: {\n        message: '',  \n        button1Text: 'Log in', \n        button2Text: 'Cancel'\n    }\n***************************************/\n@Component({\n  selector: 'ap-login-dialog',\n  styles: [],\n  template: `\n    <mat-dialog-content>\n      <mat-card>\n        <mat-card-title-group>\n          <mat-icon>account_circle</mat-icon>\n          <mat-card-title>Sign-In</mat-card-title>\n          <mat-card-subtitle>{{ data.message }}</mat-card-subtitle>\n        </mat-card-title-group>\n        <mat-card-content>\n          <mat-form-field hintLabel=\"User name:\">\n            <input\n              matInput\n              type=\"text\"\n              value=\"\"\n              #username\n              (keyup)=\"keyUp($event, username, password)\"\n              style=\"width:110px;\"\n              (focus)=\"handleFocus($event)\"\n            /> </mat-form-field\n          ><br />\n          <mat-form-field hintLabel=\"Password:\">\n            <input\n              matInput\n              type=\"password\"\n              value=\"\"\n              #password\n              (keyup)=\"keyUp($event, username, password)\"\n              style=\"width:110px;\"\n              (focus)=\"handleFocus($event)\"\n            />\n          </mat-form-field>\n        </mat-card-content>\n        <mat-card-actions align=\"end\">\n          <button\n            default\n            mat-raised-button\n            [disabled]=\"username.value.length === 0\"\n            (click)=\"login(username.value, password.value)\"\n          >\n            {{ data.button1Text }}\n          </button>\n          &nbsp;&nbsp;\n          <button default mat-raised-button (click)=\"cancel()\">\n            {{ data.button2Text }}\n          </button>\n        </mat-card-actions>\n      </mat-card>\n    </mat-dialog-content>\n  `,\n  standalone: false\n})\nexport class LoginDialog implements OnInit {\n  @ViewChild('username', { static: false }) username;\n\n  public imgSource = 'assets/img/success.png';\n  private result = {\n    cancel: false,\n    user: null,\n    pwd: null\n  };\n\n  constructor(\n    public dialogRef: MatDialogRef<LoginDialog>,\n    @Inject(MAT_DIALOG_DATA) public data\n  ) {}\n\n  ngOnInit() {\n    this.data.message = this.data.message || '';\n    this.data.button1Text = this.data.button1Text || 'Log in';\n    this.data.button2Text = this.data.button2Text || 'Cancel';\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => this.username.nativeElement.focus(), 500);\n  }\n\n  keyUp(e, u, p) {\n    if (e.key === 'Enter') {\n      this.login(u.value, p.value);\n    }\n  }\n\n  handleFocus(e) {\n    e.currentTarget.select(0, e.currentTarget.value.length);\n  }\n\n  // ** cancelled login\n  cancel() {\n    this.result.cancel = true;\n    this.dialogRef.close(this.result);\n  }\n\n  //** submit log in\n  login(user = '', password = '') {\n    this.result.cancel = false;\n    this.result.user = user;\n    this.result.pwd = password;\n    this.dialogRef.close(this.result);\n  }\n}\n\n/********* MessageBarComponent ****************\n    data: {\n        message: '',  \n        sound: boolean\n    }\n***************************************/\n@Component({\n  selector: 'message-bar',\n  template: `\n    <div class=\"message-bar\">\n      <mat-icon>message</mat-icon>&nbsp;&nbsp;\n      {{ data.message }}\n    </div>\n    @if(data.sound) {\n    <audio src=\"./assets/sound/ding.mp3\" [autoplay]=\"true\"></audio>\n    }\n  `,\n  styles: [\n    `\n      .message-bar {\n        font-family: roboto;\n      }\n    `\n  ],\n  standalone: false\n})\nexport class MessageBarComponent {\n  constructor(@Inject(MAT_SNACK_BAR_DATA) public data) {}\n}\n\n/********* WelcomeDialog ****************\n    data: { \n        buttonText: string,\n        content: []\n    }\n***************************************/\n@Component({\n  selector: 'ap-welcome-dialog',\n  template: `\n    <mat-dialog-content>\n      <div class=\"welcome\">\n        <mat-horizontal-stepper [linear]=\"false\" #stepper>\n          @for(c of data.content; track c; let i = $index) {\n          <mat-step>\n            <div style=\"text-align:center;\">\n              <h3>{{ c.title }}</h3>\n            </div>\n            <div style=\"display:flex;\">\n              <div style=\"min-width:50px;text-align:left;padding-top: 15%;\">\n                @if(i !== 0 && data.content.length > 1) {\n                <button\n                  mat-icon-button\n                  (click)=\"currentPage = currentPage - 1\"\n                  matStepperPrevious\n                >\n                  <mat-icon>keyboard_arrow_left</mat-icon>\n                </button>\n                }\n              </div>\n              <div style=\"flex: 1 1 auto;\" [innerHTML]=\"c.message\"></div>\n              <div style=\"min-width:50px;text-align:right;padding-top: 15%;\">\n                @if(i !== data.content.length - 1) {\n                <button\n                  mat-icon-button\n                  (click)=\"currentPage = currentPage + 1\"\n                  matStepperNext\n                >\n                  <mat-icon>keyboard_arrow_right</mat-icon>\n                </button>\n                }\n              </div>\n            </div>\n          </mat-step>\n          }\n        </mat-horizontal-stepper>\n        <div style=\"text-align:center;font-size:10pt;font-family:roboto;\">\n          @for(c of data.content; track c; let i = $index) {\n          <mat-icon\n            [ngClass]=\"{\n              'step-current': currentPage - 1 === i,\n              'step-other': currentPage - 1 !== i\n            }\"\n            style=\"font-size:8pt;width:12px;\"\n          >\n            fiber_manual_record\n          </mat-icon>\n          }\n        </div>\n        <div style=\"text-align:center;\">\n          <button mat-raised-button (click)=\"dialogRef.close(data.showPrefs)\">\n            {{ data.buttonText }}\n          </button>\n          <br />&nbsp;\n        </div>\n      </div>\n    </mat-dialog-content>\n  `,\n  styles: [\n    `\n      .welcome h1 {\n        font-weight: normal !important;\n      }\n      .welcome h3 {\n        font-weight: 500;\n      }\n      .welcome-row {\n        display: -webkit-box;\n        display: -moz-box;\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        justify-content: flex-start;\n        align-content: stretch;\n        font-family: roboto, Arial, Helvetica, sans-serif;\n      }\n      .welcome-row .item.stretch {\n        text-align: center;\n        width: 100%;\n      }\n      .welcome-row .item {\n        padding-left: 5px;\n      }\n      .welcome-row img {\n        width: 42px;\n      }\n      .welcome-row .description {\n        font-size: 12pt;\n      }\n    `\n  ],\n  standalone: false\n})\nexport class WelcomeDialog {\n  public currentPage = 1;\n\n  constructor(\n    public dialogRef: MatDialogRef<WelcomeDialog>,\n    @Inject(MAT_DIALOG_DATA) public data\n  ) {}\n\n  ngAfterViewInit() {\n    const sh = document.getElementsByClassName(\n      'mat-horizontal-stepper-header-container'\n    );\n    if (sh) {\n      sh[0]['style']['display'] = 'none';\n    }\n  }\n}\n","/** Notes Dialog Component **\n ********************************/\n\nimport { Component, OnInit, Inject } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport {\n  MatDialogModule,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\nimport {\n  AngularEditorModule,\n  AngularEditorConfig\n} from '@kolkov/angular-editor';\nimport { AddTargetPipe } from './safe.pipe';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { AppIconDef, getResourceIcon } from 'src/app/modules/icons';\n\n/********* NoteDialog **********\n\tdata: {\n        note: <SKNote>\n    }\n***********************************/\n@Component({\n  selector: 'ap-notedialog',\n  imports: [\n    FormsModule,\n    MatCardModule,\n    MatDialogModule,\n    MatButtonModule,\n    MatIconModule,\n    MatTooltipModule,\n    MatSlideToggleModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatToolbarModule,\n    AngularEditorModule,\n    PipesModule,\n    AddTargetPipe\n  ],\n  templateUrl: `note-dialog.html`,\n  styleUrls: ['notes.css']\n})\nexport class NoteDialog implements OnInit {\n  private editorHiddenButtons = [\n    [\n      //'undo',\n      //'redo',\n      //'bold',\n      //'italic',\n      //'underline',\n      'strikeThrough',\n      'subscript',\n      'superscript',\n      'justifyLeft',\n      'justifyCenter',\n      'justifyRight',\n      'justifyFull',\n      'indent',\n      'outdent',\n      'insertUnorderedList',\n      'insertOrderedList',\n      'heading',\n      'fontName'\n    ],\n    [\n      'fontSize',\n      //'textColor',\n      'backgroundColor',\n      'customClasses',\n      'link',\n      'unlink',\n      'insertImage',\n      'insertVideo',\n      'insertHorizontalRule',\n      'removeFormat',\n      'toggleEditorMode'\n    ]\n  ];\n\n  public editorConfig: AngularEditorConfig = {\n    editable: true,\n    spellcheck: false,\n    height: 'auto',\n    minHeight: '150',\n    maxHeight: 'auto',\n    width: 'auto',\n    minWidth: '0',\n    translate: 'no',\n    enableToolbar: true,\n    showToolbar: true,\n    placeholder: 'Enter text here...',\n    defaultParagraphSeparator: '',\n    defaultFontName: '',\n    defaultFontSize: '',\n    fonts: [{ class: 'roboto', name: 'Default' }],\n    customClasses: [],\n    sanitize: true,\n    toolbarPosition: 'top',\n    toolbarHiddenButtons: this.editorHiddenButtons\n  };\n\n  protected icon: AppIconDef;\n\n  constructor(\n    protected app: AppFacade,\n    protected dialogRef: MatDialogRef<NoteDialog>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  ngOnInit() {\n    if (!this.data.note.properties) {\n      this.data.note.properties = {};\n    }\n    if (typeof this.data.note.description === 'undefined') {\n      this.data.note.description = '';\n    }\n    if (this.data.note.properties.readOnly) {\n      this.data.editable = false;\n    }\n    this.icon = getResourceIcon('notes', this.data.note);\n  }\n\n  openNoteUrl() {\n    window.open(this.data.note.url, '_notes');\n  }\n}\n","<style>\n  .ap-confirm-icon {\n    min-width: 35px;\n    max-width: 35px;\n    text-align: left;\n  }\n\n  .mat-form-field {\n    width: 100%;\n  }\n  .nosmall {\n    display: none;\n  }\n  :host ::ng-deep .ck.ck-editor__main > .ck-editor__editable {\n    color: black;\n  }\n  @media only screen and (min-width: 600px) {\n    .ap-confirm-icon {\n      min-width: 25%;\n      max-width: 25%;\n    }\n\n    .nosmall {\n      display: flex;\n    }\n    .nosmall.block {\n      display: block;\n    }\n\n    .note-details {\n      min-width: 400px;\n    }\n  }\n</style>\n\n@if(!data.editable) {\n<div class=\"note-details\">\n  <mat-toolbar style=\"background-color: transparent\">\n    <span class=\"dialog-icon\">\n      <mat-icon [class]=\"icon.class\" [svgIcon]=\"icon.svgIcon\"\n        >{{icon.name}}</mat-icon\n      >\n    </span>\n    <span style=\"flex: 1 1 auto; text-align: center\">Note Details</span>\n    <span style=\"text-align: right\">\n      <button mat-icon-button (click)=\"dialogRef.close({result:false})\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </span>\n  </mat-toolbar>\n  <mat-dialog-content>\n    <mat-card appearance=\"outlined\">\n      <mat-card-content>\n        @if(data.note.properties.draft) {\n        <p class=\"draft-watermark\">Draft</p>\n        }\n        <div style=\"display: flex; flex-direction: column\">\n          <div style=\"padding-bottom: 5px; display: flex\">\n            <div style=\"font-weight: bold; vertical-align: top\">Name:</div>\n            <div style=\"padding-left: 10px\">{{data.note?.name}}</div>\n          </div>\n          @if(data.note.group) {\n          <div style=\"padding-bottom: 5px; display: flex\">\n            <div style=\"font-weight: bold; vertical-align: top\">Group:</div>\n            <div style=\"padding-left: 10px; flex: 1 1 auto\">\n              {{data.note?.group}}\n            </div>\n            @if(data.note.group && app.config.resources.notes.groupNameEdit) {\n            <div>\n              <button\n                mat-button\n                (click)=\"dialogRef.close({result:true, data: 'group', value: data.note.group})\"\n                matTooltip=\"View Group Notes\"\n              >\n                <mat-icon>style</mat-icon>\n              </button>\n            </div>\n            }\n          </div>\n          }\n          <div style=\"flex: 1 1 auto; padding: 5px 0 5px 0\">\n            <div style=\"font-weight: bold; vertical-align: top\">\n              Description:\n            </div>\n            <div\n              class=\"note-description\"\n              style=\"overflow-y: auto; height: 150px\"\n              target=\"notelink\"\n              [innerHTML]=\"data.note.description | addTarget: '_notes'\"\n            ></div>\n          </div>\n        </div>\n      </mat-card-content>\n      @if(data.note.url || !data.note.properties.readOnly){\n      <mat-card-actions>\n        <div style=\"display: flex; width: 100%\">\n          <div>\n            @if(data.note.url) {\n            <button\n              mat-icon-button\n              (click)=\"openNoteUrl()\"\n              matTooltip=\"Open Note link in browser window\"\n            >\n              <mat-icon>open_in_new</mat-icon>\n            </button>\n            &nbsp; } @if(!data.note.properties.readOnly) {\n            <button\n              mat-icon-button\n              (click)=\"dialogRef.close({result:true, data: 'edit'})\"\n              matTooltip=\"Edit Note\"\n            >\n              <mat-icon>edit</mat-icon>\n            </button>\n            &nbsp;\n            <button\n              mat-icon-button\n              (click)=\"dialogRef.close({result:true, data: 'delete'})\"\n              matTooltip=\"Delete Note\"\n            >\n              <mat-icon>delete</mat-icon>\n            </button>\n            }\n          </div>\n          @if(data.note.position) {\n          <div\n            class=\"nosmall block\"\n            style=\"flex: 1; font-size: 10pt; padding: 0 0 0 10px\"\n          >\n            <span style=\"font-weight: bold\">Lat:</span>&nbsp;\n            {{data.note?.position?.latitude | coords :\n            app.config.selections.positionFormat : true}}\n\n            <br />\n            <span>\n              <span style=\"font-weight: bold\">Lon:</span>&nbsp;\n              {{data.note?.position?.longitude | coords :\n              app.config.selections.positionFormat : false}}\n            </span>\n          </div>\n          }\n        </div>\n      </mat-card-actions>\n      }\n    </mat-card>\n  </mat-dialog-content>\n</div>\n} @else {\n<div>\n  <mat-toolbar style=\"background-color: transparent\">\n    <span style=\"flex: 1 1 auto; text-align: center\"\n      >{{(!data.title) ? (data.addMode) ? 'New Note' : 'Edit Note' :\n      data.title}}</span\n    >\n  </mat-toolbar>\n  <mat-dialog-content>\n    <div class=\"note-details\" style=\"display: flex\">\n      <div style=\"flex: 1 1 auto\">\n        <div>\n          <mat-form-field floatLabel=\"always\" style=\"width: 100%\">\n            <mat-label>Note name</mat-label>\n            <input\n              matInput\n              #inptitle=\"ngModel\"\n              type=\"text\"\n              required\n              [disabled]=\"false\"\n              [(ngModel)]=\"data.note.name\"\n            />\n            @if(inptitle.invalid && (inptitle.dirty || inptitle.touched)) {\n            <mat-error> Please enter a title for the note </mat-error>\n            }\n          </mat-form-field>\n        </div>\n        @if(app.config.resources.notes.groupNameEdit) {\n        <div>\n          <mat-form-field floatLabel=\"always\">\n            <mat-label>Group Name</mat-label>\n            <input\n              matInput\n              #inpgroup=\"ngModel\"\n              type=\"text\"\n              [(ngModel)]=\"data.note.group\"\n            />\n          </mat-form-field>\n        </div>\n        }\n        <div class=\"note-editor\">\n          @defer{\n          <angular-editor\n            height\n            [config]=\"editorConfig\"\n            [placeholder]=\"'Add note text here.'\"\n            [(ngModel)]=\"data.note.description\"\n          >\n          </angular-editor>\n          }\n        </div>\n\n        <div>\n          <mat-form-field floatLabel=\"always\" style=\"width: 100%\">\n            <mat-label>Link to additional content</mat-label>\n            <input\n              type=\"text\"\n              matInput\n              placeholder=\"URL\"\n              [(ngModel)]=\"data.note.url\"\n            />\n          </mat-form-field>\n        </div>\n        <div>\n          <mat-slide-toggle\n            labelPosition=\"before\"\n            [hideIcon]=\"true\"\n            [checked]=\"data.note.properties.draft\"\n            (change)=\"data.note.properties.draft=$event.checked;\"\n          >\n            Draft:\n          </mat-slide-toggle>\n        </div>\n        @if(data.position) {\n        <div style=\"font-size: 10pt\">\n          <div style=\"display: flex\">\n            <div style=\"width: 45px; font-weight: bold\">Lat:</div>\n            <div style=\"flex: 1 1 auto\">{{data.note.position.latitude}}</div>\n          </div>\n          <div style=\"display: flex\">\n            <div style=\"width: 45px; font-weight: bold\">Lon:</div>\n            <div style=\"flex: 1 1 auto\">{{data.note.position.longitude}}</div>\n          </div>\n        </div>\n        }\n      </div>\n    </div>\n  </mat-dialog-content>\n  <mat-dialog-actions>\n    <div style=\"text-align: center; width: 100%\">\n      <button\n        mat-raised-button\n        [disabled]=\"inptitle.invalid\"\n        (click)=\"dialogRef.close({result:true, data: data.note, action: 'save'})\"\n      >\n        SAVE\n      </button>\n      <button\n        mat-raised-button\n        (click)=\"dialogRef.close({result:false, data: null})\"\n      >\n        CANCEL\n      </button>\n    </div>\n  </mat-dialog-actions>\n</div>\n}\n","/** Freeboard Feature Layer Base Component\n * Abstract class for Freeboard Feature layers\n **/\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style, Fill, Text } from 'ol/style';\nimport { MapComponent } from './map.component';\nimport { Extent } from './models';\nimport { AsyncSubject } from 'rxjs';\nimport { LightTheme, DarkTheme } from './themes';\n\n@Component({\n  selector: 'ol-map > fb-feature-layer',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class FBFeatureLayerComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected theme = LightTheme;\n  protected labelPrefixes = [];\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() darkMode = false;\n  @Input() labelMinZoom = 10;\n  @Input() mapZoom = 10;\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.source = new VectorSource();\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    this.theme = this.darkMode ? DarkTheme : LightTheme;\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n      for (const key in changes) {\n        if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          [\n            'opacity',\n            'visible',\n            'extent',\n            'zIndex',\n            'minResolution',\n            'maxResolution'\n          ].includes(key);\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n\n      this.handleAttributeChanges(changes);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  protected handleAttributeChanges(changes: SimpleChanges) {\n    if ('darkMode' in changes) {\n      this.theme = changes['darkMode'].currentValue ? DarkTheme : LightTheme;\n      this.onDarkMode(changes['darkMode'].currentValue);\n    } else if (\n      'labelMinZoom' in changes &&\n      typeof this.mapZoom !== 'undefined'\n    ) {\n      this.onLabelMinZoomSet(changes['labelMinZoom'].currentValue);\n    } else if (\n      'mapZoom' in changes &&\n      typeof this.labelMinZoom !== 'undefined'\n    ) {\n      const change = changes['mapZoom'];\n      if (\n        (change.currentValue >= this.labelMinZoom &&\n          change.previousValue < this.labelMinZoom) ||\n        (change.currentValue < this.labelMinZoom &&\n          change.previousValue >= this.labelMinZoom)\n      ) {\n        this.onLabelZoomThreshold(change.currentValue >= this.labelMinZoom);\n      }\n    }\n  }\n\n  /** Called when dark mode is set / cleared.\n   * @override\n   * @param isSet true when dark mode is set\n   */\n  onDarkMode(isSet: boolean) {\n    this.updateLabels();\n  }\n\n  /** Called when label zoom threshold is set.\n   * @override\n   * @param value new threshold value\n   */\n  onLabelMinZoomSet(value: number) {\n    this.updateLabels();\n  }\n\n  /** Called when label zoom threshold crossed.\n   * @override\n   * @param entered true when transition is from below to above threshold\n   */\n  onLabelZoomThreshold(entered: boolean) {\n    this.updateLabels();\n  }\n\n  /** update the labels of features with an id that contains\n   * one of the values in this.match.\n   */\n  updateLabels() {\n    if (!this.source) {\n      return;\n    }\n    this.source.getFeatures().forEach((f: Feature) => {\n      const id = f.getId() as string;\n      if (this.labelPrefixes.some((i: string) => id.includes(i))) {\n        const s: Style = f.getStyle() as Style;\n        f.setStyle(this.setTextLabel(s, f.get('name')));\n      }\n    });\n  }\n\n  /** return a Style with supplied label text\n   * @param style openlayers Style containing text\n   * @param text string containing\n   */\n  setTextLabel(style: Style, text: string): Style {\n    let ts: Text;\n    if (!style || typeof style === 'function') {\n      return style;\n    } else if (Array.isArray(style)) {\n      ts = style[0].getText();\n    } else {\n      ts = style.getText();\n    }\n    if (ts) {\n      ts.setText(Math.abs(this.mapZoom) >= this.labelMinZoom ? text : '');\n      ts.setFill(new Fill({ color: this.theme.labelText.color }));\n      if (Array.isArray(style)) {\n        style[0].setText(ts);\n      } else {\n        style.setText(ts);\n      }\n    }\n    return style;\n  }\n\n  /** return a Style containing an image rotated to the supplied value\n   * @param style openlayers Style containing an image\n   * @param value angle in radians to rotate the image\n   */\n  setRotation(style: Style, value: number): Style {\n    if (!style || typeof style === 'function') {\n      return style;\n    }\n    const im = style.getImage();\n    if (im) {\n      im.setRotation(value ?? 0);\n      style.setImage(im);\n    }\n    return style;\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatButtonModule } from '@angular/material/button';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { Position } from 'src/app/types';\nimport { FBWaypoints, FBWaypoint, FBResourceSelect } from 'src/app/types';\n\n@Component({\n  selector: 'waypoint-list',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './waypointlist.html',\n  styleUrls: ['../resourcelist.css'],\n  imports: [\n    CommonModule,\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatButtonModule,\n    FormsModule,\n    MatInputModule,\n    ScrollingModule\n  ]\n})\nexport class WaypointListComponent {\n  @Input() waypoints: FBWaypoints;\n  @Input() activeWaypoint: string;\n  @Input() editingWaypointId: string;\n  @Output() select: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() delete: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() goto: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() deactivate: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() refresh: EventEmitter<void> = new EventEmitter();\n  @Output() properties: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  @Output() center: EventEmitter<Position> = new EventEmitter();\n  @Output() notes: EventEmitter<{ id: string; readOnly: boolean }> =\n    new EventEmitter();\n\n  filterList = [];\n  filterText = '';\n  someSel = false;\n  allSel = false;\n  disableRefresh = false;\n\n  constructor(public app: AppFacade) {}\n\n  ngOnInit() {\n    this.initItems();\n  }\n\n  ngOnChanges() {\n    this.initItems();\n    if (\n      this.editingWaypointId &&\n      this.editingWaypointId.indexOf('waypoint') !== -1\n    ) {\n      this.disableRefresh = true;\n    } else {\n      this.disableRefresh = false;\n    }\n  }\n\n  close() {\n    this.closed.emit();\n  }\n\n  initItems() {\n    this.doFilter();\n    this.sortFilter();\n    this.checkSelections();\n  }\n\n  checkSelections() {\n    let c = false;\n    let u = false;\n    this.filterList.forEach((i: FBWaypoint) => {\n      c = i[2] ? true : c;\n      u = !i[2] ? true : u;\n    });\n    this.allSel = c && !u ? true : false;\n    this.someSel = c && u ? true : false;\n  }\n\n  selectAll(value: boolean) {\n    this.filterList.forEach((i: FBWaypoint) => {\n      i[2] = value;\n    });\n    this.someSel = false;\n    this.allSel = value ? true : false;\n    this.select.emit({ id: 'all', value: value });\n  }\n\n  itemSelect(e: boolean, id: string) {\n    this.filterList.forEach((i: FBWaypoint) => {\n      if (i[0] === id) {\n        i[2] = e;\n      }\n    });\n    this.checkSelections();\n    this.select.emit({ id: id, value: e });\n  }\n\n  emitCenter(position: Position) {\n    this.center.emit(position);\n  }\n\n  itemProperties(id: string) {\n    this.properties.emit({ id: id, type: 'waypoint' });\n  }\n\n  itemDelete(id: string) {\n    this.delete.emit({ id: id });\n  }\n\n  itemGoTo(id: string) {\n    this.itemSelect(true, id); // ensure active resource is selected\n    this.goto.emit({ id: id });\n  }\n\n  itemClearActive() {\n    this.deactivate.emit({ id: null });\n  }\n\n  itemRefresh() {\n    this.refresh.emit();\n  }\n\n  itemViewNotes(wpt: FBWaypoint) {\n    this.notes.emit({\n      id: wpt[0],\n      readOnly: wpt[1].feature?.properties?.readOnly ?? false\n    });\n  }\n\n  filterKeyUp(e: string) {\n    this.filterText = e;\n    this.doFilter();\n    this.sortFilter();\n  }\n\n  doFilter() {\n    if (this.filterText.length === 0) {\n      this.filterList = this.waypoints;\n    } else {\n      this.filterList = this.waypoints.filter((i: FBWaypoint) => {\n        if (i[1].name) {\n          if (\n            i[1].name.toLowerCase().indexOf(this.filterText.toLowerCase()) !==\n            -1\n          ) {\n            return i;\n          }\n        }\n      });\n    }\n    this.checkSelections();\n  }\n\n  sortFilter() {\n    this.filterList.sort((a, b) => {\n      const x = a[1].name || 'zzz';\n      const y = b[1].name || 'zzz';\n      return x.toUpperCase() <= y.toUpperCase() ? -1 : 1;\n    });\n  }\n}\n","<div class=\"resourcelist\">\n  <mat-card style=\"border-radius: unset\">\n    <mat-card-title>\n      <div class=\"title-block\">\n        <div style=\"width: 50px\">\n          <button\n            mat-icon-button\n            (click)=\"close()\"\n            matTooltip=\"Close Waypoint List\"\n            matTooltipPosition=\"right\"\n          >\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div style=\"flex: 1 1 auto; padding-top: 7px\">Waypoints</div>\n      </div>\n    </mat-card-title>\n    <mat-card-content>\n      <div style=\"display: flex\">\n        <div style=\"flex: 1 1 auto; padding-left: 3px\">\n          <mat-form-field floatLabel=\"always\" style=\"width: 180px\">\n            <mat-label>Type to filter list</mat-label>\n            <input\n              #ftext\n              type=\"text\"\n              matInput\n              [value]=\"filterText\"\n              (keyup)=\"filterKeyUp(ftext.value)\"\n            />\n            @if(filterText) {\n            <button matSuffix mat-icon-button (click)=\"filterKeyUp('')\">\n              <mat-icon>close</mat-icon>\n            </button>\n            }\n          </mat-form-field>\n        </div>\n        <div>\n          <button\n            mat-icon-button\n            [disabled]=\"disableRefresh\"\n            (click)=\"itemRefresh()\"\n            matTooltip=\"Reload Waypoints\"\n            matTooltipPosition=\"left\"\n          >\n            <mat-icon>refresh</mat-icon>\n          </button>\n        </div>\n        <div>\n          <mat-checkbox\n            #selall\n            [disabled]=\"waypoints.length === 0 || disableRefresh\"\n            [checked]=\"allSel\"\n            [indeterminate]=\"someSel\"\n            (change)=\"selectAll($event.checked)\"\n            [matTooltip]=\"(!selall.checked || someSel) ? 'Select All' : 'Deselect All'\"\n            matTooltipPosition=\"right\"\n          >\n          </mat-checkbox>\n        </div>\n      </div>\n    </mat-card-content>\n  </mat-card>\n\n  <div class=\"resources\">\n    @if(waypoints.length === 0) {\n    <div style=\"text-align: center\"><br /><i>No Waypoints available.</i></div>\n    }\n    <cdk-virtual-scroll-viewport class=\"vscroller\" itemSize=\"90\">\n      <mat-card\n        *cdkVirtualFor=\"let r of filterList; let i= index;\"\n        style=\"border-bottom: silver 1px outset; border-radius: unset\"\n      >\n        <mat-card-content>\n          <div style=\"display: flex; padding-left: 5px\">\n            <div style=\"flex: 1 1 auto; width: 215px\">\n              <div\n                style=\"\n                  text-overflow: ellipsis;\n                  overflow-x: hidden;\n                  white-space: pre;\n                \"\n              >\n                <mat-icon [ngClass]=\"{'icon-warn': r[1].type=='pseudoAtoN'}\">\n                  room\n                </mat-icon>\n                <b>{{(r[1].name) ? r[1].name : 'Wpt-' + r[0].slice(-6)}}</b>\n              </div>\n            </div>\n            <div style=\"text-align: right\">\n              <mat-checkbox\n                [disabled]=\"r[0] === activeWaypoint || disableRefresh\"\n                [checked]=\"r[2]\"\n                (change)=\"itemSelect($event.checked, r[0])\"\n                matTooltip=\"Show on Map\"\n                matTooltipPosition=\"left\"\n              >\n              </mat-checkbox>\n            </div>\n          </div>\n        </mat-card-content>\n        <mat-card-actions>\n          <div style=\"display: flex\">\n            <div>\n              <button\n                mat-icon-button\n                [disabled]=\"r[0] === activeWaypoint || disableRefresh\"\n                (click)=\"itemDelete(r[0])\"\n                matTooltip=\"Delete Waypoint\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>delete</mat-icon>\n              </button>\n            </div>\n            <button\n              mat-icon-button\n              (click)=\"itemViewNotes(r)\"\n              matTooltip=\"Waypoint notes\"\n              matTooltipPosition=\"right\"\n            >\n              <mat-icon>local_offer</mat-icon>\n            </button>\n            <div style=\"flex: 1 1 auto; text-align: center\">\n              @if(!activeWaypoint || activeWaypoint !== r[0]) {\n              <button\n                mat-icon-button\n                [disabled]=\"disableRefresh\"\n                (click)=\"itemGoTo(r[0])\"\n                matTooltip=\"Navigate to Waypoint\"\n                matTooltipPosition=\"below\"\n              >\n                <mat-icon>near_me</mat-icon>\n              </button>\n              } @if(activeWaypoint === r[0]) {\n              <button\n                mat-icon-button\n                [disabled]=\"disableRefresh\"\n                (click)=\"itemClearActive()\"\n                matTooltip=\"Clear Destination\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>clear_all</mat-icon>\n              </button>\n              }\n            </div>\n            <div>\n              <button\n                mat-icon-button\n                [disabled]=\"app.config.map.moveMap\"\n                (click)=\"emitCenter(r[1].feature.geometry.coordinates)\"\n                matTooltip=\"Center Waypoint\"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon>center_focus_strong</mat-icon>\n              </button>\n              <button\n                mat-icon-button\n                [disabled]=\"disableRefresh\"\n                (click)=\"itemProperties(r[0])\"\n                matTooltip=\"Edit Waypoint Properties\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>edit</mat-icon>\n              </button>\n            </div>\n          </div>\n        </mat-card-actions>\n      </mat-card>\n    </cdk-virtual-scroll-viewport>\n  </div>\n</div>\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatButtonModule } from '@angular/material/button';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { Position } from 'src/app/types';\nimport { FBNotes, FBNote, FBResourceSelect, SKPosition } from 'src/app/types';\n\n@Component({\n  selector: 'note-list',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './notelist.html',\n  styleUrls: ['../resourcelist.css'],\n  imports: [\n    CommonModule,\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatButtonModule,\n    FormsModule,\n    MatInputModule,\n    ScrollingModule\n  ]\n})\nexport class NoteListComponent {\n  @Input() notes: FBNotes;\n  @Output() select: EventEmitter<FBResourceSelect> = new EventEmitter();\n  @Output() refresh: EventEmitter<void> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  @Output() pan: EventEmitter<{ center: Position; zoomLevel: number }> =\n    new EventEmitter();\n\n  filterList = [];\n  filterText = '';\n  someSel = false;\n  showNotes = false;\n  draftOnly = false;\n\n  constructor(public app: AppFacade) {}\n\n  ngOnInit() {\n    this.showNotes = this.app.config.notes;\n    this.initItems();\n  }\n\n  ngOnChanges() {\n    this.initItems();\n  }\n\n  close() {\n    this.closed.emit();\n  }\n\n  initItems() {\n    this.doFilter();\n    this.sortFilter();\n    if (this.draftOnly) {\n      this.filterDraftOnly();\n    }\n  }\n\n  toggleMapDisplay(value: boolean) {\n    this.app.config.notes = value;\n    this.app.saveConfig();\n  }\n\n  viewNote(val: string, isGroup = false) {\n    this.select.emit({ id: val, isGroup: isGroup });\n  }\n\n  itemRefresh() {\n    this.refresh.emit();\n  }\n\n  emitCenter(position: SKPosition) {\n    const zoomTo =\n      this.app.config.map.zoomLevel < this.app.config.selections.notesMinZoom\n        ? this.app.config.selections.notesMinZoom\n        : null;\n    this.pan.emit({\n      center: [position.longitude, position.latitude],\n      zoomLevel: zoomTo\n    });\n  }\n\n  filterKeyUp(e: string) {\n    this.filterText = e;\n    this.doFilter();\n    this.sortFilter();\n  }\n\n  filterDraftOnly() {\n    this.filterList = this.filterList.filter((i) => {\n      if (i[1].properties && i[1].properties.draft) {\n        return i;\n      }\n    });\n  }\n\n  toggleDraftOnly() {\n    this.draftOnly = !this.draftOnly;\n    if (this.draftOnly) {\n      this.filterDraftOnly();\n    } else {\n      this.filterKeyUp('');\n    }\n  }\n\n  doFilter() {\n    this.filterList = this.notes.filter((i: FBNote) => {\n      if (\n        i[1].name.toLowerCase().indexOf(this.filterText.toLowerCase()) !== -1\n      ) {\n        return i;\n      }\n    });\n    if (this.draftOnly) {\n      this.filterDraftOnly();\n    }\n  }\n\n  sortFilter() {\n    this.filterList.sort((a, b) => {\n      const x = a[1].name.toUpperCase();\n      const y = b[1].name.toUpperCase();\n      return x <= y ? -1 : 1;\n    });\n  }\n}\n","<div class=\"resourcelist\">\n  <mat-card style=\"border-radius: unset\">\n    <mat-card-title>\n      <div class=\"title-block\">\n        <div style=\"width: 50px\">\n          <button\n            mat-icon-button\n            (click)=\"close()\"\n            matTooltip=\"Close Note List\"\n            matTooltipPosition=\"right\"\n          >\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div style=\"flex: 1 1 auto; padding-top: 7px\">Notes</div>\n      </div>\n    </mat-card-title>\n    <mat-card-content>\n      <div style=\"display: flex\">\n        <div style=\"flex: 1 1 auto; padding-left: 3px\">\n          <mat-form-field floatLabel=\"always\" style=\"max-width: 170px\">\n            <mat-label>Type to filter list</mat-label>\n            <input\n              #ftext\n              type=\"text\"\n              matInput\n              [value]=\"filterText\"\n              (keyup)=\"filterKeyUp(ftext.value)\"\n            />\n            @if(filterText) {\n            <button matSuffix mat-icon-button (click)=\"filterKeyUp('')\">\n              <mat-icon>close</mat-icon>\n            </button>\n            }\n          </mat-form-field>\n        </div>\n        <div>\n          <button\n            mat-icon-button\n            (click)=\"itemRefresh()\"\n            matTooltip=\"Reload Notes\"\n            matTooltipPosition=\"left\"\n          >\n            <mat-icon>refresh</mat-icon>\n          </button>\n        </div>\n        <div>\n          <button\n            mat-icon-button\n            [ngClass]=\"{'icon-primary': draftOnly }\"\n            (click)=\"toggleDraftOnly()\"\n            matTooltip=\"Show Draft Only\"\n            matTooltipPosition=\"left\"\n          >\n            <mat-icon>border_color</mat-icon>\n          </button>\n        </div>\n        <div>\n          <mat-checkbox\n            [checked]=\"showNotes\"\n            (change)=\"toggleMapDisplay($event.checked)\"\n            matTooltip=\"Show Notes on Map\"\n            matTooltipPosition=\"left\"\n          >\n          </mat-checkbox>\n        </div>\n      </div>\n    </mat-card-content>\n  </mat-card>\n\n  <div class=\"resources\">\n    <cdk-virtual-scroll-viewport class=\"vscroller\" itemSize=\"72\">\n      <mat-card\n        *cdkVirtualFor=\"let r of filterList; let i= index;\"\n        style=\"border-bottom: silver 1px outset; border-radius: unset\"\n      >\n        <mat-card-content>\n          <div style=\"display: flex\">\n            <div style=\"flex: 1 1 auto; width: 215px; display: flex\">\n              <div>\n                @if(r[1].properties?.skIcon) {\n                <mat-icon\n                  [svgIcon]=\"'sk-' + r[1].properties?.skIcon\"\n                ></mat-icon>\n                } @else {\n                <mat-icon class=\"icon-note icon-accent\">local_offer</mat-icon>\n                }\n              </div>\n              <div\n                style=\"\n                  text-overflow: ellipsis;\n                  overflow-x: hidden;\n                  white-space: pre;\n                \"\n              >\n                &nbsp;<b>{{r[1].name}}</b>\n              </div>\n            </div>\n          </div>\n        </mat-card-content>\n        <mat-card-actions>\n          <div style=\"display: flex; width: 100%\">\n            <div style=\"text-align: left\">\n              @if(r[1].properties && r[1].properties.draft) {\n              <button\n                mat-icon-button\n                [disabled]=\"true\"\n                matTooltip=\"Draft\"\n                matTooltipPosition=\"right\"\n              >\n                <mat-icon>border_color</mat-icon>\n              </button>\n              }\n            </div>\n            <div style=\"flex: 1 1 auto; text-align: right\">\n              @if(r[1].group && app.config.resources.notes.groupNameEdit) {\n              <button\n                mat-icon-button\n                (click)=\"viewNote(r[1].group, true)\"\n                matTooltip=\"View Group\"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon>style</mat-icon>\n              </button>\n              }\n              <button\n                mat-icon-button\n                [disabled]=\"app.config.map.moveMap\"\n                (click)=\"emitCenter(r[1].position)\"\n                matTooltip=\"Center Note\"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon>center_focus_strong</mat-icon>\n              </button>\n\n              <button\n                mat-icon-button\n                (click)=\"viewNote(r[0])\"\n                matTooltip=\"View Note\"\n                matTooltipPosition=\"left\"\n              >\n                <mat-icon>info_outline</mat-icon>\n              </button>\n            </div>\n          </div>\n        </mat-card-actions>\n      </mat-card>\n    </cdk-virtual-scroll-viewport>\n  </div>\n</div>\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.log(err));\n","// ** Default Profile Vessel popover **\n\nimport {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  SimpleChanges\n} from '@angular/core';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { PipesModule } from 'src/app/lib/pipes';\nimport { PopoverComponent } from './popover.component';\nimport { CompassComponent } from './compass.component';\n\nimport { AppFacade } from 'src/app/app.facade';\nimport { Buddies, SKVessel } from 'src/app/modules';\nimport { Convert } from 'src/app/lib/convert';\nimport { GeoUtils } from 'src/app/lib/geoutils';\nimport { Position } from 'src/app/types';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n/*********** Vessel Popover ***************\ntitle: string -  title text,\nvessel: SKVessel - vessel data\nuseMagnetic: string - use Magnetic values instead of True\nisActive: boolean - set to true if is the active vessel\nisSelf: boolean - true if vessel 'self'\n*************************************************/\n@Component({\n  selector: 'vessel-popover',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    PipesModule,\n    PopoverComponent,\n    CompassComponent\n  ],\n  template: `\n    <ap-popover [title]=\"_title\" [canClose]=\"canClose\" (closed)=\"handleClose()\">\n      @if(vessel.callsignVhf) {\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Callsign (VHF):</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"vessel.callsignVhf\"\n        ></div>\n      </div>\n      } @else if(vessel.callsignHf) {\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Callsign (HF):</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"vessel.callsignHf\"\n        ></div>\n      </div>\n      }\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Latitude:</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"\n            position[1] | coords : app.config.selections.positionFormat : true\n          \"\n        ></div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Longitude:</div>\n        <div\n          style=\"flex: 1 1 auto;text-align:right;\"\n          [innerText]=\"\n            position[0] | coords : app.config.selections.positionFormat\n          \"\n        ></div>\n      </div>\n      @if(!isSelf) { @if(vessel.distanceToSelf) {\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Distance:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">\n          {{ distToSelf }}\n        </div>\n      </div>\n      } }\n      <div style=\"display:flex;\">\n        <div style=\"font-weight:bold;\">Last Update:</div>\n        <div style=\"flex: 1 1 auto;text-align:right;\">\n          {{ timeLastUpdate }} {{ timeAgo }}\n        </div>\n      </div>\n      <div style=\"display:flex;flex-wrap:no-wrap;\">\n        <div style=\"width:150px;\">\n          <ap-compass\n            [heading]=\"convert.radiansToDegrees(vessel.orientation)\"\n            [windtrue]=\"\n              vessel.wind.direction !== null\n                ? convert.radiansToDegrees(vessel.wind.direction)\n                : null\n            \"\n            [windapparent]=\"\n              vessel.wind.awa !== null\n                ? convert.radiansToDegrees(vessel.wind.awa)\n                : null\n            \"\n            [speed]=\"app.formatSpeed(vessel.sog)\"\n            [speedunits]=\"app.formattedSpeedUnits\"\n          >\n          </ap-compass>\n        </div>\n        <div>\n          &nbsp;<br />\n          <div>\n            <div style=\"border-left:olive 10px solid;padding-left: 5px;\">\n              <span style=\"font-weight:bold\">\n                Wind ({{ useMagnetic ? 'M' : 'T' }}):</span\n              >\n            </div>\n            <div style=\"flex: 1 1 auto;text-align:right;\">\n              {{ app.formatSpeed(vessel.wind.tws, true) }}&nbsp;{{\n                app.formattedSpeedUnits\n              }}\n            </div>\n          </div>\n          <div>\n            <div\n              style=\"border-left:rgb(16, 75, 16) 10px solid;;padding-left: 5px;\"\n            >\n              <span style=\"font-weight:bold;\"> Wind (A):</span>\n            </div>\n            <div style=\"flex: 1 1 auto;text-align:right;\">\n              {{ app.formatSpeed(vessel.wind.aws, true) }}&nbsp;{{\n                app.formattedSpeedUnits\n              }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"flex:1 1 auto;\"></div>\n        <div style=\"text-align:right;\">\n          @if(isActive) {\n          <button\n            mat-button\n            (click)=\"handleMarkPosition()\"\n            matTooltip=\"Add Waypoint at vessel location\"\n          >\n            <mat-icon>add_location</mat-icon>\n            DROP WPT\n          </button>\n          } @else {\n          <button mat-button (click)=\"toggleFlag()\" matTooltip=\"Flag vessel\">\n            <mat-icon>{{ isFlagged ? 'clear_all' : 'flag' }}</mat-icon>\n            {{ isFlagged ? 'UN-FLAG' : 'FLAG' }}\n          </button>\n\n          @if(!isSelf && app.data.buddyList.hasApi) {\n          <button mat-button (click)=\"toggleBuddy()\" matTooltip=\"Is Buddy\">\n            <mat-icon>{{\n              vessel.buddy ? 'group_remove' : 'group_add'\n            }}</mat-icon>\n            {{ vessel.buddy ? 'UN-BUDDY' : 'BUDDY' }}\n          </button>\n          }\n\n          <button\n            mat-button\n            (click)=\"focusVessel(true)\"\n            matTooltip=\"Focus vessel\"\n          >\n            <mat-icon>center_focus_weak</mat-icon>\n            FOCUS\n          </button>\n          } @if(isActive && !isSelf) {\n          <button\n            mat-button\n            (click)=\"focusVessel(false)\"\n            matTooltip=\"Clear vessel focus\"\n          >\n            <mat-icon>clear_all</mat-icon>\n            UNFOCUS\n          </button>\n          }\n          <button\n            mat-button\n            (click)=\"handleInfo()\"\n            matTooltip=\"Show Properties\"\n          >\n            <mat-icon>info_outline</mat-icon>\n            INFO\n          </button>\n        </div>\n      </div>\n    </ap-popover>\n  `,\n  styleUrls: []\n})\nexport class VesselPopoverComponent {\n  @Input() title: string;\n  @Input() vessel: SKVessel;\n  @Input() useMagnetic: string;\n  @Input() isActive: boolean;\n  @Input() isSelf: boolean;\n  @Input() canClose: boolean;\n  @Output() info: EventEmitter<string> = new EventEmitter();\n  @Output() closed: EventEmitter<void> = new EventEmitter();\n  @Output() focused: EventEmitter<boolean> = new EventEmitter();\n  @Output() markPosition: EventEmitter<Position> = new EventEmitter();\n\n  _title: string;\n  convert = Convert;\n  timeLastUpdate: string;\n  timeAgo: string; // last update in minutes ago\n  speedUnits: string;\n  protected distToSelf: string;\n\n  position: Position = [0, 0];\n  isFlagged = false;\n\n  constructor(protected app: AppFacade, private buddies: Buddies) {}\n\n  ngOnInit() {\n    if (!this.vessel) {\n      this.handleClose();\n      return;\n    }\n    this.isFlagged = this.app.data.vessels.flagged.includes(this.vessel.id);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.vessel) {\n      if (!changes.vessel.currentValue) {\n        this.handleClose();\n        return;\n      }\n      this.isFlagged = this.app.data.vessels.flagged.includes(this.vessel.id);\n      this._title =\n        this.title ||\n        this.vessel.name ||\n        this.vessel.mmsi ||\n        this.vessel.callsignVhf ||\n        this.vessel.callsignHf;\n      ('Vessel:');\n      this.position = [\n        changes.vessel.currentValue.position[0],\n        changes.vessel.currentValue.position[1]\n      ];\n      this.position = GeoUtils.normaliseCoords(this.position);\n    }\n    this.timeLastUpdate = `${this.vessel.lastUpdated.getHours()}:${(\n      '00' + this.vessel.lastUpdated.getMinutes()\n    ).slice(-2)}`;\n    const td =\n      (new Date().valueOf() - this.vessel.lastUpdated.valueOf()) / 1000;\n    this.timeAgo = td < 60 ? '' : `(${Math.floor(td / 60)} min ago)`;\n    this.distToSelf = this.app.formatValueForDisplay(\n      this.vessel.distanceToSelf,\n      'm'\n    );\n  }\n\n  handleMarkPosition() {\n    this.markPosition.emit(this.vessel.position);\n  }\n\n  handleInfo() {\n    this.info.emit(this.vessel.id);\n  }\n\n  focusVessel(setFocus: boolean) {\n    this.removeFlag();\n    this.focused.emit(setFocus);\n  }\n\n  toggleBuddy() {\n    const urn = this.vessel.id.split('.').slice(1).join('.');\n    if (this.vessel.buddy) {\n      this.buddies.remove(urn).subscribe(\n        () => {\n          //console.log('buddy revedmo:', urn);\n          this.app.showMessage(`Buddy successfully removed.`, false, 3000);\n        },\n        (err: HttpErrorResponse) => {\n          this.app.showMessage(`Error removing buddy!`, false, 3000);\n        }\n      );\n    } else {\n      const name =\n        this.vessel.name ??\n        this.vessel.mmsi ??\n        this.vessel.callsignVhf ??\n        urn.slice(-5);\n      this.buddies.add(urn, name).subscribe(\n        () => {\n          this.app.showMessage(`Buddy added (${name})`, false, 3000);\n        },\n        (err: HttpErrorResponse) => {\n          this.app.showMessage(`Error adding buddy!(${name})`, false, 5000);\n        }\n      );\n    }\n  }\n\n  toggleFlag() {\n    if (this.isFlagged) {\n      this.removeFlag();\n    } else {\n      if (!this.app.data.vessels.flagged.includes(this.vessel.id)) {\n        this.app.data.vessels.flagged = [this.vessel.id].concat(\n          this.app.data.vessels.flagged\n        );\n      }\n    }\n    this.isFlagged = !this.isFlagged;\n    this.closed.emit();\n  }\n\n  private removeFlag() {\n    if (this.app.data.vessels.flagged.includes(this.vessel.id)) {\n      this.app.data.vessels.flagged.splice(\n        this.app.data.vessels.flagged.indexOf(this.vessel.id),\n        1\n      );\n      this.app.data.vessels.flagged = [].concat(this.app.data.vessels.flagged);\n    }\n  }\n\n  handleClose() {\n    this.closed.emit();\n  }\n}\n","// **** RESOURCE CLASSES **********\nimport { ResourceSet, CustomStyles } from 'src/app/types';\n\n// ** Signal K Resource Set\nexport class SKResourceSet {\n  id: string;\n  name: string;\n  description: string;\n  values;\n  styles: CustomStyles;\n  type = 'ResourceSet';\n\n  constructor(resSet?: ResourceSet) {\n    if (resSet) {\n      this.id = resSet.id ? resSet.id : null;\n      this.name = resSet.name ? resSet.name : null;\n      this.description = resSet.description ? resSet.description : null;\n      this.styles = resSet.styles ? resSet.styles : {};\n      this.values = resSet.values ?? {\n        type: 'FeatureCollection',\n        features: []\n      };\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Layer } from 'ol/layer';\nimport { Feature } from 'ol';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport { Style } from 'ol/style';\nimport { LineString } from 'ol/geom';\nimport { MapComponent } from '../map.component';\nimport { Extent, Coordinate } from '../models';\nimport { fromLonLatArray, mapifyCoords } from '../util';\nimport { AsyncSubject } from 'rxjs';\nimport { Position } from 'src/app/types';\n\n// ** Freeboard Beat Angle component **\n@Component({\n  selector: 'ol-map > fb-target-angle',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class TargetAngleComponent implements OnInit, OnDestroy, OnChanges {\n  protected layer: Layer;\n  public source: VectorSource;\n  protected features: Array<Feature> = [];\n\n  /**\n   * This event is triggered after the layer is initialized\n   * Use this to have access to the layer and some helper functions\n   */\n  @Output() layerReady: AsyncSubject<Layer> = new AsyncSubject(); // AsyncSubject will only store the last value, and only publish it when the sequence is completed\n\n  @Input() line: Coordinate[];\n  @Input() mapZoom = 10;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() lineStyle: Style;\n  @Input() position: Position; // (change trigger)\n  @Input() twd: number; //(change trigger)\n  @Input() opacity: number;\n  @Input() visible: boolean;\n  @Input() extent: Extent;\n  @Input() zIndex: number;\n  @Input() minResolution: number;\n  @Input() maxResolution: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() layerProperties: { [index: string]: any };\n\n  public mapifiedLine: Array<Coordinate> = [];\n\n  constructor(\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected mapComponent: MapComponent\n  ) {\n    this.changeDetectorRef.detach();\n  }\n\n  ngOnInit() {\n    this.parseValues();\n    this.source = new VectorSource({ features: this.features });\n    this.layer = new VectorLayer(\n      Object.assign(this, { ...this.layerProperties })\n    );\n\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.addLayer(this.layer);\n      map.render();\n      this.layerReady.next(this.layer);\n      this.layerReady.complete();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.layer) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const properties: { [index: string]: any } = {};\n\n      for (const key in changes) {\n        if (['lines', 'position', 'twd'].includes(key)) {\n          this.parseValues();\n          if (this.source) {\n            this.source.clear();\n            this.source.addFeatures(this.features);\n          }\n        } else if (key === 'mapZoom') {\n          //this.handleLabelZoomChange(key, changes[key]);\n        } else if (key === 'layerProperties') {\n          this.layer.setProperties(properties, false);\n        } else {\n          properties[key] = changes[key].currentValue;\n        }\n      }\n      this.layer.setProperties(properties, false);\n    }\n  }\n\n  ngOnDestroy() {\n    const map = this.mapComponent.getMap();\n    if (this.layer && map) {\n      map.removeLayer(this.layer);\n      map.render();\n      this.layer = null;\n    }\n  }\n\n  parseValues() {\n    const fa: Feature[] = [];\n\n    if (Array.isArray(this.line)) {\n      const mapifiedLine = mapifyCoords(this.line);\n      const f = new Feature({\n        geometry: new LineString(fromLonLatArray(mapifiedLine))\n      });\n      f.setStyle(this.buildStyle());\n      fa.push(f);\n    }\n    this.features = fa;\n  }\n\n  // build target style\n  buildStyle(): Style {\n    if (this.lineStyle) {\n      return this.lineStyle;\n    } else {\n      if (this.layerProperties && this.layerProperties.style) {\n        return this.layerProperties.style;\n      } else {\n        return undefined;\n      }\n    }\n  }\n}\n","import { Component, OnInit, Inject } from '@angular/core';\nimport {\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\nimport { SignalKDetailsComponent } from '../../skresources';\nimport { AlertData } from './alert.component';\nimport { NotificationManager } from '../notification-manager';\n\n/********* AlertPropertiesModal **********\n\tdata: {\n    alert: \"<string>\" title text\n  }\n***********************************/\n@Component({\n  selector: 'ap-alert-modal',\n  imports: [\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    MatButtonModule,\n    MatToolbarModule,\n    SignalKDetailsComponent\n  ],\n  template: `\n    <div class=\"_ap-alert\">\n      <mat-toolbar style=\"background-color: transparent\">\n        <span>\n          <mat-icon\n            [class]=\"data.alert.icon.class\"\n            [svgIcon]=\"data.alert.icon.svgIcon\"\n          >\n            {{ data.alert.icon.name }}</mat-icon\n          >\n        </span>\n        <span style=\"flex: 1 1 auto; padding-left:20px;text-align:center;\">\n          Alert Information\n        </span>\n        <span>\n          <button\n            mat-icon-button\n            (click)=\"modalRef.dismiss()\"\n            matTooltip=\"Close\"\n            matTooltipPosition=\"below\"\n          >\n            <mat-icon>keyboard_arrow_down</mat-icon>\n          </button>\n        </span>\n      </mat-toolbar>\n\n      <mat-card>\n        <mat-card-content>\n          <div style=\"display:flex;flex-direction: column;\">\n            @if(data.alert.canAcknowledge && !data.alert.acknowledged) {\n            <div style=\"display:flex;\">\n              <div style=\"flex: 1 1 auto;\">\n                <button\n                  class=\"button-warn\"\n                  mat-raised-button\n                  (click)=\"notiMgr.acknowledge(data.alert.path)\"\n                >\n                  <mat-icon>check</mat-icon> Acknowledge\n                </button>\n              </div>\n            </div>\n            }\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Message:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.alert.message }}</div>\n            </div>\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Type:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.alert.type }}</div>\n            </div>\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Priority:</div>\n              <div style=\"flex: 1 1 auto;\">{{ data.alert.priority }}</div>\n            </div>\n            <div style=\"display:flex;\">\n              <div class=\"key-label\">Raised at:</div>\n              <div style=\"flex: 1 1 auto;\">{{ raisedAt }}</div>\n            </div>\n            <button mat-stroked-button (click)=\"toggleProperties()\">\n              <span>Show {{ showProperties ? 'Less' : 'More' }}</span>\n              <mat-icon>{{\n                showProperties ? 'keyboard_arrow_down' : 'keyboard_arrow_right'\n              }}</mat-icon>\n            </button>\n            @if(showProperties) {\n            <signalk-details-list [details]=\"properties\"></signalk-details-list>\n            }\n          </div>\n        </mat-card-content>\n      </mat-card>\n    </div>\n  `,\n  styles: [\n    `\n      ._ap-alert {\n        font-family: arial;\n        min-width: 300px;\n      }\n      ._ap-alert .key-label {\n        width: 150px;\n        font-weight: bold;\n      }\n    `\n  ]\n})\nexport class AlertPropertiesModal implements OnInit {\n  protected showProperties = true;\n  protected properties: { [key: string]: any };\n  protected raisedAt!: string;\n\n  constructor(\n    protected notiMgr: NotificationManager,\n    public modalRef: MatBottomSheetRef<AlertPropertiesModal>,\n    @Inject(MAT_BOTTOM_SHEET_DATA)\n    public data: {\n      alert: AlertData;\n    }\n  ) {}\n\n  ngOnInit() {\n    this.parseAlertInfo();\n  }\n\n  toggleProperties() {\n    this.showProperties = !this.showProperties;\n  }\n\n  private parseAlertInfo() {\n    this.properties = this.data.alert.properties ?? {};\n    const d = new Date(this.data.alert.createdAt);\n    this.raisedAt = `${d.toLocaleDateString()} ${d.toLocaleTimeString()}`;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChange,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Style, Text, Circle, Fill, Stroke } from 'ol/style';\nimport { Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { FBFeatureLayerComponent } from '../sk-feature.component';\nimport { FBWaypoints, Waypoints } from 'src/app/types';\n\n@Component({\n  selector: 'ol-map > sk-waypoints-base',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class WaypointsBaseComponent extends FBFeatureLayerComponent {\n  @Input() waypointStyles: { [key: string]: Style };\n  @Input() activeWaypoint: string;\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.labelPrefixes = ['waypoint'];\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (this.source) {\n      if ('waypoints' in changes) {\n        this.source.clear();\n        this.parseWaypoints(changes['waypoints']);\n      }\n      if ('activeWaypoint' in changes) {\n        this.source.clear();\n        this.reloadWaypoints();\n      }\n    }\n  }\n\n  reloadWaypoints() {\n    // overridable function\n  }\n\n  parseWaypoints(change: SimpleChange) {\n    // overridable function\n  }\n\n  // build waypoint style\n  buildStyle(id: string, wpt): Style {\n    if (typeof this.waypointStyles !== 'undefined') {\n      if (\n        id === this.activeWaypoint &&\n        typeof this.waypointStyles.active !== 'undefined'\n      ) {\n        return this.setTextLabel(this.waypointStyles.active, wpt.name);\n      } else if (wpt.type && this.waypointStyles[wpt.type.toLowerCase()]) {\n        return this.setTextLabel(\n          this.waypointStyles[wpt.type.toLowerCase()],\n          wpt.name\n        );\n      } else {\n        return this.setTextLabel(this.waypointStyles.default, wpt.name);\n      }\n    } else if (this.layerProperties && this.layerProperties.style) {\n      return this.setTextLabel(this.layerProperties.style, wpt.name);\n    } else {\n      // default styles\n      let s: Style;\n      if (id === this.activeWaypoint) {\n        s = new Style({\n          image: new Circle({\n            radius: 5,\n            fill: new Fill({ color: 'blue' }),\n            stroke: new Stroke({\n              color: 'black',\n              width: 2\n            })\n          }),\n          text: new Text({\n            text: '',\n            offsetY: -12\n          })\n        });\n      } else {\n        s = new Style({\n          image: new Circle({\n            radius: 5,\n            fill: new Fill({ color: 'gold' }),\n            stroke: new Stroke({\n              color: 'black',\n              width: 2\n            })\n          }),\n          text: new Text({\n            text: '',\n            offsetY: -12\n          })\n        });\n      }\n      return this.setTextLabel(s, wpt.name);\n    }\n  }\n}\n\n// ** Signal K resource collection format **\n@Component({\n  selector: 'ol-map > sk-waypoints',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class WaypointLayerComponent extends WaypointsBaseComponent {\n  @Input() waypoints: Waypoints;\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseSKWaypoints(this.waypoints);\n  }\n\n  override reloadWaypoints() {\n    this.parseSKWaypoints(this.waypoints);\n  }\n\n  override parseWaypoints(change: SimpleChange) {\n    this.parseSKWaypoints(change.currentValue);\n  }\n\n  parseSKWaypoints(waypoints: Waypoints = this.waypoints) {\n    const fa: Feature[] = [];\n    for (const w in waypoints) {\n      const f = new Feature({\n        geometry: new Point(\n          fromLonLat(waypoints[w].feature.geometry.coordinates)\n        ),\n        name: waypoints[w].name\n      });\n      f.setId('waypoint.' + w);\n      f.setStyle(this.buildStyle(w, waypoints[w]).clone());\n      fa.push(f);\n    }\n    this.source.addFeatures(fa);\n  }\n}\n\n// ** Freeboard resource collection format **\n@Component({\n  selector: 'ol-map > fb-waypoints',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class FreeboardWaypointLayerComponent extends WaypointsBaseComponent {\n  @Input() waypoints: FBWaypoints = [];\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseFBWaypoints(this.waypoints);\n  }\n\n  override reloadWaypoints() {\n    this.parseFBWaypoints(this.waypoints);\n  }\n\n  override parseWaypoints(change: SimpleChange) {\n    this.parseFBWaypoints(change.currentValue);\n  }\n\n  parseFBWaypoints(waypoints: FBWaypoints = this.waypoints) {\n    const fa: Feature[] = [];\n    for (const w of waypoints) {\n      if (w[2]) {\n        // selected\n        const f = new Feature({\n          geometry: new Point(fromLonLat(w[1].feature.geometry.coordinates)),\n          name: w[1].name\n        });\n        f.setId('waypoint.' + w[0]);\n        f.setStyle(this.buildStyle(w[0], w[1]).clone());\n        fa.push(f);\n      }\n    }\n    this.source.addFeatures(fa);\n  }\n}\n","/* ******************************\n * Application LoaclStorage Service **\n * ******************************/\nimport { Injectable } from '@angular/core';\n\nimport { LocalStorage } from './localstorage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class State {\n  private _appid: string;\n  private ls: LocalStorage;\n\n  constructor() {\n    this.ls = new LocalStorage();\n  }\n\n  get appId() {\n    return this._appid;\n  }\n\n  set appId(value: string) {\n    if (value && value.length !== 0) {\n      this._appid = value;\n      this.ls.namespace = this._appid;\n    }\n  }\n\n  /** load info, config & data **\n   * returns {info: xx, config: xx, data: xx }  **/\n  load() {\n    return {\n      info: this.loadInfo(),\n      config: this.loadConfig(),\n      data: this.loadData()\n    };\n  }\n\n  /** save info, config & data **\n   * values= {info: xx, config: xx, data: xx }  **/\n  save(values = null) {\n    if (!values) {\n      return;\n    }\n    if (values.info) {\n      this.saveInfo(values.info);\n    }\n    if (values.config) {\n      this.saveConfig(values.config);\n    }\n    if (values.data) {\n      this.saveData(values.data);\n    }\n  }\n\n  // merge new default values in storedvalue\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  merge(storedValue: any, defaultValue: any): any {\n    Object.keys(defaultValue).forEach((key) => {\n      if (!storedValue[key]) {\n        storedValue[key] = defaultValue[key];\n      } else {\n        if (\n          typeof storedValue[key] === 'object' &&\n          !Array.isArray(storedValue[key]) &&\n          storedValue[key] !== null\n        ) {\n          storedValue[key] = this.merge(storedValue[key], defaultValue[key]);\n        }\n      }\n    });\n    return storedValue;\n  }\n\n  //** load app config **\n  loadConfig(defaultValue = {}) {\n    const config = this.ls.read('config');\n    //return config ? this.merge(config,defaultValue) : defaultValue;\n    return config ? config : defaultValue;\n  }\n\n  //** load app data **\n  loadData(defaultValue = {}) {\n    const data = this.ls.read('data');\n    return data ? data : defaultValue;\n  }\n\n  //** load app info **\n  loadInfo(defaultValue = {}) {\n    const info = this.ls.read('info');\n    return info ? info : defaultValue;\n  }\n\n  //** persist app config **\n  saveConfig(value = null) {\n    if (value) {\n      this.ls.write('config', value);\n    }\n  }\n\n  //** persist app data **\n  saveData(value = null) {\n    if (value) {\n      this.ls.write('data', value);\n    }\n  }\n\n  //** persist app info **\n  saveInfo(value = null) {\n    if (value) {\n      this.ls.write('info', value);\n    }\n  }\n}\n","/***********************************\nNSEW arrow buttons component\n  <nsew-buttons>\n***********************************/\nimport {\n  Component,\n  Input,\n  Output,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  EventEmitter\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\n@Component({\n  selector: 'nsew-buttons',\n  imports: [CommonModule, MatButtonModule, MatIconModule],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styles: [\n    `\n      .nsew {\n        border: silver 0px solid;\n      }\n      .nsew .btnRow {\n        display: flex;\n        flex-wrap: no-wrap;\n      }\n      .nsew .btnDiv {\n        width: 50px;\n      }\n    `\n  ],\n  template: `\n    <div class=\"nsew\">\n      <div class=\"btnRow\">\n        <div class=\"btnDiv\"></div>\n        <div class=\"btnDiv\">\n          <button mat-mini-fab [disabled]=\"disabled\" (click)=\"action(0)\">\n            <mat-icon>arrow_upward</mat-icon>\n          </button>\n        </div>\n        <div class=\"btnDiv\"></div>\n      </div>\n\n      <div class=\"btnRow\">\n        <div class=\"btnDiv\">\n          <button mat-mini-fab [disabled]=\"disabled\" (click)=\"action(270)\">\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div class=\"btnDiv\"></div>\n        <div class=\"btnDiv\">\n          <button mat-mini-fab [disabled]=\"disabled\" (click)=\"action(90)\">\n            <mat-icon>arrow_forward</mat-icon>\n          </button>\n        </div>\n      </div>\n\n      <div class=\"btnRow\">\n        <div class=\"btnDiv\"></div>\n        <div class=\"btnDiv\">\n          <button mat-mini-fab [disabled]=\"disabled\" (click)=\"action(180)\">\n            <mat-icon>arrow_downward</mat-icon>\n          </button>\n        </div>\n        <div class=\"btnDiv\"></div>\n      </div>\n    </div>\n  `\n})\nexport class NSEWButtonsComponent {\n  @Input() disabled: boolean;\n  @Output() direction: EventEmitter<number> = new EventEmitter();\n\n  constructor(private cdr: ChangeDetectorRef) {}\n\n  action(value: number) {\n    this.direction.emit(value);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SKChart } from 'src/app/modules';\nimport { S57Service } from './s57.service';\nimport { S57Style } from './s57Style';\nimport VectorTileLayer from 'ol/layer/VectorTile';\nimport VectorTileSource from 'ol/source/VectorTile';\nimport { Extent, applyTransform } from 'ol/extent';\nimport { transformExtent } from 'ol/proj';\nimport { MVT } from 'ol/format';\nimport { Style, Fill, Stroke } from 'ol/style';\nimport * as pmtiles from 'pmtiles';\nimport { FeatureLike } from 'ol/Feature';\nimport { Coordinate } from 'ol/coordinate';\n\nexport abstract class VectorLayerStyler {\n  public MinZ: number;\n  public MaxZ: number;\n\n  constructor(public chart: SKChart) {\n    this.MinZ =\n      chart.minZoom && chart.minZoom >= 0.1\n        ? chart.minZoom - 0.1\n        : chart.minZoom;\n    this.MaxZ = chart.maxZoom;\n  }\n\n  public abstract ApplyStyle(vectorLayer: VectorTileLayer<never>);\n  public abstract CreateLayer(): VectorTileLayer<never>;\n}\n\nclass S57LayerStyler extends VectorLayerStyler {\n  constructor(chart: SKChart, private s57service: S57Service) {\n    super(chart);\n  }\n\n  public CreateLayer(): VectorTileLayer<never> {\n    let extent: Extent = null;\n    if (this.chart.bounds && this.chart.bounds.length > 0) {\n      extent = transformExtent(this.chart.bounds, 'EPSG:4326', 'EPSG:3857');\n    }\n    return new VectorTileLayer({ declutter: true, extent: extent });\n  }\n\n  public ApplyStyle(vectorLayer: VectorTileLayer<never>) {\n    const source = new VectorTileSource({\n      url: this.chart.url,\n      minZoom: this.chart.minZoom,\n      maxZoom: this.chart.maxZoom,\n      format: new MVT({}),\n      tileSize: 256\n    });\n\n    const style = new S57Style(this.s57service);\n\n    vectorLayer.setSource(source as never);\n    vectorLayer.setPreload(0);\n    vectorLayer.setStyle(style.getStyle);\n    vectorLayer.setMinZoom(this.chart.minZoom);\n    vectorLayer.setMaxZoom(23);\n    vectorLayer.setRenderOrder(style.renderOrder);\n\n    this.s57service.refresh.subscribe(() => {\n      source.refresh();\n    });\n  }\n}\n\nclass DefaultLayerStyler extends VectorLayerStyler {\n  constructor(chart: SKChart) {\n    super(chart);\n  }\n\n  public CreateLayer(): VectorTileLayer<never> {\n    return new VectorTileLayer();\n  }\n\n  // apply default vector tile style\n  applyVectorStyle() {\n    return new Style({\n      fill: new Fill({\n        color: 'rgba(#224, 209, 14, 0.8)'\n      }),\n      stroke: new Stroke({\n        color: '#444',\n        width: 1\n      })\n    });\n  }\n\n  public ApplyStyle(vectorLayer: VectorTileLayer<never>) {\n    // mbtiles source\n    const source = new VectorTileSource({\n      url: this.chart.url,\n      format: new MVT({\n        layers:\n          this.chart.layers && this.chart.layers.length !== 0\n            ? this.chart.layers\n            : null\n      })\n    });\n\n    vectorLayer.setSource(source as never);\n    vectorLayer.setPreload(0);\n    vectorLayer.setStyle(this.applyVectorStyle);\n    vectorLayer.setMinZoom(this.MinZ);\n    vectorLayer.setMaxZoom(this.MaxZ);\n  }\n}\n\nclass PMLayerStyler extends DefaultLayerStyler {\n  constructor(chart: SKChart) {\n    super(chart);\n  }\n\n  public CreateLayer(): VectorTileLayer<never> {\n    return new VectorTileLayer({ declutter: true });\n  }\n\n  public ApplyStyle(vectorLayer: VectorTileLayer<never>) {\n    vectorLayer.set('declutter', true);\n    const tiles = new pmtiles.PMTiles(this.chart.url);\n\n    function loader(tile, url) {\n      // the URL construction is done internally by OL, so we need to parse it\n      // back out here using a hacky regex\n      const re = new RegExp(/pmtiles:\\/\\/(.+)\\/(\\d+)\\/(\\d+)\\/(\\d+)/);\n      const result = url.match(re);\n      const z = +result[2];\n      const x = +result[3];\n      const y = +result[4];\n\n      tile.setLoader((extent, resolution, projection) => {\n        tile.setState(1); // LOADING\n        tiles.getZxy(z, x, y).then((tile_result) => {\n          if (tile_result) {\n            const format = tile.getFormat();\n            const features = format.readFeatures(tile_result.data, {\n              //}.buffer, {\n              extent: extent,\n              featureProjection: projection\n            });\n            tile.setFeatures(features);\n            tile.setState(2); // LOADED\n          } else {\n            tile.setState(4); // EMPTY\n          }\n        });\n      });\n    }\n\n    const source = new VectorTileSource({\n      format: new MVT(),\n      url: 'pmtiles://' + this.chart.url + '/{z}/{x}/{y}',\n      tileLoadFunction: loader\n    });\n\n    vectorLayer.setSource(source as never);\n    vectorLayer.setPreload(0);\n    vectorLayer.setStyle(this.applyVectorStyle);\n    vectorLayer.setMinZoom(this.chart.minZoom);\n    vectorLayer.setMaxZoom(this.chart.maxZoom);\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VectorLayerStyleFactory {\n  constructor(private s57service: S57Service) {}\n  public CreateVectorLayerStyler(chart: SKChart): VectorLayerStyler {\n    if (chart.url.indexOf('.pmtiles') !== -1) {\n      return new PMLayerStyler(chart);\n    } else if (chart.type === 'S-57' || chart.type === 's-57') {\n      return new S57LayerStyler(chart, this.s57service);\n    } else {\n      return new DefaultLayerStyler(chart);\n    }\n  }\n}\n","  import { Position } from './types';\n  import { Convert } from './lib/convert';\n\n  // validate supplied settings against base config\n  export function validateConfig(settings: IAppConfig): boolean {\n    let result = true;\n    const skeys = Object.keys(settings);\n    Object.keys(DefaultConfig).forEach((i) => {\n      if (!skeys.includes(i)) {\n        result = false;\n      }\n    });\n    return result;\n  }\n\n  // clean loaded app config\n  export function cleanConfig(\n    settings: IAppConfig,\n    hostParams: { [key: string]: unknown }\n  ) {\n    if (typeof settings.fixedLocationMode === 'undefined') {\n      settings.fixedLocationMode = false;\n    }\n    if (typeof settings.fixedPosition === 'undefined') {\n      settings.fixedPosition = [0, 0];\n    }\n    if (typeof settings.muteSound === 'undefined') {\n      settings.muteSound = false;\n    }\n\n    if (typeof settings.selections === 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (settings as any).selections = {};\n    }\n\n    if (typeof settings.selections.vessel === 'undefined') {\n      settings.selections.vessel = {\n        trail: true,\n        windVectors: true,\n        laylines: false,\n        cogLine: 10,\n        aisCogLine: 10,\n        headingLineSize: -1\n      };\n    }\n    if (typeof settings.selections.vessel.laylines === 'undefined') {\n      settings.selections.vessel.laylines = false;\n    }\n    if (typeof settings.selections.vessel.aisCogLine === 'undefined') {\n      settings.selections.vessel.aisCogLine = 10;\n    }\n\n    if (typeof settings.selections.aisShowTrack === 'undefined') {\n      settings.selections.aisShowTrack = false;\n    }\n\n    if (typeof settings.selections.aisTargetTypes === 'undefined') {\n      settings.selections.aisTargetTypes = [];\n    }\n\n    if (typeof settings.selections.aisFilterByShipType === 'undefined') {\n      settings.selections.aisFilterByShipType = false;\n    }\n\n    if (typeof settings.selections.labelsMinZoom === 'undefined') {\n      settings.selections.labelsMinZoom = 10;\n    }\n\n    if (typeof settings.selections.aisWindMinZoom === 'undefined') {\n      settings.selections.aisWindMinZoom = 15;\n    }\n    if (typeof settings.selections.aisWindApparent === 'undefined') {\n      settings.selections.aisWindApparent = false;\n    }\n    if (typeof settings.selections.notesMinZoom === 'undefined') {\n      settings.selections.notesMinZoom = 10;\n    }\n    if (typeof settings.selections.preferredPaths === 'undefined') {\n      settings.selections.preferredPaths = {\n        tws: 'environment.wind.speedTrue',\n        twd: 'environment.wind.directionTrue',\n        heading: 'navigation.courseOverGroundTrue',\n        course: 'navigation.courseGreatCircle'\n      };\n    }\n    if (typeof settings.selections.preferredPaths.course === 'undefined') {\n      settings.selections.preferredPaths.course = 'navigation.courseGreatCircle';\n    }\n    if (typeof settings.selections.pluginFavourites === 'undefined') {\n      settings.selections['pluginFavourites'] = [];\n    }\n    if (typeof settings.selections.positionFormat === 'undefined') {\n      settings.selections['positionFormat'] = 'XY';\n    }\n    if (typeof settings.selections.chartOrder === 'undefined') {\n      settings.selections['chartOrder'] = [];\n    }\n    if (typeof settings.selections.tracks === 'undefined') {\n      settings.selections.tracks = [];\n    }\n    if (typeof settings.selections.trailDuration === 'undefined') {\n      settings.selections.trailDuration = 24;\n    }\n    if (typeof settings.selections.trailResolution === 'undefined') {\n      settings.selections.trailResolution = {\n        lastHour: '5s',\n        next23: '1m',\n        beyond24: '5m'\n      };\n    }\n    if (typeof settings.selections.resourceSets === 'undefined') {\n      settings.selections.resourceSets = {};\n    }\n    if (typeof settings.selections.aisMaxAge === 'undefined') {\n      settings.selections.aisMaxAge = 540000;\n    }\n    if (typeof settings.selections.aisStaleAge === 'undefined') {\n      settings.selections.aisStaleAge = 360000;\n    }\n    if (typeof settings.selections.aisProfile === 'undefined') {\n      settings.selections.aisProfile = 0;\n    }\n    if (typeof settings.selections.aisState === 'undefined') {\n      settings.selections.aisState = [];\n    }\n    if (typeof settings.selections.signalk === 'undefined') {\n      settings.selections.signalk = {\n        vessels: true,\n        atons: true,\n        aircraft: false,\n        sar: false,\n        meteo: true,\n        maxRadius: 0,\n        proxied: true\n      };\n    }\n    // force proxied = true for stored config.\n    settings.selections.signalk.proxied = true;\n\n    if (typeof settings.selections.signalk.meteo === 'undefined') {\n      settings.selections.signalk.meteo = true;\n    }\n    if (typeof settings.selections.wakeLock === 'undefined') {\n      settings.selections.wakeLock = false;\n    }\n\n    if (typeof settings.selections.course === 'undefined') {\n      settings.selections.course = {\n        autoNextPointOnArrival: false,\n        autoNextPointDelay: 5000,\n        autoNextPointTrigger: 'perpendicularPassed'\n      };\n    } else {\n      if (\n        typeof settings.selections.course.autoNextPointTrigger === 'undefined'\n      ) {\n        settings.selections.course.autoNextPointTrigger = 'perpendicularPassed';\n      }\n    }\n\n    if (typeof settings.selections.s57Options === 'undefined') {\n      settings.selections.s57Options = {\n        graphicsStyle: 'Paper',\n        boundaries: 'Plain',\n        colors: 4,\n        shallowDepth: 2,\n        safetyDepth: 3,\n        deepDepth: 6\n      };\n    }\n\n    if (typeof settings.map.limitZoom === 'undefined') {\n      settings.map.limitZoom = false;\n    }\n\n    if (typeof settings.map.invertColor === 'undefined') {\n      settings.map.invertColor = false;\n    }\n\n    if (typeof settings.map.lockMoveMap === 'undefined') {\n      settings.map.lockMoveMap = false;\n    }\n\n    if (typeof settings.anchorRadius === 'undefined') {\n      settings.anchorRadius = 40;\n    }\n    if (typeof settings.anchorSetRadius === 'undefined') {\n      settings.anchorSetRadius = false;\n    }\n    if (typeof settings.anchorManualSet === 'undefined') {\n      settings.anchorManualSet = false;\n    }\n    if (typeof settings.anchorRodeLength === 'undefined') {\n      settings.anchorRodeLength = 50;\n    }\n\n    if (typeof settings.toolBarButtons === 'undefined') {\n      settings.toolBarButtons = true;\n    }\n\n    if (typeof settings.units.temperature === 'undefined') {\n      settings.units.temperature = 'c';\n    }\n\n    if (typeof settings.plugins === 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (settings as any).plugins = {};\n    }\n    if (typeof settings.plugins.parameters === 'undefined') {\n      settings.plugins.parameters = null;\n    }\n\n    if (typeof settings.resources === 'undefined') {\n      settings.resources = {\n        fetchFilter:\n          '?position=[%map:longitude%,%map:latitude%]&distance=%fetch:radius%',\n        fetchRadius: 0,\n        notes: {\n          rootFilter:\n            '?position=[%map:longitude%,%map:latitude%]&distance=%note:radius%',\n          getRadius: 20,\n          groupNameEdit: false,\n          groupRequiresPosition: false\n        },\n        video: {\n          enable: false,\n          url: ''\n        },\n        paths: []\n      };\n    } else {\n      if (typeof settings.resources.video === 'undefined') {\n        settings.resources.video = { enable: false, url: '' };\n      }\n      if (typeof settings.resources.paths === 'undefined') {\n        settings.resources.paths = [];\n      }\n      if (typeof settings.resources.fetchFilter === 'undefined') {\n        settings.resources.fetchFilter =\n          '?position=[%map:longitude%,%map:latitude%]&distance=%fetch:radius%';\n      }\n      if (typeof settings.resources.fetchRadius === 'undefined') {\n        settings.resources.fetchRadius = 0;\n      }\n    }\n\n    // apply url params\n    if (typeof hostParams.northup !== 'undefined') {\n      settings.map.northUp = hostParams.northup === '0' ? false : true;\n    }\n    if (typeof hostParams.movemap !== 'undefined') {\n      settings.map.moveMap = hostParams.movemap === '0' ? false : true;\n    }\n    if (hostParams.zoom) {\n      try {\n        const z = parseInt(hostParams.zoom as string);\n        if (!isNaN(z)) {\n          settings.map.zoomLevel = z > 28 ? 28 : z < 1 ? 1 : z;\n        }\n      } catch (error) {\n        console.warn(\n          `Invalid zoom level parameter (${hostParams.zoom} supplied!`\n        );\n      }\n    }\n\n    //Remote Control Configs\n    if (typeof this.app.config.remoteControl === 'undefined') {\n      this.app.config.remoteControl = false;\n    }\n\n    //Autonomous Control Configs\n    if (typeof this.app.config.autonomousControl === 'undefined') {\n      this.app.config.autonomousControl = false;\n    }\n  }\n\n  // ** Default Configuration**\n  export const DefaultConfig: IAppConfig = {\n    chartApi: 1, // set by feature detection\n    experiments: false,\n    version: '',\n    darkMode: { enabled: false, source: 0 }, // source: 0= browser default, 1= Signal K mode, -1=manual)\n    map: {\n      // ** map config\n      zoomLevel: 2,\n      center: [0, 0],\n      rotation: 0,\n      moveMap: false,\n      lockMoveMap: true,\n      northUp: true,\n      animate: false,\n      limitZoom: false,\n      invertColor: false\n    },\n    fixedLocationMode: false,\n    fixedPosition: [0, 0],\n    aisTargets: true, // display ais targets\n    courseData: true, // show/hide course data\n    toolBarButtons: true, // show/hide toolbar buttons\n    \n    notes: true, // display notes\n    popoverMulti: false, // close popovers using cose button\n    mapDoubleClick: false, // true=zoom\n    muteSound: false,\n    depthAlarm: { enabled: false, smoothing: 10000 },\n    anchorRadius: 40, // most recent anchor radius setting\n    anchorSetRadius: false,\n    anchorManualSet: false, // checks manual set setting\n    anchorRodeLength: 50, // rode length setting\n    plugins: {\n      instruments: '/@signalk/instrumentpanel',\n      startOnOpen: true,\n      parameters: null\n    },\n    units: {\n      // ** display units\n      distance: 'm',\n      depth: 'm',\n      speed: 'kn',\n      temperature: 'c'\n    },\n    selections: {\n      // ** saved selections\n      routes: [],\n      waypoints: [],\n      tracks: null,\n      charts: ['openstreetmap', 'openseamap'],\n      notes: [],\n      chartOrder: [], // chart layer ordering\n      headingAttribute: 'navigation.headingTrue',\n      preferredPaths: {\n        tws: 'environment.wind.speedTrue',\n        twd: 'environment.wind.directionTrue',\n        heading: 'navigation.courseOverGroundTrue',\n        course: 'navigation.courseGreatCircle'\n      },\n      vessel: {\n        trail: false, // display trail\n        windVectors: true, // display vessel TWD, AWD vectors\n        laylines: false,\n        cogLine: 10, // self COG line time (mins)\n        aisCogLine: 10, // ais COG line time (mins)\n        headingLineSize: -1 // mode for display of heading line -1 = default\n      },\n      positionFormat: 'XY',\n      aisTargets: null,\n      aisTargetTypes: [],\n      aisFilterByShipType: false,\n      aisWindApparent: false,\n      aisWindMinZoom: 15,\n      aisShowTrack: false,\n      aisMaxAge: 540000, // time since last update in ms (9 min)\n      aisStaleAge: 360000, // time since last update in ms (6 min)\n      aisProfile: 0, // ais display profile\n      aisState: [], // list of ais state values used to filter targets\n      notesMinZoom: 10,\n      labelsMinZoom: 8,\n      pluginFavourites: [],\n      trailFromServer: false,\n      trailDuration: 24, // number of hours of trail to fetch from server\n      trailResolution: {\n        // resolution of server trail at defined time horizons\n        lastHour: '5s',\n        next23: '1m',\n        beyond24: '5m'\n      },\n      s57Options: {\n        graphicsStyle: 'Paper',\n        boundaries: 'Plain',\n        colors: 4,\n        shallowDepth: 2,\n        safetyDepth: 3,\n        deepDepth: 6\n      },\n      resourceSets: {}, // additional resources\n      signalk: {\n        // signal k connection options\n        vessels: true,\n        atons: true,\n        aircraft: false,\n        sar: false,\n        meteo: true,\n        maxRadius: 0, // max radius within which AIS targets are displayed\n        proxied: true // server behind a proxy server\n      },\n      wakeLock: false,\n      course: {\n        autoNextPointOnArrival: false,\n        autoNextPointDelay: 5000,\n        autoNextPointTrigger: 'perpendicularPassed'\n      },\n      remoteControl: false,\n      autonomousControl: false\n    },\n    resources: {\n      // ** resource options\n      fetchFilter:\n        '?position=[%map:longitude%,%map:latitude%]&distance=%fetch:radius%',\n      fetchRadius: 0, // radius (NM/km) within which to return resources\n      notes: {\n        rootFilter:\n          '?position=[%map:longitude%,%map:latitude%]&distance=%note:radius%', // param string to provide record filtering\n        getRadius: 20, // radius (NM/km) within which to return notes\n        groupNameEdit: false,\n        groupRequiresPosition: true\n      },\n      video: {\n        enable: false,\n        url: null\n      },\n      paths: []\n    }\n  };\n\n  export interface IAppConfig {\n    chartApi: number; // temp: use v{1|2}/api/resources/charts\n    experiments: boolean;\n    version: string;\n    darkMode: { enabled: boolean; source: 0 | 1 | -1 }; // source: 0= browser default, 1= Signal K mode, -1=manual)\n    map: {\n      // ** map config\n      zoomLevel: number;\n      center: Position;\n      rotation: number;\n      moveMap: boolean;\n      lockMoveMap: boolean;\n      northUp: boolean;\n      animate: boolean;\n      limitZoom: boolean;\n      invertColor: boolean;\n    };\n    fixedLocationMode: boolean;\n    fixedPosition: Position;\n    aisTargets: boolean; // display ais targets\n    courseData: boolean; // show/hide course data\n    toolBarButtons: boolean; // show/hide toolbar buttons\n    notes: boolean; // display notes\n    popoverMulti: boolean; // close popovers using cose button\n    mapDoubleClick: boolean; // true=zoom\n    muteSound: boolean;\n    depthAlarm: { enabled: boolean; smoothing: number };\n    anchorRadius: number; // most recent anchor radius setting\n    anchorSetRadius: boolean; // checks inital anchor radius setting\n    anchorManualSet: boolean; // checks manual set setting\n    anchorRodeLength: number; // rode length setting\n    plugins: {\n      instruments: string;\n      startOnOpen: boolean;\n      parameters: string | null;\n    };\n    units: {\n      // ** display units\n      distance: 'm' | 'ft';\n      depth: 'm' | 'ft';\n      speed: 'kn' | 'msec' | 'kmh' | 'mph';\n      temperature: 'c' | 'f';\n    };\n    selections: {\n      // ** saved selections\n      routes: string[];\n      waypoints: string[];\n      tracks: string[] | null;\n      charts: string[];\n      notes: string[];\n      chartOrder: string[]; // chart layer ordering\n      headingAttribute: 'navigation.headingTrue' | 'navigation.headingMagnetic';\n      preferredPaths: {\n        tws: string;\n        twd: string;\n        heading: string;\n        course: string;\n      };\n      vessel: {\n        trail: boolean; // display trail\n        windVectors: boolean; // display vessel TWD, AWD vectors\n        laylines: boolean;\n        cogLine: number; // (minutes) length = cogLine * sog\n        aisCogLine: number; // (minutes) length = cogLine * sog\n        headingLineSize: number; // mode for display of heading line -1 = default\n      };\n      positionFormat: 'XY' | 'SHDd' | 'HDd' | 'DMdH' | 'HDMS' | 'DHMS';\n      aisTargets: string[];\n      aisTargetTypes: number[];\n      aisFilterByShipType: boolean;\n      aisWindApparent: boolean;\n      aisWindMinZoom: number;\n      aisShowTrack: boolean;\n      aisMaxAge: number; // time since last update in ms (9 min)\n      aisStaleAge: number; // time since last update in ms (6 min)\n      aisProfile: number; // ais display profile\n      aisState: string[]; // list of ais state values used to filter targets\n      notesMinZoom: number;\n      labelsMinZoom: number;\n      pluginFavourites: string[];\n      trailFromServer: boolean;\n      trailDuration: number; // number of hours of trail to fetch from server\n      trailResolution: {\n        // resolution of server trail at defined time horizons\n        lastHour: string;\n        next23: string;\n        beyond24: string;\n      };\n      s57Options: {\n        graphicsStyle: 'Simplified' | 'Paper';\n        boundaries: 'Symbolized' | 'Plain';\n        colors: 2 | 4;\n        shallowDepth: number;\n        safetyDepth: number;\n        deepDepth: number;\n      };\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      resourceSets: { [key: string]: any }; // additional resources\n      signalk: {\n        // signal k connection options\n        vessels: boolean;\n        atons: boolean;\n        aircraft: boolean;\n        sar: boolean;\n        meteo: boolean;\n        maxRadius: number; // max radius within which AIS targets are displayed\n        proxied: boolean; // server behind a proxy server\n      };\n      wakeLock: boolean;\n      course: {\n        autoNextPointOnArrival: boolean;\n        autoNextPointDelay: number;\n        autoNextPointTrigger: 'perpendicularPassed' | 'arrivalCircleEntered';\n      };\n      remoteControl: boolean;\n      autonomousControl: boolean;\n    };\n    resources: {\n      // ** resource options\n      fetchFilter: string; // param string to provide record filtering\n      fetchRadius: number; // radius (NM/km) within which to return resources\n      notes: {\n        rootFilter: string; // param string to provide record filtering\n        getRadius: number; // radius (NM/km) within which to return notes\n        groupNameEdit: boolean;\n        groupRequiresPosition: boolean;\n      };\n      video: {\n        enable: boolean;\n        url: string | null;\n      };\n      paths: string[];\n    };\n  }\n\n  // ** process url tokens\n  export const processUrlTokens = (s: string, config: IAppConfig): string => {\n    if (!s) {\n      return s;\n    }\n    const ts = s.split('%');\n    if (ts.length > 1) {\n      const uts = ts.map((i) => {\n        if (i === 'map:latitude') {\n          return config.map.center[1];\n        } else if (i === 'map:longitude') {\n          return config.map.center[0];\n        } else if (i === 'map:zoom') {\n          return Math.floor(config.map.zoomLevel);\n        } else if (i === 'note:radius') {\n          const dist =\n            config.units.distance === 'm'\n              ? config.resources.notes.getRadius\n              : Math.floor(\n                  Convert.nauticalMilesToKm(config.resources.notes.getRadius)\n                );\n          return dist * 1000;\n        } else if (i === 'fetch:radius') {\n          const dist =\n            config.units.distance === 'm'\n              ? config.resources.notes.getRadius\n              : Math.floor(\n                  Convert.nauticalMilesToKm(config.resources.fetchRadius)\n                );\n          return dist * 1000;\n        } else {\n          return i;\n        }\n      });\n      s = uts.join('');\n    }\n    return s;\n  };\n","export * from './resources.service';\nexport * from './resource-classes';\nexport * from './resourceset-class';\nexport * from './resourceset-service';\n\nexport * from './components/active-resource-dialog';\nexport * from './components/signalk-details.component';\n\nexport * from './components/notes/notelist';\nexport * from './components/notes/note-dialog';\nexport * from './components/notes/relatednotes-dialog';\n\nexport * from './components/regions/region-dialog';\n\nexport * from './components/ais/aislist';\nexport * from './components/ais/ais-properties-modal';\nexport * from './components/ais/aton-properties-modal';\nexport * from './components/ais/aircraft-properties-modal';\n\nexport * from './components/charts/chartlist';\nexport * from './components/charts/chart-properties-dialog';\nexport * from './components/charts/wmts-dialog';\nexport * from './components/charts/wms-dialog';\nexport * from './components/charts/jsonmapsource-dialog';\n\nexport * from './components/tracks/tracklist';\nexport * from './components/tracks/track-dialog';\n\nexport * from './components/routes/routelist';\nexport * from './components/routes/route-dialog';\nexport * from './components/routes/build-route.component';\nexport { RouteNextPointComponent } from './components/routes/nextpoint.component';\n\nexport * from './components/waypoints/waypointlist';\nexport * from './components/waypoints/waypoint-dialog';\n\nexport * from './components/resourcesets/resourceset-list-modal';\nexport * from './components/resourcesets/resourceset-feature-properties-modal';\nexport * from './components/resourcesets/resource-upload-dialog';\n","import { Injectable, signal } from '@angular/core';\nimport { moveItemInArray } from '@angular/cdk/drag-drop';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Subject, Observable } from 'rxjs';\nimport ngeohash from 'ngeohash';\n\nimport { SignalKClient } from 'signalk-client-angular';\nimport { AppFacade, OSM } from 'src/app/app.facade';\nimport { GeoUtils } from 'src/app/lib/geoutils';\n\nimport { LoginDialog } from 'src/app/lib/components/dialogs';\nimport {\n  NoteDialog,\n  RegionDialog,\n  RouteDialog,\n  WaypointDialog,\n  RelatedNotesDialog,\n  TrackDialog\n} from '.';\nimport { SKResourceSet } from '.';\nimport { processUrlTokens } from 'src/app/app.settings';\n\nimport {\n  SKChart,\n  SKRoute,\n  SKWaypoint,\n  SKRegion,\n  SKNote,\n  SKTrack\n} from './resource-classes';\nimport {\n  Routes,\n  Waypoints,\n  Notes,\n  NoteResource,\n  Tracks,\n  Charts,\n  LineString,\n  SKPosition,\n  RouteResource,\n  WaypointResource,\n  RegionResource,\n  TrackResource,\n  FBNotes,\n  Position,\n  Regions,\n  FBResource,\n  ChartResource\n} from 'src/app/types';\nimport { PathValue } from '@signalk/server-api';\n\nexport type SKResourceType =\n  | 'routes'\n  | 'waypoints'\n  | 'regions'\n  | 'notes'\n  | 'charts';\n\n// ** Signal K resource operations\n@Injectable({ providedIn: 'root' })\nexport class SKResources {\n  private reOpen: { key?: string; value?: string; readOnly?: boolean };\n  private updateSource: Subject<unknown> = new Subject<unknown>();\n\n  constructor(\n    public dialog: MatDialog,\n    public signalk: SignalKClient,\n    public app: AppFacade\n  ) {}\n\n  // ** Observables **\n  public update$(): Observable<unknown> {\n    return this.updateSource.asObservable();\n  }\n\n  // ******** Resource cache operations ********************\n\n  /**\n   * @description Return reference to cache for supplied resource type\n   * @param collection\n   * @returns Reference to resource cache\n   */\n  private getCacheRef(collection: SKResourceType) {\n    switch (collection) {\n      case 'regions':\n        return this.regionCacheSignal;\n      /*case 'routes':\n        cache = [].concat(this.routeCacheSignal());\n        remove(id);\n        this.routeCacheSignal.set(cache);\n      case 'waypoints':\n        cache = [].concat(this.waypointCacheSignal());\n        remove(id);\n        this.waypointCacheSignal.set(cache);\n      case 'notes':\n        cache = [].concat(this.noteCacheSignal());\n        remove(id);\n        this.noteCacheSignal.set(cache);\n      case 'charts':\n        cache = [].concat(this.chartCacheSignal());\n        remove(id);\n        this.chartCacheSignal.set(cache);\n        */\n    }\n  }\n\n  /**\n   * @description Refresh the cache for the supplied Resource type\n   * @param collection Signal K resource collection type\n   * @param query (optional) Filter parameters\n   * @returns resolved promise true: successful, false: on error.\n   */\n  cacheRefresh(collection: SKResourceType, query?: string): Promise<boolean> {\n    query = query ?? '';\n    this.app.debug(`** cacheRefresh(${collection}, ${query})`);\n    return new Promise((resolve) => {\n      const resCache = this.getCacheRef(collection);\n      if (!resCache) {\n        resolve(false);\n      }\n      const skf = this.signalk.api.get(\n        this.app.skApiVersion,\n        `/resources/${collection}${query}`\n      );\n\n      skf?.subscribe(\n        (res: Routes | Waypoints | Regions | Notes | Charts) => {\n          switch (collection) {\n            /*case 'routes':\n              this.regionCacheRefresh(res as Regions);\n              break;\n              case 'waypoints':\n                this.regionCacheRefresh(res as Regions);\n                break;*/\n            case 'regions':\n              this.regionCacheRefresh(res as Regions);\n              break;\n            /*case 'notes':\n              this.regionCacheRefresh(res as Regions);\n              break;*/\n          }\n          resolve(true);\n        },\n        (error: HttpErrorResponse) => {\n          resolve(false);\n        }\n      );\n    });\n  }\n\n  /**\n   * @description Remove item(s) from the resource cache.\n   * @param collection Signal K resource collection type\n   * @param id resource identifier(s)\n   */\n  cacheRemove(collection: SKResourceType, id: string | string[]) {\n    this.app.debug(`** cacheRemove(${collection}, ${id})`);\n    const removeItem = (id: string) => {\n      let idx = cache.findIndex((item: FBResource) => item[0] === id);\n      if (idx !== -1) {\n        cache.splice(idx, 1);\n      }\n      if (this.app.config.selections[collection]) {\n        idx = this.app.config.selections[collection].indexOf(id);\n        if (idx !== -1) {\n          this.app.config.selections[collection].splice(idx, 1);\n        }\n      }\n    };\n    const remove = (id: string | string[]) => {\n      if (Array.isArray(id)) {\n        id.forEach((tid: string) => {\n          removeItem(tid);\n        });\n      } else {\n        removeItem(id);\n      }\n    };\n    const resCache = this.getCacheRef(collection);\n    if (!resCache) {\n      return;\n    }\n    const cache = [].concat(resCache());\n    remove(id);\n    resCache.set(cache);\n    this.app.saveConfig();\n  }\n\n  /**\n   * @description Fetch resource(s) from server and add to the cache\n   * @param ids Array of track ids to from server into the cache\n   */\n  cacheAddFromServer(collection: SKResourceType, id: string | string[]) {\n    this.app.debug(`** cacheAddFromServer(${collection}, ${id})`);\n    if (id && this.app.config.selections[collection]) {\n      id = !Array.isArray(id) ? [id] : id;\n      id.forEach((resId: string) => {\n        if (!this.app.config.selections[collection].includes(resId)) {\n          this.app.config.selections[collection].push(resId);\n        }\n      });\n      this.cacheRefresh(collection);\n    }\n  }\n\n  /**\n   * @description Retrieve cached resource entry (app.data)\n   * @params cache Resource cache to use (e.g. routes, etc.)\n   * @params id Resource identifier\n   * @returns resource entry\n   */\n  public fromCache(cache: SKResourceType, id: string) {\n    if (cache === 'regions') {\n      return this.regionCacheSignal().find((r) => r[0] === id);\n    } else {\n      if (!this.app.data[cache] || !Array.isArray(this.app.data[cache])) {\n        return;\n      }\n      const item = this.app.data[cache].find((i) => i[0] === id);\n      return item ?? undefined;\n    }\n  }\n\n  /**\n   * @description Retrieve cached Resource Set | feature at index (app.data)\n   * @params id Map feature id.\n   * @params getFeature  true = return Feature entry, false = return whole RecordSet\n   * @returns Feature OR Resource Set.\n   * @deprecated\n   */\n  public resSetFromCache(mapFeatureId: string, getFeature?: boolean) {\n    const t = mapFeatureId.split('.');\n    if (t[0] !== 'rset') {\n      return;\n    }\n    const collection = t[1];\n    const rSetId = t[2];\n    const index = Number(t[t.length - 1]);\n    if (\n      !this.app.data.resourceSets[collection] ||\n      !Array.isArray(this.app.data.resourceSets[collection])\n    ) {\n      return;\n    }\n    const item = this.app.data.resourceSets[collection].filter(\n      (i: SKResourceSet) => i.id === rSetId\n    )[0];\n    return getFeature ? item.values.features[index] : item;\n  }\n\n  // ******** SK Resource operations ********************\n\n  /**\n   * @description Fetch resource with specified identifier from Signal K server.\n   * @param collection The resource collection to which the resource belongs e.g. routes, waypoints, etc.\n   * @param id  Resource identifier\n   * @returns resolved Promise on success, rejects with HTTPErrorResponse\n   */\n  public fromServer(collection: SKResourceType, id: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.signalk.api\n        .get(this.app.skApiVersion, `/resources/${collection}/${id}`)\n        .subscribe(\n          (res) => resolve(this.transform(collection, res, id)),\n          (err: HttpErrorResponse) => reject(err)\n        );\n    });\n  }\n\n  /**\n   * @description Transform Resource response to instance of a Resource Class\n   * @param collection\n   * @param resource\n   * @param id\n   * @returns\n   */\n  private transform(\n    collection: SKResourceType,\n    resource:\n      | RouteResource\n      | WaypointResource\n      | RegionResource\n      | NoteResource\n      | ChartResource,\n    id: string\n  ): SKRoute | SKWaypoint | SKRegion | SKNote | SKChart {\n    switch (collection) {\n      case 'regions':\n        return this.transformRegion(resource as RegionResource, id);\n      /*case 'routes':\n        return this.transformRute((resource as RouteResource), id);\n      case 'waypoints':\n        return this.transformWaypoint((resource as WaypointResource), id);\n      case 'notes':\n        return this.transformNote((resource as NoteResource), id);\n      case 'charts':\n        return this.transformChart((resource as ChartResource), id);\n        */\n    }\n  }\n\n  /**\n   * @description Delete resource from server\n   * @param collection\n   * @param id\n   * @returns resolved Promise on success, rejects with HTTPErrorResponse\n   */\n  public deleteFromServer(\n    collection: SKResourceType | 'tracks',\n    id: string\n  ): Promise<void> {\n    return new Promise((resolve, reject) => {\n      this.signalk.api\n        .delete(this.app.skApiVersion, `/resources/${collection}/${id}`)\n        .subscribe(\n          () => resolve(),\n          (err: HttpErrorResponse) => reject(err)\n        );\n    });\n  }\n\n  /**\n   * @description Put resource to server\n   * @param collection\n   * @param id Resource identifier\n   * @param data Resource data\n   * @returns resolved Promise containing response on success, rejects with HTTPErrorResponse\n   */\n  public putToServer(\n    collection: SKResourceType,\n    id: string,\n    data: SKRoute | SKWaypoint | SKRegion | SKNote | SKChart\n  ): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.signalk.api\n        .put(this.app.skApiVersion, `/resources/${collection}/${id}`, data)\n        .subscribe(\n          (res) => resolve(res),\n          (err: HttpErrorResponse) => reject(err)\n        );\n    });\n  }\n\n  /**\n   * @description Post resource to server\n   * @param collection\n   * @param data Resource data\n   * @returns resolved Promise containing response on success, rejects with HTTPErrorResponse\n   */\n  public postToServer(\n    collection: SKResourceType | 'tracks',\n    data:\n      | RouteResource\n      | WaypointResource\n      | RegionResource\n      | NoteResource\n      | ChartResource\n      | any // track\n  ): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.signalk.api\n        .post(this.app.skApiVersion, `/resources/${collection}`, data)\n        .subscribe(\n          (res) => resolve(res),\n          (err: HttpErrorResponse) => reject(err)\n        );\n    });\n  }\n\n  /**\n   * @description Fetch resource from Signal K server (used by getNotes).\n   * @param collection The resource collection to which the resource belongs e.g. routes, waypoints, etc.\n   * @param id  Resource identifier\n   * @returns Observable<HttpResponse>\n   * @deprecated Replaced by fromServer()\n   */\n  public fetchResource(collection: SKResourceType, id: string) {\n    return this.signalk.api.get(\n      this.app.skApiVersion,\n      `/resources/${collection}/${id}`\n    );\n  }\n\n  /** Submit new resource request to Signal K server.\n   * @param collection The resource collection to which the resource belongs e.g. routes, waypoints, etc.\n   * @param data  Signal K resource entry data.\n   * @param select  determines if resource should be selected for display on map.\n   * @returns Promise<boolean> Resolves true if successful, resolves false if error.\n   * @deprecated Use postToServer\n   */\n  public postResource(collection: string, data: unknown, select?: boolean) {\n    return new Promise((resolve) => {\n      this.signalk.api\n        .post(this.app.skApiVersion, `/resources/${collection}`, data)\n        .subscribe(\n          (res: { id: string }) => {\n            if (select && this.app.config.selections[collection]) {\n              this.app.config.selections[collection].push(res.id);\n            }\n            if (collection === 'routes') {\n              this.app.data.buildRoute.show = false;\n            }\n            resolve(true);\n          },\n          (err: HttpErrorResponse) => {\n            if (err.status && err.status === 401) {\n              // unauthorised\n              this.showAuth().subscribe((res) => {\n                if (res.cancel) {\n                  this.authResult();\n                } else {\n                  // ** authenticate\n                  this.signalk.login(res.user, res.pwd).subscribe(\n                    (r) => {\n                      // ** authenticated\n                      this.authResult(r['token']);\n                      this.postResource(collection, data, select);\n                    },\n                    () => {\n                      // ** auth failed\n                      this.authResult();\n                      this.showAuth();\n                    }\n                  );\n                }\n              });\n            } else {\n              this.app.showAlert(\n                'ERROR:',\n                `Could not add Resource!\\n${err.error.message}`\n              );\n            }\n            resolve(false);\n          }\n        );\n    });\n  }\n\n  /** Submit update resource request to Signal K server.\n   * @param collection The resource collection to which the resource belongs e.g. routes, waypoints, etc.\n   * @param id Resource identifier\n   * @param data  Signal K resource entry data.\n   * @param select  determines if resource should be selected for display on map.\n   * @returns Promise<boolean> Resolves true if successful, resolves false if error.\n   * @deprecated Use putToServer\n   */\n  public putResource(\n    collection: string,\n    id: string,\n    data: unknown,\n    select?: boolean\n  ): Promise<boolean> {\n    return new Promise((resolve) => {\n      this.signalk.api\n        .put(this.app.skApiVersion, `/resources/${collection}/${id}`, data)\n        .subscribe(\n          () => {\n            if (select && this.app.config.selections[collection]) {\n              this.app.config.selections[collection].push(id);\n            }\n            if (collection === 'routes') {\n              this.app.data.buildRoute.show = false;\n            }\n            resolve(true);\n          },\n          (err: HttpErrorResponse) => {\n            if (err.status && err.status === 401) {\n              // unauthorised\n              this.showAuth().subscribe((res) => {\n                if (res.cancel) {\n                  this.authResult();\n                } else {\n                  // ** authenticate\n                  this.signalk.login(res.user, res.pwd).subscribe(\n                    (r) => {\n                      // ** authenticated\n                      this.authResult(r['token']);\n                      this.putResource(collection, id, data, select);\n                    },\n                    () => {\n                      // ** auth failed\n                      this.authResult();\n                      this.showAuth();\n                    }\n                  );\n                }\n              });\n            } else {\n              this.app.showAlert(\n                'ERROR:',\n                `Could not update Resource!\\n${err.error.message}`\n              );\n            }\n            resolve(false);\n          }\n        );\n    });\n  }\n\n  /** Delete resource from server and update selections.\n   * @param collection The resource collection to which the resource belongs e.g. routes, waypoints, etc.\n   * @param id Resource identifier\n   * @param refresh @optional If true refreshes charts collection\n   * @returns Promise<boolean> Resolves true if successful, resolves false if error.\n   * @deprecated Use deleteFromServer\n   */\n  public deleteResource(\n    collection: string,\n    id: string,\n    refresh?: boolean\n  ): Promise<boolean> {\n    return new Promise((resolve) => {\n      this.signalk.api\n        .delete(this.app.skApiVersion, `/resources/${collection}/${id}`)\n        .subscribe(\n          () => {\n            if (\n              this.app.config.selections[collection] &&\n              this.app.config.selections[collection].includes(id)\n            ) {\n              const idx = this.app.config.selections[collection].indexOf(id);\n              this.app.config.selections[collection].splice(idx, 1);\n            }\n            if (refresh && collection === 'charts') {\n              this.getCharts();\n            }\n            resolve(true);\n          },\n          (err: HttpErrorResponse) => {\n            if (err.status && err.status === 401) {\n              // unauthorised\n              this.showAuth().subscribe((res) => {\n                if (res.cancel) {\n                  this.authResult();\n                } else {\n                  // ** authenticate\n                  this.signalk.login(res.user, res.pwd).subscribe(\n                    (r) => {\n                      // ** authenticated\n                      this.authResult(r['token']);\n                      this.deleteResource(collection, id);\n                    },\n                    () => {\n                      // ** auth failed\n                      this.authResult();\n                      this.showAuth();\n                    }\n                  );\n                }\n              });\n            } else {\n              this.app.showAlert(\n                'ERROR:',\n                `Could not delete Resource!\\n${err.error.message}`\n              );\n            }\n            resolve(false);\n          }\n        );\n    });\n  }\n\n  /** Process Resource Delta message *\n   * @param msg Array of PathValue objects\n   */\n  processDelta(msg: Array<PathValue>) {\n    if (!Array.isArray(msg)) {\n      return;\n    }\n    const action = {\n      routes: false,\n      waypoints: false,\n      notes: false,\n      regions: false\n    };\n    msg.forEach((item) => {\n      const p = item.path.split('.');\n      if (p.length === 3) {\n        const collection = p[1];\n        const id = p[2];\n        const deleted = !item.value ? true : false;\n\n        // in-scope resource types\n        if (['waypoints', 'routes', 'notes', 'regions'].includes(collection)) {\n          action[collection] = true;\n          if (!deleted) {\n            // check for existing entry\n            if (!this.fromCache(collection as SKResourceType, id)) {\n              // select to display new entry on map\n              if (this.app.config.selections[collection]) {\n                this.app.config.selections[collection].push(id);\n                this.app.saveConfig();\n              }\n            }\n          }\n        }\n      }\n    });\n\n    if (action['routes']) {\n      this.getRoutes();\n    }\n    if (action['waypoints']) {\n      this.getWaypoints();\n    }\n    if (action['regions']) {\n      this.fetchRegions();\n    }\n    if (action['notes']) {\n      this.getNotes();\n    }\n  }\n\n  // ******** Course methods ****************************\n\n  // ** course.activateRoute **\n  activateRoute(\n    id: string,\n    activeId?: string,\n    startPoint = 0,\n    reverse = false\n  ) {\n    const context = activeId ? activeId : 'self';\n\n    this.signalk.api\n      .putWithContext(\n        this.app.skApiVersion,\n        context,\n        'navigation/course/activeRoute',\n        {\n          href: `/resources/routes/${id}`,\n          reverse: reverse,\n          pointIndex: startPoint\n        }\n      )\n      .subscribe(\n        () => {\n          this.app.debug('res.activateRoute()');\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.activateRoute(id, activeId, startPoint);\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          } else {\n            this.app.showAlert(\n              'ERROR:',\n              `Server could not activate route!\\n${err.error.message}`\n            );\n          }\n        }\n      );\n  }\n\n  // ** clear course **\n  clearCourse(activeId?: string) {\n    const context = activeId ? activeId : 'self';\n\n    this.signalk.api\n      .delete(this.app.skApiVersion, `vessels/${context}/navigation/course`)\n      .subscribe(\n        () => {\n          this.app.debug('res.clearDestination()');\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.clearCourse(activeId);\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          } else {\n            this.app.showAlert(\n              'ERROR:',\n              `Server could not clear destination / active route!\\n${err.error.message}`\n            );\n          }\n        }\n      );\n  }\n\n  // ** course.destination **\n  setDestination(href: string, activeId?: string);\n  setDestination(pt: SKPosition, activeId?: string);\n  setDestination(value, activeId?: string) {\n    const context = activeId ? activeId : 'self';\n    let v;\n    if (typeof value === 'string') {\n      //href\n      v = { href: value };\n    } else {\n      // position\n      v = { position: value };\n    }\n    this.signalk.api\n      .putWithContext(\n        this.app.skApiVersion,\n        context,\n        'navigation/course/destination',\n        v\n      )\n      .subscribe(\n        () => {\n          this.app.debug(`res.setDestination()`);\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.setDestination(value, activeId);\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          } else {\n            this.app.showAlert(\n              'ERROR:',\n              `Server could not set destination!\\n\\n${err.error.message}\\nEnsure vessel position is available.`\n            );\n          }\n        }\n      );\n  }\n\n  // ** course.restart **\n  courseRestart(activeId?: string) {\n    const context = activeId ? activeId : 'self';\n    this.signalk.api\n      .putWithContext(\n        this.app.skApiVersion,\n        context,\n        'navigation/course/restart',\n        null\n      )\n      .subscribe(\n        () => {\n          this.app.debug('res.courseRestart()');\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.courseRestart(activeId);\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          }\n        }\n      );\n  }\n\n  // ** course.activeRoute.refresh **\n  courseRefresh(activeId?: string) {\n    const context = activeId ? activeId : 'self';\n    this.signalk.api\n      .putWithContext(\n        this.app.skApiVersion,\n        context,\n        'navigation/course/activeRoute/refresh',\n        null\n      )\n      .subscribe(\n        () => {\n          this.app.debug('res.courseRefresh()');\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.courseRefresh();\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          } else {\n            this.app.showAlert(\n              'ERROR:',\n              `Server could not restart course!\\n${err.error.message}`\n            );\n          }\n        }\n      );\n  }\n\n  // ** course.activeRoute.reverse **\n  courseReverse(activeId?: string) {\n    const context = activeId ? activeId : 'self';\n    this.signalk.api\n      .putWithContext(\n        this.app.skApiVersion,\n        context,\n        'navigation/course/activeRoute/reverse',\n        null\n      )\n      .subscribe(\n        () => {\n          this.app.debug('res.courseReverse()');\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.courseRestart(activeId);\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          } else {\n            this.app.showAlert(\n              'ERROR:',\n              `Server could not reverse course!\\n${err.error.message}`\n            );\n          }\n        }\n      );\n  }\n\n  // ** course.activeRoute.pointIndex **\n  coursePointIndex(pointIndex: number, activeId?: string) {\n    const context = activeId ? activeId : 'self';\n\n    this.signalk.api\n      .putWithContext(\n        this.app.skApiVersion,\n        context,\n        `navigation/course/activeRoute/pointIndex`,\n        {\n          value: pointIndex\n        }\n      )\n      .subscribe(\n        () => undefined,\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.coursePointIndex(pointIndex, activeId);\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          } else {\n            this.app.showAlert(\n              'ERROR:',\n              `Server could not set next point!\\n${err.error.message}`\n            );\n          }\n        }\n      );\n  }\n\n  // ****************************************************\n\n  // ** update resource selection data from config (used post server config load)\n  alignResourceSelections(saveConfig = false) {\n    // charts\n    this.app.data.charts.forEach((i) => {\n      i[2] = this.app.config.selections.charts.includes(i[0]) ? true : false;\n    });\n    // routes\n    this.app.data.routes.forEach((i) => {\n      i[2] = this.app.config.selections.routes.includes(i[0]) ? true : false;\n    });\n    // waypoints\n    this.app.data.waypoints.forEach((i) => {\n      i[2] = this.app.config.selections.waypoints.includes(i[0]) ? true : false;\n    });\n\n    if (saveConfig) {\n      this.app.saveConfig();\n    }\n    this.updateSource.next({ action: 'selected', mode: 'chart' });\n    this.updateSource.next({ action: 'selected', mode: 'route' });\n    this.updateSource.next({ action: 'selected', mode: 'waypoint' });\n  }\n\n  // ** UI methods **\n  routeSelected() {\n    this.app.config.selections.routes = this.app.data.routes\n      .filter((i) => i[2])\n      .map((i) => i[0]);\n    this.app.saveConfig();\n    this.updateSource.next({ action: 'selected', mode: 'route' });\n  }\n\n  waypointSelected() {\n    this.app.config.selections.waypoints = this.app.data.waypoints\n      .filter((i) => i[2])\n      .map((i) => i[0]);\n    this.app.saveConfig();\n    this.updateSource.next({ action: 'selected', mode: 'waypoint' });\n  }\n\n  noteSelected(e: { id: string; isGroup: boolean }) {\n    if (e.isGroup) {\n      this.showRelatedNotes(e.id, 'group');\n    } else {\n      this.showNoteInfo({ id: e.id });\n    }\n    this.updateSource.next({ action: 'selected', mode: 'note' });\n  }\n\n  aisSelected(e: string[] | null) {\n    this.app.config.selections.aisTargets = e;\n    this.app.saveConfig();\n    this.updateSource.next({ action: 'selected', mode: 'ais' });\n  }\n\n  chartSelected() {\n    this.app.config.selections.charts = this.app.data.charts\n      .filter((i) => i[2])\n      .map((i) => i[0]);\n    // set map zoom extent\n    this.setMapZoomRange();\n    this.app.saveConfig();\n    this.updateSource.next({ action: 'selected', mode: 'chart' });\n  }\n\n  chartOrder() {\n    this.updateSource.next({ action: 'selected', mode: 'chart' });\n  }\n\n  // ** Set waypoint as nextPoint **\n  navigateToWaypoint(e: { id: string }) {\n    this.setDestination(`/resources/waypoints/${e.id}`);\n  }\n\n  // ** handle display resource properties **\n  resourceProperties(r: { id: string; type: string }) {\n    switch (r.type) {\n      case 'waypoint':\n        this.showWaypointEditor(r);\n        break;\n      case 'route':\n        this.showRouteInfo(r);\n        break;\n      case 'note':\n        this.showNoteInfo(r);\n        break;\n      case 'region':\n        this.updateRegionInfo(r.id);\n        break;\n      case 'track':\n        const track = this.trackCacheSignal().find(\n          (trk: SKTrack) => trk.feature?.id === r.id\n        );\n        this.showTrackInfo(track);\n        break;\n    }\n  }\n\n  // **** TRACKS ****\n\n  /** \n   @description Display Track properties dialog\n   @param id Track\n  */\n  showTrackInfo(track: SKTrack) {\n    if (!track) {\n      this.app.showAlert('Error', 'Unable to retrieve Track details!');\n      return;\n    }\n    this.dialog\n      .open(TrackDialog, {\n        disableClose: true,\n        data: {\n          // clone track for editing\n          track: Object.assign(\n            Object.create(Object.getPrototypeOf(track)),\n            track\n          )\n        }\n      })\n      .afterClosed()\n      .subscribe((r: { save: boolean; track: SKTrack }) => {\n        if (r.save) {\n          this.putResource('tracks', track.feature.id, track);\n        }\n      });\n  }\n\n  private trackCacheSignal = signal([]);\n  readonly tracks = this.trackCacheSignal.asReadonly();\n\n  /**\n   * @description Sets selections list = null.\n   * @param value true: set cache to unfiltered, false: set cache to filtered\n   * @param  ids (optional) Array of track ids to add to selection list\n   */\n  trackCacheUnfilter(value: boolean, ids?: string[]) {\n    const changed =\n      (value && Array.isArray(this.app.config.selections.tracks)) ||\n      (!value && !Array.isArray(this.app.config.selections.tracks));\n    if (!changed) {\n      return;\n    }\n    if (value) {\n      this.app.config.selections.tracks = null;\n    } else {\n      this.app.config.selections.tracks = Array.isArray(ids) ? ids : [];\n    }\n    this.app.saveConfig();\n    this.trackCacheRefresh();\n  }\n\n  /**\n   * @description Returns if track cache is unfiltered.\n   * @returns true: is filtered, false: not filtered.\n   */\n  trackCacheIsUnfiltered(): boolean {\n    return !Array.isArray(this.app.config.selections.tracks);\n  }\n\n  /**\n   * @description Loads the resource cache with only the tracks selected for display.\n   * @returns Resolved Promise true: success, false: error.\n   */\n  trackCacheRefresh(): Promise<boolean> {\n    return new Promise((resolve) => {\n      this.signalk.api\n        .get(this.app.skApiVersion, `/resources/tracks`)\n        .subscribe(\n          (tracks: Tracks) => {\n            const tc = Object.entries(tracks)\n              .map((trk: [string, TrackResource]) => {\n                const track = new SKTrack(trk[1]);\n                track.feature.id = trk[0].toString();\n                return this.trackCacheIsUnfiltered() ||\n                  this.app.config.selections.tracks?.includes(trk[0])\n                  ? track\n                  : null;\n              })\n              .filter((item: SKTrack) => {\n                return item ? true : false;\n              });\n            this.trackCacheSignal.set(tc);\n            resolve(true);\n          },\n          (error: HttpErrorResponse) => {\n            resolve(false);\n          }\n        );\n    });\n  }\n\n  /**\n   * @param ids Array of track ids to from server into the cache\n   */\n  trackCacheFetchIds(ids: string[]) {\n    if (!this.trackCacheIsUnfiltered()) {\n      ids.forEach((id) => {\n        if (!this.app.config.selections.tracks?.includes(id)) {\n          this.app.config.selections.tracks.push(id);\n        }\n      });\n    }\n    this.trackCacheRefresh();\n  }\n\n  /**\n   * @description Adds track to the resource cache and update selections list. Emits update$ event.\n   * @param track Track(s)\n   */\n  trackCacheAdd(track: SKTrack | SKTrack[]) {\n    const addItem = (track: SKTrack) => {\n      if (!track.feature?.id) {\n        return;\n      }\n      const etrk = tc.find(\n        (item: SKTrack) => item.feature?.id === track.feature?.id\n      );\n      if (!etrk) {\n        tc.push(track);\n        if (\n          !this.trackCacheIsUnfiltered() &&\n          !this.app.config.selections.tracks?.includes(track.feature?.id)\n        ) {\n          this.app.config.selections.tracks.push(track.feature?.id);\n        }\n      }\n    };\n\n    const tc = [].concat(this.trackCacheSignal());\n    if (Array.isArray(track)) {\n      track.forEach((trk: SKTrack) => {\n        addItem(trk);\n      });\n    } else {\n      addItem(track);\n    }\n    this.app.saveConfig();\n    this.trackCacheSignal.set(tc);\n  }\n\n  /**\n   * @description Remove track from the resource cache and update selections list. Emits update$ event.\n   * @param id Track identifier(s)\n   */\n  trackCacheRemove(id: string | string[]) {\n    const removeItem = (id: string) => {\n      let idx = tc.findIndex((item: SKTrack) => item.feature?.id === id);\n      if (idx !== -1) {\n        tc.splice(idx, 1);\n      }\n      if (!this.trackCacheIsUnfiltered()) {\n        idx = this.app.config.selections.tracks.indexOf(id);\n        if (idx !== -1) {\n          this.app.config.selections.tracks.splice(idx, 1);\n        }\n      }\n    };\n\n    const tc = [].concat(this.trackCacheSignal());\n    if (Array.isArray(id)) {\n      id.forEach((tid: string) => {\n        removeItem(tid);\n      });\n    } else {\n      removeItem(id);\n    }\n    this.app.saveConfig();\n    this.trackCacheSignal.set(tc);\n  }\n\n  /**\n   * @description Clear track resource cache and update selections list. Emits update$ event.\n   */\n  trackCacheClear() {\n    this.trackCacheSignal.set([]);\n    if (!this.trackCacheIsUnfiltered()) {\n      this.app.config.selections.tracks = [];\n    }\n    this.app.saveConfig();\n  }\n\n  /** get vessel trail from sk server */\n  getVesselTrail() {\n    this.app.fetchTrailFromServer();\n  }\n\n  // **** CHARTS ****\n\n  /** calc aggregated min-max zoom from selected charts */\n  setMapZoomRange(useDefault?: boolean) {\n    const defaultExtent = {\n      min: 2,\n      max: 28\n    };\n    if (useDefault || !this.app.config.map.limitZoom) {\n      this.app.MAP_ZOOM_EXTENT = defaultExtent;\n    } else {\n      const derivedExtent = {\n        min: 1000,\n        max: -1\n      };\n      this.app.data.charts.forEach((c) => {\n        if (c[2]) {\n          // selected\n          if (c[1].minZoom < derivedExtent.min) {\n            derivedExtent.min = c[1].minZoom;\n          }\n          if (c[1].maxZoom > derivedExtent.max) {\n            derivedExtent.max = c[1].maxZoom;\n          }\n        }\n        this.app.MAP_ZOOM_EXTENT.min =\n          derivedExtent.min === 1000 ? defaultExtent.min : derivedExtent.min;\n        this.app.MAP_ZOOM_EXTENT.max =\n          derivedExtent.max === -1 ? defaultExtent.max : derivedExtent.max;\n      });\n      this.app.debug('*** MAP_ZOOM_EXTENT', this.app.MAP_ZOOM_EXTENT);\n    }\n  }\n\n  // ** Confirm Chart Deletion **\n  showChartDelete(e: { id: string }) {\n    this.app\n      .showConfirm(\n        'Do you want to delete this Chart source?\\n',\n        'Delete Chart:',\n        'YES',\n        'NO'\n      )\n      .subscribe((result: { ok: boolean }) => {\n        if (result && result.ok) {\n          this.deleteResource('charts', e.id, true);\n        }\n      });\n  }\n\n  OSMCharts = [].concat(OSM);\n  // ** get charts from sk server\n  getCharts(apiVersion = this.app.config.chartApi ?? 1) {\n    // fetch charts from server\n    this.signalk.api.get(apiVersion, `/resources/charts`).subscribe(\n      (res: Charts) => {\n        this.app.data.charts = [];\n        // add OpenSeaMap\n        this.OSMCharts[1][2] = this.app.config.selections.charts.includes(\n          'openseamap'\n        )\n          ? true\n          : false;\n        this.app.data.charts.push(this.OSMCharts[1]);\n\n        const r = Object.entries(res);\n        if (r.length > 0) {\n          // ** process attributes\n          r.forEach((i) => {\n            // v1->2 alignment\n            if (i[1].tilemapUrl) {\n              i[1].url = i[1].tilemapUrl;\n            }\n            if (i[1].chartLayers) {\n              i[1].layers = i[1].chartLayers;\n            }\n            if (i[1].serverType && !i[1].type) {\n              i[1].type = i[1].serverType;\n            }\n\n            // test for SK chart record\n            if (i[1].type) {\n              // ** ensure host is in url\n              if (\n                i[1]['url'][0] === '/' ||\n                i[1]['url'].slice(0, 4) !== 'http'\n              ) {\n                i[1]['url'] = this.app.host + i[1]['url'];\n              }\n              this.app.data.charts.push([\n                i[0],\n                new SKChart(i[1]),\n                this.app.config.selections.charts.includes(i[0]) ? true : false\n              ]);\n            }\n          });\n          // ** sort by scale\n          this.sortByScaleDesc();\n        }\n        // insert OStreetM at start of list\n        this.OSMCharts[0][2] = this.app.config.selections.charts.includes(\n          'openstreetmap'\n        )\n          ? true\n          : false;\n        this.app.data.charts.unshift(this.OSMCharts[0]);\n\n        // ** clean up selections\n        this.app.config.selections.charts = this.app.data.charts\n          .map((i: [string, SKChart, boolean]) => {\n            return i[2] ? i[0] : null;\n          })\n          .filter((i: string) => {\n            return i;\n          });\n\n        // arrange the chart layers\n        this.arrangeChartLayers();\n\n        // set map zoom extent\n        this.setMapZoomRange();\n\n        // emit update\n        this.updateSource.next({ action: 'get', mode: 'chart' });\n      },\n      () => {\n        const dc = [];\n        // insert OStreetM at start of list\n        this.OSMCharts[0][2] = this.app.config.selections.charts.includes(\n          'openstreetmap'\n        )\n          ? true\n          : false;\n        dc.push(this.OSMCharts[0]);\n        // add OpenSeaMap\n        this.OSMCharts[1][2] = this.app.config.selections.charts.includes(\n          'openseamap'\n        )\n          ? true\n          : false;\n        dc.push(this.OSMCharts[1]);\n        this.app.data.charts = dc;\n        // set map zoom extent\n        this.setMapZoomRange();\n      }\n    );\n  }\n\n  // ** sort charts by scale descending .\n  private sortByScaleDesc() {\n    this.app.data.charts.sort((a: [string, SKChart], b: [string, SKChart]) => {\n      return b[1].scale - a[1].scale;\n    });\n  }\n\n  // ** arrange charts by layer order.\n  public arrangeChartLayers() {\n    const chartOrder = this.app.config.selections.chartOrder;\n    if (chartOrder && Array.isArray(chartOrder) && chartOrder.length !== 0) {\n      for (let destidx = 0; destidx < chartOrder.length; destidx++) {\n        let srcidx = -1;\n        let idx = 0;\n        this.app.data.charts.forEach((c: [string, SKChart]) => {\n          if (c[0] === chartOrder[destidx]) {\n            srcidx = idx;\n          }\n          idx++;\n        });\n        if (srcidx !== -1) {\n          moveItemInArray(this.app.data.charts, srcidx, destidx + 1);\n        }\n      }\n    }\n  }\n\n  // **** ROUTES ****\n\n  // v2 transformation\n  transformRoute(r: RouteResource, id: string): RouteResource {\n    // parse as v2\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (typeof (r as any).start !== 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      delete (r as any).start;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (typeof (r as any).end !== 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      delete (r as any).end;\n    }\n    if (typeof r.name === 'undefined') {\n      r.name = 'Rte-' + id.slice(-6);\n    }\n    if (typeof r.feature?.properties?.points !== 'undefined') {\n      // check for v2 array\n      if (!Array.isArray(r.feature.properties.points)) {\n        // legacy format\n        if (\n          r.feature.properties.points.names &&\n          Array.isArray(r.feature.properties.points.names)\n        ) {\n          const pts = [];\n          r.feature.properties.points.names.forEach((pt: string) => {\n            if (pt) {\n              pts.push({ name: pt });\n            } else {\n              pts.push({ name: '' });\n            }\n          });\n          r.feature.properties.coordinatesMeta = pts;\n          delete r.feature.properties.points;\n        }\n      }\n    }\n    // ensure coords & coordsMeta array lengths are aligned\n    if (\n      r.feature.properties.coordinatesMeta &&\n      r.feature.properties.coordinatesMeta.length !==\n        r.feature.geometry.coordinates.length\n    ) {\n      delete r.feature.properties.coordinatesMeta;\n    }\n    return r;\n  }\n\n  // ** get routes from sk server\n  getRoutes() {\n    this.signalk.api\n      .get(this.app.skApiVersion, '/resources/routes')\n      .subscribe((res: Routes) => {\n        this.app.data.routes = [];\n        if (!res) {\n          return;\n        }\n\n        Object.entries(res).forEach((i: [string, RouteResource]) => {\n          i[1] = this.transformRoute(i[1], i[0]);\n          this.app.data.routes.push([\n            i[0],\n            new SKRoute(i[1]),\n            i[0] === this.app.data.activeRoute\n              ? true\n              : this.app.config.selections.routes.includes(i[0])\n          ]);\n          if (i[0] === this.app.data.activeRoute) {\n            this.app.data.navData.activeRoutePoints =\n              i[1].feature.geometry.coordinates;\n            this.app.data.navData.pointTotal =\n              i[1].feature.geometry.coordinates.length;\n            this.app.data.navData.pointNames =\n              i[1].feature.properties.points &&\n              i[1].feature.properties.points['names'] &&\n              Array.isArray(i[1].feature.properties['points']['names'])\n                ? i[1].feature.properties.points['names']\n                : [];\n            if (!this.app.config.selections.routes.includes(i[0])) {\n              this.app.config.selections.routes.push(i[0]);\n            }\n          }\n        });\n        // ** clean up selections\n        const k = Object.keys(res);\n        this.app.config.selections.routes = this.app.config.selections.routes\n          .map((i: string) => {\n            return k.indexOf(i) !== -1 ? i : null;\n          })\n          .filter((i: string) => {\n            return i;\n          });\n        this.updateSource.next({ action: 'get', mode: 'route' });\n      });\n  }\n\n  // ** build and return object containing: SKRoute\n  buildRoute(coordinates: LineString): [string, SKRoute] {\n    const rte = new SKRoute();\n    const rteUuid = this.signalk.uuid;\n    rte.feature.geometry.coordinates = GeoUtils.normaliseCoords(coordinates);\n    rte.distance = GeoUtils.routeLength(rte.feature.geometry.coordinates);\n    return [rteUuid, rte];\n  }\n\n  // Modify Route point coordinates & refrsh course\n  updateRouteCoords(\n    id: string,\n    coords: Array<Position>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    coordsMeta?: Array<any>\n  ) {\n    const t = this.fromCache('routes', id);\n    if (!t) {\n      return;\n    }\n    const rte = t[1];\n    rte['feature']['geometry']['coordinates'] =\n      GeoUtils.normaliseCoords(coords);\n    rte.distance = GeoUtils.routeLength(rte.feature.geometry.coordinates);\n\n    if (coordsMeta) {\n      rte['feature']['properties']['coordinatesMeta'] = coordsMeta;\n    }\n    this.putResource('routes', id, rte);\n  }\n\n  // Return array of route coordinates\n  getActiveRouteCoords(routeId?: string) {\n    if (!routeId) {\n      routeId = this.app.data.activeRoute;\n    }\n    const rte = this.fromCache('routes', routeId);\n    if (!rte) {\n      return [];\n    } else {\n      return rte[1].feature.geometry.coordinates;\n    }\n  }\n\n  // ** Display Edit Route properties Dialog **\n  showRouteInfo(e: { id: string }) {\n    const t = this.fromCache('routes', e.id);\n    if (!t) {\n      return;\n    }\n\n    this.dialog\n      .open(RouteDialog, {\n        disableClose: true,\n        data: {\n          // clone route for editing\n          route: Object.assign(Object.create(Object.getPrototypeOf(t[1])), t[1])\n        }\n      })\n      .afterClosed()\n      .subscribe((r: { save: boolean; route: SKRoute }) => {\n        if (r.save) {\n          this.putResource('routes', e.id, r.route);\n        }\n      });\n  }\n\n  // ** Display New Route properties Dialog **\n  showRouteNew(e: {\n    coordinates: LineString;\n    meta?: Array<{ href?: string; name?: string }>;\n  }) {\n    if (!e.coordinates) {\n      return;\n    }\n    const rte = this.buildRoute(e.coordinates);\n    if (e.meta && Array.isArray(e.meta)) {\n      rte[1].feature.properties.coordinatesMeta = e.meta;\n    }\n\n    this.dialog\n      .open(RouteDialog, {\n        disableClose: true,\n        data: {\n          route: rte[1]\n        }\n      })\n      .afterClosed()\n      .subscribe((r: { save: boolean; route: SKRoute }) => {\n        if (r.save) {\n          this.putResource('routes', rte[0], r.route);\n        }\n      });\n  }\n\n  // ** Confirm Route Deletion **\n  showRouteDelete(e: { id: string }) {\n    // are there notes attached?\n    this.signalk.api\n      .get(\n        this.app.skApiVersion,\n        `/resources/notes?href=/resources/routes/${e.id}`\n      )\n      .subscribe((notes: Notes) => {\n        let checkText: string;\n        const na = Object.keys(notes);\n        if (na.length !== 0) {\n          checkText = 'Check to also delete attached Notes.';\n        }\n        this.app\n          .showConfirm(\n            'Do you want to delete this Route from the server?\\n',\n            'Delete Route:',\n            'YES',\n            'NO',\n            checkText\n          )\n          .subscribe((result: { ok: boolean; checked: boolean }) => {\n            if (result && result.ok) {\n              this.deleteResource('routes', e.id);\n              if (result.checked) {\n                na.forEach((id) => {\n                  this.deleteNote(id);\n                });\n              }\n            }\n          });\n      });\n  }\n\n  // **** WAYPOINTS ****\n\n  // ** build and return SKWaypoint object with supplied coordinates\n  buildWaypoint(coordinates: Position): [string, SKWaypoint] {\n    const wpt = new SKWaypoint();\n    const wptUuid = this.signalk.uuid;\n\n    wpt.feature.geometry.coordinates = GeoUtils.normaliseCoords(coordinates);\n    return [wptUuid, wpt];\n  }\n\n  // v2 transformation\n  transformWaypoint(w: WaypointResource, id: string): WaypointResource {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (typeof (w as any).position !== 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      delete (w as any).position;\n    }\n    if (!w.name) {\n      if (w.feature.properties.name) {\n        w.name = w.feature.properties.name;\n        delete w.feature.properties.name;\n      } else {\n        const name = 'Wpt-' + id.slice(-6);\n        w.name = name;\n      }\n    }\n    if (!w.description) {\n      if (w.feature.properties.description) {\n        w.description = w.feature.properties.description;\n        delete w.feature.properties.description;\n      } else if (w.feature.properties.cmt) {\n        w.description = w.feature.properties.cmt;\n      }\n    }\n    if (w.feature.properties.skType) {\n      w.type = w.feature.properties.skType;\n      delete w.feature.properties.skType;\n    }\n    if (w.type) {\n      w.type = w.type.toLowerCase();\n    }\n    return w;\n  }\n\n  // ** get waypoints from sk server\n  getWaypoints() {\n    this.signalk.api\n      .get(this.app.skApiVersion, '/resources/waypoints')\n      .subscribe((res: Waypoints) => {\n        this.app.data.waypoints = [];\n        if (!res) {\n          return;\n        }\n        Object.entries(res).forEach((i: [string, WaypointResource]) => {\n          i[1] = this.transformWaypoint(i[1], i[0]);\n          this.app.data.waypoints.push([\n            i[0],\n            new SKWaypoint(i[1]),\n            i[0] === this.app.data.activeWaypoint\n              ? true\n              : this.app.config.selections.waypoints.includes(i[0])\n          ]);\n          if (i[0] === this.app.data.activeWaypoint) {\n            this.app.config.selections.waypoints.push(i[0]);\n          }\n        });\n        // ** clean up selections\n        const k = Object.keys(res);\n        this.app.config.selections.waypoints =\n          this.app.config.selections.waypoints\n            .map((i) => {\n              return k.indexOf(i) !== -1 ? i : null;\n            })\n            .filter((i) => {\n              return i;\n            });\n        this.updateSource.next({ action: 'get', mode: 'waypoint' });\n      });\n  }\n\n  // ** delete waypoint on server **\n  private deleteWaypoint(id: string) {\n    this.deleteResource('waypoints', id);\n  }\n\n  // ** modify waypoint point coordinates **\n  updateWaypointPosition(id: string, position: Position) {\n    const t = this.fromCache('waypoints', id);\n    if (!t) {\n      return;\n    }\n    const wpt = t[1];\n    wpt['feature']['geometry']['coordinates'] =\n      GeoUtils.normaliseCoords(position);\n    wpt['position'] = {\n      latitude: wpt['feature']['geometry']['coordinates'][1],\n      longitude: wpt['feature']['geometry']['coordinates'][0]\n    };\n    this.putResource('waypoints', id, wpt);\n  }\n\n  // ** Display waypoint properties Dialog **\n  showWaypointEditor(\n    e: { id?: string; position?: Position } = null,\n    position: Position = null\n  ) {\n    let resId = this.signalk.uuid;\n    let title: string;\n    let wpt: SKWaypoint;\n    let addMode = true;\n\n    if (!e) {\n      // ** add at vessel location\n      if (!position) {\n        return;\n      }\n      wpt = new SKWaypoint();\n      wpt.feature.geometry.coordinates = GeoUtils.normaliseCoords(position);\n      title = 'New waypoint:';\n      wpt.name = `Wpt-${Date.now().toString().slice(-5)}`;\n      wpt.description = '';\n    } else if (!e.id && e.position) {\n      // add at provided position\n      wpt = new SKWaypoint();\n      wpt.feature.geometry.coordinates = GeoUtils.normaliseCoords(e.position);\n      title = 'Drop waypoint:';\n      wpt.name = ``;\n      wpt.description = '';\n    } else {\n      // Edit waypoint details\n      resId = e.id;\n      title = 'Waypoint Details:';\n      const w = this.fromCache('waypoints', resId);\n      if (!w) {\n        return;\n      }\n      // clone of chached resource\n      wpt = Object.assign(Object.create(Object.getPrototypeOf(w[1])), w[1]);\n      addMode = false;\n    }\n\n    this.dialog\n      .open(WaypointDialog, {\n        disableClose: true,\n        data: {\n          title: title,\n          addMode: addMode,\n          waypoint: wpt\n        }\n      })\n      .afterClosed()\n      .subscribe((r: { save: boolean; waypoint: SKWaypoint }) => {\n        if (r.save) {\n          // ** save / update waypoint **\n          this.putResource('waypoints', resId, r.waypoint, addMode);\n        }\n      });\n  }\n\n  // ** Confirm Waypoint Deletion **\n  showWaypointDelete(e: { id: string }) {\n    // are there notes attached?\n    this.signalk.api\n      .get(\n        this.app.skApiVersion,\n        `/resources/notes?href=/resources/waypoints/${e.id}`\n      )\n      .subscribe(\n        (notes: Notes) => {\n          let checkText: string;\n          const na = Object.keys(notes);\n          if (na.length !== 0) {\n            checkText = 'Check to also delete attached Notes.';\n          }\n          this.app\n            .showConfirm(\n              'Do you want to delete this Waypoint from the server?\\n',\n              'Delete Waypoint:',\n              'YES',\n              'NO',\n              checkText\n            )\n            .subscribe((result: { ok: boolean; checked: boolean }) => {\n              if (result && result.ok) {\n                this.deleteWaypoint(e.id);\n                if (result.checked) {\n                  na.forEach((id) => {\n                    this.deleteNote(id);\n                  });\n                }\n              }\n            });\n        },\n        () => {\n          this.app.showAlert('Server returned an error!', 'Error:');\n        }\n      );\n  }\n\n  // **** REGIONS ****\n\n  private regionCacheSignal = signal([]);\n  readonly regions = this.regionCacheSignal.asReadonly();\n\n  /**\n   * @description Refresh Regions cache. Called after fetch from server.\n   * @param regions Response object from Signal K server\n   */\n  private regionCacheRefresh(regions: Regions) {\n    const rc = Object.entries(regions).map((item: [string, RegionResource]) => {\n      return [item[0], this.transformRegion(item[1], item[0]), true];\n    });\n    this.regionCacheSignal.set(rc);\n  }\n\n  /**\n   * @description Fill cache with regions fetched from sk server\n   * @param query Filter criteris for regions in placed in the cache\n   */\n  fetchRegions(query?: string) {\n    query =\n      query ??\n      processUrlTokens(\n        this.app.config.resources.notes.rootFilter,\n        this.app.config\n      );\n    if (query && query[0] !== '?') {\n      query = '?' + query;\n    }\n    this.app.debug(`**query: ${query}`);\n    this.cacheRefresh('regions', query);\n  }\n\n  /**\n   * @description Signal K v2 API transformation\n   * @param region Region entry from server\n   * @param id Resource id\n   * @returns SKRegion object\n   */\n  private transformRegion(region: RegionResource, id: string): SKRegion {\n    if (\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      typeof (region as any).geohash !== 'undefined' &&\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      typeof (region as any).geohash === 'string'\n    ) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const gh = ngeohash.decode_bbox((region as any).geohash);\n      const reg = new SKRegion();\n      reg.name = 'Region-' + id.slice(-6);\n      reg.feature.geometry.coordinates = [\n        [\n          [gh[1], gh[0]],\n          [gh[3], gh[0]],\n          [gh[3], gh[2]],\n          [gh[1], gh[2]],\n          [gh[1], gh[0]]\n        ]\n      ];\n      return reg;\n    } else {\n      return new SKRegion(region);\n    }\n  }\n\n  /**\n   * @description Create new Region entry on server\n   * @param region\n   */\n  createRegion(region: SKRegion) {\n    if (!region) {\n      return;\n    }\n    this.dialog\n      .open(RegionDialog, {\n        disableClose: true,\n        data: {\n          region: region\n        }\n      })\n      .afterClosed()\n      .subscribe(async (r: { save: boolean; region: RegionResource }) => {\n        if (r.save) {\n          this.postToServer('regions', r.region).catch((err) =>\n            this.app.parseHttpErrorResponse(err)\n          );\n        }\n      });\n  }\n\n  /**\n   * @description Update Region coordinates and push to server\n   * @param id Region identifier\n   * @param coords Coordinates to assign to region\n   */\n  updateRegionCoords(id: string, coords: Array<Array<Position>>) {\n    const region = this.fromCache('regions', id)[1];\n    region['feature']['geometry']['coordinates'] =\n      GeoUtils.normaliseCoords(coords);\n    this.putToServer('regions', id, region).catch((err) => {\n      this.fetchRegions();\n      this.app.parseHttpErrorResponse(err);\n    });\n  }\n\n  /**\n   * @description Display dialog to edit Region properties\n   * @param id region identifier\n   */\n  async updateRegionInfo(id: string) {\n    if (!id) {\n      return;\n    }\n    let region: SKRegion;\n    try {\n      this.app.sIsFetching.set(true);\n      region = await this.fromServer('regions', id);\n      this.app.sIsFetching.set(false);\n    } catch (err) {\n      this.app.sIsFetching.set(false);\n      this.app.parseHttpErrorResponse(err as HttpErrorResponse);\n      return;\n    }\n    this.dialog\n      .open(RegionDialog, {\n        disableClose: true,\n        data: {\n          region: region\n        }\n      })\n      .afterClosed()\n      .subscribe((r: { save: boolean; region: SKRegion }) => {\n        if (r.save) {\n          this.putToServer('regions', id, r.region).catch((err) =>\n            this.app.parseHttpErrorResponse(err)\n          );\n        }\n      });\n  }\n\n  /**\n   * @description Confirm Region Deletion\n   * @param id Object containgin region identifier\n   */\n  confirmRegionDelete(id: string) {\n    // are there notes attached?\n    this.signalk.api\n      .get(\n        this.app.skApiVersion,\n        `/resources/notes?href=/resources/regions/${id}`\n      )\n      .subscribe((notes: Notes) => {\n        let checkText: string;\n        const na = Object.keys(notes);\n        if (na.length !== 0) {\n          checkText = 'Check to also delete attached Notes.';\n        }\n        this.app\n          .showConfirm(\n            'Do you want to delete this Region from the server?\\n',\n            'Delete Region:',\n            'YES',\n            'NO',\n            checkText\n          )\n          .subscribe((result: { ok: boolean; checked: boolean }) => {\n            if (result && result.ok) {\n              this.deleteFromServer('regions', id)\n                .then(() => {\n                  // refresh cache\n                  this.cacheRemove('regions', id);\n                  if (result.checked) {\n                    // remove linked notes\n                    na.forEach((noteId: string) => {\n                      this.deleteResource('notes', noteId);\n                    });\n                  }\n                })\n                .catch((err: HttpErrorResponse) =>\n                  this.app.parseHttpErrorResponse(err)\n                );\n            }\n          });\n      });\n  }\n\n  // **** NOTES ****\n\n  // ** get notes / regions from sk server\n  getNotes(params?: string) {\n    let query = params ? params : this.app.config.resources.notes.rootFilter;\n    query = processUrlTokens(query, this.app.config);\n    if (query && query[0] !== '?') {\n      query = '?' + query;\n    }\n    this.app.debug(`**query: ${query}`);\n    query = query ?? '';\n    // fetch notes\n    const skf = this.signalk.api.get(\n      this.app.skApiVersion,\n      `/resources/notes${query}`\n    );\n\n    skf?.subscribe((res: Notes) => {\n      this.app.data.notes = this.processNotes(res, true, 300);\n      this.updateSource.next({ action: 'get', mode: 'note' });\n    });\n\n    // fetch regions\n    this.fetchRegions(query);\n  }\n\n  // v2 transformation\n  transformNote(n: NoteResource, id: string): NoteResource {\n    // replace title with name\n    if (!n.name) {\n      n.name = n['title'] ?? 'Note-' + id.slice(-6);\n      if (n['title']) {\n        delete n['title'];\n      }\n    }\n    if (!n.href) {\n      n.href = n['region'] ?? null;\n      if (n['region']) {\n        delete n['region'];\n      }\n      if (n.href && n.href.indexOf('resources/') !== -1) {\n        const a = n.href.split('/');\n        const h = a[a.length - 1].split(':').slice(-1)[0];\n        a[a.length - 1] = h;\n        n.href = a.join('/');\n      }\n    }\n    if (typeof n['properties'] === 'undefined') {\n      n['properties'] = {};\n    }\n    if (typeof n.position === 'undefined') {\n      if (typeof n['geohash'] !== 'undefined') {\n        // replace geohash with position\n        const gh = ngeohash.decode(n['geohash']);\n        n.position = { latitude: gh.latitude, longitude: gh.longitude };\n        delete n['geohash'];\n      }\n    }\n    // only one of href || position (href has priority)\n    /*if (typeof n.position !== 'undefined' && typeof n.href !== 'undefined') {\n      if (n.href) {\n        delete n.position;\n      } else {\n        delete n.href;\n      }\n    }*/\n    return n;\n  }\n\n  /** Process SKNotes objects returned from server.\n    @param noDesc: true = remove description value\n    @param maxCount: max number of entries to return\n    @returns Array of SKNotes \n  */\n  private processNotes(n: Notes, noDesc = false, maxCount?: number): FBNotes {\n    let r = Object.entries(n);\n    const notes: FBNotes = [];\n    // ** set an upper limit of records to process **\n    if (maxCount && r.length > maxCount) {\n      r = r.slice(0, maxCount - 1);\n    }\n    r.forEach((i: [string, NoteResource]) => {\n      if (noDesc) {\n        i[1]['description'] = null;\n      }\n      i[1] = this.transformNote(i[1], i[0]);\n      if (typeof i[1]['position'] !== 'undefined') {\n        notes.push([i[0], new SKNote(i[1] as NoteResource), true]);\n      }\n    });\n    return notes;\n  }\n\n  // ** create note on server **\n  private createNote(note: SKNote) {\n    this.signalk.api\n      .post(this.app.skApiVersion, `/resources/notes`, note)\n      .subscribe(\n        () => {\n          this.reopenRelatedDialog();\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.createNote(note);\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          } else {\n            this.app.showAlert(\n              `ERROR:`,\n              `Server could not add Note!\\n${err.error.message}`\n            );\n          }\n        }\n      );\n  }\n  // ** update note on server **\n  private updateNote(id: string, note: SKNote) {\n    this.signalk.api\n      .put(this.app.skApiVersion, `/resources/notes/${id}`, note)\n      .subscribe(\n        () => {\n          this.reopenRelatedDialog();\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.updateNote(id, note);\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          } else {\n            this.app.showAlert(\n              `ERROR:`,\n              `Server could not update Note!\\n${err.error.message}`\n            );\n          }\n        }\n      );\n  }\n\n  // ** delete note on server **\n  private deleteNote(id: string) {\n    this.signalk.api\n      .delete(this.app.skApiVersion, `/resources/notes/${id}`)\n      .subscribe(\n        () => {\n          this.reopenRelatedDialog();\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status && err.status === 401) {\n            this.showAuth().subscribe((res) => {\n              if (res.cancel) {\n                this.authResult();\n              } else {\n                // ** authenticate\n                this.signalk.login(res.user, res.pwd).subscribe(\n                  (r) => {\n                    // ** authenticated\n                    this.authResult(r['token']);\n                    this.deleteNote(id);\n                  },\n                  () => {\n                    // ** auth failed\n                    this.authResult();\n                    this.showAuth();\n                  }\n                );\n              }\n            });\n          } else {\n            this.app.showAlert(\n              `ERROR:`,\n              `Server could not delete Note!\\n${err.error.message}`\n            );\n          }\n        }\n      );\n  }\n\n  // ** Open Note for editing **\n  private openNoteForEdit(e) {\n    this.dialog\n      .open(NoteDialog, {\n        disableClose: true,\n        data: {\n          note: e.note,\n          editable: e.editable,\n          addNote: e.addNote,\n          title: e.title\n        }\n      })\n      .afterClosed()\n      .subscribe((r) => {\n        if (r.result) {\n          // ** save / update **\n          const note = r.data;\n          if (!e.noteId) {\n            // add note\n            this.createNote(note);\n          } else {\n            // update note\n            this.updateNote(e.noteId, note);\n          }\n        } else {\n          // cancel\n          this.reopenRelatedDialog();\n        }\n      });\n  }\n\n  // ** reopen last related dialog **\n  private reopenRelatedDialog(noReset = false) {\n    if (this.reOpen && this.reOpen.key) {\n      this.showRelatedNotes(\n        this.reOpen.value,\n        this.reOpen.key,\n        this.reOpen.readOnly\n      );\n      if (noReset) {\n        return;\n      } else {\n        this.reOpen = { key: null, value: null, readOnly: undefined };\n      }\n    }\n  }\n\n  // ** Show Related Notes dialog **\n  showRelatedNotes(\n    id: string,\n    relatedBy = 'region',\n    readOnly: boolean = false\n  ) {\n    let paramName: string;\n    if (relatedBy !== 'group') {\n      id = id.indexOf(relatedBy) === -1 ? `/resources/${relatedBy}s/${id}` : id;\n      paramName = 'href';\n    } else {\n      paramName = relatedBy;\n    }\n    this.app.sIsFetching.set(true);\n    this.signalk.api\n      .get(this.app.skApiVersion, `/resources/notes?${paramName}=${id}`)\n      .subscribe(\n        (res: Notes) => {\n          this.app.sIsFetching.set(false);\n          const notes = [];\n          Object.entries(res).forEach((i) => {\n            i[1] = this.transformNote(i[1], i[0]);\n            notes.push([i[0], new SKNote(i[1]), true]);\n          });\n          this.dialog\n            .open(RelatedNotesDialog, {\n              disableClose: true,\n              data: { notes: notes, relatedBy: relatedBy, readOnly: readOnly }\n            })\n            .afterClosed()\n            .subscribe((r) => {\n              if (r.result) {\n                if (relatedBy) {\n                  this.reOpen = {\n                    key: relatedBy,\n                    value: id,\n                    readOnly: readOnly\n                  };\n                } else {\n                  this.reOpen = { key: null, value: null, readOnly: undefined };\n                }\n                switch (r.data) {\n                  case 'edit':\n                    this.showNoteEditor({ id: r.id });\n                    break;\n                  case 'add':\n                    if (relatedBy === 'group') {\n                      this.updateSource.next({\n                        action: 'new',\n                        mode: 'note',\n                        group: id\n                      });\n                    } else {\n                      this.showNoteEditor({\n                        type: relatedBy,\n                        href: { id: id, exists: true }\n                      });\n                    }\n                    break;\n                  case 'delete':\n                    this.showNoteDelete({ id: r.id });\n                    break;\n                }\n              }\n            });\n        },\n        () => {\n          this.app.sIsFetching.set(false);\n          this.app.showAlert(\n            'ERROR',\n            'Unable to retrieve Notes for specified Region!'\n          );\n        }\n      );\n  }\n\n  // ** Add / Update Note Dialog\n  showNoteEditor(e = null) {\n    let note: SKNote;\n    const data = {\n      noteId: null,\n      note: null,\n      editable: true,\n      addNote: true,\n      title: null,\n      region: null,\n      createRegion: null\n    };\n\n    if (!e) {\n      return;\n    }\n    if (!e.id && e.position) {\n      // add note at provided position\n      data.title = 'Add Note';\n      note = new SKNote();\n      if (e.group) {\n        note.group = e.group;\n      }\n      e.position = GeoUtils.normaliseCoords(e.position);\n      note.position = { latitude: e.position[1], longitude: e.position[0] };\n      note.name = '';\n      note.description = '';\n      data.note = note;\n      this.openNoteForEdit(data);\n    } else if (!e.id && !e.position && e.group) {\n      // add note in provided group with no position\n      data.title = 'Add Note to Group';\n      note = new SKNote();\n      if (e.group) {\n        note.group = e.group;\n      }\n      note.position = null;\n      note.name = '';\n      note.description = '';\n      data.note = note;\n      this.openNoteForEdit(data);\n    } else if (!e.id && e.href) {\n      // add note to exisitng resource or new/existing region\n      note = new SKNote();\n      note.href =\n        e.href.id.indexOf(e.type) === -1\n          ? `/resources/${e.type}s/${e.href.id}`\n          : e.href.id;\n      note.name = '';\n      note.description = '';\n\n      data.title = `Add Note to ${e.type}`;\n      data.region = e.href;\n      data.note = note;\n      data.createRegion = e.href.exists\n        ? false\n        : e.type === 'region'\n        ? true\n        : false;\n      this.openNoteForEdit(data);\n    } else {\n      // edit selected note details\n      this.app.sIsFetching.set(true);\n      this.fetchResource('notes', e.id).subscribe(\n        (res) => {\n          this.app.sIsFetching.set(false);\n          // ** note data\n          res = this.transformNote(res as NoteResource, e.id);\n          data.noteId = e.id;\n          data.title = 'Edit Note';\n          data.note = res;\n          data.addNote = false;\n          this.openNoteForEdit(data);\n        },\n        () => {\n          this.app.sIsFetching.set(false);\n          this.app.showAlert('ERROR', 'Unable to retrieve Note!');\n        }\n      );\n    }\n  }\n\n  // ** Note info Dialog **\n  showNoteInfo(e: { id: string }) {\n    this.app.sIsFetching.set(true);\n    this.fetchResource('notes', e.id).subscribe(\n      (res: NoteResource) => {\n        this.app.sIsFetching.set(false);\n        res = this.transformNote(res as NoteResource, e.id);\n        this.dialog\n          .open(NoteDialog, {\n            disableClose: true,\n            data: { note: res, editable: false }\n          })\n          .afterClosed()\n          .subscribe((r) => {\n            if (r.result) {\n              // ** open in tab **\n              if (r.data === 'url') {\n                window.open(res['url'], 'note');\n              }\n              if (r.data === 'edit') {\n                this.showNoteEditor({ id: e.id });\n              }\n              if (r.data === 'delete') {\n                this.showNoteDelete({ id: e.id });\n              }\n              if (r.data === 'group') {\n                this.showRelatedNotes(r.value, r.data);\n              }\n            }\n          });\n      },\n      () => {\n        this.app.sIsFetching.set(false);\n        this.app.showAlert('ERROR', 'Unable to retrieve Note!');\n      }\n    );\n  }\n\n  // ** confirm Note Deletion **\n  showNoteDelete(e: { id: string }) {\n    this.app\n      .showConfirm(\n        'Do you want to delete this Note from the server?\\n',\n        'Delete Note:',\n        'YES',\n        'NO'\n      )\n      .subscribe((ok) => {\n        if (ok) {\n          this.deleteNote(e.id);\n        } else {\n          this.reopenRelatedDialog();\n        }\n      });\n  }\n\n  // ** modify Note position **\n  updateNotePosition(id: string, position: Position) {\n    const t = this.fromCache('notes', id);\n    if (!t) {\n      return;\n    }\n    const note = t[1];\n    position = GeoUtils.normaliseCoords(position);\n    note['position'] = { latitude: position[1], longitude: position[0] };\n    this.updateNote(id, note);\n  }\n\n  // *******************************\n\n  // ** show login dialog **\n  private showAuth(message?: string) {\n    return this.dialog\n      .open(LoginDialog, {\n        disableClose: true,\n        data: { message: message || 'Login to Signal K server.' }\n      })\n      .afterClosed();\n  }\n\n  // ** record authentication token **\n  private authResult(token: string = null) {\n    this.app.persistToken(token);\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  SimpleChanges\n} from '@angular/core';\nimport { Feature } from 'ol';\nimport { Circle, Fill, Stroke, Style, Text } from 'ol/style';\nimport {\n  Point,\n  MultiPoint,\n  LineString,\n  MultiLineString,\n  Polygon,\n  MultiPolygon\n} from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { MapComponent } from '../map.component';\nimport { fromLonLatArray } from '../util';\nimport { SKResourceSet } from 'src/app/modules';\nimport { FBFeatureLayerComponent } from '../sk-feature.component';\n\n// ** Signal K resource collection format **\n@Component({\n  selector: 'ol-map > fb-resource-sets',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class ResourceSetLayerComponent extends FBFeatureLayerComponent {\n  protected features: Array<Feature>;\n\n  @Input() collection: string;\n  @Input() resourceSets: Array<SKResourceSet> = [];\n  @Input() selected: Array<string> = [];\n\n  constructor(\n    protected mapComponent: MapComponent,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(mapComponent, changeDetectorRef);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.labelPrefixes = ['rset'];\n    this.parseResourceSets(this.resourceSets);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (this.source && 'resourceSets' in changes) {\n      this.source.clear();\n      this.parseResourceSets(changes['resourceSets'].currentValue);\n    }\n  }\n\n  // process resource sets\n  parseResourceSets(resourceSets: Array<SKResourceSet>) {\n    this.features = [];\n    for (const r of resourceSets) {\n      if (this.selected.includes(r.id)) {\n        this.parseResources(r);\n      }\n    }\n    this.source.addFeatures(this.features);\n  }\n\n  // process a resource set\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseResources(rSet: { [key: string]: any }) {\n    const fa: Feature[] = [];\n    let count = 0;\n    for (const w of rSet.values.features) {\n      let f: Feature;\n      if (w.geometry.type === 'Point') {\n        f = new Feature({\n          geometry: new Point(fromLonLat(w.geometry.coordinates)),\n          name: w.properties.name ?? `Point ${count}`\n        });\n      }\n      if (w.geometry.type === 'MultiPoint') {\n        f = new Feature({\n          geometry: new MultiPoint(fromLonLatArray(w.geometry.coordinates)),\n          name: w.properties.name ?? `Pt ${count}`\n        });\n      } else if (w.geometry.type === 'LineString') {\n        f = new Feature({\n          geometry: new LineString(fromLonLatArray(w.geometry.coordinates)),\n          name: w.properties.name ?? `L${count}`\n        });\n      } else if (w.geometry.type === 'MultiLineString') {\n        f = new Feature({\n          geometry: new MultiLineString(\n            fromLonLatArray(w.geometry.coordinates)\n          ),\n          name: w.properties.name ?? `L${count}`\n        });\n      } else if (w.geometry.type === 'Polygon') {\n        f = new Feature({\n          geometry: new Polygon(fromLonLatArray(w.geometry.coordinates)),\n          name: w.properties.name ?? `P${count}`\n        });\n      } else if (w.geometry.type === 'MultiPolygon') {\n        f = new Feature({\n          geometry: new MultiPolygon(fromLonLatArray(w.geometry.coordinates)),\n          name: w.properties.name ?? `P${count}`\n        });\n      }\n      if (!f) {\n        continue;\n      }\n      f.setId(`rset.${this.collection}.${rSet.id}.${count}`);\n      // set style\n      if (typeof rSet.styles !== 'undefined') {\n        let rs: Style;\n        if (typeof w.properties.styleRef !== 'undefined') {\n          rs = this.buildStyle(\n            rSet.styles[w.properties.styleRef],\n            w.geometry.type\n          );\n        } else if (typeof w.properties.style !== 'undefined') {\n          rs = this.buildStyle(w.properties.style, w.geometry.type);\n        } else {\n          rs = this.buildStyle(rSet.styles.default, w.geometry.type);\n        }\n        f.setStyle(this.setTextLabel(rs, w.properties.name));\n      }\n      fa.push(f);\n      count++;\n    }\n    this.features = this.features.concat(fa);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  buildStyle(styleDef: { [key: string]: any }, geom: string): Style {\n    const s = new Style();\n    if (geom === 'Point' || geom === 'MulitPoint') {\n      s.setImage(\n        new Circle({\n          radius: styleDef.width ?? 5,\n          fill: new Fill({ color: styleDef.fill ?? 'blue' }),\n          stroke: new Stroke({\n            color: styleDef.stroke ?? 'blue',\n            width: 2,\n            lineDash: styleDef.lineDash ?? [1]\n          })\n        })\n      );\n      s.setText(\n        new Text({\n          text: '',\n          offsetY: -20\n        })\n      );\n    } else {\n      s.setFill(new Fill({ color: styleDef.fill ?? 'blue' }));\n      s.setStroke(\n        new Stroke({\n          color: styleDef.stroke ?? 'blue',\n          width: styleDef.width ?? 2,\n          lineDash: styleDef.lineDash ?? [1]\n        })\n      );\n    }\n    return s;\n  }\n}\n","// Map Themes\n\nexport const LightTheme = {\n  labelText: {\n    color: '#333'\n  }\n};\n\nexport const DarkTheme = {\n  labelText: {\n    color: 'yellow'\n  }\n};\n","export * from './settings.facade';\nexport * from './components/settings-dialog';\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'reverse',\n  standalone: false\n})\nexport class ReversePipe implements PipeTransform {\n  //constructor() {}\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public transform(value: Array<any>): Array<any> {\n    return value.slice().reverse();\n  }\n}\n","/*******************************\n    Unit Conversion Class Module       \n*******************************/\n\nexport class Convert {\n  //constructor() {}\n  // ******* Temperature **********\n  static celciusToKelvin(val = 0) {\n    return val + 273.15;\n  }\n  static kelvinToCelcius(val = 0) {\n    return val - 273.15;\n  }\n  static kelvinToFarenheit(val = 0) {\n    return val * (9 / 5) - 459.67;\n  }\n\n  //******** Angles ***************\n  static degreesToRadians(val = 0) {\n    return (val * Math.PI) / 180;\n  }\n  //** convert radians to degrees\n  static radiansToDegrees(val = 0) {\n    return (val * 180) / Math.PI;\n  }\n\n  /** Return resultant direction direction (0 - 2Pi radians) \n   @params angle (+/- in radians)\n   @params ref Base value the angle is offset from (in radians) -ive = port **\n   @returns Direction (0 - 2Pi radians) \n   */\n  static angleToDirection(angle: number, ref: number) {\n    const p = Math.PI * 2;\n    if (!ref) {\n      ref = 0;\n    }\n    if (!angle) {\n      angle = 0;\n    }\n    if (isNaN(ref) || isNaN(angle)) {\n      return null;\n    }\n    const res = ref + angle;\n    if (res > p) {\n      return res - p;\n    } else if (res < 0) {\n      return p + res;\n    } else {\n      return res;\n    }\n  }\n\n  /** Return resultant Angle (-Pi to Pi radians)  \n   @params Direction (0 - 2Pi radians)\n   @params ref Base value the angle is offset from (in radians) \n   @returns   angle (+/- in radians) -ive = port\n  */\n  static directionToAngle(direction, ref) {\n    const p = Math.PI * 2;\n    if (!ref) {\n      ref = 0;\n    }\n    if (!direction) {\n      direction = 0;\n    }\n    if (isNaN(ref) || isNaN(direction)) {\n      return null;\n    }\n    const res = ref - direction;\n    let a: number;\n    if (res > 0) {\n      a = res > Math.PI ? p - res : 0 - res;\n    } else if (res < 0) {\n      const rx = Math.abs(res);\n      a = rx > Math.PI ? rx - p : rx;\n    } else {\n      a = res;\n    }\n    return a;\n  }\n\n  // ******* Distance / Speed ********\n  //** knots to km/h **\n  static knotsToKm(val: number): number {\n    return val * 1.852;\n  }\n  //** nautical miles to km**\n  static nauticalMilesToKm(val: number): number {\n    return val * 1.852;\n  }\n  //** knots to msec **\n  static knotsToMSec(val: number): number {\n    return val * 0.51444325460445;\n  }\n\n  //** km/h to knots **\n  static kmToKnots(val: number): number {\n    return val * 0.539957;\n  }\n  //** km to nautical miles **\n  static kmToNauticalMiles(val: number): number {\n    return val * 0.539957;\n  }\n  //** km to miles **\n  static kmToMiles(val: number): number {\n    return val * 0.621371;\n  }\n  //** m to feet **\n  static metersToFeet(val: number): number {\n    return val * 3.28084;\n  }\n\n  //** m/sec to knots **\n  static msecToKnots(val: number): number {\n    return val * 1.94384;\n  }\n  //** m/sec to km/h **\n  static msecToKmh(val: number): number {\n    return val * 3.6;\n  }\n  //** m/sec to km/h **\n  static msecToMph(val: number): number {\n    return val * 2.23694;\n  }\n\n  //** nautical miles to miles**\n  static nauticalMilesToMiles(val: number): number {\n    return val * 1.15078;\n  }\n  //**  miles to km**\n  static milesToKm(val: number): number {\n    return val * 1.60934;\n  }\n  //** miles to nautical miles **\n  static milesToNauticalMiles(val: number): number {\n    return val * 0.868976;\n  }\n\n  //******** frequency ***************\n  static rpmToHertz(val: number): number {\n    return val / 60;\n  }\n}\n","import TileLayer from 'ol/layer/Tile.js';\nimport OSM from 'ol/source/OSM.js';\nimport { getPointResolution, fromLonLat } from 'ol/proj';\n\nimport { Coordinate } from './models';\n\nexport function stringToEl(html: string) {\n  const parser = new DOMParser();\n  const DOM = parser.parseFromString(html, 'text/html');\n  return DOM.body.firstChild;\n}\n\nexport function defaultLayers() {\n  return [osmLayer()];\n}\n\nexport function osmLayer() {\n  return new TileLayer({ source: new OSM() });\n}\n\nexport function osmSource() {\n  return new OSM();\n}\n\n// Point | LineString | MultiLineString\nexport function fromLonLatArray(\n  coords: Array<Array<Coordinate>> | Array<Coordinate> | Coordinate\n) {\n  if (!Array.isArray(coords)) {\n    return coords;\n  }\n  if (typeof coords[0] === 'number') {\n    return fromLonLat(coords as Coordinate);\n  } else if (Array.isArray(coords[0])) {\n    return coords.map((c) => {\n      return fromLonLatArray(c);\n    });\n  } else {\n    return coords;\n  }\n}\n\n/** DateLine Crossing:\n * returns true if point is in the zone for dateline transition\n * zoneValue: lower end of 180 to xx range within which Longitude must fall for retun value to be true\n **/\nexport function inDLCrossingZone(coord: Coordinate, zoneValue = 170) {\n  return Math.abs(coord[0]) >= zoneValue ? true : false;\n}\n\n// update linestring coords for map display (including dateline crossing)\nexport function mapifyCoords(\n  coords: Array<Coordinate>,\n  zoneValue?: number\n): Array<Coordinate> {\n  if (coords.length === 0) {\n    return coords;\n  }\n  let dlCrossing = 0;\n  const last = coords[0];\n  for (let i = 0; i < coords.length; i++) {\n    if (\n      inDLCrossingZone(coords[i], zoneValue) ||\n      inDLCrossingZone(last, zoneValue)\n    ) {\n      dlCrossing =\n        last[0] > 0 && coords[i][0] < 0\n          ? 1\n          : last[0] < 0 && coords[i][0] > 0\n          ? -1\n          : 0;\n      if (dlCrossing === 1) {\n        coords[i][0] = coords[i][0] + 360;\n      }\n      if (dlCrossing === -1) {\n        coords[i][0] = Math.abs(coords[i][0]) - 360;\n      }\n    }\n  }\n  return coords;\n}\n\n// ** return adjusted radius to correctly render circle on ground at given position.\nexport function mapifyRadius(radius: number, position: Coordinate): number {\n  if (typeof radius === 'undefined' || typeof position === 'undefined') {\n    return radius;\n  }\n  return radius / getPointResolution('EPSG:3857', 1, fromLonLat(position));\n}\n","import { AlertData } from '../alarms';\nimport {\n  SKNote,\n  SKRegion,\n  SKResourceType,\n  SKRoute,\n  SKWaypoint\n} from '../skresources';\n\nimport { OpenBridgeIcons } from './openbridge';\nimport { PoiIcons } from './poi';\n\nexport interface AppIconSet {\n  path: string;\n  files: Array<string>;\n  scale?: number;\n  anchor?: [number, number];\n}\n\nexport interface AppIconDef {\n  class?: string;\n  svgIcon?: string;\n  name?: string;\n}\n\n/** Return a list of SVG Icons\n * @description Builds a list of SVG Icons for loading into the IconRegistry\n * @returns Array of files (including path)\n */\nexport const getSvgList = (): Array<{ id: string; path: string }> => {\n  const svgList: Array<{ id: string; path: string }> = [];\n\n  const addToList = (list: AppIconSet, prefix?: string) => {\n    list.files.forEach((file: string) => {\n      const id = file.slice(0, file.lastIndexOf('.'));\n      svgList.push({\n        id: `${prefix ?? ''}${id}`,\n        path: `${list.path}/${file}`\n      });\n    });\n  };\n  addToList(OpenBridgeIcons);\n  addToList(PoiIcons, 'sk-');\n  return svgList;\n};\n\n/**\n * @description Return an icon definition that can be used to assign a mat-icon for a resource\n * @param resourceType The type of resource supplied 'route' | 'waypoint' | 'region' | 'note'\n * @param resource Signal K resource\n * @returns Icon definition object\n */\nexport const getResourceIcon = (\n  resourceType: SKResourceType,\n  resource?: SKRoute | SKWaypoint | SKRegion | SKNote | string\n): AppIconDef => {\n  if (resourceType === 'routes') {\n    return { class: 'icon-route', svgIcon: 'route', name: undefined };\n  }\n  if (resourceType === 'regions') {\n    return { class: 'icon-region', svgIcon: undefined, name: 'tab_unselected' };\n  }\n  if (resourceType === 'notes') {\n    let iconDef = {\n      class: 'icon-accent',\n      svgIcon: undefined,\n      name: 'local_offer'\n    };\n    if (!resource) {\n      return iconDef;\n    }\n    const icon =\n      typeof resource === 'string'\n        ? resource\n        : (resource as SKNote).properties?.skIcon;\n    if (!icon) {\n      return iconDef;\n    } else {\n      return {\n        class: undefined,\n        svgIcon: `sk-${icon}`,\n        name: undefined\n      };\n    }\n  }\n  if (resourceType === 'waypoints') {\n    let iconDef = {\n      class: 'icon-waypoint',\n      svgIcon: undefined,\n      name: 'location_on'\n    };\n    if (!resource) {\n      return iconDef;\n    }\n    const icon =\n      typeof resource === 'string' ? resource : (resource as SKWaypoint).type;\n    if (!icon || !['pseudoaton', 'whale', 'alarm-mob'].includes(icon)) {\n      return iconDef;\n    }\n    if (icon === 'pseudoaton') {\n      iconDef.class = 'icon-warn';\n    } else {\n      iconDef = {\n        class: 'ob',\n        svgIcon: `${icon}`,\n        name: undefined\n      };\n    }\n    return iconDef;\n  }\n};\n\n/**\n * @description Return an icon definition for an Alert\n * @param alert AlertData object\n * @returns Icon Definition object\n */\nexport const getAlertIcon = (alert: AlertData): AppIconDef => {\n  if (\n    ['mob', 'fire', 'abandon', 'aground', 'cpa', 'depth'].includes(alert.type)\n  ) {\n    return {\n      class: 'ob',\n      svgIcon: `alarm-${alert.type}`,\n      name: undefined\n    };\n  } else if (alert.type === 'arrival') {\n    return {\n      class: undefined,\n      svgIcon: `alarm-${alert.type}`,\n      name: 'anchor'\n    };\n  } else if (alert.type === 'anchor') {\n    return {\n      class: undefined,\n      svgIcon: undefined,\n      name: 'anchor'\n    };\n  } else if (alert.type === 'meteo') {\n    return {\n      class: undefined,\n      svgIcon: undefined,\n      name: 'air'\n    };\n  } else if (alert.priority === 'warn') {\n    return {\n      class: 'ob',\n      svgIcon: 'warning-unack-iec',\n      name: undefined\n    };\n  } else if (['emergency', 'alarm'].includes(alert.priority)) {\n    const icon = alert.acknowledged\n      ? 'alarm-acknowledged-iec'\n      : alert.silenced\n      ? 'alarm-silenced-iec'\n      : 'alarm-acknowledged-iec';\n    return {\n      class: undefined,\n      svgIcon: icon,\n      name: undefined\n    };\n  } else {\n    const icon = alert.acknowledged\n      ? 'warning-acknowledged-iec'\n      : alert.silenced\n      ? 'warning-silenced-iec'\n      : 'warning-unack-iec';\n    return {\n      class: undefined,\n      svgIcon: icon,\n      name: undefined\n    };\n  }\n};\n"],"names":["MatDialogModule","MAT_DIALOG_DATA","MatTooltipModule","MatIconModule","MatCardModule","MatButtonModule","MatToolbarModule","PipesModule","i0","elementStart","text","elementEnd","element","advance","property","pipeBind3","ctx_r0","data","pipeBind2","ChartPropertiesDialog","app","dialogRef","icon","constructor","isLocal","url","indexOf","directiveInject","i1","AppFacade","i2","MatDialogRef","selectors","decls","vars","consts","template","ChartPropertiesDialog_Template","rf","ctx","listener","ChartPropertiesDialog_Template_button_click_8_listener","close","template","ChartPropertiesDialog_Conditional_41_Template","textInterpolate","textInterpolate1","conditional","i3","MatIcon","i4","MatIconButton","i5","MatToolbar","MatDialogContent","i6","CoordsPipe","styles","ImageLayer","TileLayer","VectorTileLayer","VectorTileSource","Cluster","ImageWMS","OSM","TileImage","TileWMS","WMTS","XYZ","VectorLayer","VectorSource","LayerType","SourceType","osmLayer","osmSource","AsyncSubject","LayerComponent","changeDetectorRef","mapComponent","layer","source","layerReady","layerType","sourceType","opacity","visible","extent","zIndex","minResolution","maxResolution","sourceOptions","style","properties","detach","ngOnInit","IMAGE","Object","assign","TILE","getTileSource","VECTOR_TILE","VECTOR","CLUSTER","map","getMap","addLayer","render","next","complete","ngOnChanges","changes","key","currentValue","setProperties","ngOnDestroy","removeLayer","getLayer","getSource","olSource","getUrl","getUrls","updateParams","name","value","params","getParams","toUpperCase","Date","getMilliseconds","IMAGEWMS","TILEWMS","TILEIMAGE","ChangeDetectorRef","MapComponent","inputs","outputs","standalone","features","NgOnChangesFeature","ngContentSelectors","_c0","LayerComponent_Template","projection","EventEmitter","input","CommonModule","FormsModule","MatMenuModule","CdkDrag","getAlertIcon","AlertListComponent_For_38_Conditional_7_Template_button_click_0_listener","restoreView","_r5","item_r3","nextContext","$implicit","ctx_r3","resetView","muteAlert","path","silenced","acknowledged","classMap","AlertListComponent_For_38_Conditional_8_Conditional_0_Template_button_click_0_listener","_r6","ackAlert","AlertListComponent_For_38_Conditional_8_Conditional_1_Conditional_0_Template_button_click_0_listener","_r7","clearAlert","AlertListComponent_For_38_Conditional_8_Conditional_1_Conditional_0_Template","canCancel","AlertListComponent_For_38_Conditional_8_Conditional_0_Template","AlertListComponent_For_38_Conditional_8_Conditional_1_Template","AlertListComponent_For_38_Template_div_click_1_listener","_r2","notiMgr","showAlertInfo","AlertListComponent_For_38_Template_div_click_4_listener","AlertListComponent_For_38_Conditional_7_Template","AlertListComponent_For_38_Conditional_8_Template","class","svgIcon","pureFunction3","_c1","canAcknowledge","pureFunction0","includes","priority","message","sound","AlertListComponent","alerts","closed","handleClose","emit","togglePlaySound","config","muteSound","saveConfig","acknowledge","silence","clear","raiseAlarm","alarmType","msg","undefined","raiseServerAlarm","setIcon","alert","NotificationManager","AlertListComponent_Template","AlertListComponent_Template_button_click_2_listener","_r1","AlertListComponent_Template_button_click_5_listener","AlertListComponent_Template_button_click_8_listener","AlertListComponent_Template_button_click_11_listener","AlertListComponent_Template_button_click_14_listener","AlertListComponent_Template_button_click_28_listener","AlertListComponent_Template_button_click_31_listener","repeaterCreate","AlertListComponent_For_38_Template","_forTrack0","alarmsmenu_r8","repeater","MatTooltip","NgClass","MatButton","MatCard","i7","i8","MatMenu","MatMenuItem","MatMenuTrigger","changeDetection","MatCheckboxModule","MatInputModule","ScrollingModule","MatSlideToggleModule","AISListComponent_Conditional_18_Template_button_click_0_listener","_r3","filterKeyUp","textInterpolate2","i_r6","id","AISListComponent_Conditional_34_For_3_Conditional_7_Template","AISListComponent_Conditional_34_For_3_Template_mat_checkbox_change_9_listener","$event","shipTypeSelect","checked","sanitizeUrl","description","selected","AISListComponent_Conditional_34_For_3_Template","shipTypes","AISListComponent_Conditional_35_mat_card_1_Conditional_12_Template_button_click_0_listener","_r9","r_r8","focus","AISListComponent_Conditional_35_mat_card_1_Conditional_13_Template_button_click_0_listener","_r10","AISListComponent_Conditional_35_mat_card_1_Template_a_click_4_listener","itemProperties","AISListComponent_Conditional_35_mat_card_1_Template_mat_checkbox_change_8_listener","itemSelect","AISListComponent_Conditional_35_mat_card_1_Conditional_12_Template","AISListComponent_Conditional_35_mat_card_1_Conditional_13_Template","AISListComponent_Conditional_35_mat_card_1_Template_button_click_14_listener","emitCenter","position","AISListComponent_Conditional_35_mat_card_1_Template_button_click_19_listener","mmsi","i_r11","focusId","moveMap","AISListComponent_Conditional_35_mat_card_1_Template","filterList","AISListComponent","aisTargets","select","focusVessel","pan","aisAvailable","onlyIMO","filterText","someSel","allSel","initItems","alignSelections","selectAll","selections","Array","isArray","forEach","push","sort","a","b","x","y","checkSelections","slice","i","aisTargetTypes","toggleFilterType","e","aisFilterByShipType","t","concat","splice","c","u","emitSelected","selection","filter","n","toLowerCase","center","zoomLevel","AISListComponent_Template","AISListComponent_Template_button_click_5_listener","AISListComponent_Template_input_keyup_16_listener","ftext_r2","reference","AISListComponent_Conditional_18_Template","AISListComponent_Template_button_click_20_listener","AISListComponent_Template_mat_checkbox_change_24_listener","AISListComponent_Template_mat_slide_toggle_change_28_listener","AISListComponent_Template_mat_slide_toggle_change_31_listener","AISListComponent_Conditional_34_Template","AISListComponent_Conditional_35_Template","selall_r12","MatCardActions","MatCardContent","MatCardTitle","MatCheckbox","MatInput","MatFormField","MatLabel","MatSuffix","i9","CdkFixedSizeVirtualScroll","CdkVirtualForOf","CdkVirtualScrollViewport","i10","MatSlideToggle","signal","FormControl","Validators","ReactiveFormsModule","MatSelectModule","merge","takeUntilDestroyed","getResourceIcon","ctx_r1","errorMessage","i_r3","type","WaypointDialog_For_30_For_2_Template","repeaterTrackByIdentity","wt_r4","group","icons","lat","positionFormat","WaypointDialog_Conditional_34_Template_input_blur_4_listener","updateErrorMessage","WaypointDialog_Conditional_34_Conditional_5_Template","inpLat","invalid","dirty","touched","lon","WaypointDialog_Conditional_37_Template_input_blur_4_listener","WaypointDialog_Conditional_37_Conditional_5_Template","inpLon","WaypointDialog_Conditional_40_Template_button_click_0_listener","inpName","readOnly","WaypointDialog","waypointTypes","wptType","waypoint","coords","feature","geometry","coordinates","addMode","required","wptIcons","default","pseudoaton","whale","pob","statusChanges","valueChanges","pipe","subscribe","hasError","set","save","WaypointDialog_Template","WaypointDialog_Template_input_blur_15_listener","WaypointDialog_Conditional_16_Template","twoWayListener","WaypointDialog_Template_textarea_ngModelChange_21_listener","twoWayBindingSet","WaypointDialog_Template_mat_select_valueChange_28_listener","WaypointDialog_For_30_Template","WaypointDialog_Conditional_33_Template","WaypointDialog_Conditional_34_Template","WaypointDialog_Conditional_36_Template","WaypointDialog_Conditional_37_Template","WaypointDialog_Conditional_40_Template","WaypointDialog_Template_button_click_41_listener","twoWayProperty","DefaultValueAccessor","NumberValueAccessor","NgControlStatus","RequiredValidator","MinValidator","MaxValidator","NgModel","MatError","MatSelect","MatOption","MatOptgroup","MatDialogTitle","MatDialogActions","FormControlDirective","decimalToSexagesimal","symDegree","String","fromCharCode","transform","isLat","h","toHDdSigned","toDMdH","toHDd","toHDMS","toDHMS","toXY","precision","toFixed","hemisphere","ddec","substring","Math","floor","abs","D","d","mdec","pad","s","toString","length","pure","MatNativeDateModule","MatDatepickerModule","MatFormFieldModule","MatStepperModule","MsgBox","AlertDialog","ConfirmDialog","WelcomeDialog","AboutDialog","LoginDialog","MessageBarComponent","CommonDialogs","declarations","imports","exports","InteractionsDirective","OverlayComponent","ControlsDirective","ViewDirective","ContentComponent","ControlComponent","InteractionDrawComponent","InteractionModifyComponent","WaypointLayerComponent","FreeboardWaypointLayerComponent","NoteLayerComponent","FreeboardNoteLayerComponent","RouteLayerComponent","FreeboardRouteLayerComponent","FreeboardRegionLayerComponent","FreeboardChartLayerComponent","ChartBoundsLayerComponent","TrackLayerComponent","ResourceSetLayerComponent","AnchorAlarmComponent","AlarmComponent","CPAAlarmComponent","ArrivalCircleComponent","XTEPathComponent","BearingLineComponent","LaylineComponent","DirectionOfTravelComponent","VesselComponent","VesselTrailComponent","FBFeatureLayerComponent","RacingStartLineLayerComponent","AISFlagsLayerComponent","AISWindLayerComponent","AISTargetsLayerComponent","AISVesselsLayerComponent","AISTargetsTrackLayerComponent","TargetAngleComponent","MapService","S57Service","FreeboardOpenlayersModule","MatRadioModule","MatListModule","MatSliderModule","SignalKPreferredPathsComponent","SettingsDialog_For_3_Template_a_click_0_listener","jumpTo","text","SettingsDialog_For_19_Template_a_click_0_listener","i_r9","SettingsDialog_Conditional_26_Conditional_2_Template_mat_select_valueChange_5_listener","facade","settings","plugins","instruments","SettingsDialog_Conditional_26_Conditional_2_Template_mat_select_selectionChange_5_listener","instruments_r8","onFormChange","buildFavouritesList","SettingsDialog_Conditional_26_Conditional_2_For_8_Template","SettingsDialog_Conditional_26_Conditional_2_Template_input_ngModelChange_13_listener","parameters","SettingsDialog_Conditional_26_Conditional_2_Template_input_change_13_listener","instparams_r10","SettingsDialog_Conditional_26_Conditional_2_Template_mat_checkbox_ngModelChange_16_listener","startOnOpen","SettingsDialog_Conditional_26_Conditional_2_Template_mat_checkbox_change_16_listener","startOnOpen_r11","SettingsDialog_Conditional_26_Conditional_2_Template_button_click_20_listener","toggleFavourites","list","applications","fav_r14","pluginFavourites","SettingsDialog_Conditional_26_Conditional_3_Template_mat_selection_list_selectionChange_6_listener","_r12","favs_r13","onFavSelected","SettingsDialog_Conditional_26_Conditional_3_For_9_Template","favourites","SettingsDialog_Conditional_26_Conditional_2_Template","SettingsDialog_Conditional_26_Conditional_3_Template","display","i_r19","i_r22","i_r24","i_r27","i_r28","i_r29","i_r31","i_r33","i_r35","i_r37","i_r40","SettingsDialog_Conditional_177_Template_mat_select_valueChange_4_listener","_r38","SettingsDialog_Conditional_177_Template_mat_select_selectionChange_4_listener","positionformat_r39","SettingsDialog_Conditional_177_For_7_Template","preferredValues","i_r43","SettingsDialog_Conditional_180_Template_mat_select_valueChange_4_listener","_r41","headingAttribute","SettingsDialog_Conditional_180_Template_mat_select_selectionChange_4_listener","headingattrib_r42","SettingsDialog_Conditional_180_For_7_Template","heading","i_r46","i_r48","i_r55","i_r57","i_r62","i_r64","i_r66","i_r67","i_r69","i_r71","i_r73","i_r76","i_r78","i_r81","i_r83","SettingsDialog_Conditional_395_Template_button_click_0_listener","_r85","notesrootfilter_r84","resources","paths","f_r91","i_r98","SettingsDialog","myElement","menuItems","aisStateFilter","moored","anchored","saveOnClose","refresh","aisState","wait","setTimeout","nativeElement","ownerDocument","getElementById","scrollIntoView","behavior","f","deferSave","signals","fetchNotes","applySettings","console","warn","onPreferredPaths","preferredPaths","selectedOptions","onResPathSelected","resourceSets","onAisStateFilter","noSort","clearAuthToken","clearToken","SettingsFacade","ElementRef","SettingsDialog_Template","SettingsDialog_For_3_Template","SettingsDialog_Template_button_click_12_listener","SettingsDialog_For_19_Template","SettingsDialog_Conditional_26_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_32_listener","lockMoveMap","SettingsDialog_Template_mat_checkbox_change_32_listener","lockMoveMap_r15","SettingsDialog_Template_mat_checkbox_ngModelChange_36_listener","SettingsDialog_Template_mat_checkbox_change_36_listener","muteAllSound_r16","SettingsDialog_Template_mat_checkbox_ngModelChange_40_listener","depthAlarm","enabled","SettingsDialog_Template_mat_checkbox_change_40_listener","depthalarm_r17","SettingsDialog_Template_mat_select_valueChange_47_listener","smoothing","SettingsDialog_Template_mat_select_selectionChange_47_listener","depthsmoothing_r18","SettingsDialog_For_50_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_55_listener","wakeLock","SettingsDialog_Template_mat_checkbox_change_55_listener","wakelock_r20","SettingsDialog_Template_mat_select_valueChange_62_listener","darkMode","SettingsDialog_Template_mat_select_selectionChange_62_listener","darkmode_r21","SettingsDialog_For_65_Template","SettingsDialog_Template_mat_select_valueChange_75_listener","labelsMinZoom","SettingsDialog_Template_mat_select_selectionChange_75_listener","labelsminzoom_r23","SettingsDialog_For_78_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_80_listener","popoverMulti","SettingsDialog_Template_mat_checkbox_change_80_listener","popoverMulti_r25","SettingsDialog_Template_mat_checkbox_ngModelChange_84_listener","mapDoubleClick","SettingsDialog_Template_mat_checkbox_change_84_listener","mapDoubleClick_r26","SettingsDialog_Template_mat_select_valueChange_97_listener","s57Options","graphicsStyle","SettingsDialog_For_100_Template","SettingsDialog_Template_mat_select_valueChange_105_listener","boundaries","SettingsDialog_For_108_Template","SettingsDialog_Template_mat_select_valueChange_113_listener","colors","SettingsDialog_For_116_Template","SettingsDialog_Template_input_ngModelChange_122_listener","shallowDepth","SettingsDialog_Template_input_ngModelChange_129_listener","safetyDepth","SettingsDialog_Template_input_ngModelChange_136_listener","deepDepth","SettingsDialog_Template_mat_select_valueChange_149_listener","units","distance","SettingsDialog_Template_mat_select_selectionChange_149_listener","distunits_r30","SettingsDialog_For_152_Template","SettingsDialog_Template_mat_select_valueChange_157_listener","depth","SettingsDialog_Template_mat_select_selectionChange_157_listener","depthunits_r32","SettingsDialog_For_160_Template","SettingsDialog_Template_mat_select_valueChange_165_listener","speed","SettingsDialog_Template_mat_select_selectionChange_165_listener","speedunits_r34","SettingsDialog_For_168_Template","SettingsDialog_Template_mat_select_valueChange_173_listener","temperature","SettingsDialog_Template_mat_select_selectionChange_173_listener","tempunits_r36","SettingsDialog_For_176_Template","SettingsDialog_Conditional_177_Template","SettingsDialog_Template_signalk_preferred_paths_chosen_179_listener","SettingsDialog_Conditional_180_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_188_listener","course","autoNextPointOnArrival","SettingsDialog_Template_mat_checkbox_change_188_listener","courseautoadvance_r44","SettingsDialog_Template_mat_select_valueChange_194_listener","autoNextPointTrigger","SettingsDialog_Template_mat_select_selectionChange_194_listener","courseautoadvanceon_r45","SettingsDialog_For_197_Template","SettingsDialog_Template_mat_select_valueChange_201_listener","autoNextPointDelay","SettingsDialog_Template_mat_select_selectionChange_201_listener","courseautoadvancedelay_r47","SettingsDialog_For_204_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_213_listener","fixedLocationMode","SettingsDialog_Template_mat_checkbox_change_213_listener","vesselfixedlocationmode_r49","SettingsDialog_Template_input_ngModelChange_221_listener","fixedPosition","SettingsDialog_Template_input_change_221_listener","fixedlat_r50","SettingsDialog_Conditional_223_Template","SettingsDialog_Template_input_ngModelChange_227_listener","SettingsDialog_Template_input_change_227_listener","fixedlon_r51","SettingsDialog_Conditional_229_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_235_listener","vessel","windVectors","SettingsDialog_Template_mat_checkbox_change_235_listener","vesselwindvectors_r52","SettingsDialog_Template_mat_checkbox_ngModelChange_238_listener","laylines","SettingsDialog_Template_mat_checkbox_change_238_listener","vessellaylines_r53","SettingsDialog_Template_mat_select_valueChange_244_listener","headingLineSize","SettingsDialog_Template_mat_select_selectionChange_244_listener","vesselheadinglinesize_r54","SettingsDialog_For_247_Template","SettingsDialog_Template_mat_select_valueChange_251_listener","cogLine","SettingsDialog_Template_mat_select_selectionChange_251_listener","vesselcoglinesize_r56","SettingsDialog_For_254_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_258_listener","trail","SettingsDialog_Template_mat_checkbox_change_258_listener","vesseltrail_r58","SettingsDialog_Template_mat_checkbox_ngModelChange_263_listener","trailFromServer","SettingsDialog_Template_mat_checkbox_change_263_listener","trailFromServer_r59","SettingsDialog_Template_input_ngModelChange_269_listener","trailDuration","SettingsDialog_Template_input_valueChange_269_listener","trailDuration_r60","SettingsDialog_Template_mat_select_valueChange_276_listener","trailResolution","lastHour","SettingsDialog_Template_mat_select_selectionChange_276_listener","trailRes1_r61","SettingsDialog_For_279_Template","SettingsDialog_Template_mat_select_valueChange_284_listener","next23","SettingsDialog_Template_mat_select_selectionChange_284_listener","trailRes23_r63","SettingsDialog_For_287_Template","SettingsDialog_Template_mat_select_valueChange_292_listener","beyond24","SettingsDialog_Template_mat_select_selectionChange_292_listener","aisstaleage_r65","SettingsDialog_For_295_Template","SettingsDialog_Template_mat_select_valueChange_305_listener","aisStaleAge","SettingsDialog_Template_mat_select_selectionChange_305_listener","SettingsDialog_For_308_Template","SettingsDialog_Template_mat_select_valueChange_313_listener","aisMaxAge","SettingsDialog_Template_mat_select_selectionChange_313_listener","aismaxage_r68","SettingsDialog_For_316_Template","SettingsDialog_Template_mat_select_valueChange_321_listener","aisWindApparent","SettingsDialog_Template_mat_select_selectionChange_321_listener","aiswindvector_r70","SettingsDialog_For_324_Template","SettingsDialog_Template_mat_select_valueChange_329_listener","aisWindMinZoom","SettingsDialog_Template_mat_select_selectionChange_329_listener","aiswindminzoom_r72","SettingsDialog_For_332_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_334_listener","aisShowTrack","SettingsDialog_Template_mat_checkbox_change_334_listener","aisShowTrack_r74","SettingsDialog_Template_mat_checkbox_ngModelChange_338_listener","SettingsDialog_Template_mat_checkbox_change_338_listener","SettingsDialog_Template_mat_checkbox_ngModelChange_342_listener","SettingsDialog_Template_mat_checkbox_change_342_listener","SettingsDialog_Template_mat_select_valueChange_349_listener","aisCogLine","SettingsDialog_Template_mat_select_selectionChange_349_listener","aiscogline_r75","SettingsDialog_For_352_Template","SettingsDialog_Template_mat_select_valueChange_357_listener","aisProfile","SettingsDialog_Template_mat_select_selectionChange_357_listener","aisprofile_r77","SettingsDialog_For_360_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_368_listener","notes","SettingsDialog_Template_mat_checkbox_change_368_listener","shownotes_r79","SettingsDialog_Template_mat_select_valueChange_375_listener","notesMinZoom","SettingsDialog_Template_mat_select_selectionChange_375_listener","notesminzoom_r80","SettingsDialog_For_378_Template","SettingsDialog_Template_mat_select_valueChange_384_listener","getRadius","SettingsDialog_Template_mat_select_selectionChange_384_listener","notesgetradius_r82","SettingsDialog_For_387_Template","SettingsDialog_Template_input_ngModelChange_393_listener","rootFilter","SettingsDialog_Template_input_change_393_listener","SettingsDialog_Conditional_395_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_398_listener","groupNameEdit","SettingsDialog_Template_mat_checkbox_change_398_listener","groupeditable_r86","SettingsDialog_Template_mat_checkbox_ngModelChange_402_listener","groupRequiresPosition","SettingsDialog_Template_mat_checkbox_change_402_listener","groupposition_r87","SettingsDialog_Template_mat_checkbox_ngModelChange_412_listener","video","enable","SettingsDialog_Template_mat_checkbox_change_412_listener","enablevideo_r88","SettingsDialog_Template_input_ngModelChange_419_listener","SettingsDialog_Template_input_change_419_listener","videourl_r89","SettingsDialog_Conditional_421_Template","SettingsDialog_Template_mat_selection_list_selectionChange_431_listener","respath_r90","SettingsDialog_For_434_Template","SettingsDialog_Template_mat_checkbox_ngModelChange_450_listener","signalk","vessels","SettingsDialog_Template_mat_checkbox_change_450_listener","skfiltervessels_r92","SettingsDialog_Template_mat_checkbox_ngModelChange_454_listener","atons","SettingsDialog_Template_mat_checkbox_change_454_listener","skfilteratons_r93","SettingsDialog_Template_mat_checkbox_ngModelChange_458_listener","aircraft","SettingsDialog_Template_mat_checkbox_change_458_listener","skfilterairsraft_r94","SettingsDialog_Template_mat_checkbox_ngModelChange_462_listener","sar","SettingsDialog_Template_mat_checkbox_change_462_listener","skfiltersar_r95","SettingsDialog_Template_mat_checkbox_ngModelChange_466_listener","meteo","SettingsDialog_Template_mat_checkbox_change_466_listener","skfiltermeteo_r96","SettingsDialog_Template_mat_select_valueChange_474_listener","maxRadius","SettingsDialog_Template_mat_select_selectionChange_474_listener","skmaxradius_r97","SettingsDialog_For_477_Template","SettingsDialog_Template_button_click_480_listener","SettingsDialog_Template_mat_checkbox_ngModelChange_485_listener","experiments","SettingsDialog_Template_mat_checkbox_change_485_listener","experiments_r99","settingsMenu_r100","optAppPanel","alarmOptions","darkModeOptions","minZoom","availableUnits","nextPointTriggers","vesselOptions","headingLine","trailOptions","highResolution","mediumResolution","aisTimeouts","wind","aisProfiles","get","noteRadius","resourcePaths","aisMaxRadius","PatternValidator","MatNavList","MatSelectionList","MatListItem","MatListOption","MatDivider","i11","MatSlider","MatSliderThumb","i12","i13","i14","i15","i16","Feature","Style","Stroke","Fill","RegularShape","Point","fromLonLat","getRhumbLineBearing","getCenter","points","reverse","pointIndex","mapZoom","layerProperties","parseValues","addFeatures","handleLabelZoomChange","fa","arrows","idx","pctr","longitude","latitude","setId","setStyle","buildStyle","index","image","radius","fill","color","stroke","width","rotateWithView","rotation","getOrientation","setRotation","cs","clone","im","getImage","o","setImage","PI","DirectionOfTravelComponent_Template","MAT_BOTTOM_SHEET_DATA","SignalKDetailsComponent","AircraftPropertiesModal","sk","modalRef","showProperties","getAircraftInfo","split","join","api","v","parseAircraft","res","navigation","toggleProperties","SignalKClient","MatBottomSheetRef","AircraftPropertiesModal_Template","AircraftPropertiesModal_Template_button_click_8_listener","dismiss","AircraftPropertiesModal_Template_button_click_34_listener","AircraftPropertiesModal_Conditional_39_Template","title","target","callsignVhf","callsignHf","moveItemInArray","copyArrayItem","CdkDropList","item_r2","BuildRouteComponent_For_29_Template_button_click_7_listener","$index_55_r4","$index","ctx_r4","deleteFromRoute","item_r6","BuildRouteComponent","cdr","wpts","rtepts","ngAfterViewInit","getWaypoints","detectChanges","waypoints","href","dropEventHandler","event","previousContainer","container","previousIndex","currentIndex","showConfirm","doSave","buildRoute","show","rte","meta","pt","BuildRouteComponent_Template","BuildRouteComponent_Template_button_click_4_listener","BuildRouteComponent_Template_button_click_10_listener","BuildRouteComponent_Template_div_cdkDropListDropped_21_listener","BuildRouteComponent_For_24_Template","BuildRouteComponent_Template_div_cdkDropListDropped_26_listener","BuildRouteComponent_For_29_Template","BuildRouteComponent_Template_button_click_31_listener","pureFunction1","rteptList_r7","LineString","fromLonLatArray","mapifyCoords","lineCoords","mapifiedLine","lineDash","XTEPathComponent_Template","NSEWButtonsComponent","computeDestinationPoint","AnchorWatchComponent_Conditional_50_Template_button_click_10_listener","ctx_r2","stepSetRode","AnchorWatchComponent_Conditional_50_Template_input_valueChange_21_listener","setRadius","AnchorWatchComponent_Conditional_50_Template_nsew_buttons_direction_29_listener","shiftAnchor","rodeOut","disableRaiseDrop","feet","mToFt","min","max","sliderValue","displayRadius","AnchorWatchComponent","anchor","raised","showSelf","slideCtl","bgImage","useDefaultRadius","defaultAlarmRadius","useSetManual","defaultRodeLength","anchorRadius","anchorSetRadius","anchorManualSet","anchorRodeLength","previousValue","round","firstChange","onDefaultRadiusChecked","onSetManualCheck","ftToM","post","err","parseHttpErrorResponse","setManualAnchor","showAlert","rodeLength","dropRaiseAnchor","dropAnchor","raiseAnchor","setRaisedSignal","direction","inc","setAnchorPosition","catch","AnchorFacade","viewQuery","AnchorWatchComponent_Query","AnchorWatchComponent_Template_button_click_5_listener","AnchorWatchComponent_Template_mat_slide_toggle_change_21_listener","AnchorWatchComponent_Template_mat_checkbox_change_26_listener","AnchorWatchComponent_Template_input_ngModelChange_33_listener","AnchorWatchComponent_Conditional_35_Template","AnchorWatchComponent_Template_mat_checkbox_change_38_listener","AnchorWatchComponent_Template_button_click_41_listener","AnchorWatchComponent_Template_input_ngModelChange_47_listener","AnchorWatchComponent_Conditional_49_Template","AnchorWatchComponent_Conditional_50_Template","styleProp","ctlAlarmRadius_r4","ctlRodeLength_r5","MatMiniFabButton","MatStep","MatStepper","MatStepperNext","i_r2","i_r4","i_r5","PlaybackDialog","hour","minute","formData","context","startTimeHr","startTimeMin","startDate","playbackRate","maxDate","submit","cancel","q","ts","setHours","parseInt","setMinutes","toISOString","startTime","result","query","hrValues","minValues","rateValues","PlaybackDialog_Template","PlaybackDialog_Template_mat_select_ngModelChange_13_listener","PlaybackDialog_For_15_Template","PlaybackDialog_Template_input_ngModelChange_20_listener","PlaybackDialog_Template_mat_select_ngModelChange_33_listener","PlaybackDialog_For_35_Template","PlaybackDialog_Template_mat_select_ngModelChange_41_listener","PlaybackDialog_For_43_Template","PlaybackDialog_Template_mat_select_ngModelChange_48_listener","PlaybackDialog_For_50_Template","PlaybackDialog_Template_button_click_53_listener","PlaybackDialog_Template_button_click_55_listener","picker_r6","MatHint","MatDatepicker","MatDatepickerInput","MatDatepickerToggle","DoubleClickZoom","DragPan","DragRotate","DragZoom","KeyboardPan","KeyboardZoom","MouseWheelZoom","PinchZoom","interactions","interactionList","dragpan","dragrotate","dragzoom","doubleclickzoom","keyboardpan","keyboardzoom","mousewheelzoom","pinchzoom","olInteractions","setInteractions","getInteractions","addInteraction","controlConfig","error","newInteraction","options","ReversePipe","DragDropModule","Convert","AutopilotComponent_For_3_Template_button_click_0_listener","setMode","formatTargetValue","self","autopilot","state","mode","AutopilotComponent_Conditional_33_Template_button_click_2_listener","dodgeAdjust","AutopilotComponent_Conditional_33_Template_button_click_5_listener","AutopilotComponent_Conditional_33_Template_button_click_8_listener","AutopilotComponent_Conditional_33_Template_button_click_11_listener","AutopilotComponent_Conditional_34_Template_button_click_2_listener","targetAdjust","AutopilotComponent_Conditional_34_Template_button_click_5_listener","AutopilotComponent_Conditional_34_Template_button_click_8_listener","AutopilotComponent_Conditional_34_Template_button_click_11_listener","AutopilotComponent","stream","autopilotOptions","modes","states","deltaSub","autopilotApiPath","delta$","action","skApiVersion","val","hasApi","showMessage","unsubscribe","toggleEngaged","uri","status","put","debug","toggleDodge","delete","dragEventHandler","srcElement","clientLeft","clientTop","radiansToDegrees","SKStreamFacade","AutopilotComponent_Template","AutopilotComponent_For_3_Template","AutopilotComponent_Template_div_cdkDragReleased_5_listener","AutopilotComponent_Template_mat_icon_click_8_listener","AutopilotComponent_Conditional_19_Template","AutopilotComponent_Conditional_20_Template","AutopilotComponent_Conditional_23_Template","AutopilotComponent_Conditional_24_Template","AutopilotComponent_Conditional_28_Template","AutopilotComponent_Conditional_29_Template","AutopilotComponent_Conditional_31_Template","AutopilotComponent_Conditional_32_Template","AutopilotComponent_Conditional_33_Template","AutopilotComponent_Conditional_34_Template","AutopilotComponent_Template_button_click_37_listener","AutopilotComponent_Template_button_click_44_listener","tmp_2_0","pureFunction2","modemenu_r7","CdkDragHandle","startLine","racecourseStyles","labelPrefixes","parseCourse","some","k","sl","sp","startPin","sb","startBoat","updateLabels","InheritDefinitionFeature","RacingStartLineLayerComponent_Template","WakeLockComponent_Conditional_0_Template_button_click_1_listener","toggle","tipText","WakeLockComponent","tooltipText","setOn","has","change","isSupported","wakeLockRef","tipTextSet","navigator","releaseLock","document","removeEventListener","onVisibilityChange","requestLock","request","then","w","addEventListener","onRelease","bind","release","_this","_asyncToGenerator","visibilityState","WakeLockComponent_Template","WakeLockComponent_Conditional_0_Template","encapsulation","Text","MultiLineString","tracks","trackStyles","parseTracks","parseCoordinates","trk","skType","setTextLabel","textAlign","mls","lines","line","TrackLayerComponent_Template","ResourceSetModal_For_16_Template_mat_checkbox_change_4_listener","res_r3","$index_27_r4","handleCheck","isResourceSet","selRes","ResourceSetModal","resList","getItems","closeModal","resSet","skres","processItems","updateItems","resourceSelected","clearSelections","ResourceSetModal_Template","ResourceSetModal_Template_button_click_3_listener","ResourceSetModal_Template_button_click_6_listener","ResourceSetModal_Template_button_click_12_listener","ResourceSetModal_For_16_Template","parseStringPromise","GPX","version","creator","wpt","extensions","metadata","init","GPXMetadataType","stringify","toXML","xml","metadataToXML","waypointsToXML","routesToXML","tracksToXML","extensionsToXML","desc","time","keywords","author","email","domain","link","copyright","year","license","l","bounds","minLat","minLon","maxLat","maxLon","ptToXML","rt","cmt","src","number","rtept","tk","trkseg","seg","trkpt","tag","padLevel","sym","datetime","fix","ele","magvar","geoidHeight","sat","vdop","hdop","pdop","ageOfGpsData","dgpsid","ext","keys","es","xValue","attrib","parse","gpxstr","xjs","Number","minlat","minlon","maxlat","maxlon","parseExtensions","parseWaypoints","parseRoutes","toWpt","updateBounds","routes","r","toRte","toTrk","xext","resExt","parseLinks","xlink","links","GPXLinkType","_href","xmlrte","GPXRoute","toPtArray","xmlwpt","GPXWaypoint","xmltrk","GPXTrack","GPXTrackSegment","xpts","pts","setExtension","ns","p","GPXFixType","GPXBoundsType","GPXPersonType","GPXEmailType","GPXCopyrightType","AtoNsReal","files","scale","AtoNsVirtual","WeatherStation","getAtoNDefs","atonList","addToList","file","gid","lastIndexOf","DisplayCategory","Icon","DRGARE","DEPARE","LOOKUPINDEXKEY","S57Style","s57Service","selectedSafeContour","instructionMatch","RegExp","getSymbolStyle","symbolName","symbol","getSymbol","height","img","anchorXUnits","anchorYUnits","pivotX","pivotY","declutterMode","getTextStyle","textBaseline","offsetY","offsetX","setZIndex","getTextStyleTXStyle","featureProperties","getTextStyleTXText","stripQuotes","getTextStyleTEText","format","replace","getTextStyleTEStyle","getDefaultStyle","getAreaStyle","colorName","getColor","getLineStyle","parts","lineStyle","GetCSQQUALIN01","retval","getProperties","quapos","bquapos","parseFloat","conrad","bconrad","GetCSQQUAPNT01","accurate","GetCSQUAPOS01","getGeometry","getType","GetCSSLCONS03","bcondtn","condtn","bcatslc","catslc","bwatlev","watlev","GetCSTOPMAR01","rulestring","floating","startsWith","topshp","GetCSLIGHTS05","colVals","GetSeabed01","drval1","drval2","GetCSDEPCNT02","depth_value","valdco","objl","getCSDEPARE01","dv1","isNaN","dv2","evalCS","instruction","instrParts","exec","getStylesFromRules","lup","instructions","conditionals","cacheKey","getStyle","getText","setText","layerOrder","updateSafeContour","renderOrder","feature1","feature2","l1","l2","o1","o2","lupIndex1","lupIndex2","selectLookup","c1","getLookup","displayPriority","c2","resolution","lupIndex","displayCategory","DISPLAYBASE","STANDARD","MARINERS_STANDARD","TimerButtonComponent_Conditional_1_Template_button_click_1_listener","TimerButtonComponent_Conditional_1_Conditional_2_Template","cancelledLabel","TimerButtonComponent_Conditional_2_Template_button_click_0_listener","disabled","label","timeLeft","TimerButtonComponent","period","nextPoint","timer","cancelled","setInterval","clearInterval","TimerButtonComponent_Template","TimerButtonComponent_Conditional_1_Template","TimerButtonComponent_Conditional_2_Template","effect","Subject","GeoJSONImportDialog","Trail2RouteDialog","AISPropertiesModal","AtoNPropertiesModal","ActiveResourcePropertiesModal","ResourceImportDialog","ResourceSetFeatureModal","SKSTREAM_MODE","SKRegion","WeatherForecastModal","CourseSettingsModal","GPXImportDialog","GPXExportDialog","GeoUtils","semver","AppComponent_Conditional_27_For_3_Case_1_Template_button_click_0_listener","displayLeftMenu","AppComponent_Conditional_27_For_3_Case_2_Template_button_click_0_listener","_r4","p_r5","openExperiment","choice","AppComponent_Conditional_27_For_3_Case_1_Template","AppComponent_Conditional_27_For_3_Case_2_Template","tmp_16_0","AppComponent_Conditional_27_For_3_Template","AppComponent_Conditional_30_Template_a_click_0_listener","clearTrail","serverTrail","AppComponent_Conditional_31_Template_a_click_0_listener","trailToRoute","AppComponent_Conditional_32_Template_a_click_0_listener","_r8","clearDestination","AppComponent_Conditional_32_Conditional_3_Template","AppComponent_Conditional_32_Conditional_4_Template","AppComponent_Conditional_32_Template_a_click_5_listener","clearCourseData","activeRoute","AppComponent_Conditional_78_Template_a_click_0_listener","showWaypointEditor","active","AppComponent_Conditional_85_Template_a_click_0_listener","drawStart","AppComponent_Conditional_93_Template_a_click_0_listener","_r11","showLogin","loggedInBadgeText","loggedIn","AppComponent_Conditional_95_Template_a_click_0_listener","AppComponent_Conditional_106_Template_a_click_0_listener","_r13","showPlaybackSettings","AppComponent_Conditional_126_div_2_Conditional_7_Template_a_click_0_listener","_r17","sideright_r16","instUrl","sanitizeResourceUrl","AppComponent_Conditional_126_div_2_Template_a_click_3_listener","_r15","AppComponent_Conditional_126_div_2_Conditional_7_Template","AppComponent_Conditional_126_div_2_Template_a_click_8_listener","selectPlugin","AppComponent_Conditional_126_div_2_Template_a_click_11_listener","AppComponent_Conditional_126_div_2_Conditional_16_Template","instrumentAppActive","AppComponent_Conditional_126_div_3_Template_remote_control_closed_1_listener","_r18","toggleRemoteControl","navData","AppComponent_Conditional_126_Template_mat_sidenav_openedChange_0_listener","_r14","rightSideNavAction","AppComponent_Conditional_126_div_2_Template","AppComponent_Conditional_126_div_3_Template","remoteControl","isAnimatingRemoteControl","AppComponent_Conditional_130_Template_route_builder_save_0_listener","_r19","showRouteNew","AppComponent_Conditional_131_Conditional_5_Conditional_18_Template_button_click_1_listener","_r22","centerVessel","AppComponent_Conditional_131_Conditional_5_Conditional_29_Template_button_click_1_listener","_r23","showSelectMode","AppComponent_Conditional_131_Conditional_5_Template_button_click_2_listener","_r21","toggleAlertList","AppComponent_Conditional_131_Conditional_5_Template_button_click_13_listener","toggleNorthUp","AppComponent_Conditional_131_Conditional_5_Template_button_click_16_listener","toggleMoveMap","AppComponent_Conditional_131_Conditional_5_Conditional_18_Template","AppComponent_Conditional_131_Conditional_5_Template_button_click_20_listener","AppComponent_Conditional_131_Conditional_5_Template_button_click_23_listener","toggleAutonomousControl","AppComponent_Conditional_131_Conditional_5_Conditional_29_Template","draw","measure","layersmenu_r24","editmenu_r26","_c3","sMapNorthUp","northUp","_c4","_c5","_c6","autonomousControl","settingsmenu_r25","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template_route_list_select_0_listener","_r27","routeSelected","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template_route_list_delete_0_listener","showRouteDelete","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template_route_list_activate_0_listener","activateRoute","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template_route_list_deactivate_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template_route_list_refresh_0_listener","getRoutes","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template_route_list_properties_0_listener","resourceProperties","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template_route_list_points_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template_route_list_notes_0_listener","showRelatedNotes","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template_route_list_closed_0_listener","editingId","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_0_Template","defer","AppComponent_Conditional_131_Conditional_6_Conditional_1_Defer_1_DepsFn","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template_waypoint_list_select_0_listener","_r28","waypointSelected","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template_waypoint_list_delete_0_listener","showWaypointDelete","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template_waypoint_list_goto_0_listener","navigateToWaypoint","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template_waypoint_list_deactivate_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template_waypoint_list_refresh_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template_waypoint_list_properties_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template_waypoint_list_center_0_listener","centerResource","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template_waypoint_list_notes_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template_waypoint_list_closed_0_listener","activeWaypoint","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_0_Template","AppComponent_Conditional_131_Conditional_6_Conditional_2_Defer_1_DepsFn","AppComponent_Conditional_131_Conditional_6_Conditional_3_Defer_0_Template_chart_list_select_0_listener","_r29","chartSelected","AppComponent_Conditional_131_Conditional_6_Conditional_3_Defer_0_Template_chart_list_delete_0_listener","showChartDelete","AppComponent_Conditional_131_Conditional_6_Conditional_3_Defer_0_Template_chart_list_orderChange_0_listener","chartOrder","AppComponent_Conditional_131_Conditional_6_Conditional_3_Defer_0_Template_chart_list_refresh_0_listener","getCharts","AppComponent_Conditional_131_Conditional_6_Conditional_3_Defer_0_Template_chart_list_closed_0_listener","charts","AppComponent_Conditional_131_Conditional_6_Conditional_3_Defer_0_Template","AppComponent_Conditional_131_Conditional_6_Conditional_3_Defer_1_DepsFn","AppComponent_Conditional_131_Conditional_6_Conditional_4_Defer_0_Template_note_list_select_0_listener","_r30","noteSelected","AppComponent_Conditional_131_Conditional_6_Conditional_4_Defer_0_Template_note_list_refresh_0_listener","getNotes","AppComponent_Conditional_131_Conditional_6_Conditional_4_Defer_0_Template_note_list_pan_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_4_Defer_0_Template_note_list_closed_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_4_Defer_0_Template","AppComponent_Conditional_131_Conditional_6_Conditional_4_Defer_1_DepsFn","AppComponent_Conditional_131_Conditional_6_Conditional_5_Defer_0_Template_track_list_center_0_listener","_r31","AppComponent_Conditional_131_Conditional_6_Conditional_5_Defer_0_Template_track_list_closed_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_5_Defer_0_Template","AppComponent_Conditional_131_Conditional_6_Conditional_5_Defer_1_DepsFn","AppComponent_Conditional_131_Conditional_6_Conditional_6_Defer_0_Template_ais_list_select_0_listener","_r32","aisSelected","AppComponent_Conditional_131_Conditional_6_Conditional_6_Defer_0_Template_ais_list_properties_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_6_Defer_0_Template_ais_list_closed_0_listener","AppComponent_Conditional_131_Conditional_6_Conditional_6_Defer_0_Template_ais_list_focusVessel_0_listener","switchActiveVessel","AppComponent_Conditional_131_Conditional_6_Conditional_6_Defer_0_Template_ais_list_pan_0_listener","activeId","AppComponent_Conditional_131_Conditional_6_Conditional_6_Defer_0_Template","AppComponent_Conditional_131_Conditional_6_Conditional_6_Defer_1_DepsFn","AppComponent_Conditional_131_Conditional_6_Conditional_7_Template_anchor_watch_closed_0_listener","_r33","AppComponent_Conditional_131_Conditional_6_Conditional_1_Template","AppComponent_Conditional_131_Conditional_6_Conditional_2_Template","AppComponent_Conditional_131_Conditional_6_Conditional_3_Template","AppComponent_Conditional_131_Conditional_6_Conditional_4_Template","AppComponent_Conditional_131_Conditional_6_Conditional_5_Template","AppComponent_Conditional_131_Conditional_6_Conditional_6_Template","AppComponent_Conditional_131_Conditional_6_Conditional_7_Template","routeList","waypointList","chartList","noteList","trackList","aisList","anchorWatch","AppComponent_Conditional_131_Conditional_12_Conditional_2_Template_button_click_0_listener","_r35","sideright","AppComponent_Conditional_131_Conditional_12_Conditional_7_Template_button_click_1_listener","_r36","enableAudio","AppComponent_Conditional_131_Conditional_12_Conditional_8_Template_button_click_1_listener","_r37","toggleFullscreen","_c7","fullscreen","AppComponent_Conditional_131_Conditional_12_Conditional_12_Template_fb_experiments_selected_1_listener","AppComponent_Conditional_131_Conditional_12_Conditional_13_Template_pip_video_click_1_listener","_r39","focusMap","vidUrl","AppComponent_Conditional_131_Conditional_12_Conditional_28_Template_button_click_1_listener","_r40","AppComponent_Conditional_131_Conditional_12_Conditional_2_Template","AppComponent_Conditional_131_Conditional_12_Conditional_7_Template","AppComponent_Conditional_131_Conditional_12_Conditional_8_Template","AppComponent_Conditional_131_Conditional_12_Template_wakelock_has_10_listener","_r34","handleHasWakeLock","AppComponent_Conditional_131_Conditional_12_Template_wakelock_change_10_listener","handleWakelockChange","AppComponent_Conditional_131_Conditional_12_Conditional_11_Template","AppComponent_Conditional_131_Conditional_12_Conditional_12_Template","AppComponent_Conditional_131_Conditional_12_Conditional_13_Template","AppComponent_Conditional_131_Conditional_12_Template_button_click_15_listener","toggleLimitMapZoom","AppComponent_Conditional_131_Conditional_12_Template_button_click_22_listener","invertAISTextColor","AppComponent_Conditional_131_Conditional_12_Conditional_28_Template","AppComponent_Conditional_131_Conditional_12_Template_button_click_30_listener","audio","hasWakeLock","limitZoom","invertColor","AppComponent_Conditional_131_Conditional_5_Template","AppComponent_Conditional_131_Conditional_6_Template","AppComponent_Conditional_131_Template_button_click_9_listener","_r20","toggleToolbarButtons","AppComponent_Conditional_131_Conditional_12_Template","mainmenu_r41","toolBarButtons","leftMenuPanel","AppComponent_Conditional_137_Conditional_1_Conditional_5_Template","AppComponent_Conditional_137_Conditional_1_Conditional_6_Template","AppComponent_Conditional_137_Conditional_2_Conditional_7_Template","AppComponent_Conditional_137_Conditional_2_Conditional_8_Template","forSave","AppComponent_Conditional_137_Conditional_3_Template_a_click_1_listener","_r42","cancelDraw","modify","AppComponent_Conditional_137_Conditional_1_Template","AppComponent_Conditional_137_Conditional_2_Template","AppComponent_Conditional_137_Conditional_3_Template","modifyMode","playback","AppComponent_Conditional_139_Conditional_0_Template_alert_list_closed_0_listener","_r43","AppComponent_Conditional_139_For_3_Template_fb_alert_nextPoint_1_listener","_r44","coursePointIndex","n_r45","AppComponent_Conditional_139_Conditional_0_Template","AppComponent_Conditional_139_For_3_Template","sAlertListShow","AppComponent_Conditional_140_Template_fb_measurements_cancel_0_listener","_r46","measurement","AppComponent_Conditional_141_Conditional_1_Template_route_nextpoint_selected_0_listener","_r47","routeNextPoint","pointTotal","activeRouteCircular","formatSpeed","vmg","formattedSpeedUnits","bearing","dtg","ttg","xte","eta","AppComponent_Conditional_141_Conditional_2_Template_button_click_3_listener","_r48","openCourseSettings","AppComponent_Conditional_141_Conditional_2_Template_button_click_6_listener","AppComponent_Conditional_141_Conditional_2_Template_button_click_10_listener","courseRestart","AppComponent_Conditional_141_Conditional_2_Template_button_click_14_listener","courseReverse","AppComponent_Conditional_141_Conditional_2_Conditional_17_Template","AppComponent_Conditional_141_Conditional_2_Conditional_18_Template","AppComponent_Conditional_141_Conditional_2_Conditional_19_Template","AppComponent_Conditional_141_Conditional_2_Conditional_20_Template","AppComponent_Conditional_141_Conditional_2_Conditional_21_Template","AppComponent_Conditional_141_Conditional_2_Conditional_22_Template","navDataPanel","apModeText","apModeColor","activeRouteReversed","AppComponent_Conditional_141_Conditional_1_Template","AppComponent_Conditional_141_Conditional_2_Template","nextPointCtrl","courseData","AppComponent","skresOther","dom","overlayContainer","bottomSheet","dialog","remoteControlSidenav","fullscreenEnabled","instrumentPanelOpen","setFocus","playbackAPI","REALTIME","timers","lastInstUrl","lastInstParams","lastVideoUrl","selFavourite","convert","obsList","streamOptions","toMode","wr","showWelcome","afterClosed","openSettings","resume","onstatechange","setDarkTheme","bypassSecurityTrustResourceUrl","formatInstrumentsUrl","connectSignalKServer","connectMOOSIvPServer","skLogin$","token","handleSKLoginEvent","onMessage","connect$","onConnect","close$","onClose","error$","onError","trail$","handleResourceUpdate","update$","settings$","handleSettingsEvent","fullscreenElement","stopTimers","terminate","disconnect","orientation","setMapZoomRange","docel","documentElement","fscreen","requestFullscreen","call","exitFullscreen","mq","window","matchMedia","matches","getContainerElement","classList","add","remove","host","handleContextMenuSelection","showWeather","open","disableClose","afterDismissed","isSecureContext","clipboard","writeText","JSON","getLoginStatus","loginRequired","authenticationRequired","selfId","server","proxied","connect","hostName","hostPort","hostSSL","authToken","getFBToken","watchSKLogin","loadSettingsfromServer","log","alignResourceSelections","getFeatures","info","openSKStream","wsUrl","moosIvPServer","moosSocket","WebSocket","socket","connected","onopen","send","onerror","onclose","onmessage","weather","apis","hasPlugin","pmTiles","buddyList","satisfies","chartApi","startTimers","processTrail","trailData","getVesselTrail","lastseg","lastpt","trailId","PLAYBACK","db","saveTrail","showNoteEditor","setting","trueMagChoice","useMagnetic","headingMagnetic","headingTrue","cog","cogMagnetic","cogTrue","mwd","twd","isAnimating","readyState","OPEN","menulist","openAbout","plugin","logo","maxWidth","minWidth","importFile","processGPX","processGeoJSON","fileData","fileName","errCount","fetchResources","showMsgBox","showErrorList","errList","exportToGPX","importResourceSet","postResource","cancelWarning","lis","login","user","pwd","persistToken","queryAfterConnect","isLoggedIn","hasToken","asObservable","switchMode","exit","update","nup","animationDelay","wasActive","opened","remoteControlDisplay","remoteControlConfig","allDisplays","props","suppressContextMenu","measureStart","measureEnd","zoomTo","toggleAisTargets","processAIS","toggleCourseData","toggleNotes","noprompt","bearingTrue","bearingMagnetic","arrivalCircle","startPosition","pointNames","activeRoutePoints","destPointName","clearCourse","fromCache","resource","deactivate","atonType","resSetFromCache","mapDragOver","preventDefault","mapDrop","dataTransfer","reader","FileReader","fname","onload","readAsText","toggled","aisMgr","updateList","uuid","av","getTrail","handleModifyStart","handleModifyEnd","activeRouteIsEditing","handleDrawEnd","region","normaliseCoords","createRegion","updateRouteCoords","coordsMetadata","updateWaypointPosition","setDestination","updateNotePosition","updateRegionCoords","allTypes","fetchOtherResources","onlySelected","trackCacheRefresh","restart","alignResourcesPaths","getSelf","cmd","queryAnchorStatus","fetchPluginSettings","buttonText","reconnecting","timestamp","toDateString","toTimeString","resourceUpdates","processDelta","updateNavPanel","SKResources","SKOtherResources","DomSanitizer","OverlayContainer","MatBottomSheet","MatDialog","AppComponent_Query","AppComponent_Template_button_click_4_listener","AppComponent_Template_button_click_7_listener","AppComponent_Template_button_click_11_listener","AppComponent_Template_button_click_15_listener","AppComponent_Template_ap_file_input_chosen_21_listener","AppComponent_Template_button_click_24_listener","AppComponent_Conditional_27_Template","AppComponent_Conditional_30_Template","AppComponent_Conditional_31_Template","AppComponent_Conditional_32_Template","AppComponent_Template_a_click_34_listener","AppComponent_Template_a_click_39_listener","AppComponent_Template_a_click_44_listener","AppComponent_Template_a_click_50_listener","AppComponent_Template_a_click_56_listener","AppComponent_Template_a_click_63_listener","AppComponent_Template_a_click_69_listener","AppComponent_Template_a_click_73_listener","AppComponent_Conditional_78_Template","AppComponent_Template_a_click_79_listener","AppComponent_Conditional_85_Template","AppComponent_Template_a_click_86_listener","AppComponent_Conditional_93_Template","AppComponent_Conditional_95_Template","AppComponent_Template_a_click_96_listener","AppComponent_Template_a_click_101_listener","AppComponent_Conditional_106_Template","AppComponent_Template_a_click_108_listener","AppComponent_Template_a_click_114_listener","AppComponent_Template_button_click_119_listener","showHelp","AppComponent_Conditional_126_Template","AppComponent_Conditional_128_Template","AppComponent_Conditional_129_Template","AppComponent_Conditional_130_Template","AppComponent_Conditional_131_Template","AppComponent_Template_div_dragover_132_listener","AppComponent_Template_div_drop_132_listener","AppComponent_Template_fb_map_measureStart_133_listener","AppComponent_Template_fb_map_measureEnd_133_listener","AppComponent_Template_fb_map_drawEnd_133_listener","AppComponent_Template_fb_map_modifyStart_133_listener","AppComponent_Template_fb_map_modifyEnd_133_listener","AppComponent_Template_fb_map_activate_133_listener","AppComponent_Template_fb_map_deactivate_133_listener","AppComponent_Template_fb_map_exitedMovingMap_133_listener","AppComponent_Template_fb_map_focusVessel_133_listener","AppComponent_Template_fb_map_info_133_listener","AppComponent_Template_fb_map_menuItemSelected_133_listener","AppComponent_Conditional_137_Template","AppComponent_Conditional_138_Template","AppComponent_Conditional_139_Template","AppComponent_Conditional_140_Template","AppComponent_Conditional_141_Template","_c2","hostParams","sIsFetching","kioskMode","MatBottomSheetModule","frmArrivalCircle","targetArrivalEnabled","minDate","arrivalData","minutes","seconds","kmToNauticalMiles","targetArrivalTime","getHours","getMinutes","getSeconds","targetElement","processTargetArrival","nauticalMilesToKm","putWithContext","toggleTargetArrival","atime","formatArrivalTime","setSeconds","CourseSettingsModal_Template","CourseSettingsModal_Template_button_click_7_listener","CourseSettingsModal_Template_input_change_16_listener","CourseSettingsModal_Template_mat_slide_toggle_checkedChange_18_listener","CourseSettingsModal_Template_mat_slide_toggle_change_18_listener","CourseSettingsModal_Template_input_ngModelChange_25_listener","CourseSettingsModal_Template_input_dateChange_25_listener","CourseSettingsModal_Template_mat_select_ngModelChange_35_listener","CourseSettingsModal_Template_mat_select_selectionChange_35_listener","CourseSettingsModal_For_37_Template","CourseSettingsModal_Template_mat_select_ngModelChange_41_listener","CourseSettingsModal_Template_mat_select_selectionChange_41_listener","CourseSettingsModal_For_43_Template","CourseSettingsModal_Template_mat_select_ngModelChange_47_listener","CourseSettingsModal_Template_mat_select_selectionChange_47_listener","CourseSettingsModal_For_49_Template","picker_r5","IndexedDB","utils","dbWrapper","dbName","Utils","DbWrapper","openDatabase","upgradeCallback","Promise","resolve","reject","dbVersion","indexedDB","onsuccess","errorCode","onupgradeneeded","getByKey","storeName","validateBeforeTransaction","transaction","createTransaction","dbMode","objectStore","getAll","keyRange","indexDetails","indexName","order","openCursor","evt","cursor","abort","cursorCallback","getByIndex","mozIndexedDB","webkitIndexedDB","msIndexedDB","validateStoreName","objectStoreNames","contains","trans","oncomplete","onabort","AISBaseLayerComponent","mapImages","targetContext","onReloadTargets","extractKeys","targets","addTargetWithId","onUpdateTargets","ids","getFeatureById","okToRenderTarget","buildLabel","setGeometry","removeFeature","onRemoveTargets","addFeature","getAtoN","virtual","targetStyles","setStale","isStale","inactive","MapImageRegistry","AISTargetsLayerComponent_Template","Polygon","MultiPolygon","regions","regionStyles","parseRegions","reg","theStyle","skIcon","geomType","multipoly","mpoly","poly","FreeboardRegionLayerComponent_Template","item_r1","SignalKDetailsComponent_For_6_Conditional_2_Conditional_3_Template","SignalKDetailsComponent_For_6_Conditional_2_Conditional_4_Template","SignalKDetailsComponent_For_6_Conditional_2_Conditional_5_Template","SignalKDetailsComponent_For_6_Conditional_1_Template","SignalKDetailsComponent_For_6_Conditional_2_Template","details","items","parseEntries","entries","section","flatten","pp","prevParent","processedParents","processObject","parent","obj","SignalKDetailsComponent_Template","SignalKDetailsComponent_For_6_Template","MatProgressBarModule","progressValue","AlertComponent_Conditional_1_Conditional_0_Conditional_12_Template_button_click_1_listener","muteAlarm","AlertComponent_Conditional_1_Conditional_0_Conditional_13_Template_button_click_1_listener","ackAlarm","AlertComponent_Conditional_1_Conditional_0_Conditional_14_Template_button_click_0_listener","hide","AlertComponent_Conditional_1_Conditional_0_Conditional_15_Conditional_1_Conditional_1_Template_timer_button_nextPoint_0_listener","gotoNextPoint","nextPointClicked","AlertComponent_Conditional_1_Conditional_0_Conditional_15_Conditional_1_Conditional_1_Template","AlertComponent_Conditional_1_Conditional_0_Conditional_15_Conditional_2_Template_button_click_0_listener","AlertComponent_Conditional_1_Conditional_0_Conditional_15_Conditional_1_Template","AlertComponent_Conditional_1_Conditional_0_Conditional_15_Conditional_2_Template","AlertComponent_Conditional_1_Conditional_0_Conditional_1_Template","AlertComponent_Conditional_1_Conditional_0_Conditional_12_Template","AlertComponent_Conditional_1_Conditional_0_Conditional_13_Template","AlertComponent_Conditional_1_Conditional_0_Conditional_14_Template","AlertComponent_Conditional_1_Conditional_0_Conditional_15_Template","AlertComponent_Conditional_1_Conditional_0_Template","visual","SoundFiles","emergency","alarm","AlertComponent","audioStatus","doNotPlaySound","hidden","showNextPoint","soundFile","timerRef","ack","mute","al","processAudio","pause","Audio","createMediaElementSource","destination","loop","play","AlertComponent_Template","AlertComponent_Conditional_0_Template","AlertComponent_Conditional_1_Template","MatProgressBar","View","transformExtent","toLonLat","animateDuration","timerCenterId","timerZoomId","timerRotationId","view","viewProperties","centerChange","rotationChange","zoomChange","enableAnimation","constrainRotation","constrainResolution","enableRotation","maxZoom","multiWorld","resolutions","zoom","zoomFactor","projection","setView","updateSize","on","emitCenterChange","emitZoomChange","emitRotationChange","animate","duration","setZoom","setCenter","setMinZoom","setMaxZoom","un","getView","clearTimeout","lonlat","getZoom","calculateExtent","getSize","getProjection","getCode","projCode","TrackDialog_Conditional_27_Template_button_click_0_listener","inpname_r4","TrackDialog","track","TrackDialog_Template","TrackDialog_Template_input_ngModelChange_15_listener","TrackDialog_Conditional_17_Template","TrackDialog_Template_textarea_ngModelChange_22_listener","TrackDialog_Conditional_27_Template","TrackDialog_Template_button_click_28_listener","Draw","stopClick","drawEnd","drawAbort","interaction","addDrawInteraction","removeInteraction","emitChangeEvent","emitDrawStartEvent","emitDrawEndEvent","emitDrawAbortEvent","opt","InteractionDrawComponent_Template","RouteDialog_Conditional_26_Template_button_click_0_listener","RouteDialog","route","RouteDialog_Template","RouteDialog_Template_input_ngModelChange_14_listener","RouteDialog_Conditional_16_Template","RouteDialog_Template_textarea_ngModelChange_21_listener","RouteDialog_Conditional_26_Template","RouteDialog_Template_button_click_27_listener","SignalKPreferredPathsComponent_For_5_For_6_Template_mat_radio_button_change_1_listener","pathopt_r2","current","path_r5","SignalKPreferredPathsComponent_For_5_For_6_Template","available","chosen","pathChoices","tws","choices","pathChoicesArray","availPaths","initEntries","Map","prefAvailablePaths","keep","SignalKPreferredPathsComponent_Template","SignalKPreferredPathsComponent_For_5_Template","MatRadioButton","WeatherDataComponent_For_4_Conditional_3_Template_button_click_0_listener","currentPage","temperatureMax","dewPoint","gust","humidity","pressure","uvIndex","clouds","visibility","WeatherDataComponent_For_4_Conditional_29_Template_button_click_0_listener","WeatherDataComponent_For_4_Conditional_3_Template","WeatherDataComponent_For_4_Conditional_15_Template","WeatherDataComponent_For_4_Conditional_16_Template","WeatherDataComponent_For_4_Conditional_17_Template","WeatherDataComponent_For_4_Conditional_18_Template","WeatherDataComponent_For_4_Conditional_19_Template","WeatherDataComponent_For_4_Conditional_20_Template","WeatherDataComponent_For_4_Conditional_21_Template","WeatherDataComponent_For_4_Conditional_22_Template","WeatherDataComponent_For_4_Conditional_23_Template","WeatherDataComponent_For_4_Conditional_24_Template","WeatherDataComponent_For_4_Conditional_25_Template","WeatherDataComponent_For_4_Conditional_26_Template","WeatherDataComponent_For_4_Conditional_27_Template","WeatherDataComponent_For_4_Conditional_29_Template","$index_5_r5","temperatureMin","$index_205_r6","WeatherDataComponent","sh","getElementsByClassName","WeatherDataComponent_Template","WeatherDataComponent_For_4_Template","WeatherDataComponent_For_7_Template","MatStepperPrevious","FBMapComponent","Circle","cogLineLength","buildVesselStyle","parseCogLine","onLabelZoomThreshold","entered","toggleCogLines","shipClass","buddy","vectors","cf","okToRenderCogLines","buildCogLineStyle","forEachFeature","cl","getId","forEachSegment","start","end","labelMinZoom","AISVesselsLayerComponent_Template","boundStyles","parseChartBounds","buildBackdrop","parseBoundsCoordinates","lp","overflow","justify","rect","ChartBoundsLayerComponent_Template","Info","ErrorListDialog","SKVessel","SKChart","DefaultConfig","validateConfig","cleanConfig","WELCOME_MESSAGES","getSvgList","minzoom","maxzoom","worker","snackbar","iconReg","DEV_SERVER","port","ssl","MAP_ZOOM_EXTENT","fbAudioContext","AudioContext","webkitAudioContext","suppressTrailFetch","skLoginSource","watchingSKLogin","shortName","setAppId","setAppVersion","AppDB","initAppIcons","location","search","devMode","hostname","protocol","firstRun","updatedRun","kiosk","n2kRoute","chartBounds","lastGet","atClick","aisTracks","closest","flagged","staleList","removeList","racing","finishLine","skIcons","upgraded$","handleUpgradeEvent","dbUpdate$","top","checkVersion","loadConfig","loadData","fetch","mapsel","addSvgIcon","postMessage","cookie","lastCookie","getCookie","currentCookie","sel","fetchTrailFromServer","pv","previous","cv","new","saveInfo","sub","appDataGet","appDataSet","btnText","messages","showPrefs","content","btn","errorList","openFromComponent","btn1","btn2","checkText","button1Text","button2Text","statusText","formatValueForDisplay","sourceUnits","depthValue","kelvinToCelcius","kelvinToFarenheit","metersToFeet","nm","msecToKmh","msecToKnots","msecToMph","toLocaleString","asString","valIsNumber","inject","SKWorkerService","MatSnackBar","MatIconRegistry","factory","fac","providedIn","dbUpdateSource","currentTarget","createObjectStore","keyPath","createIndex","unique","emitDbUpdate","Attribution","FullScreen","Rotate","ScaleLine","Zoom","ZoomSlider","ZoomToExtent","controls","controlList","attribution","rotate","scaleline","zoomslider","zoomtoextent","olControls","setControls","getControls","addControl","newControl","GPXExportDialog_Conditional_15_For_14_Template_mat_checkbox_change_4_listener","$index_51_r4","wval_r5","checkWpt","w_r6","selWaypoints","GPXExportDialog_Conditional_15_Template_mat_expansion_panel_opened_1_listener","expand","GPXExportDialog_Conditional_15_Template_mat_expansion_panel_closed_1_listener","GPXExportDialog_Conditional_15_Template_mat_checkbox_change_11_listener","GPXExportDialog_Conditional_15_Template_mat_checkbox_click_11_listener","cancelBubble","GPXExportDialog_Conditional_15_For_14_Template","someWptChecked","allWaypointsChecked","resData","GPXExportDialog_Conditional_16_For_14_Template_mat_checkbox_change_6_listener","$index_85_r9","rval_r10","checkRte","r_r11","selRoutes","GPXExportDialog_Conditional_16_Template_mat_expansion_panel_opened_1_listener","GPXExportDialog_Conditional_16_Template_mat_expansion_panel_closed_1_listener","GPXExportDialog_Conditional_16_Template_mat_checkbox_change_11_listener","GPXExportDialog_Conditional_16_Template_mat_checkbox_click_11_listener","GPXExportDialog_Conditional_16_For_14_Template","someRteChecked","allRoutesChecked","GPXExportDialog_Conditional_17_For_14_Template_mat_checkbox_change_6_listener","$index_122_r14","tval_r15","checkTrk","selTracks","GPXExportDialog_Conditional_17_Template_mat_checkbox_change_11_listener","GPXExportDialog_Conditional_17_Template_mat_checkbox_click_11_listener","GPXExportDialog_Conditional_17_For_14_Template","allTracksChecked","selectedRoute","notValid","someTrkChecked","saveRoutesOK","saveWaypointsOK","saveTracksOK","routeViewer","selCount","parseResourceData","result$","saveToFile","prepData","selcount","GPXSaveFacade","GPXExportDialog_Template","GPXExportDialog_Template_button_click_4_listener","GPXExportDialog_Template_button_click_11_listener","GPXExportDialog_Conditional_15_Template","GPXExportDialog_Conditional_16_Template","GPXExportDialog_Conditional_17_Template","marker","markerName","showMarker","bearingStyles","mapifiedRadius","fl","fp","updateLabel","BearingLineComponent_Template","ExperimentsComponent","handleSelect","ExperimentsComponent_Template","ExperimentsComponent_Template_a_click_2_listener","experimentsmenu_r2","element","mapService","timeoutId","mapReady","mapClick","mapRightClick","mapContextMenu","mapSingleClick","mapDblClick","mapMoveStart","mapMoveEnd","mapPointerDrag","mapPointerMove","mapPointerDown","mapPostCompose","mapPostRender","mapPreCompose","mapPropertyChange","pixelRatio","keyboardEventTarget","hitTolerance","firstElementChild","setTarget","addMap","once","afterMapReady","emitSingleClickEvent","emitDblClickEvent","emitClickEvent","emitMoveStartEvent","emitMoveEndEvent","emitPointerDragEvent","emitPointerMoveEvent","emitPostComposeEvent","emitPostRenderEvent","emitPreComposeEvent","getViewport","rightClickHandler","pointerDownHandler","pointerUpHandler","updateSizeThrottle","touchTimer","evCache","clearTouchTimer","touchHold","values","pointerId","getEventCoordinate","emitRightClickEvent","augmentClickEvent","getFeaturesAtPixel","getPixelFromCoordinateInternal","pixel","coordinate","zoomAtStart","augmentMoveEvent","getMapCenter","zoomChanged","getMapExtent","augmentPointerEvent","emitPropertyChangeEvent","mrid","MapComponent_Template","vInfo","shipType","flag","beam","draft","getVesselInfo","formatDegrees","formatKnots","toUTCString","AISPropertiesModal_Template","AISPropertiesModal_Template_button_click_8_listener","AISPropertiesModal_Conditional_19_Template","AISPropertiesModal_Conditional_20_Template","AISPropertiesModal_Conditional_21_Template","AISPropertiesModal_Conditional_22_Template","AISPropertiesModal_Conditional_23_Template","AISPropertiesModal_Conditional_24_Template","AISPropertiesModal_Conditional_25_Template","AISPropertiesModal_Conditional_26_Template","AISPropertiesModal_Conditional_27_Template","AISPropertiesModal_Conditional_28_Template","AISPropertiesModal_Conditional_29_Template","AISPropertiesModal_Conditional_30_Template","PopoverComponent","NorthUpCompassComponent","aton","AtoNPopoverComponent","canClose","_title","timeLastUpdate","timeAgo","isMeteo","lastUpdated","td","valueOf","handleInfo","AtoNPopoverComponent_Template","AtoNPopoverComponent_Template_ap_popover_closed_0_listener","AtoNPopoverComponent_Conditional_21_Template","AtoNPopoverComponent_Conditional_22_Template","AtoNPopoverComponent_Template_button_click_27_listener","cpaLines","cpaLine","CPAAlarmComponent_Template","TileJSON","optionsFromCapabilities","WMTSCapabilities","DataTile","WebGLTileLayer","pmtiles","LayerGroup","apply","vectorLayerStyleFactory","layers","wmtsCapabilitesMap","parseCharts","clearlayers","initPMTilesWebGLLayer","tiles","PMTiles","loadImage","Image","Error","loader","_x","_x2","_x3","_loader","arguments","z","response","getZxy","blob","Blob","URL","createObjectURL","revokeObjectURL","wrapX","initPMTilesXYZLayer","tile","setState","re","match","tile_result","imageUrl","tileLoadFunction","tileSize","getLayerByKey","minZ","maxZ","lg","styleFactory","CreateVectorLayerStyler","CreateLayer","ApplyStyle","LAYERS","capabilitiesXml","parser","read","matrixSet","crossOrigin","preload","VectorLayerStyleFactory","FreeboardChartLayerComponent_Template","SimplifyAP","SKRoute","rteFromTrail","mapCenter","pointCount","incServer","tolerance","highQuality","mapControls","fetching","serverCoords","parseTrail","onServerResource","getServerTrail","changeTolerance","rteCoords","doClose","Trail2RouteDialog_Template","Trail2RouteDialog_Template_button_click_8_listener","Trail2RouteDialog_Template_input_valueChange_15_listener","Trail2RouteDialog_Template_mat_checkbox_change_18_listener","Trail2RouteDialog_Template_button_click_26_listener","pureFunction6","onSelfTrail","vesselsUpdate","navDataUpdate","anchorSignal","selfAnchor","asReadonly","message$","parseSelfTrail","parseUpdate","vessels$","navdata$","endpoints","playbackOptions","policy","parseVesselSelf","parseVesselOther","processCourse","aisStatus","updated","stale","expired","parseSelfRacing","processVessel","sls","slp","otherVessels","processCourseApi","clearRouteData","previousPoint","wptHref","findIndex","rteHref","coordinatesMeta","routeLength","SKWaypoint","SKTrack","GeoJSONLoadFacade","errorCount","subCount","uploadSource","uploaded$","validate","uploadToServer","transformRoute","transformWaypoint","transformTrack","transformRegion","checkComplete","getTime","SvgDialBase","minValue","maxValue","minAngle","maxAngle","_scale","pointers","lo","hi","_init","getAngle","_checkInRange","CompassComponent","renderer","speedunits","needle","windtrue","windapparent","speedtext","speedunitstext","dial","headingtext","pointer","needlehi","needlelo","valueStr","ptrOffset","updateDial","setProperty","setAttribute","Renderer2","CompassComponent_Query","labeltext","showPointer","showWindTrue","showWindApparent","renderValue","leadingZero","rHeading","rAngle","NorthUpCompassComponent_Query","WHATS_NEW","welcome","getProj","register","proj4","maps","getMaps","getMapById","getTarget","tl","getLayers","addProj4","epsg","proj4Def","defs","setExtent","RoutesBaseComponent","routeStyles","onActivateRoute","isActive","ptFill","getStroke","getCoordinates","angle","RoutesBaseComponent_Template","parseSKRoutes","RouteLayerComponent_Template","parseFBRoutes","mc","FreeboardRouteLayerComponent_Template","elementRef","ContentComponent_Template","mapifyRadius","ArrivalCircleComponent_Template","environment","production","TrackListComponent_Conditional_18_Template_button_click_0_listener","TrackListComponent_mat_card_30_Template_mat_checkbox_change_10_listener","r_r6","TrackListComponent_mat_card_30_Template_button_click_14_listener","itemDelete","TrackListComponent_mat_card_30_Template_button_click_18_listener","TrackListComponent_mat_card_30_Template_button_click_22_listener","i_r7","TrackListComponent","filteredList","onDeltaMessage","trkDelta","find","silent","trks","trackCacheIsUnfiltered","doFilter","toggleAll","item","allItems","trackCacheUnfilter","trackCacheAdd","trackCacheClear","trackCacheRemove","selIds","showTrackInfo","ok","deleteFromServer","itemRefresh","sortList","TrackListComponent_Template","TrackListComponent_Template_button_click_5_listener","TrackListComponent_Template_input_ngModelChange_16_listener","TrackListComponent_Template_input_keyup_16_listener","TrackListComponent_Conditional_18_Template","TrackListComponent_Template_button_click_20_listener","TrackListComponent_Template_mat_checkbox_change_24_listener","TrackListComponent_Conditional_27_Template","TrackListComponent_Conditional_28_Template","TrackListComponent_mat_card_30_Template","selall_r8","DefaultNoteIcon","PoiIcons","getPoiDefs","poiList","fIndex","ResourceSetFeatureModal_Template","ResourceSetFeatureModal_Template_button_click_6_listener","isDevMode","State","upgradedSource","appId","unshift","loadInfo","saveData","RegionDialog_Conditional_27_Template_button_click_0_listener","RegionDialog","RegionDialog_Template","RegionDialog_Template_input_ngModelChange_15_listener","RegionDialog_Conditional_17_Template","RegionDialog_Template_textarea_ngModelChange_22_listener","RegionDialog_Conditional_27_Template","RegionDialog_Template_button_click_28_listener","OpenBridgeIcons","JsonMapSourceDialog_Conditional_17_Template_button_click_0_listener","txturl_r4","getJsonFile","l_r5","JsonMapSourceDialog_Conditional_22_Conditional_1_Conditional_1_For_22_Template","JsonMapSourceDialog_Conditional_22_Conditional_1_Conditional_1_Template","provider","JsonMapSourceDialog_Conditional_22_Conditional_0_Template","JsonMapSourceDialog_Conditional_22_Conditional_1_Template","errorMsg","JsonMapSourceDialog","http","isFetching","fetchError","hostUrl","handleSave","parseFileContents","tilejson","vector_layers","json","HttpClient","JsonMapSourceDialog_Template","JsonMapSourceDialog_Template_button_click_8_listener","JsonMapSourceDialog_Template_input_valueChange_15_listener","JsonMapSourceDialog_Conditional_17_Template","JsonMapSourceDialog_Conditional_20_Template","JsonMapSourceDialog_Conditional_21_Template","JsonMapSourceDialog_Conditional_22_Template","JsonMapSourceDialog_Template_button_click_24_listener","AlarmPopoverComponent","goto","handleGoto","AlarmPopoverComponent_Template","AlarmPopoverComponent_Template_ap_popover_closed_0_listener","AlarmPopoverComponent_Template_button_click_25_listener","AlarmPopoverComponent_Template_button_click_30_listener","SK2GPX","resultSource","sk2gpx","hasFSA","skroutes","skwaypoints","sktracks","setRoutes","setWaypoints","setTracks","fsaSaveFile","legacySaveToFile","createElement","download","click","showSaveFilePicker","types","accept","createWritable","writable","write","SKNote","mimeType","authors","note","identifier","chart","$source","SKTargetBase","sog","registrations","speedTrue","awa","aws","distanceToSelf","courseApi","performance","beatAngle","gybeAngle","SKAtoN","SKSaR","SKAircraft","SKMeteo","BrowserModule","provideHttpClient","withInterceptorsFromDi","BrowserAnimationsModule","MatBadgeModule","MatSidenavModule","RouteNextPointComponent","RouteListComponent","WaypointListComponent","ChartListComponent","NoteListComponent","RemoteControlComponent","TextDialComponent","TTGDialComponent","ETADialComponent","FileInputComponent","PiPVideoComponent","Measurements","AppModule","bootstrap","MatExpansionModule","GeoJSONImportDialog_Conditional_11_Template_button_click_12_listener","geoData","GeoJSONImportDialog_Conditional_12_Conditional_6_Template","GeoJSONImportDialog_Conditional_12_Conditional_7_Template","GeoJSONImportDialog_Conditional_12_Conditional_8_Template","GeoJSONImportDialog_Conditional_12_Conditional_9_Template","GeoJSONImportDialog_Conditional_12_Template_button_click_11_listener","load","parseFileData","GeoJSONImportDialog_Template","GeoJSONImportDialog_Template_button_click_8_listener","GeoJSONImportDialog_Conditional_11_Template","GeoJSONImportDialog_Conditional_12_Template","SKResourceSet","processUrlTokens","updateSource","ignore","hasSelections","getItemsInBounds","resType","noUpdate","fetchRadius","fetchFilter","processResourceSet","processOther","styleRef","updateFlags","addFlagWithId","AISFlagsLayerComponent_Template","inactiveTime","filterByShipType","filterShipTypes","filterIds","updateIds","staleIds","removeIds","reloadTargets","size","removeTargetIds","updateTargetIds","m","checkImo","imo","st","now","areStale","AISBaseLayerComponent_Template","AddTargetPipe","n_r1","RelatedNotesDialog_For_13_Conditional_23_Template_button_click_1_listener","openNoteUrl","RelatedNotesDialog_For_13_Conditional_24_Template_button_click_1_listener","editNote","RelatedNotesDialog_For_13_Conditional_24_Template_button_click_5_listener","deleteNote","RelatedNotesDialog_For_13_Conditional_6_Template","RelatedNotesDialog_For_13_Conditional_7_Template","RelatedNotesDialog_For_13_Conditional_9_Template","RelatedNotesDialog_For_13_Conditional_11_Template","RelatedNotesDialog_For_13_Conditional_12_Template","RelatedNotesDialog_For_13_Conditional_19_Template","RelatedNotesDialog_For_13_Conditional_23_Template","RelatedNotesDialog_For_13_Conditional_24_Template","sanitizeHtml","RelatedNotesDialog","relatedBy","addNote","noteId","RelatedNotesDialog_Template","RelatedNotesDialog_Template_button_click_8_listener","RelatedNotesDialog_For_13_Template","RelatedNotesDialog_Template_button_click_16_listener","MatCardHeader","MatCardTitleGroup","ActiveResourcePropertiesModal_Conditional_4_Template_button_click_0_listener","clearButtonText","pointMeta","$index_30_r4","ActiveResourcePropertiesModal_For_14_div_2_Template","ActiveResourcePropertiesModal_For_14_Template_div_click_3_listener","selectPoint","ActiveResourcePropertiesModal_For_14_Conditional_5_Template","ActiveResourcePropertiesModal_For_14_Conditional_12_Template","ActiveResourcePropertiesModal_For_14_Conditional_21_Template","selIndex","legs","showClearButton","getLegs","getPointsMeta","pos","routeLegs","pointsMeta","drop","selPosition","updateFlag","ActiveResourcePropertiesModal_Template","ActiveResourcePropertiesModal_Conditional_4_Template","ActiveResourcePropertiesModal_Template_button_click_8_listener","ActiveResourcePropertiesModal_Template_div_cdkDropListDropped_12_listener","ActiveResourcePropertiesModal_For_14_Template","MatDividerModule","GPXModule","p_r1","ResourcePopoverComponent_For_4_Conditional_3_Template","ResourcePopoverComponent_For_4_Conditional_4_Template","ResourcePopoverComponent_For_4_Conditional_5_Template","ResourcePopoverComponent_Conditional_6_Template_button_click_1_listener","emitModify","ctrl","isReadOnly","ResourcePopoverComponent_Conditional_7_Template_button_click_1_listener","emitAddNote","ResourcePopoverComponent_Conditional_8_Template_button_click_1_listener","emitDelete","ResourcePopoverComponent_Conditional_9_Template_button_click_1_listener","emitActive","activeText","ResourcePopoverComponent_Conditional_10_Template_button_click_1_listener","ResourcePopoverComponent_Conditional_11_Template_button_click_1_listener","emitRelated","ResourcePopoverComponent_Conditional_12_Template_button_click_1_listener","emitNotes","ResourcePopoverComponent_Conditional_13_Template_button_click_1_listener","emitInfo","ResourcePopoverComponent_Conditional_14_Template_button_click_1_listener","emitPoints","ResourceSetPopoverComponent_For_2_Conditional_0_Template","ResourceSetPopoverComponent_For_2_Conditional_1_Template","ResourcePopoverComponent","featureCount","activated","deactivated","related","showInfoButton","showModifyButton","showDeleteButton","showAddNoteButton","showRelatedButton","showPointsButton","showNotesButton","canActivate","parseDestination","parseWaypoint","parseRoute","parseNote","parseRegion","activate","ResourcePopoverComponent_Template","ResourcePopoverComponent_Template_ap_popover_closed_0_listener","ResourcePopoverComponent_For_4_Template","ResourcePopoverComponent_Conditional_6_Template","ResourcePopoverComponent_Conditional_7_Template","ResourcePopoverComponent_Conditional_8_Template","ResourcePopoverComponent_Conditional_9_Template","ResourcePopoverComponent_Conditional_10_Template","ResourcePopoverComponent_Conditional_11_Template","ResourcePopoverComponent_Conditional_12_Template","ResourcePopoverComponent_Conditional_13_Template","ResourcePopoverComponent_Conditional_14_Template","tmp_3_0","ResourceSetPopoverComponent","ResourceSetPopoverComponent_Template","ResourceSetPopoverComponent_Template_ap_popover_closed_0_listener","ResourceSetPopoverComponent_For_2_Template","ResourceSetPopoverComponent_Template_button_click_5_listener","getDistance","getPathLength","isPointInPolygon","getGreatCircleBearing","destCoordinate","distanceTo","srcpt","destpt","centreOfPolygon","inDLCrossingZone","coord","zoneValue","inBounds","point","calcMapifiedExtent","latScale","lonScale","cos","degreesToRadians","Angle","difference","hd","normalise","vesselStyles","vesselLines","showWind","fixedLocation","twdLine","awaLine","parseVessel","renderVesselLines","g","setCoordinates","fixed","updateLine","lf","VesselComponent_Template","AircraftPopoverComponent","AircraftPopoverComponent_Template","AircraftPopoverComponent_Template_ap_popover_closed_0_listener","AircraftPopoverComponent_Template_button_click_35_listener","localTrail","trailStyles","trailLocal","trailServer","parseTrails","parseLocalTrail","parseServerTrail","ca","local","VesselTrailComponent_Template","MatTreeModule","MatTreeNestedDataSource","NestedTreeControl","BehaviorSubject","of","observableOf","parseString","WMSDialog_Conditional_12_Conditional_5_Template_button_click_0_listener","wmsGetCapabilities","WMSDialog_Conditional_12_Template_input_valueChange_3_listener","WMSDialog_Conditional_12_Conditional_5_Template","WMSDialog_Conditional_12_Conditional_8_Template","WMSDialog_Conditional_14_Conditional_1_mat_tree_node_2_Template_mat_checkbox_change_1_listener","node_r6","toggleSelection","WMSDialog_Conditional_14_Conditional_1_mat_nested_tree_node_3_Template_mat_checkbox_change_5_listener","node_r8","elementContainer","nestedTreeControl","isExpanded","classProp","WMSDialog_Conditional_14_Conditional_1_mat_tree_node_2_Template","WMSDialog_Conditional_14_Conditional_1_mat_nested_tree_node_3_Template","nestedDataSource","hasNestedChild","WMSDialog_Conditional_14_Conditional_0_Template","WMSDialog_Conditional_14_Conditional_1_Template","WMSDialog","wmsBase","wmsSources","layerNodes","dataChange","_getChildren","node","children","_","nodeData","handleSelection","parseSelections","child","checkAllParents","descendants","getDescendants","every","getSelections","buildSource","selNode","wmsHost","responseType","parseCapabilities","urlBase","WMS_Capabilities","WMT_MS_Capabilities","getWMSLayers","rootNode","Capability","Layer","parselayer","cList","WMSDialog_Template","WMSDialog_Template_button_click_8_listener","WMSDialog_Conditional_12_Template","WMSDialog_Conditional_13_Template","WMSDialog_Conditional_14_Template","WMSDialog_Template_button_click_16_listener","MatNestedTreeNode","MatTreeNodeDef","MatTreeNodeToggle","MatTree","MatTreeNode","MatTreeNodeOutlet","ALARM_METHOD","ALARM_STATE","AlertPropertiesModal","alertMap","alertsSignal","mobSignal","mobAlerts","notification$","processMessage","emitSignals","rankings","normal","nominal","from","ra","rb","createdAt","vesselId","alertType","getAlertType","method","isStandardAlarm","parseCpa","getAlert","cancelServerAlarm","other","forkJoin","catchError","WMTSDialog","ChartLayers_For_12_div_2_Template","$index_21_r2","ch_r1","ChartListComponent_Conditional_19_Conditional_7_Template_button_click_0_listener","buildFilterList","ChartListComponent_Conditional_19_Template_input_keyup_5_listener","ftext_r3","ChartListComponent_Conditional_19_Conditional_7_Template","ChartListComponent_Conditional_19_Template_button_click_9_listener","ChartListComponent_Conditional_19_Template_mat_checkbox_change_13_listener","selall_r6","ChartListComponent_Conditional_20_Template_button_click_2_listener","showChartLayers","ChartListComponent_Conditional_22_Template_mat_slide_toggle_change_0_listener","toggleChartBoundaries","ChartListComponent_Conditional_22_Template_button_click_2_listener","addchartmenu_r9","ChartListComponent_Conditional_23_mat_card_2_Conditional_16_Template_button_click_1_listener","ChartListComponent_Conditional_23_mat_card_2_Template_mat_checkbox_change_13_listener","ChartListComponent_Conditional_23_mat_card_2_Conditional_16_Template","ChartListComponent_Conditional_23_mat_card_2_Template_button_click_18_listener","ChartListComponent_Conditional_23_mat_card_2_Template","ChartListComponent_Conditional_24_Template_ap_chartlayers_changed_1_listener","handleOrderChange","ChartListComponent_Conditional_24_Template_ap_chartlayers_closed_1_listener","ChartLayers","changed","ChartLayers_Template","ChartLayers_Template_div_cdkDropListDropped_10_listener","ChartLayers_For_12_Template","CdkDragPlaceholder","selectedCharts","orderChange","displayChartLayers","ch","addChartSource","dref","sources","req","statusCode","ChartListComponent_Template","ChartListComponent_Template_button_click_3_listener","ChartListComponent_Template_button_click_5_listener","ChartListComponent_Template_button_click_7_listener","ChartListComponent_Template_button_click_13_listener","ChartListComponent_Conditional_19_Template","ChartListComponent_Conditional_20_Template","ChartListComponent_Conditional_22_Template","ChartListComponent_Conditional_23_Template","ChartListComponent_Conditional_24_Template","alarms","alarmStyles","AlarmComponent_Template","resourceRadius","saved$","configSavedSource","loaded$","configLoadedSource","getApps","getResourcePaths","apps","_location","GPXImportDialog_Conditional_4_Template_button_click_0_listener","loadRoutesOK","loadWaypointsOK","loadTracksOK","GPXImportDialog_Conditional_12_Conditional_2_Conditional_7_For_17_Template_mat_checkbox_change_4_listener","$index_92_r5","wval_r6","w_r7","GPXImportDialog_Conditional_12_Conditional_2_Conditional_7_Template_mat_expansion_panel_opened_1_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_7_Template_mat_expansion_panel_closed_1_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_7_Template_mat_checkbox_change_14_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_7_Template_mat_checkbox_click_14_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_7_For_17_Template","gpxData","GPXImportDialog_Conditional_12_Conditional_2_Conditional_8_For_17_Template_mat_checkbox_change_4_listener","$index_131_r10","rval_r11","r_r12","GPXImportDialog_Conditional_12_Conditional_2_Conditional_8_Template_mat_expansion_panel_opened_1_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_8_Template_mat_expansion_panel_closed_1_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_8_Template_mat_checkbox_change_14_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_8_Template_mat_checkbox_click_14_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_8_For_17_Template","GPXImportDialog_Conditional_12_Conditional_2_Conditional_9_For_17_Template_mat_checkbox_change_4_listener","$index_170_r15","tval_r16","t_r17","GPXImportDialog_Conditional_12_Conditional_2_Conditional_9_Template_mat_expansion_panel_opened_1_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_9_Template_mat_expansion_panel_closed_1_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_9_Template_mat_checkbox_change_14_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_9_Template_mat_checkbox_click_14_listener","GPXImportDialog_Conditional_12_Conditional_2_Conditional_9_For_17_Template","GPXImportDialog_Conditional_12_Conditional_2_Conditional_7_Template","GPXImportDialog_Conditional_12_Conditional_2_Conditional_8_Template","GPXImportDialog_Conditional_12_Conditional_2_Conditional_9_Template","GPXImportDialog_Conditional_12_Conditional_1_Template","GPXImportDialog_Conditional_12_Conditional_2_Template","gpx","parseGPXData","_this2","wptcount","_this3","trkIds","postToServer","logError","trackCacheFetchIds","skObj","ptMeta","wptObj","buildWaypoint","gpxtrk","tseg","random","GPXImportDialog_Template","GPXImportDialog_Conditional_4_Template","GPXImportDialog_Template_button_click_8_listener","GPXImportDialog_Conditional_11_Template","GPXImportDialog_Conditional_12_Template","ResourceImportDialog_Conditional_12_Conditional_9_Template_ap_file_input_chosen_1_listener","parseFile","ResourceImportDialog_Conditional_12_Conditional_10_Template_button_click_10_listener","ResourceImportDialog_Conditional_12_Template_mat_select_valueChange_5_listener","targetPath","ResourceImportDialog_Conditional_12_For_8_Template","ResourceImportDialog_Conditional_12_Conditional_9_Template","ResourceImportDialog_Conditional_12_Conditional_10_Template","ResourceImportDialog_Conditional_12_Template_button_click_23_listener","ResourceImportDialog_Conditional_12_Conditional_29_Template","resPaths","skclient","jdata","ResourceImportDialog_Template","ResourceImportDialog_Template_button_click_8_listener","ResourceImportDialog_Conditional_12_Template","Modify","modifyStart","modifyEnd","addModifyInteraction","emitModifyStartEvent","emitModifyEndEvent","deleteCondition","originalEvent","ctrlKey","InteractionModifyComponent_Template","tracksMinZoom","showTracks","reloadTracks","okToRenderTracks","addTrackWithId","rgb","ls","setColor","setStroke","tc","AISTargetsTrackLayerComponent_Template","getAtoNInfo","parseMeteo","parseAtoN","bk","observation","pk","processPathObject","pathRoot","AtoNPropertiesModal_Template","AtoNPropertiesModal_Template_button_click_8_listener","AtoNPropertiesModal_Template_button_click_29_listener","AtoNPropertiesModal_Conditional_34_Template","raisedSignal","positionSignal","radiusSignal","parseAnchorStatus","currentRadius","mapInteractions","className","bar","steps","raceCourseStyles","finishPin","wptIcon","wptActiveIcon","pseudoAtoNIcon","whaleIcon","pobIcon","waypointStyles","mob","anchorStyles","circle","destinationStyles","aisScale","aisIconAnchor","aisFocus","aisActive","aisInactive","ais40","ais50","ais60","ais70","ais80","ais90","aisBuddy","aisTextOffset","aisMooredTextOffset","aisVesselStyles","baseStationIcon","basestationStyles","aircraftActiveIcon","aircraftInactiveIcon","aircraftStyles","sarIcon","sarStyles","laylineStyles","starboard","targetAngleStyle","drawStyles","ATON_TYPE_IDS","poi","atonImageDefs","real","poiImageDefs","vid","buildIcon","getPOI","iconDef","FeatureListPopoverComponent","VesselPopoverComponent","Collection","FBMapComponent_Conditional_1_Template_ol_draw_drawStart_0_listener","onMeasureStart","FBMapComponent_Conditional_1_Template_ol_draw_drawEnd_0_listener","onMeasureEnd","styleMap","FBMapComponent_Conditional_2_Template_ol_draw_drawEnd_0_listener","onDrawEnd","FBMapComponent_Conditional_3_Template_ol_modify_modifyStart_0_listener","onModifyStart","FBMapComponent_Conditional_3_Template_ol_modify_modifyEnd_0_listener","onModifyEnd","fbMap","resSet_r7","$index_63_r8","FBMapComponent_For_31_Conditional_1_Template","dfeat","ais","FBMapComponent_Conditional_38_Conditional_1_Conditional_0_Template","featureStyles","aisVessel","FBMapComponent_Conditional_38_Conditional_1_Template","FBMapComponent_Conditional_44_Conditional_1_Template_ap_popover_closed_0_listener","popoverClosed","overlay","FBMapComponent_Conditional_44_Conditional_2_Template_feature_list_popover_selected_0_listener","featureListSelection","FBMapComponent_Conditional_44_Conditional_2_Template_feature_list_popover_closed_0_listener","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_modify_0_listener","startModify","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_delete_0_listener","deleteFeature","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_addNote_0_listener","exists","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_activated_0_listener","setActiveFeature","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_deactivated_0_listener","clearActiveFeature","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_related_0_listener","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_notes_0_listener","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_info_0_listener","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_points_0_listener","itemInfo","FBMapComponent_Conditional_44_Conditional_3_Template_resource_popover_closed_0_listener","FBMapComponent_Conditional_44_Conditional_4_Template_resourceset_popover_modify_0_listener","FBMapComponent_Conditional_44_Conditional_4_Template_resourceset_popover_delete_0_listener","FBMapComponent_Conditional_44_Conditional_4_Template_resourceset_popover_info_0_listener","FBMapComponent_Conditional_44_Conditional_4_Template_resourceset_popover_closed_0_listener","FBMapComponent_Conditional_44_Conditional_5_Conditional_1_Template_vessel_popover_info_0_listener","isSelf","FBMapComponent_Conditional_44_Conditional_5_Conditional_1_Template_vessel_popover_focused_0_listener","setActiveVessel","FBMapComponent_Conditional_44_Conditional_5_Conditional_1_Template_vessel_popover_markPosition_0_listener","FBMapComponent_Conditional_44_Conditional_5_Conditional_1_Template_vessel_popover_closed_0_listener","FBMapComponent_Conditional_44_Conditional_5_Conditional_1_Template","FBMapComponent_Conditional_44_Conditional_6_Template_aton_popover_info_0_listener","FBMapComponent_Conditional_44_Conditional_6_Template_aton_popover_closed_0_listener","FBMapComponent_Conditional_44_Conditional_7_Template_aircraft_popover_info_0_listener","FBMapComponent_Conditional_44_Conditional_7_Template_aircraft_popover_closed_0_listener","FBMapComponent_Conditional_44_Conditional_8_Template_alarm_popover_info_0_listener","_r16","FBMapComponent_Conditional_44_Conditional_8_Template_alarm_popover_goto_0_listener","onContextMenuAction","FBMapComponent_Conditional_44_Conditional_8_Template_alarm_popover_closed_0_listener","FBMapComponent_Conditional_44_Conditional_1_Template","FBMapComponent_Conditional_44_Conditional_2_Template","FBMapComponent_Conditional_44_Conditional_3_Template","FBMapComponent_Conditional_44_Conditional_4_Template","FBMapComponent_Conditional_44_Conditional_5_Template","FBMapComponent_Conditional_44_Conditional_6_Template","FBMapComponent_Conditional_44_Conditional_7_Template","FBMapComponent_Conditional_44_Conditional_8_Template","xtePath","targetAngle","layline","FBMapComponent_Conditional_48_Conditional_0_Template","FBMapComponent_Conditional_48_Conditional_1_Template","FBMapComponent_Conditional_48_Conditional_3_Template","FBMapComponent_ng_template_55_Conditional_4_Template_button_click_0_listener","item_r18","FBMapComponent_ng_template_55_Conditional_4_Conditional_3_Template","FBMapComponent_ng_template_55_Conditional_4_Conditional_4_Template","FBMapComponent_ng_template_55_Conditional_10_Template_button_click_0_listener","FBMapComponent_ng_template_55_Conditional_10_Template_button_contextmenu_0_listener","FBMapComponent_ng_template_55_Conditional_17_Template_button_click_0_listener","FBMapComponent_ng_template_55_Template_button_contextmenu_0_listener","FBMapComponent_ng_template_55_Template_button_click_0_listener","FBMapComponent_ng_template_55_Conditional_4_Template","FBMapComponent_ng_template_55_Template_button_click_6_listener","FBMapComponent_ng_template_55_Template_button_contextmenu_6_listener","FBMapComponent_ng_template_55_Conditional_10_Template","FBMapComponent_ng_template_55_Template_button_click_12_listener","FBMapComponent_ng_template_55_Template_button_contextmenu_12_listener","FBMapComponent_ng_template_55_Conditional_17_Template","FBMapComponent_ng_template_55_Template_button_click_18_listener","FBMapComponent_ng_template_55_Template_button_contextmenu_18_listener","FBMapComponent_ng_template_55_Template_button_click_23_listener","FBMapComponent_ng_template_55_Template_button_contextmenu_23_listener","FBMapComponent_ng_template_55_Template_button_click_27_listener","INTERACTION_MODE","skstream","movingMap","measureMode","drawMode","vesselTrail","dblClickZoom","exitedMovingMap","menuItemSelected","contextMenu","totalDistance","zoomOffsetLevel","basestation","raceCourse","colormap","heatmap","saveTimer","isDirty","mouse","xy","contextMenuPosition","onVessels","onResourceUpdate","SetOptions","renderMapContents","stopSaveTimer","drawVesselLines","startSaveTimer","rotateMap","interactionMode","MEASURE","DRAW","MODIFY","toggleDblClickZoom","wmsParams","lastPos","parseClosest","onMapMoveEnd","onMapPointerMove","lm","measureDistanceToAdd","onMapPointerDrag","onMapPointerDown","clientX","clientY","onMapSingleClick","onMeasureClick","onDrawClick","flist","maskPopover","addToFeatureList","toggleFeatureSelection","formatPopover","onMapRightClick","onMapContextMenu","onContextMenu","menuData","openMenu","offEvent","closeMenu","rPoints","lastPt","rc","getArray","fid","updateCoordsMeta","pc","transformCoordsArray","isCoordsArray","startCoords","endCoords","stringifyCoords","zoomMap","zoomIn","vesselUpdate","offset","wMax","vl","hl","bpos","twd_deg","twd_inv","destUpwind","ba_deg","ga_deg","ga_diff","destInTarget","markLines","bapt1","bapt2","gapt1","gapt2","hbd_deg","ipts","iptp","C_RAD","B_RAD","A_RAD","sin","getLength","aid","showNoteInfo","sf","showNoteDelete","confirmRegionDelete","applyStyle","shouldFetchNotes","shouldFetchResourceSets","mapMoveThresholdExceeded","threshold","cr","FBMapComponent_Query","FBMapComponent_Template_ol_map_mapMoveEnd_0_listener","FBMapComponent_Template_ol_map_mapSingleClick_0_listener","FBMapComponent_Template_ol_map_mapRightClick_0_listener","FBMapComponent_Template_ol_map_mapPointerDown_0_listener","FBMapComponent_Template_ol_map_mapPointerMove_0_listener","FBMapComponent_Template_ol_map_mapPointerDrag_0_listener","FBMapComponent_Template_ol_map_mapContextMenu_0_listener","FBMapComponent_Template_ol_map_contextmenu_0_listener","FBMapComponent_Conditional_1_Template","FBMapComponent_Conditional_2_Template","FBMapComponent_Conditional_3_Template","FBMapComponent_Template_button_click_7_listener","FBMapComponent_Template_button_click_11_listener","FBMapComponent_Conditional_18_Template","FBMapComponent_Conditional_22_Template","FBMapComponent_Conditional_28_Template","FBMapComponent_Conditional_29_Template","FBMapComponent_For_31_Template","FBMapComponent_Conditional_33_Template","FBMapComponent_Conditional_37_Template","FBMapComponent_Conditional_38_Template","FBMapComponent_Conditional_39_Template","FBMapComponent_Conditional_40_Template","FBMapComponent_Conditional_43_Template","FBMapComponent_Conditional_44_Template","FBMapComponent_Conditional_45_Template","FBMapComponent_Conditional_46_Template","FBMapComponent_Conditional_48_Template","FBMapComponent_Conditional_50_Template","FBMapComponent_Conditional_51_Template","FBMapComponent_Template_mat_menu_contextmenu_53_listener","FBMapComponent_ng_template_55_Template","contextMenu_r22","MatMenuContent","i17","i18","i19","i20","i21","i22","i23","i24","i25","i26","i27","i28","i29","i30","i31","i32","i33","i34","i35","i36","i37","i38","i39","i40","i41","i42","i43","RouteListComponent_Conditional_18_Template_button_click_0_listener","RouteListComponent_mat_card_29_Conditional_26_Template_button_click_0_listener","itemSetActive","disableRefresh","RouteListComponent_mat_card_29_Conditional_27_Template_button_click_0_listener","itemClearActive","RouteListComponent_mat_card_29_Template_mat_checkbox_change_13_listener","RouteListComponent_mat_card_29_Template_button_click_17_listener","RouteListComponent_mat_card_29_Template_button_click_20_listener","itemViewPoints","RouteListComponent_mat_card_29_Template_button_click_23_listener","itemViewNotes","RouteListComponent_mat_card_29_Conditional_26_Template","RouteListComponent_mat_card_29_Conditional_27_Template","RouteListComponent_mat_card_29_Template_button_click_29_listener","km2Nm","editingRouteId","sortFilter","RouteListComponent_Template","RouteListComponent_Template_button_click_5_listener","RouteListComponent_Template_input_ngModelChange_16_listener","RouteListComponent_Template_input_keyup_16_listener","RouteListComponent_Conditional_18_Template","RouteListComponent_Template_button_click_20_listener","RouteListComponent_Template_mat_checkbox_change_24_listener","RouteListComponent_Conditional_27_Template","RouteListComponent_mat_card_29_Template","selall_r9","xml2js","DefaultOptions","GeometryType","DisplayPriority","LookupTable","chartSymbols","colorTables","selectedColorTable","chartSymbolsImage","lookups","lookupStartIndex","attMatch","symbolsXml","Parser","strict","trim","symbolsJs","processSymbols","processLookup","processColors","symbolfile","isChanged","newValue","lookupIndex","symbolsJson","colortable","colorTable","bitmap","originX","originY","locationX","locationY","compareLookup","lt","lookupTable","ir","localeCompare","sensitivity","attributes","getGeometryType","LINES","AREA","POINT","getLookupTable","table","SIMPLIFIED","PAPER_CHART","PLAIN","SYMBOLIZED","lookup","geometryType","getDisplayCategory","getDisplayPriority","att","lastkey","createImageBitmap","canvas","getContext","drawImage","toDataURL","propertyCompare","b1","best","startIndex","lmatch","nmatch","dispCategory","OTHER","dispPrio","PRIO_GROUP1","PRIO_AREA_1","PRIO_AREA_2","PRIO_SYMB_POINT","PRIO_SYMB_LINE","PRIO_SYMB_AREA","PRIO_ROUTEING","PRIO_HAZARDS","PRIO_MARINERS","PRIO_NODATA","LaylineComponent_Template","SafePipe","sanitizer","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustUrl","legDistance","legBearing","totalOnly","btnDisable","prev","segment","calc","setButtonState","leg","eidx","ld","lb","Measurements_Template","Measurements_Conditional_10_Template","Measurements_Template_button_click_12_listener","f_r2","FeatureListPopoverComponent_For_3_Template_mat_list_item_click_0_listener","FeatureListPopoverComponent_For_3_Conditional_1_Template","FeatureListPopoverComponent_For_3_Conditional_2_Template","FeatureListPopoverComponent_For_3_Conditional_3_Template","FeatureListPopoverComponent_Template","FeatureListPopoverComponent_Template_ap_popover_closed_0_listener","FeatureListPopoverComponent_For_3_Template","LocalStorage","_ls","_namespace","localStorage","namespace","getItem","setItem","removeItem","PopoverComponent_Conditional_5_Template_button_click_1_listener","PopoverComponent_Template","PopoverComponent_Conditional_3_Template","PopoverComponent_Conditional_5_Template","errorText","forecasts","WeatherForecastModal_Conditional_12_Conditional_0_Template","WeatherForecastModal_Conditional_12_Conditional_1_Template","getForecast","formatTempDegreesC","dayNames","forecastData","getDay","outside","minTemperature","minimum","maxTemperature","dewPointTemperature","absoluteHumility","directionTrue","WeatherForecastModal_Template","WeatherForecastModal_Template_button_click_8_listener","WeatherForecastModal_Conditional_11_Template","WeatherForecastModal_Conditional_12_Template","FileInputComponent_Conditional_7_Conditional_2_Template_button_click_0_listener","FileInputComponent_Conditional_7_Conditional_2_Template","avatar","multiple","maxfilesize","astext","preview","cleared","fileChange","readFiles","dragOver","ev","errmsg","ftype","readFile","callback","readAsDataURL","resize","MAX_WIDTH","MAX_HEIGHT","dataUrl","FileInputComponent_Template","FileInputComponent_Template_div_dragover_0_listener","FileInputComponent_Template_div_drop_0_listener","FileInputComponent_Conditional_4_Template","FileInputComponent_Template_input_change_5_listener","input_r3","FileInputComponent_Template_input_click_5_listener","FileInputComponent_Conditional_7_Template","packageRoute","packageWaypoint","packageTrack","WMTSDialog_Conditional_12_Conditional_5_Template_button_click_0_listener","wmtsGetCapabilities","WMTSDialog_Conditional_12_Template_input_valueChange_3_listener","WMTSDialog_Conditional_12_Conditional_5_Template","WMTSDialog_Conditional_12_Conditional_8_Template","$index_59_r7","layer_r6","WMTSDialog_Conditional_14_Conditional_1_Conditional_1_Template_mat_selection_list_selectionChange_1_listener","WMTSDialog_Conditional_14_Conditional_1_Conditional_1_For_4_Template","wmtsLayers","wlayers_r8","WMTSDialog_Conditional_14_Conditional_1_Conditional_1_Template","WMTSDialog_Conditional_14_Conditional_0_Template","WMTSDialog_Conditional_14_Conditional_1_Template","selectionInfo","layerIdx","wmtsHost","getWMTSLayers","Capabilities","Contents","parseLayerEntry","WMTSDialog_Template","WMTSDialog_Template_button_click_8_listener","WMTSDialog_Conditional_12_Template","WMTSDialog_Conditional_13_Template","WMTSDialog_Conditional_14_Template","WMTSDialog_Template_button_click_16_listener","MatListItemTitle","NotesBaseComponent","parseNotes","NotesBaseComponent_Template","parseSKNotes","NoteLayerComponent_Template","parseFBNotes","FreeboardNoteLayerComponent_Template","Overlay","positioning","stopEvent","insertFirst","addOverlay","setPosition","removeOverlay","panIntoView","panIntoViewOptions","OverlayComponent_Template","Control","control","removeControl","ControlComponent_Template","total","circular","changeIndex","RouteNextPointComponent_Template","RouteNextPointComponent_Template_button_click_3_listener","RouteNextPointComponent_Template_button_click_7_listener","messageSource","notificationSource","Worker","import","handleMessage","pipVideo","pipWindow","pipMode","muted","pictureInPictureWindow","onPipWindowResize","toggleMute","initPiP","requestPictureInPicture","PiPVideoComponent_Query","PiPVideoComponent_Template_button_click_4_listener","BUDDIES_URI","Buddies","urn","anchorPosition","fc","AnchorAlarmComponent_Template","formatPosition","rudder","thrust","gear","sendRudderCommand","sendThrustCommand","setGear","gearValue","increaseThrust","decreaseThrust","closePanel","RemoteControlComponent_Template","RemoteControlComponent_Template_button_click_4_listener","RemoteControlComponent_Conditional_12_Template","RemoteControlComponent_Conditional_13_Template","RemoteControlComponent_Conditional_15_Template","RemoteControlComponent_Conditional_17_Template","RemoteControlComponent_Conditional_18_Template","RemoteControlComponent_Template_input_ngModelChange_26_listener","RemoteControlComponent_Template_input_change_26_listener","RemoteControlComponent_Template_input_ngModelChange_36_listener","RemoteControlComponent_Template_input_change_36_listener","RemoteControlComponent_Template_button_click_40_listener","RemoteControlComponent_Template_button_click_43_listener","RemoteControlComponent_Template_button_click_50_listener","RemoteControlComponent_Template_button_click_52_listener","RemoteControlComponent_Template_button_click_54_listener","RangeValueAccessor","vectorApparent","calcVector","windDirection","windc","addWindVectorWithId","buildVectorStyle","AISWindLayerComponent_Template","TextDialComponent_Template","minPerDay","days","dm","rhm","hours","TTGDialComponent_Template","etaTime","etaDate","toLocaleTimeString","toLocaleDateString","ETADialComponent_Template","err_r1","ErrorListDialog_Template","ErrorListDialog_For_9_Template","ErrorListDialog_Template_button_click_11_listener","MatList","MatListItemLine","MAT_SNACK_BAR_DATA","line_r1","ConfirmDialog_Conditional_12_Template_mat_checkbox_change_2_listener","WelcomeDialog_For_5_Conditional_6_Template_button_click_0_listener","WelcomeDialog_For_5_Conditional_9_Template_button_click_0_listener","WelcomeDialog_For_5_Conditional_6_Template","WelcomeDialog_For_5_Conditional_9_Template","c_r5","$index_7_r6","$index_37_r7","msglines","MsgBox_Template","MsgBox_For_6_Template","MsgBox_Template_button_click_8_listener","AlertDialog_Template","AlertDialog_For_10_Template","AlertDialog_Template_button_click_12_listener","ConfirmDialog_Template","ConfirmDialog_For_10_Template","ConfirmDialog_Conditional_12_Template","ConfirmDialog_Template_button_click_14_listener","ConfirmDialog_Template_button_click_16_listener","AboutDialog_Template","AboutDialog_Conditional_22_Template","AboutDialog_Template_button_click_23_listener","username","imgSource","keyUp","handleFocus","password","LoginDialog_Query","LoginDialog_Template_input_keyup_11_listener","username_r2","password_r3","LoginDialog_Template_input_focus_11_listener","LoginDialog_Template_input_keyup_15_listener","LoginDialog_Template_input_focus_15_listener","LoginDialog_Template_button_click_18_listener","LoginDialog_Template_button_click_21_listener","MessageBarComponent_Template","MessageBarComponent_Conditional_4_Template","WelcomeDialog_Template","WelcomeDialog_For_5_Template","WelcomeDialog_For_8_Template","WelcomeDialog_Template_button_click_10_listener","AngularEditorModule","NoteDialog_Conditional_0_Conditional_21_Conditional_5_Template_button_click_1_listener","NoteDialog_Conditional_0_Conditional_21_Conditional_5_Template","NoteDialog_Conditional_0_Conditional_27_Conditional_3_Template_button_click_0_listener","NoteDialog_Conditional_0_Conditional_27_Conditional_4_Template_button_click_0_listener","NoteDialog_Conditional_0_Conditional_27_Conditional_4_Template_button_click_4_listener","NoteDialog_Conditional_0_Conditional_27_Conditional_3_Template","NoteDialog_Conditional_0_Conditional_27_Conditional_4_Template","NoteDialog_Conditional_0_Conditional_27_Conditional_5_Template","NoteDialog_Conditional_0_Template_button_click_8_listener","NoteDialog_Conditional_0_Conditional_14_Template","NoteDialog_Conditional_0_Conditional_21_Template","NoteDialog_Conditional_0_Conditional_27_Template","NoteDialog_Conditional_1_Conditional_14_Template_input_ngModelChange_4_listener","NoteDialog_Conditional_1_Defer_16_Template_angular_editor_ngModelChange_0_listener","editorConfig","NoteDialog_Conditional_1_Template_input_ngModelChange_11_listener","NoteDialog_Conditional_1_Conditional_13_Template","NoteDialog_Conditional_1_Conditional_14_Template","NoteDialog_Conditional_1_Defer_16_Template","NoteDialog_Conditional_1_Defer_17_DepsFn","NoteDialog_Conditional_1_Template_input_ngModelChange_23_listener","NoteDialog_Conditional_1_Template_mat_slide_toggle_change_25_listener","NoteDialog_Conditional_1_Conditional_27_Template","NoteDialog_Conditional_1_Template_button_click_30_listener","NoteDialog_Conditional_1_Template_button_click_32_listener","inptitle_r9","NoteDialog","editorHiddenButtons","editable","spellcheck","minHeight","maxHeight","translate","enableToolbar","showToolbar","placeholder","defaultParagraphSeparator","defaultFontName","defaultFontSize","fonts","customClasses","sanitize","toolbarPosition","toolbarHiddenButtons","NoteDialog_Template","NoteDialog_Conditional_0_Template","NoteDialog_Conditional_1_Template","LightTheme","DarkTheme","theme","handleAttributeChanges","onDarkMode","onLabelMinZoomSet","isSet","setFill","labelText","FBFeatureLayerComponent_Template","WaypointListComponent_Conditional_18_Template_button_click_0_listener","WaypointListComponent_mat_card_29_Conditional_21_Template_button_click_0_listener","itemGoTo","WaypointListComponent_mat_card_29_Conditional_22_Template_button_click_0_listener","WaypointListComponent_mat_card_29_Template_mat_checkbox_change_10_listener","WaypointListComponent_mat_card_29_Template_button_click_14_listener","WaypointListComponent_mat_card_29_Template_button_click_17_listener","WaypointListComponent_mat_card_29_Conditional_21_Template","WaypointListComponent_mat_card_29_Conditional_22_Template","WaypointListComponent_mat_card_29_Template_button_click_24_listener","WaypointListComponent_mat_card_29_Template_button_click_27_listener","editingWaypointId","WaypointListComponent_Template","WaypointListComponent_Template_button_click_5_listener","WaypointListComponent_Template_input_keyup_16_listener","WaypointListComponent_Conditional_18_Template","WaypointListComponent_Template_button_click_20_listener","WaypointListComponent_Template_mat_checkbox_change_24_listener","WaypointListComponent_Conditional_27_Template","WaypointListComponent_mat_card_29_Template","NoteListComponent_Conditional_18_Template_button_click_0_listener","NoteListComponent_mat_card_31_Conditional_16_Template_button_click_0_listener","viewNote","NoteListComponent_mat_card_31_Conditional_5_Template","NoteListComponent_mat_card_31_Conditional_6_Template","NoteListComponent_mat_card_31_Conditional_14_Template","NoteListComponent_mat_card_31_Conditional_16_Template","NoteListComponent_mat_card_31_Template_button_click_17_listener","NoteListComponent_mat_card_31_Template_button_click_20_listener","showNotes","draftOnly","filterDraftOnly","toggleMapDisplay","isGroup","toggleDraftOnly","NoteListComponent_Template","NoteListComponent_Template_button_click_5_listener","NoteListComponent_Template_input_keyup_16_listener","NoteListComponent_Conditional_18_Template","NoteListComponent_Template_button_click_20_listener","NoteListComponent_Template_button_click_24_listener","NoteListComponent_Template_mat_checkbox_change_28_listener","NoteListComponent_mat_card_31_Template","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","distToSelf","VesselPopoverComponent_Conditional_13_Conditional_0_Template","VesselPopoverComponent_Conditional_40_Template_button_click_0_listener","handleMarkPosition","VesselPopoverComponent_Conditional_41_Conditional_4_Template_button_click_0_listener","toggleBuddy","VesselPopoverComponent_Conditional_41_Template_button_click_0_listener","toggleFlag","VesselPopoverComponent_Conditional_41_Conditional_4_Template","VesselPopoverComponent_Conditional_41_Template_button_click_5_listener","isFlagged","VesselPopoverComponent_Conditional_42_Template_button_click_0_listener","buddies","focused","markPosition","speedUnits","removeFlag","VesselPopoverComponent_Template","VesselPopoverComponent_Template_ap_popover_closed_0_listener","VesselPopoverComponent_Conditional_1_Template","VesselPopoverComponent_Conditional_2_Template","VesselPopoverComponent_Conditional_13_Template","VesselPopoverComponent_Conditional_40_Template","VesselPopoverComponent_Conditional_41_Template","VesselPopoverComponent_Conditional_42_Template","VesselPopoverComponent_Template_button_click_43_listener","TargetAngleComponent_Template","AlertPropertiesModal_Conditional_14_Template_button_click_2_listener","raisedAt","parseAlertInfo","AlertPropertiesModal_Template","AlertPropertiesModal_Template_button_click_8_listener","AlertPropertiesModal_Conditional_14_Template","AlertPropertiesModal_Template_button_click_35_listener","AlertPropertiesModal_Conditional_40_Template","WaypointsBaseComponent","reloadWaypoints","WaypointsBaseComponent_Template","parseSKWaypoints","WaypointLayerComponent_Template","parseFBWaypoints","FreeboardWaypointLayerComponent_Template","_appid","storedValue","defaultValue","NSEWButtonsComponent_Template","NSEWButtonsComponent_Template_button_click_4_listener","NSEWButtonsComponent_Template_button_click_10_listener","NSEWButtonsComponent_Template_button_click_15_listener","NSEWButtonsComponent_Template_button_click_21_listener","MVT","VectorLayerStyler","MinZ","MaxZ","S57LayerStyler","s57service","declutter","vectorLayer","setSource","setPreload","setRenderOrder","DefaultLayerStyler","applyVectorStyle","PMLayerStyler","setLoader","getFormat","readFeatures","featureProjection","setFeatures","skeys","northup","movemap","uts","dist","ngeohash","reOpen","getCacheRef","collection","regionCacheSignal","cacheRefresh","resCache","skf","regionCacheRefresh","cacheRemove","cache","tid","cacheAddFromServer","resId","mapFeatureId","getFeature","rSetId","fromServer","putToServer","fetchResource","showAuth","authResult","putResource","deleteResource","deleted","fetchRegions","startPoint","courseRefresh","showRouteInfo","updateRegionInfo","trackCacheSignal","create","getPrototypeOf","addItem","etrk","useDefault","defaultExtent","derivedExtent","OSMCharts","apiVersion","tilemapUrl","chartLayers","serverType","sortByScaleDesc","arrangeChartLayers","dc","destidx","srcidx","names","rteUuid","coordsMeta","getActiveRouteCoords","routeId","na","wptUuid","deleteWaypoint","geohash","gh","decode_bbox","_ref","processNotes","transformNote","decode","noDesc","maxCount","createNote","reopenRelatedDialog","updateNote","openNoteForEdit","noReset","paramName","MultiPoint","parseResourceSets","parseResources","rSet","count","rs","styleDef","geom","ResourceSetLayerComponent_Template","celciusToKelvin","angleToDirection","ref","directionToAngle","rx","knotsToKm","knotsToMSec","kmToKnots","kmToMiles","nauticalMilesToMiles","milesToKm","milesToNauticalMiles","rpmToHertz","getPointResolution","stringToEl","html","DOMParser","DOM","parseFromString","body","firstChild","defaultLayers","dlCrossing","last","svgList","prefix","resourceType"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}